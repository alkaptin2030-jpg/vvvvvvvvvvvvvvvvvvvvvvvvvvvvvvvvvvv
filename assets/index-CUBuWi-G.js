var QE=t=>{throw TypeError(t)};var og=(t,e,n)=>e.has(t)||QE("Cannot "+n);var z=(t,e,n)=>(og(t,e,"read from private field"),n?n.call(t):e.get(t)),Ke=(t,e,n)=>e.has(t)?QE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ce=(t,e,n,r)=>(og(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),nn=(t,e,n)=>(og(t,e,"access private method"),n);var Qd=(t,e,n,r)=>({set _(s){Ce(t,e,s,n)},get _(){return z(t,e,r)}});function oV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function yC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vC={exports:{}},Cp={},wC={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld=Symbol.for("react.element"),aV=Symbol.for("react.portal"),lV=Symbol.for("react.fragment"),cV=Symbol.for("react.strict_mode"),uV=Symbol.for("react.profiler"),dV=Symbol.for("react.provider"),hV=Symbol.for("react.context"),fV=Symbol.for("react.forward_ref"),pV=Symbol.for("react.suspense"),mV=Symbol.for("react.memo"),gV=Symbol.for("react.lazy"),YE=Symbol.iterator;function yV(t){return t===null||typeof t!="object"?null:(t=YE&&t[YE]||t["@@iterator"],typeof t=="function"?t:null)}var xC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_C=Object.assign,EC={};function Ul(t,e,n){this.props=t,this.context=e,this.refs=EC,this.updater=n||xC}Ul.prototype.isReactComponent={};Ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TC(){}TC.prototype=Ul.prototype;function Y0(t,e,n){this.props=t,this.context=e,this.refs=EC,this.updater=n||xC}var X0=Y0.prototype=new TC;X0.constructor=Y0;_C(X0,Ul.prototype);X0.isPureReactComponent=!0;var XE=Array.isArray,SC=Object.prototype.hasOwnProperty,J0={current:null},bC={key:!0,ref:!0,__self:!0,__source:!0};function IC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)SC.call(e,r)&&!bC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ld,type:t,key:i,ref:o,props:s,_owner:J0.current}}function vV(t,e){return{$$typeof:ld,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Z0(t){return typeof t=="object"&&t!==null&&t.$$typeof===ld}function wV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var JE=/\/+/g;function ag(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wV(""+t.key):e.toString(36)}function kh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ld:case aV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ag(o,0):r,XE(s)?(n="",t!=null&&(n=t.replace(JE,"$&/")+"/"),kh(s,e,n,"",function(c){return c})):s!=null&&(Z0(s)&&(s=vV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(JE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",XE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+ag(i,a);o+=kh(i,e,n,l,s)}else if(l=yV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+ag(i,a++),o+=kh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Yd(t,e,n){if(t==null)return t;var r=[],s=0;return kh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function xV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},Mh={transition:null},_V={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Mh,ReactCurrentOwner:J0};function CC(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Yd,forEach:function(t,e,n){Yd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yd(t,function(){e++}),e},toArray:function(t){return Yd(t,function(e){return e})||[]},only:function(t){if(!Z0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Ul;De.Fragment=lV;De.Profiler=uV;De.PureComponent=Y0;De.StrictMode=cV;De.Suspense=pV;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_V;De.act=CC;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_C({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=J0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)SC.call(e,l)&&!bC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ld,type:t.type,key:s,ref:i,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:hV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dV,_context:t},t.Consumer=t};De.createElement=IC;De.createFactory=function(t){var e=IC.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:fV,render:t}};De.isValidElement=Z0;De.lazy=function(t){return{$$typeof:gV,_payload:{_status:-1,_result:t},_init:xV}};De.memo=function(t,e){return{$$typeof:mV,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=Mh.transition;Mh.transition={};try{t()}finally{Mh.transition=e}};De.unstable_act=CC;De.useCallback=function(t,e){return xn.current.useCallback(t,e)};De.useContext=function(t){return xn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};De.useEffect=function(t,e){return xn.current.useEffect(t,e)};De.useId=function(){return xn.current.useId()};De.useImperativeHandle=function(t,e,n){return xn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return xn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return xn.current.useReducer(t,e,n)};De.useRef=function(t){return xn.current.useRef(t)};De.useState=function(t){return xn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return xn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return xn.current.useTransition()};De.version="18.3.1";wC.exports=De;var y=wC.exports;const X=yC(y),ew=oV({__proto__:null,default:X},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EV=y,TV=Symbol.for("react.element"),SV=Symbol.for("react.fragment"),bV=Object.prototype.hasOwnProperty,IV=EV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CV={key:!0,ref:!0,__self:!0,__source:!0};function AC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)bV.call(e,r)&&!CV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:TV,type:t,key:i,ref:o,props:s,_owner:IV.current}}Cp.Fragment=SV;Cp.jsx=AC;Cp.jsxs=AC;vC.exports=Cp;var f=vC.exports,PC={exports:{}},Qn={},RC={exports:{}},NC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,j){var G=F.length;F.push(j);e:for(;0<G;){var ae=G-1>>>1,ee=F[ae];if(0<s(ee,j))F[ae]=j,F[G]=ee,G=ae;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],G=F.pop();if(G!==j){F[0]=G;e:for(var ae=0,ee=F.length,le=ee>>>1;ae<le;){var ue=2*(ae+1)-1,Oe=F[ue],Le=ue+1,Y=F[Le];if(0>s(Oe,G))Le<ee&&0>s(Y,Oe)?(F[ae]=Y,F[Le]=G,ae=Le):(F[ae]=Oe,F[ue]=G,ae=ue);else if(Le<ee&&0>s(Y,G))F[ae]=Y,F[Le]=G,ae=Le;else break e}}return j}function s(F,j){var G=F.sortIndex-j.sortIndex;return G!==0?G:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,T=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=F)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function A(F){if(g=!1,w(F),!T)if(n(l)!==null)T=!0,te(N);else{var j=n(c);j!==null&&J(A,j.startTime-F)}}function N(F,j){T=!1,g&&(g=!1,E(b),b=-1),m=!0;var G=p;try{for(w(j),h=n(l);h!==null&&(!(h.expirationTime>j)||F&&!M());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var ee=ae(h.expirationTime<=j);j=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(l)&&r(l),w(j)}else r(l);h=n(l)}if(h!==null)var le=!0;else{var ue=n(c);ue!==null&&J(A,ue.startTime-j),le=!1}return le}finally{h=null,p=G,m=!1}}var O=!1,I=null,b=-1,C=5,P=-1;function M(){return!(t.unstable_now()-P<C)}function D(){if(I!==null){var F=t.unstable_now();P=F;var j=!0;try{j=I(!0,F)}finally{j?k():(O=!1,I=null)}}else O=!1}var k;if(typeof x=="function")k=function(){x(D)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ie=K.port2;K.port1.onmessage=D,k=function(){ie.postMessage(null)}}else k=function(){_(D,0)};function te(F){I=F,O||(O=!0,k())}function J(F,j){b=_(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){T||m||(T=!0,te(N))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var G=p;p=j;try{return F()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=p;p=F;try{return j()}finally{p=G}},t.unstable_scheduleCallback=function(F,j,G){var ae=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ae+G:ae):G=ae,F){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=G+ee,F={id:d++,callback:j,priorityLevel:F,startTime:G,expirationTime:ee,sortIndex:-1},G>ae?(F.sortIndex=G,e(c,F),n(l)===null&&F===n(c)&&(g?(E(b),b=-1):g=!0,J(A,G-ae))):(F.sortIndex=ee,e(l,F),T||m||(T=!0,te(N))),F},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(F){var j=p;return function(){var G=p;p=j;try{return F.apply(this,arguments)}finally{p=G}}}})(NC);RC.exports=NC;var AV=RC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PV=y,Gn=AV;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kC=new Set,yu={};function na(t,e){wl(t,e),wl(t+"Capture",e)}function wl(t,e){for(yu[t]=e,t=0;t<e.length;t++)kC.add(e[t])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ay=Object.prototype.hasOwnProperty,RV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZE={},eT={};function NV(t){return Ay.call(eT,t)?!0:Ay.call(ZE,t)?!1:RV.test(t)?eT[t]=!0:(ZE[t]=!0,!1)}function kV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MV(t,e,n,r){if(e===null||typeof e>"u"||kV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var tw=/[\-:]([a-z])/g;function nw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tw,nw);Xt[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tw,nw);Xt[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tw,nw);Xt[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function rw(t,e,n,r){var s=Xt.hasOwnProperty(e)?Xt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MV(e,n,s,r)&&(n=null),r||s===null?NV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ks=PV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xd=Symbol.for("react.element"),ka=Symbol.for("react.portal"),Ma=Symbol.for("react.fragment"),sw=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),MC=Symbol.for("react.provider"),DC=Symbol.for("react.context"),iw=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),Ny=Symbol.for("react.suspense_list"),ow=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),OC=Symbol.for("react.offscreen"),tT=Symbol.iterator;function _c(t){return t===null||typeof t!="object"?null:(t=tT&&t[tT]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,lg;function kc(t){if(lg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lg=e&&e[1]||""}return`
`+lg+t}var cg=!1;function ug(t,e){if(!t||cg)return"";cg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{cg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kc(t):""}function DV(t){switch(t.tag){case 5:return kc(t.type);case 16:return kc("Lazy");case 13:return kc("Suspense");case 19:return kc("SuspenseList");case 0:case 2:case 15:return t=ug(t.type,!1),t;case 11:return t=ug(t.type.render,!1),t;case 1:return t=ug(t.type,!0),t;default:return""}}function ky(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ma:return"Fragment";case ka:return"Portal";case Py:return"Profiler";case sw:return"StrictMode";case Ry:return"Suspense";case Ny:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case DC:return(t.displayName||"Context")+".Consumer";case MC:return(t._context.displayName||"Context")+".Provider";case iw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ow:return e=t.displayName||null,e!==null?e:ky(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return ky(t(e))}catch{}}return null}function OV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ky(e);case 8:return e===sw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LV(t){var e=LC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jd(t){t._valueTracker||(t._valueTracker=LV(t))}function jC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ff(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function My(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VC(t,e){e=e.checked,e!=null&&rw(t,"checked",e,!1)}function Dy(t,e){VC(t,e);var n=Li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Oy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Oy(t,e.type,Li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Oy(t,e,n){(e!=="number"||ff(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mc=Array.isArray;function Ya(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Li(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ly(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Mc(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Li(n)}}function FC(t,e){var n=Li(e.value),r=Li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zd,$C=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zd=Zd||document.createElement("div"),Zd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Kc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jV=["Webkit","ms","Moz","O"];Object.keys(Kc).forEach(function(t){jV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Kc[e]=Kc[t]})});function BC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Kc.hasOwnProperty(t)&&Kc[t]?(""+e).trim():e+"px"}function zC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=BC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var VV=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vy(t,e){if(e){if(VV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Fy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uy=null;function aw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $y=null,Xa=null,Ja=null;function oT(t){if(t=dd(t)){if(typeof $y!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=kp(e),$y(t.stateNode,t.type,e))}}function WC(t){Xa?Ja?Ja.push(t):Ja=[t]:Xa=t}function HC(){if(Xa){var t=Xa,e=Ja;if(Ja=Xa=null,oT(t),e)for(t=0;t<e.length;t++)oT(e[t])}}function KC(t,e){return t(e)}function qC(){}var dg=!1;function GC(t,e,n){if(dg)return t(e,n);dg=!0;try{return KC(t,e,n)}finally{dg=!1,(Xa!==null||Ja!==null)&&(qC(),HC())}}function wu(t,e){var n=t.stateNode;if(n===null)return null;var r=kp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var By=!1;if(Ds)try{var Ec={};Object.defineProperty(Ec,"passive",{get:function(){By=!0}}),window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{By=!1}function FV(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var qc=!1,pf=null,mf=!1,zy=null,UV={onError:function(t){qc=!0,pf=t}};function $V(t,e,n,r,s,i,o,a,l){qc=!1,pf=null,FV.apply(UV,arguments)}function BV(t,e,n,r,s,i,o,a,l){if($V.apply(this,arguments),qc){if(qc){var c=pf;qc=!1,pf=null}else throw Error(Q(198));mf||(mf=!0,zy=c)}}function ra(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function aT(t){if(ra(t)!==t)throw Error(Q(188))}function zV(t){var e=t.alternate;if(!e){if(e=ra(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return aT(s),t;if(i===r)return aT(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function YC(t){return t=zV(t),t!==null?XC(t):null}function XC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=XC(t);if(e!==null)return e;t=t.sibling}return null}var JC=Gn.unstable_scheduleCallback,lT=Gn.unstable_cancelCallback,WV=Gn.unstable_shouldYield,HV=Gn.unstable_requestPaint,It=Gn.unstable_now,KV=Gn.unstable_getCurrentPriorityLevel,lw=Gn.unstable_ImmediatePriority,ZC=Gn.unstable_UserBlockingPriority,gf=Gn.unstable_NormalPriority,qV=Gn.unstable_LowPriority,eA=Gn.unstable_IdlePriority,Ap=null,Zr=null;function GV(t){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(Ap,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:XV,QV=Math.log,YV=Math.LN2;function XV(t){return t>>>=0,t===0?32:31-(QV(t)/YV|0)|0}var eh=64,th=4194304;function Dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Dc(a):(i&=o,i!==0&&(r=Dc(i)))}else o=n&~s,o!==0?r=Dc(o):i!==0&&(r=Dc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),s=1<<n,r|=t[n],e&=~s;return r}function JV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Pr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=JV(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Wy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tA(){var t=eh;return eh<<=1,!(eh&4194240)&&(eh=64),t}function hg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function eF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Pr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function cw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Je=0;function nA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rA,uw,sA,iA,oA,Hy=!1,nh=[],Ti=null,Si=null,bi=null,xu=new Map,_u=new Map,ai=[],tF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cT(t,e){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":xu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(e.pointerId)}}function Tc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=dd(e),e!==null&&uw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function nF(t,e,n,r,s){switch(e){case"focusin":return Ti=Tc(Ti,t,e,n,r,s),!0;case"dragenter":return Si=Tc(Si,t,e,n,r,s),!0;case"mouseover":return bi=Tc(bi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return xu.set(i,Tc(xu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_u.set(i,Tc(_u.get(i)||null,t,e,n,r,s)),!0}return!1}function aA(t){var e=wo(t.target);if(e!==null){var n=ra(e);if(n!==null){if(e=n.tag,e===13){if(e=QC(n),e!==null){t.blockedOn=e,oA(t.priority,function(){sA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ky(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Uy=r,n.target.dispatchEvent(r),Uy=null}else return e=dd(n),e!==null&&uw(e),t.blockedOn=n,!1;e.shift()}return!0}function uT(t,e,n){Dh(t)&&n.delete(e)}function rF(){Hy=!1,Ti!==null&&Dh(Ti)&&(Ti=null),Si!==null&&Dh(Si)&&(Si=null),bi!==null&&Dh(bi)&&(bi=null),xu.forEach(uT),_u.forEach(uT)}function Sc(t,e){t.blockedOn===e&&(t.blockedOn=null,Hy||(Hy=!0,Gn.unstable_scheduleCallback(Gn.unstable_NormalPriority,rF)))}function Eu(t){function e(s){return Sc(s,t)}if(0<nh.length){Sc(nh[0],t);for(var n=1;n<nh.length;n++){var r=nh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ti!==null&&Sc(Ti,t),Si!==null&&Sc(Si,t),bi!==null&&Sc(bi,t),xu.forEach(e),_u.forEach(e),n=0;n<ai.length;n++)r=ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ai.length&&(n=ai[0],n.blockedOn===null);)aA(n),n.blockedOn===null&&ai.shift()}var Za=Ks.ReactCurrentBatchConfig,vf=!0;function sF(t,e,n,r){var s=Je,i=Za.transition;Za.transition=null;try{Je=1,dw(t,e,n,r)}finally{Je=s,Za.transition=i}}function iF(t,e,n,r){var s=Je,i=Za.transition;Za.transition=null;try{Je=4,dw(t,e,n,r)}finally{Je=s,Za.transition=i}}function dw(t,e,n,r){if(vf){var s=Ky(t,e,n,r);if(s===null)Eg(t,e,r,wf,n),cT(t,r);else if(nF(s,t,e,n,r))r.stopPropagation();else if(cT(t,r),e&4&&-1<tF.indexOf(t)){for(;s!==null;){var i=dd(s);if(i!==null&&rA(i),i=Ky(t,e,n,r),i===null&&Eg(t,e,r,wf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Eg(t,e,r,null,n)}}var wf=null;function Ky(t,e,n,r){if(wf=null,t=aw(r),t=wo(t),t!==null)if(e=ra(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wf=t,null}function lA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KV()){case lw:return 1;case ZC:return 4;case gf:case qV:return 16;case eA:return 536870912;default:return 16}default:return 16}}var vi=null,hw=null,Oh=null;function cA(){if(Oh)return Oh;var t,e=hw,n=e.length,r,s="value"in vi?vi.value:vi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Oh=s.slice(t,1<r?1-r:void 0)}function Lh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rh(){return!0}function dT(){return!1}function Yn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rh:dT,this.isPropagationStopped=dT,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rh)},persist:function(){},isPersistent:rh}),e}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fw=Yn($l),ud=gt({},$l,{view:0,detail:0}),oF=Yn(ud),fg,pg,bc,Pp=gt({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bc&&(bc&&t.type==="mousemove"?(fg=t.screenX-bc.screenX,pg=t.screenY-bc.screenY):pg=fg=0,bc=t),fg)},movementY:function(t){return"movementY"in t?t.movementY:pg}}),hT=Yn(Pp),aF=gt({},Pp,{dataTransfer:0}),lF=Yn(aF),cF=gt({},ud,{relatedTarget:0}),mg=Yn(cF),uF=gt({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),dF=Yn(uF),hF=gt({},$l,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fF=Yn(hF),pF=gt({},$l,{data:0}),fT=Yn(pF),mF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yF[t])?!!e[t]:!1}function pw(){return vF}var wF=gt({},ud,{key:function(t){if(t.key){var e=mF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pw,charCode:function(t){return t.type==="keypress"?Lh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xF=Yn(wF),_F=gt({},Pp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pT=Yn(_F),EF=gt({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pw}),TF=Yn(EF),SF=gt({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),bF=Yn(SF),IF=gt({},Pp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CF=Yn(IF),AF=[9,13,27,32],mw=Ds&&"CompositionEvent"in window,Gc=null;Ds&&"documentMode"in document&&(Gc=document.documentMode);var PF=Ds&&"TextEvent"in window&&!Gc,uA=Ds&&(!mw||Gc&&8<Gc&&11>=Gc),mT=" ",gT=!1;function dA(t,e){switch(t){case"keyup":return AF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function RF(t,e){switch(t){case"compositionend":return hA(e);case"keypress":return e.which!==32?null:(gT=!0,mT);case"textInput":return t=e.data,t===mT&&gT?null:t;default:return null}}function NF(t,e){if(Da)return t==="compositionend"||!mw&&dA(t,e)?(t=cA(),Oh=hw=vi=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uA&&e.locale!=="ko"?null:e.data;default:return null}}var kF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kF[t.type]:e==="textarea"}function fA(t,e,n,r){WC(r),e=xf(e,"onChange"),0<e.length&&(n=new fw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qc=null,Tu=null;function MF(t){SA(t,0)}function Rp(t){var e=ja(t);if(jC(e))return t}function DF(t,e){if(t==="change")return e}var pA=!1;if(Ds){var gg;if(Ds){var yg="oninput"in document;if(!yg){var vT=document.createElement("div");vT.setAttribute("oninput","return;"),yg=typeof vT.oninput=="function"}gg=yg}else gg=!1;pA=gg&&(!document.documentMode||9<document.documentMode)}function wT(){Qc&&(Qc.detachEvent("onpropertychange",mA),Tu=Qc=null)}function mA(t){if(t.propertyName==="value"&&Rp(Tu)){var e=[];fA(e,Tu,t,aw(t)),GC(MF,e)}}function OF(t,e,n){t==="focusin"?(wT(),Qc=e,Tu=n,Qc.attachEvent("onpropertychange",mA)):t==="focusout"&&wT()}function LF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rp(Tu)}function jF(t,e){if(t==="click")return Rp(e)}function VF(t,e){if(t==="input"||t==="change")return Rp(e)}function FF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:FF;function Su(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ay.call(e,s)||!Nr(t[s],e[s]))return!1}return!0}function xT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _T(t,e){var n=xT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xT(n)}}function gA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yA(){for(var t=window,e=ff();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ff(t.document)}return e}function gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UF(t){var e=yA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gA(n.ownerDocument.documentElement,n)){if(r!==null&&gw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_T(n,i);var o=_T(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $F=Ds&&"documentMode"in document&&11>=document.documentMode,Oa=null,qy=null,Yc=null,Gy=!1;function ET(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gy||Oa==null||Oa!==ff(r)||(r=Oa,"selectionStart"in r&&gw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yc&&Su(Yc,r)||(Yc=r,r=xf(qy,"onSelect"),0<r.length&&(e=new fw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oa)))}function sh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var La={animationend:sh("Animation","AnimationEnd"),animationiteration:sh("Animation","AnimationIteration"),animationstart:sh("Animation","AnimationStart"),transitionend:sh("Transition","TransitionEnd")},vg={},vA={};Ds&&(vA=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Np(t){if(vg[t])return vg[t];if(!La[t])return t;var e=La[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vA)return vg[t]=e[n];return t}var wA=Np("animationend"),xA=Np("animationiteration"),_A=Np("animationstart"),EA=Np("transitionend"),TA=new Map,TT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qi(t,e){TA.set(t,e),na(e,[t])}for(var wg=0;wg<TT.length;wg++){var xg=TT[wg],BF=xg.toLowerCase(),zF=xg[0].toUpperCase()+xg.slice(1);Qi(BF,"on"+zF)}Qi(wA,"onAnimationEnd");Qi(xA,"onAnimationIteration");Qi(_A,"onAnimationStart");Qi("dblclick","onDoubleClick");Qi("focusin","onFocus");Qi("focusout","onBlur");Qi(EA,"onTransitionEnd");wl("onMouseEnter",["mouseout","mouseover"]);wl("onMouseLeave",["mouseout","mouseover"]);wl("onPointerEnter",["pointerout","pointerover"]);wl("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oc));function ST(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BV(r,e,void 0,t),t.currentTarget=null}function SA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ST(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ST(s,a,c),i=l}}}if(mf)throw t=zy,mf=!1,zy=null,t}function at(t,e){var n=e[Zy];n===void 0&&(n=e[Zy]=new Set);var r=t+"__bubble";n.has(r)||(bA(e,t,2,!1),n.add(r))}function _g(t,e,n){var r=0;e&&(r|=4),bA(n,t,r,e)}var ih="_reactListening"+Math.random().toString(36).slice(2);function bu(t){if(!t[ih]){t[ih]=!0,kC.forEach(function(n){n!=="selectionchange"&&(WF.has(n)||_g(n,!1,t),_g(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ih]||(e[ih]=!0,_g("selectionchange",!1,e))}}function bA(t,e,n,r){switch(lA(e)){case 1:var s=sF;break;case 4:s=iF;break;default:s=dw}n=s.bind(null,e,n,t),s=void 0,!By||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Eg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=wo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}GC(function(){var c=i,d=aw(n),h=[];e:{var p=TA.get(t);if(p!==void 0){var m=fw,T=t;switch(t){case"keypress":if(Lh(n)===0)break e;case"keydown":case"keyup":m=xF;break;case"focusin":T="focus",m=mg;break;case"focusout":T="blur",m=mg;break;case"beforeblur":case"afterblur":m=mg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=hT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=lF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=TF;break;case wA:case xA:case _A:m=dF;break;case EA:m=bF;break;case"scroll":m=oF;break;case"wheel":m=CF;break;case"copy":case"cut":case"paste":m=fF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=pT}var g=(e&4)!==0,_=!g&&t==="scroll",E=g?p!==null?p+"Capture":null:p;g=[];for(var x=c,w;x!==null;){w=x;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,E!==null&&(A=wu(x,E),A!=null&&g.push(Iu(x,A,w)))),_)break;x=x.return}0<g.length&&(p=new m(p,T,null,n,d),h.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Uy&&(T=n.relatedTarget||n.fromElement)&&(wo(T)||T[Os]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(T=n.relatedTarget||n.toElement,m=c,T=T?wo(T):null,T!==null&&(_=ra(T),T!==_||T.tag!==5&&T.tag!==6)&&(T=null)):(m=null,T=c),m!==T)){if(g=hT,A="onMouseLeave",E="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=pT,A="onPointerLeave",E="onPointerEnter",x="pointer"),_=m==null?p:ja(m),w=T==null?p:ja(T),p=new g(A,x+"leave",m,n,d),p.target=_,p.relatedTarget=w,A=null,wo(d)===c&&(g=new g(E,x+"enter",T,n,d),g.target=w,g.relatedTarget=_,A=g),_=A,m&&T)t:{for(g=m,E=T,x=0,w=g;w;w=_a(w))x++;for(w=0,A=E;A;A=_a(A))w++;for(;0<x-w;)g=_a(g),x--;for(;0<w-x;)E=_a(E),w--;for(;x--;){if(g===E||E!==null&&g===E.alternate)break t;g=_a(g),E=_a(E)}g=null}else g=null;m!==null&&bT(h,p,m,g,!1),T!==null&&_!==null&&bT(h,_,T,g,!0)}}e:{if(p=c?ja(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=DF;else if(yT(p))if(pA)N=VF;else{N=LF;var O=OF}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=jF);if(N&&(N=N(t,c))){fA(h,N,n,d);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Oy(p,"number",p.value)}switch(O=c?ja(c):window,t){case"focusin":(yT(O)||O.contentEditable==="true")&&(Oa=O,qy=c,Yc=null);break;case"focusout":Yc=qy=Oa=null;break;case"mousedown":Gy=!0;break;case"contextmenu":case"mouseup":case"dragend":Gy=!1,ET(h,n,d);break;case"selectionchange":if($F)break;case"keydown":case"keyup":ET(h,n,d)}var I;if(mw)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Da?dA(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(uA&&n.locale!=="ko"&&(Da||b!=="onCompositionStart"?b==="onCompositionEnd"&&Da&&(I=cA()):(vi=d,hw="value"in vi?vi.value:vi.textContent,Da=!0)),O=xf(c,b),0<O.length&&(b=new fT(b,t,null,n,d),h.push({event:b,listeners:O}),I?b.data=I:(I=hA(n),I!==null&&(b.data=I)))),(I=PF?RF(t,n):NF(t,n))&&(c=xf(c,"onBeforeInput"),0<c.length&&(d=new fT("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=I))}SA(h,e)})}function Iu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wu(t,n),i!=null&&r.unshift(Iu(t,i,s)),i=wu(t,e),i!=null&&r.push(Iu(t,i,s))),t=t.return}return r}function _a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bT(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=wu(n,i),l!=null&&o.unshift(Iu(n,l,a))):s||(l=wu(n,i),l!=null&&o.push(Iu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var HF=/\r\n?/g,KF=/\u0000|\uFFFD/g;function IT(t){return(typeof t=="string"?t:""+t).replace(HF,`
`).replace(KF,"")}function oh(t,e,n){if(e=IT(e),IT(t)!==e&&n)throw Error(Q(425))}function _f(){}var Qy=null,Yy=null;function Xy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jy=typeof setTimeout=="function"?setTimeout:void 0,qF=typeof clearTimeout=="function"?clearTimeout:void 0,CT=typeof Promise=="function"?Promise:void 0,GF=typeof queueMicrotask=="function"?queueMicrotask:typeof CT<"u"?function(t){return CT.resolve(null).then(t).catch(QF)}:Jy;function QF(t){setTimeout(function(){throw t})}function Tg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Eu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Eu(e)}function Ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function AT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Bl,Cu="__reactProps$"+Bl,Os="__reactContainer$"+Bl,Zy="__reactEvents$"+Bl,YF="__reactListeners$"+Bl,XF="__reactHandles$"+Bl;function wo(t){var e=t[Qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Os]||n[Qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=AT(t);t!==null;){if(n=t[Qr])return n;t=AT(t)}return e}t=n,n=t.parentNode}return null}function dd(t){return t=t[Qr]||t[Os],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ja(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function kp(t){return t[Cu]||null}var ev=[],Va=-1;function Yi(t){return{current:t}}function lt(t){0>Va||(t.current=ev[Va],ev[Va]=null,Va--)}function st(t,e){Va++,ev[Va]=t.current,t.current=e}var ji={},fn=Yi(ji),Mn=Yi(!1),Vo=ji;function xl(t,e){var n=t.type.contextTypes;if(!n)return ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Dn(t){return t=t.childContextTypes,t!=null}function Ef(){lt(Mn),lt(fn)}function PT(t,e,n){if(fn.current!==ji)throw Error(Q(168));st(fn,e),st(Mn,n)}function IA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,OV(t)||"Unknown",s));return gt({},n,r)}function Tf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,Vo=fn.current,st(fn,t),st(Mn,Mn.current),!0}function RT(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=IA(t,e,Vo),r.__reactInternalMemoizedMergedChildContext=t,lt(Mn),lt(fn),st(fn,t)):lt(Mn),st(Mn,n)}var Ts=null,Mp=!1,Sg=!1;function CA(t){Ts===null?Ts=[t]:Ts.push(t)}function JF(t){Mp=!0,CA(t)}function Xi(){if(!Sg&&Ts!==null){Sg=!0;var t=0,e=Je;try{var n=Ts;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ts=null,Mp=!1}catch(s){throw Ts!==null&&(Ts=Ts.slice(t+1)),JC(lw,Xi),s}finally{Je=e,Sg=!1}}return null}var Fa=[],Ua=0,Sf=null,bf=0,rr=[],sr=0,Fo=null,bs=1,Is="";function mo(t,e){Fa[Ua++]=bf,Fa[Ua++]=Sf,Sf=t,bf=e}function AA(t,e,n){rr[sr++]=bs,rr[sr++]=Is,rr[sr++]=Fo,Fo=t;var r=bs;t=Is;var s=32-Pr(r)-1;r&=~(1<<s),n+=1;var i=32-Pr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,bs=1<<32-Pr(e)+s|n<<s|r,Is=i+t}else bs=1<<i|n<<s|r,Is=t}function yw(t){t.return!==null&&(mo(t,1),AA(t,1,0))}function vw(t){for(;t===Sf;)Sf=Fa[--Ua],Fa[Ua]=null,bf=Fa[--Ua],Fa[Ua]=null;for(;t===Fo;)Fo=rr[--sr],rr[sr]=null,Is=rr[--sr],rr[sr]=null,bs=rr[--sr],rr[sr]=null}var Kn=null,Wn=null,dt=!1,Cr=null;function PA(t,e){var n=ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function NT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kn=t,Wn=Ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kn=t,Wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fo!==null?{id:bs,overflow:Is}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kn=t,Wn=null,!0):!1;default:return!1}}function tv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nv(t){if(dt){var e=Wn;if(e){var n=e;if(!NT(t,e)){if(tv(t))throw Error(Q(418));e=Ii(n.nextSibling);var r=Kn;e&&NT(t,e)?PA(r,n):(t.flags=t.flags&-4097|2,dt=!1,Kn=t)}}else{if(tv(t))throw Error(Q(418));t.flags=t.flags&-4097|2,dt=!1,Kn=t}}}function kT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function ah(t){if(t!==Kn)return!1;if(!dt)return kT(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xy(t.type,t.memoizedProps)),e&&(e=Wn)){if(tv(t))throw RA(),Error(Q(418));for(;e;)PA(t,e),e=Ii(e.nextSibling)}if(kT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wn=Ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wn=null}}else Wn=Kn?Ii(t.stateNode.nextSibling):null;return!0}function RA(){for(var t=Wn;t;)t=Ii(t.nextSibling)}function _l(){Wn=Kn=null,dt=!1}function ww(t){Cr===null?Cr=[t]:Cr.push(t)}var ZF=Ks.ReactCurrentBatchConfig;function Ic(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function lh(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function MT(t){var e=t._init;return e(t._payload)}function NA(t){function e(E,x){if(t){var w=E.deletions;w===null?(E.deletions=[x],E.flags|=16):w.push(x)}}function n(E,x){if(!t)return null;for(;x!==null;)e(E,x),x=x.sibling;return null}function r(E,x){for(E=new Map;x!==null;)x.key!==null?E.set(x.key,x):E.set(x.index,x),x=x.sibling;return E}function s(E,x){return E=Ri(E,x),E.index=0,E.sibling=null,E}function i(E,x,w){return E.index=w,t?(w=E.alternate,w!==null?(w=w.index,w<x?(E.flags|=2,x):w):(E.flags|=2,x)):(E.flags|=1048576,x)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,x,w,A){return x===null||x.tag!==6?(x=Ng(w,E.mode,A),x.return=E,x):(x=s(x,w),x.return=E,x)}function l(E,x,w,A){var N=w.type;return N===Ma?d(E,x,w.props.children,A,w.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ii&&MT(N)===x.type)?(A=s(x,w.props),A.ref=Ic(E,x,w),A.return=E,A):(A=zh(w.type,w.key,w.props,null,E.mode,A),A.ref=Ic(E,x,w),A.return=E,A)}function c(E,x,w,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=kg(w,E.mode,A),x.return=E,x):(x=s(x,w.children||[]),x.return=E,x)}function d(E,x,w,A,N){return x===null||x.tag!==7?(x=Do(w,E.mode,A,N),x.return=E,x):(x=s(x,w),x.return=E,x)}function h(E,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ng(""+x,E.mode,w),x.return=E,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xd:return w=zh(x.type,x.key,x.props,null,E.mode,w),w.ref=Ic(E,null,x),w.return=E,w;case ka:return x=kg(x,E.mode,w),x.return=E,x;case ii:var A=x._init;return h(E,A(x._payload),w)}if(Mc(x)||_c(x))return x=Do(x,E.mode,w,null),x.return=E,x;lh(E,x)}return null}function p(E,x,w,A){var N=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:a(E,x,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xd:return w.key===N?l(E,x,w,A):null;case ka:return w.key===N?c(E,x,w,A):null;case ii:return N=w._init,p(E,x,N(w._payload),A)}if(Mc(w)||_c(w))return N!==null?null:d(E,x,w,A,null);lh(E,w)}return null}function m(E,x,w,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return E=E.get(w)||null,a(x,E,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Xd:return E=E.get(A.key===null?w:A.key)||null,l(x,E,A,N);case ka:return E=E.get(A.key===null?w:A.key)||null,c(x,E,A,N);case ii:var O=A._init;return m(E,x,w,O(A._payload),N)}if(Mc(A)||_c(A))return E=E.get(w)||null,d(x,E,A,N,null);lh(x,A)}return null}function T(E,x,w,A){for(var N=null,O=null,I=x,b=x=0,C=null;I!==null&&b<w.length;b++){I.index>b?(C=I,I=null):C=I.sibling;var P=p(E,I,w[b],A);if(P===null){I===null&&(I=C);break}t&&I&&P.alternate===null&&e(E,I),x=i(P,x,b),O===null?N=P:O.sibling=P,O=P,I=C}if(b===w.length)return n(E,I),dt&&mo(E,b),N;if(I===null){for(;b<w.length;b++)I=h(E,w[b],A),I!==null&&(x=i(I,x,b),O===null?N=I:O.sibling=I,O=I);return dt&&mo(E,b),N}for(I=r(E,I);b<w.length;b++)C=m(I,E,b,w[b],A),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?b:C.key),x=i(C,x,b),O===null?N=C:O.sibling=C,O=C);return t&&I.forEach(function(M){return e(E,M)}),dt&&mo(E,b),N}function g(E,x,w,A){var N=_c(w);if(typeof N!="function")throw Error(Q(150));if(w=N.call(w),w==null)throw Error(Q(151));for(var O=N=null,I=x,b=x=0,C=null,P=w.next();I!==null&&!P.done;b++,P=w.next()){I.index>b?(C=I,I=null):C=I.sibling;var M=p(E,I,P.value,A);if(M===null){I===null&&(I=C);break}t&&I&&M.alternate===null&&e(E,I),x=i(M,x,b),O===null?N=M:O.sibling=M,O=M,I=C}if(P.done)return n(E,I),dt&&mo(E,b),N;if(I===null){for(;!P.done;b++,P=w.next())P=h(E,P.value,A),P!==null&&(x=i(P,x,b),O===null?N=P:O.sibling=P,O=P);return dt&&mo(E,b),N}for(I=r(E,I);!P.done;b++,P=w.next())P=m(I,E,b,P.value,A),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?b:P.key),x=i(P,x,b),O===null?N=P:O.sibling=P,O=P);return t&&I.forEach(function(D){return e(E,D)}),dt&&mo(E,b),N}function _(E,x,w,A){if(typeof w=="object"&&w!==null&&w.type===Ma&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xd:e:{for(var N=w.key,O=x;O!==null;){if(O.key===N){if(N=w.type,N===Ma){if(O.tag===7){n(E,O.sibling),x=s(O,w.props.children),x.return=E,E=x;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ii&&MT(N)===O.type){n(E,O.sibling),x=s(O,w.props),x.ref=Ic(E,O,w),x.return=E,E=x;break e}n(E,O);break}else e(E,O);O=O.sibling}w.type===Ma?(x=Do(w.props.children,E.mode,A,w.key),x.return=E,E=x):(A=zh(w.type,w.key,w.props,null,E.mode,A),A.ref=Ic(E,x,w),A.return=E,E=A)}return o(E);case ka:e:{for(O=w.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(E,x.sibling),x=s(x,w.children||[]),x.return=E,E=x;break e}else{n(E,x);break}else e(E,x);x=x.sibling}x=kg(w,E.mode,A),x.return=E,E=x}return o(E);case ii:return O=w._init,_(E,x,O(w._payload),A)}if(Mc(w))return T(E,x,w,A);if(_c(w))return g(E,x,w,A);lh(E,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(E,x.sibling),x=s(x,w),x.return=E,E=x):(n(E,x),x=Ng(w,E.mode,A),x.return=E,E=x),o(E)):n(E,x)}return _}var El=NA(!0),kA=NA(!1),If=Yi(null),Cf=null,$a=null,xw=null;function _w(){xw=$a=Cf=null}function Ew(t){var e=If.current;lt(If),t._currentValue=e}function rv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function el(t,e){Cf=t,xw=$a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rn=!0),t.firstContext=null)}function fr(t){var e=t._currentValue;if(xw!==t)if(t={context:t,memoizedValue:e,next:null},$a===null){if(Cf===null)throw Error(Q(308));$a=t,Cf.dependencies={lanes:0,firstContext:t}}else $a=$a.next=t;return e}var xo=null;function Tw(t){xo===null?xo=[t]:xo.push(t)}function MA(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Tw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ls(t,r)}function Ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oi=!1;function Sw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ls(t,n)}return s=r.interleaved,s===null?(e.next=e,Tw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ls(t,n)}function jh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cw(t,n)}}function DT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Af(t,e,n,r){var s=t.updateQueue;oi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,g=a;switch(p=e,m=n,g.tag){case 1:if(T=g.payload,typeof T=="function"){h=T.call(m,h,p);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=g.payload,p=typeof T=="function"?T.call(m,h,p):T,p==null)break e;h=gt({},h,p);break e;case 2:oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);$o|=o,t.lanes=o,t.memoizedState=h}}function OT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var hd={},es=Yi(hd),Au=Yi(hd),Pu=Yi(hd);function _o(t){if(t===hd)throw Error(Q(174));return t}function bw(t,e){switch(st(Pu,e),st(Au,t),st(es,hd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jy(e,t)}lt(es),st(es,e)}function Tl(){lt(es),lt(Au),lt(Pu)}function OA(t){_o(Pu.current);var e=_o(es.current),n=jy(e,t.type);e!==n&&(st(Au,t),st(es,n))}function Iw(t){Au.current===t&&(lt(es),lt(Au))}var ft=Yi(0);function Pf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bg=[];function Cw(){for(var t=0;t<bg.length;t++)bg[t]._workInProgressVersionPrimary=null;bg.length=0}var Vh=Ks.ReactCurrentDispatcher,Ig=Ks.ReactCurrentBatchConfig,Uo=0,mt=null,Dt=null,Ft=null,Rf=!1,Xc=!1,Ru=0,e4=0;function rn(){throw Error(Q(321))}function Aw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function Pw(t,e,n,r,s,i){if(Uo=i,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vh.current=t===null||t.memoizedState===null?s4:i4,t=n(r,s),Xc){i=0;do{if(Xc=!1,Ru=0,25<=i)throw Error(Q(301));i+=1,Ft=Dt=null,e.updateQueue=null,Vh.current=o4,t=n(r,s)}while(Xc)}if(Vh.current=Nf,e=Dt!==null&&Dt.next!==null,Uo=0,Ft=Dt=mt=null,Rf=!1,e)throw Error(Q(300));return t}function Rw(){var t=Ru!==0;return Ru=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?mt.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function pr(){if(Dt===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Ft===null?mt.memoizedState:Ft.next;if(e!==null)Ft=e,Dt=t;else{if(t===null)throw Error(Q(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ft===null?mt.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function Nu(t,e){return typeof e=="function"?e(t):e}function Cg(t){var e=pr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Uo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,mt.lanes|=d,$o|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Nr(r,e.memoizedState)||(Rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,mt.lanes|=i,$o|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ag(t){var e=pr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Nr(i,e.memoizedState)||(Rn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function LA(){}function jA(t,e){var n=mt,r=pr(),s=e(),i=!Nr(r.memoizedState,s);if(i&&(r.memoizedState=s,Rn=!0),r=r.queue,Nw(UA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,ku(9,FA.bind(null,n,r,s,e),void 0,null),Ut===null)throw Error(Q(349));Uo&30||VA(n,e,s)}return s}function VA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FA(t,e,n,r){e.value=n,e.getSnapshot=r,$A(e)&&BA(t)}function UA(t,e,n){return n(function(){$A(e)&&BA(t)})}function $A(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function BA(t){var e=Ls(t,1);e!==null&&Rr(e,t,1,-1)}function LT(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:t},e.queue=t,t=t.dispatch=r4.bind(null,mt,t),[e.memoizedState,t]}function ku(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zA(){return pr().memoizedState}function Fh(t,e,n,r){var s=zr();mt.flags|=t,s.memoizedState=ku(1|e,n,void 0,r===void 0?null:r)}function Dp(t,e,n,r){var s=pr();r=r===void 0?null:r;var i=void 0;if(Dt!==null){var o=Dt.memoizedState;if(i=o.destroy,r!==null&&Aw(r,o.deps)){s.memoizedState=ku(e,n,i,r);return}}mt.flags|=t,s.memoizedState=ku(1|e,n,i,r)}function jT(t,e){return Fh(8390656,8,t,e)}function Nw(t,e){return Dp(2048,8,t,e)}function WA(t,e){return Dp(4,2,t,e)}function HA(t,e){return Dp(4,4,t,e)}function KA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qA(t,e,n){return n=n!=null?n.concat([t]):null,Dp(4,4,KA.bind(null,e,t),n)}function kw(){}function GA(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Aw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QA(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Aw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function YA(t,e,n){return Uo&21?(Nr(n,e)||(n=tA(),mt.lanes|=n,$o|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rn=!0),t.memoizedState=n)}function t4(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=Ig.transition;Ig.transition={};try{t(!1),e()}finally{Je=n,Ig.transition=r}}function XA(){return pr().memoizedState}function n4(t,e,n){var r=Pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JA(t))ZA(e,n);else if(n=MA(t,e,n,r),n!==null){var s=wn();Rr(n,t,r,s),eP(n,e,r)}}function r4(t,e,n){var r=Pi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JA(t))ZA(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nr(a,o)){var l=e.interleaved;l===null?(s.next=s,Tw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=MA(t,e,s,r),n!==null&&(s=wn(),Rr(n,t,r,s),eP(n,e,r))}}function JA(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function ZA(t,e){Xc=Rf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cw(t,n)}}var Nf={readContext:fr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},s4={readContext:fr,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:fr,useEffect:jT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fh(4194308,4,KA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fh(4,2,t,e)},useMemo:function(t,e){var n=zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=n4.bind(null,mt,t),[r.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:LT,useDebugValue:kw,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=LT(!1),e=t[0];return t=t4.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mt,s=zr();if(dt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Ut===null)throw Error(Q(349));Uo&30||VA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,jT(UA.bind(null,r,i,t),[t]),r.flags|=2048,ku(9,FA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=zr(),e=Ut.identifierPrefix;if(dt){var n=Is,r=bs;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ru++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=e4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},i4={readContext:fr,useCallback:GA,useContext:fr,useEffect:Nw,useImperativeHandle:qA,useInsertionEffect:WA,useLayoutEffect:HA,useMemo:QA,useReducer:Cg,useRef:zA,useState:function(){return Cg(Nu)},useDebugValue:kw,useDeferredValue:function(t){var e=pr();return YA(e,Dt.memoizedState,t)},useTransition:function(){var t=Cg(Nu)[0],e=pr().memoizedState;return[t,e]},useMutableSource:LA,useSyncExternalStore:jA,useId:XA,unstable_isNewReconciler:!1},o4={readContext:fr,useCallback:GA,useContext:fr,useEffect:Nw,useImperativeHandle:qA,useInsertionEffect:WA,useLayoutEffect:HA,useMemo:QA,useReducer:Ag,useRef:zA,useState:function(){return Ag(Nu)},useDebugValue:kw,useDeferredValue:function(t){var e=pr();return Dt===null?e.memoizedState=t:YA(e,Dt.memoizedState,t)},useTransition:function(){var t=Ag(Nu)[0],e=pr().memoizedState;return[t,e]},useMutableSource:LA,useSyncExternalStore:jA,useId:XA,unstable_isNewReconciler:!1};function Er(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Op={isMounted:function(t){return(t=t._reactInternals)?ra(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wn(),s=Pi(t),i=Ps(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ci(t,i,s),e!==null&&(Rr(e,t,s,r),jh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wn(),s=Pi(t),i=Ps(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ci(t,i,s),e!==null&&(Rr(e,t,s,r),jh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wn(),r=Pi(t),s=Ps(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ci(t,s,r),e!==null&&(Rr(e,t,r,n),jh(e,t,r))}};function VT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Su(n,r)||!Su(s,i):!0}function tP(t,e,n){var r=!1,s=ji,i=e.contextType;return typeof i=="object"&&i!==null?i=fr(i):(s=Dn(e)?Vo:fn.current,r=e.contextTypes,i=(r=r!=null)?xl(t,s):ji),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Op,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function FT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Op.enqueueReplaceState(e,e.state,null)}function iv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Sw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=fr(i):(i=Dn(e)?Vo:fn.current,s.context=xl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(sv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Op.enqueueReplaceState(s,s.state,null),Af(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Sl(t,e){try{var n="",r=e;do n+=DV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Pg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ov(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var a4=typeof WeakMap=="function"?WeakMap:Map;function nP(t,e,n){n=Ps(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mf||(Mf=!0,gv=r),ov(t,e)},n}function rP(t,e,n){n=Ps(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ov(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ov(t,e),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function UT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new a4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=_4.bind(null,t,e,n),e.then(t,t))}function $T(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function BT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ps(-1,1),e.tag=2,Ci(n,e,1))),n.lanes|=1),t)}var l4=Ks.ReactCurrentOwner,Rn=!1;function gn(t,e,n,r){e.child=t===null?kA(e,null,n,r):El(e,t.child,n,r)}function zT(t,e,n,r,s){n=n.render;var i=e.ref;return el(e,s),r=Pw(t,e,n,r,i,s),n=Rw(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,js(t,e,s)):(dt&&n&&yw(e),e.flags|=1,gn(t,e,r,s),e.child)}function WT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Uw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sP(t,e,i,r,s)):(t=zh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Su,n(o,r)&&t.ref===e.ref)return js(t,e,s)}return e.flags|=1,t=Ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function sP(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Su(i,r)&&t.ref===e.ref)if(Rn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Rn=!0);else return e.lanes=t.lanes,js(t,e,s)}return av(t,e,n,r,s)}function iP(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(za,$n),$n|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(za,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,st(za,$n),$n|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,st(za,$n),$n|=r;return gn(t,e,s,n),e.child}function oP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function av(t,e,n,r,s){var i=Dn(n)?Vo:fn.current;return i=xl(e,i),el(e,s),n=Pw(t,e,n,r,i,s),r=Rw(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,js(t,e,s)):(dt&&r&&yw(e),e.flags|=1,gn(t,e,n,s),e.child)}function HT(t,e,n,r,s){if(Dn(n)){var i=!0;Tf(e)}else i=!1;if(el(e,s),e.stateNode===null)Uh(t,e),tP(e,n,r),iv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=fr(c):(c=Dn(n)?Vo:fn.current,c=xl(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&FT(e,o,r,c),oi=!1;var p=e.memoizedState;o.state=p,Af(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Mn.current||oi?(typeof d=="function"&&(sv(e,n,d,r),l=e.memoizedState),(a=oi||VT(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,DA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Er(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fr(l):(l=Dn(n)?Vo:fn.current,l=xl(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&FT(e,o,r,l),oi=!1,p=e.memoizedState,o.state=p,Af(e,r,o,s);var T=e.memoizedState;a!==h||p!==T||Mn.current||oi?(typeof m=="function"&&(sv(e,n,m,r),T=e.memoizedState),(c=oi||VT(e,n,c,r,p,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return lv(t,e,n,r,i,s)}function lv(t,e,n,r,s,i){oP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&RT(e,n,!1),js(t,e,i);r=e.stateNode,l4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=El(e,t.child,null,i),e.child=El(e,null,a,i)):gn(t,e,a,i),e.memoizedState=r.state,s&&RT(e,n,!0),e.child}function aP(t){var e=t.stateNode;e.pendingContext?PT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&PT(t,e.context,!1),bw(t,e.containerInfo)}function KT(t,e,n,r,s){return _l(),ww(s),e.flags|=256,gn(t,e,n,r),e.child}var cv={dehydrated:null,treeContext:null,retryLane:0};function uv(t){return{baseLanes:t,cachePool:null,transitions:null}}function lP(t,e,n){var r=e.pendingProps,s=ft.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),st(ft,s&1),t===null)return nv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vp(o,r,0,null),t=Do(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=uv(n),e.memoizedState=cv,t):Mw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return c4(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ri(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ri(a,i):(i=Do(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?uv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=cv,r}return i=t.child,t=i.sibling,r=Ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mw(t,e){return e=Vp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ch(t,e,n,r){return r!==null&&ww(r),El(e,t.child,null,n),t=Mw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Pg(Error(Q(422))),ch(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Vp({mode:"visible",children:r.children},s,0,null),i=Do(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&El(e,t.child,null,o),e.child.memoizedState=uv(o),e.memoizedState=cv,i);if(!(e.mode&1))return ch(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Q(419)),r=Pg(i,r,void 0),ch(t,e,o,r)}if(a=(o&t.childLanes)!==0,Rn||a){if(r=Ut,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ls(t,s),Rr(r,t,s,-1))}return Fw(),r=Pg(Error(Q(421))),ch(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=E4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Wn=Ii(s.nextSibling),Kn=e,dt=!0,Cr=null,t!==null&&(rr[sr++]=bs,rr[sr++]=Is,rr[sr++]=Fo,bs=t.id,Is=t.overflow,Fo=e),e=Mw(e,r.children),e.flags|=4096,e)}function qT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rv(t.return,e,n)}function Rg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cP(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(gn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qT(t,n,e);else if(t.tag===19)qT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(ft,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Pf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Rg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Pf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Rg(e,!0,n,null,i);break;case"together":Rg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function js(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$o|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function u4(t,e,n){switch(e.tag){case 3:aP(e),_l();break;case 5:OA(e);break;case 1:Dn(e.type)&&Tf(e);break;case 4:bw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;st(If,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?lP(t,e,n):(st(ft,ft.current&1),t=js(t,e,n),t!==null?t.sibling:null);st(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cP(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),st(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,iP(t,e,n)}return js(t,e,n)}var uP,dv,dP,hP;uP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dv=function(){};dP=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,_o(es.current);var i=null;switch(n){case"input":s=My(t,s),r=My(t,r),i=[];break;case"select":s=gt({},s,{value:void 0}),r=gt({},r,{value:void 0}),i=[];break;case"textarea":s=Ly(t,s),r=Ly(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_f)}Vy(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&at("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};hP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Cc(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function d4(t,e,n){var r=e.pendingProps;switch(vw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Dn(e.type)&&Ef(),sn(e),null;case 3:return r=e.stateNode,Tl(),lt(Mn),lt(fn),Cw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ah(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cr!==null&&(wv(Cr),Cr=null))),dv(t,e),sn(e),null;case 5:Iw(e);var s=_o(Pu.current);if(n=e.type,t!==null&&e.stateNode!=null)dP(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return sn(e),null}if(t=_o(es.current),ah(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Qr]=e,r[Cu]=i,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(s=0;s<Oc.length;s++)at(Oc[s],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":nT(r,i),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},at("invalid",r);break;case"textarea":sT(r,i),at("invalid",r)}Vy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&oh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&oh(r.textContent,a,t),s=["children",""+a]):yu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&at("scroll",r)}switch(n){case"input":Jd(r),rT(r,i,!0);break;case"textarea":Jd(r),iT(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_f)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qr]=e,t[Cu]=r,uP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fy(n,r),n){case"dialog":at("cancel",t),at("close",t),s=r;break;case"iframe":case"object":case"embed":at("load",t),s=r;break;case"video":case"audio":for(s=0;s<Oc.length;s++)at(Oc[s],t);s=r;break;case"source":at("error",t),s=r;break;case"img":case"image":case"link":at("error",t),at("load",t),s=r;break;case"details":at("toggle",t),s=r;break;case"input":nT(t,r),s=My(t,r),at("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=gt({},r,{value:void 0}),at("invalid",t);break;case"textarea":sT(t,r),s=Ly(t,r),at("invalid",t);break;default:s=r}Vy(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?zC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$C(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vu(t,l):typeof l=="number"&&vu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&at("scroll",t):l!=null&&rw(t,i,l,o))}switch(n){case"input":Jd(t),rT(t,r,!1);break;case"textarea":Jd(t),iT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Li(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ya(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ya(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_f)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)hP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=_o(Pu.current),_o(es.current),ah(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qr]=e,(i=r.nodeValue!==n)&&(t=Kn,t!==null))switch(t.tag){case 3:oh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qr]=e,e.stateNode=r}return sn(e),null;case 13:if(lt(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Wn!==null&&e.mode&1&&!(e.flags&128))RA(),_l(),e.flags|=98560,i=!1;else if(i=ah(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Qr]=e}else _l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),i=!1}else Cr!==null&&(wv(Cr),Cr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Ot===0&&(Ot=3):Fw())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Tl(),dv(t,e),t===null&&bu(e.stateNode.containerInfo),sn(e),null;case 10:return Ew(e.type._context),sn(e),null;case 17:return Dn(e.type)&&Ef(),sn(e),null;case 19:if(lt(ft),i=e.memoizedState,i===null)return sn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Cc(i,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pf(t),o!==null){for(e.flags|=128,Cc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(ft,ft.current&1|2),e.child}t=t.sibling}i.tail!==null&&It()>bl&&(e.flags|=128,r=!0,Cc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Pf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Cc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!dt)return sn(e),null}else 2*It()-i.renderingStartTime>bl&&n!==1073741824&&(e.flags|=128,r=!0,Cc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=It(),e.sibling=null,n=ft.current,st(ft,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return Vw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$n&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function h4(t,e){switch(vw(e),e.tag){case 1:return Dn(e.type)&&Ef(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tl(),lt(Mn),lt(fn),Cw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Iw(e),null;case 13:if(lt(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));_l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(ft),null;case 4:return Tl(),null;case 10:return Ew(e.type._context),null;case 22:case 23:return Vw(),null;case 24:return null;default:return null}}var uh=!1,un=!1,f4=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ba(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function hv(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var GT=!1;function p4(t,e){if(Qy=vf,t=yA(),gw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yy={focusedElem:t,selectionRange:n},vf=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var g=T.memoizedProps,_=T.memoizedState,E=e.stateNode,x=E.getSnapshotBeforeUpdate(e.elementType===e.type?g:Er(e.type,g),_);E.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(A){Tt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return T=GT,GT=!1,T}function Jc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&hv(e,n,i)}s=s.next}while(s!==r)}}function Lp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fP(t){var e=t.alternate;e!==null&&(t.alternate=null,fP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qr],delete e[Cu],delete e[Zy],delete e[YF],delete e[XF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pP(t){return t.tag===5||t.tag===3||t.tag===4}function QT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_f));else if(r!==4&&(t=t.child,t!==null))for(pv(t,e,n),t=t.sibling;t!==null;)pv(t,e,n),t=t.sibling}function mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mv(t,e,n),t=t.sibling;t!==null;)mv(t,e,n),t=t.sibling}var Ht=null,Ir=!1;function Js(t,e,n){for(n=n.child;n!==null;)mP(t,e,n),n=n.sibling}function mP(t,e,n){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(Ap,n)}catch{}switch(n.tag){case 5:un||Ba(n,e);case 6:var r=Ht,s=Ir;Ht=null,Js(t,e,n),Ht=r,Ir=s,Ht!==null&&(Ir?(t=Ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(Ir?(t=Ht,n=n.stateNode,t.nodeType===8?Tg(t.parentNode,n):t.nodeType===1&&Tg(t,n),Eu(t)):Tg(Ht,n.stateNode));break;case 4:r=Ht,s=Ir,Ht=n.stateNode.containerInfo,Ir=!0,Js(t,e,n),Ht=r,Ir=s;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&hv(n,e,o),s=s.next}while(s!==r)}Js(t,e,n);break;case 1:if(!un&&(Ba(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tt(n,e,a)}Js(t,e,n);break;case 21:Js(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,Js(t,e,n),un=r):Js(t,e,n);break;default:Js(t,e,n)}}function YT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new f4),e.forEach(function(r){var s=T4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ht=a.stateNode,Ir=!1;break e;case 3:Ht=a.stateNode.containerInfo,Ir=!0;break e;case 4:Ht=a.stateNode.containerInfo,Ir=!0;break e}a=a.return}if(Ht===null)throw Error(Q(160));mP(i,o,s),Ht=null,Ir=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Tt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gP(e,t),e=e.sibling}function gP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),Br(t),r&4){try{Jc(3,t,t.return),Lp(3,t)}catch(g){Tt(t,t.return,g)}try{Jc(5,t,t.return)}catch(g){Tt(t,t.return,g)}}break;case 1:vr(e,t),Br(t),r&512&&n!==null&&Ba(n,n.return);break;case 5:if(vr(e,t),Br(t),r&512&&n!==null&&Ba(n,n.return),t.flags&32){var s=t.stateNode;try{vu(s,"")}catch(g){Tt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&VC(s,i),Fy(a,o);var c=Fy(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?zC(s,h):d==="dangerouslySetInnerHTML"?$C(s,h):d==="children"?vu(s,h):rw(s,d,h,c)}switch(a){case"input":Dy(s,i);break;case"textarea":FC(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ya(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ya(s,!!i.multiple,i.defaultValue,!0):Ya(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cu]=i}catch(g){Tt(t,t.return,g)}}break;case 6:if(vr(e,t),Br(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Tt(t,t.return,g)}}break;case 3:if(vr(e,t),Br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Eu(e.containerInfo)}catch(g){Tt(t,t.return,g)}break;case 4:vr(e,t),Br(t);break;case 13:vr(e,t),Br(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lw=It())),r&4&&YT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(un=(c=un)||d,vr(e,t),un=c):vr(e,t),Br(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(h=oe=d;oe!==null;){switch(p=oe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Jc(4,p,p.return);break;case 1:Ba(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(g){Tt(r,n,g)}}break;case 5:Ba(p,p.return);break;case 22:if(p.memoizedState!==null){JT(h);continue}}m!==null?(m.return=p,oe=m):JT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BC("display",o))}catch(g){Tt(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Tt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vr(e,t),Br(t),r&4&&YT(t);break;case 21:break;default:vr(e,t),Br(t)}}function Br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pP(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vu(s,""),r.flags&=-33);var i=QT(t);mv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=QT(t);pv(t,a,o);break;default:throw Error(Q(161))}}catch(l){Tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function m4(t,e,n){oe=t,yP(t)}function yP(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var s=oe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||uh;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||un;a=uh;var c=un;if(uh=o,(un=l)&&!c)for(oe=s;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?ZT(s):l!==null?(l.return=o,oe=l):ZT(s);for(;i!==null;)oe=i,yP(i),i=i.sibling;oe=s,uh=a,un=c}XT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,oe=i):XT(t)}}function XT(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||Lp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Er(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&OT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}OT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Eu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}un||e.flags&512&&fv(e)}catch(p){Tt(e,e.return,p)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function JT(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function ZT(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lp(4,e)}catch(l){Tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Tt(e,s,l)}}var i=e.return;try{fv(e)}catch(l){Tt(e,i,l)}break;case 5:var o=e.return;try{fv(e)}catch(l){Tt(e,o,l)}}}catch(l){Tt(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var g4=Math.ceil,kf=Ks.ReactCurrentDispatcher,Dw=Ks.ReactCurrentOwner,lr=Ks.ReactCurrentBatchConfig,We=0,Ut=null,Nt=null,Yt=0,$n=0,za=Yi(0),Ot=0,Mu=null,$o=0,jp=0,Ow=0,Zc=null,An=null,Lw=0,bl=1/0,Es=null,Mf=!1,gv=null,Ai=null,dh=!1,wi=null,Df=0,eu=0,yv=null,$h=-1,Bh=0;function wn(){return We&6?It():$h!==-1?$h:$h=It()}function Pi(t){return t.mode&1?We&2&&Yt!==0?Yt&-Yt:ZF.transition!==null?(Bh===0&&(Bh=tA()),Bh):(t=Je,t!==0||(t=window.event,t=t===void 0?16:lA(t.type)),t):1}function Rr(t,e,n,r){if(50<eu)throw eu=0,yv=null,Error(Q(185));cd(t,n,r),(!(We&2)||t!==Ut)&&(t===Ut&&(!(We&2)&&(jp|=n),Ot===4&&li(t,Yt)),On(t,r),n===1&&We===0&&!(e.mode&1)&&(bl=It()+500,Mp&&Xi()))}function On(t,e){var n=t.callbackNode;ZV(t,e);var r=yf(t,t===Ut?Yt:0);if(r===0)n!==null&&lT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lT(n),e===1)t.tag===0?JF(e1.bind(null,t)):CA(e1.bind(null,t)),GF(function(){!(We&6)&&Xi()}),n=null;else{switch(nA(r)){case 1:n=lw;break;case 4:n=ZC;break;case 16:n=gf;break;case 536870912:n=eA;break;default:n=gf}n=bP(n,vP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vP(t,e){if($h=-1,Bh=0,We&6)throw Error(Q(327));var n=t.callbackNode;if(tl()&&t.callbackNode!==n)return null;var r=yf(t,t===Ut?Yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Of(t,r);else{e=r;var s=We;We|=2;var i=xP();(Ut!==t||Yt!==e)&&(Es=null,bl=It()+500,Mo(t,e));do try{w4();break}catch(a){wP(t,a)}while(!0);_w(),kf.current=i,We=s,Nt!==null?e=0:(Ut=null,Yt=0,e=Ot)}if(e!==0){if(e===2&&(s=Wy(t),s!==0&&(r=s,e=vv(t,s))),e===1)throw n=Mu,Mo(t,0),li(t,r),On(t,It()),n;if(e===6)li(t,r);else{if(s=t.current.alternate,!(r&30)&&!y4(s)&&(e=Of(t,r),e===2&&(i=Wy(t),i!==0&&(r=i,e=vv(t,i))),e===1))throw n=Mu,Mo(t,0),li(t,r),On(t,It()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:go(t,An,Es);break;case 3:if(li(t,r),(r&130023424)===r&&(e=Lw+500-It(),10<e)){if(yf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){wn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Jy(go.bind(null,t,An,Es),e);break}go(t,An,Es);break;case 4:if(li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Pr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*g4(r/1960))-r,10<r){t.timeoutHandle=Jy(go.bind(null,t,An,Es),r);break}go(t,An,Es);break;case 5:go(t,An,Es);break;default:throw Error(Q(329))}}}return On(t,It()),t.callbackNode===n?vP.bind(null,t):null}function vv(t,e){var n=Zc;return t.current.memoizedState.isDehydrated&&(Mo(t,e).flags|=256),t=Of(t,e),t!==2&&(e=An,An=n,e!==null&&wv(e)),t}function wv(t){An===null?An=t:An.push.apply(An,t)}function y4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function li(t,e){for(e&=~Ow,e&=~jp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function e1(t){if(We&6)throw Error(Q(327));tl();var e=yf(t,0);if(!(e&1))return On(t,It()),null;var n=Of(t,e);if(t.tag!==0&&n===2){var r=Wy(t);r!==0&&(e=r,n=vv(t,r))}if(n===1)throw n=Mu,Mo(t,0),li(t,e),On(t,It()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,go(t,An,Es),On(t,It()),null}function jw(t,e){var n=We;We|=1;try{return t(e)}finally{We=n,We===0&&(bl=It()+500,Mp&&Xi())}}function Bo(t){wi!==null&&wi.tag===0&&!(We&6)&&tl();var e=We;We|=1;var n=lr.transition,r=Je;try{if(lr.transition=null,Je=1,t)return t()}finally{Je=r,lr.transition=n,We=e,!(We&6)&&Xi()}}function Vw(){$n=za.current,lt(za)}function Mo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qF(n)),Nt!==null)for(n=Nt.return;n!==null;){var r=n;switch(vw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ef();break;case 3:Tl(),lt(Mn),lt(fn),Cw();break;case 5:Iw(r);break;case 4:Tl();break;case 13:lt(ft);break;case 19:lt(ft);break;case 10:Ew(r.type._context);break;case 22:case 23:Vw()}n=n.return}if(Ut=t,Nt=t=Ri(t.current,null),Yt=$n=e,Ot=0,Mu=null,Ow=jp=$o=0,An=Zc=null,xo!==null){for(e=0;e<xo.length;e++)if(n=xo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xo=null}return t}function wP(t,e){do{var n=Nt;try{if(_w(),Vh.current=Nf,Rf){for(var r=mt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Rf=!1}if(Uo=0,Ft=Dt=mt=null,Xc=!1,Ru=0,Dw.current=null,n===null||n.return===null){Ot=1,Mu=e,Nt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=$T(o);if(m!==null){m.flags&=-257,BT(m,o,a,i,e),m.mode&1&&UT(i,c,e),e=m,l=c;var T=e.updateQueue;if(T===null){var g=new Set;g.add(l),e.updateQueue=g}else T.add(l);break e}else{if(!(e&1)){UT(i,c,e),Fw();break e}l=Error(Q(426))}}else if(dt&&a.mode&1){var _=$T(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),BT(_,o,a,i,e),ww(Sl(l,a));break e}}i=l=Sl(l,a),Ot!==4&&(Ot=2),Zc===null?Zc=[i]:Zc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=nP(i,l,e);DT(i,E);break e;case 1:a=l;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ai===null||!Ai.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=rP(i,a,e);DT(i,A);break e}}i=i.return}while(i!==null)}EP(n)}catch(N){e=N,Nt===n&&n!==null&&(Nt=n=n.return);continue}break}while(!0)}function xP(){var t=kf.current;return kf.current=Nf,t===null?Nf:t}function Fw(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ut===null||!($o&268435455)&&!(jp&268435455)||li(Ut,Yt)}function Of(t,e){var n=We;We|=2;var r=xP();(Ut!==t||Yt!==e)&&(Es=null,Mo(t,e));do try{v4();break}catch(s){wP(t,s)}while(!0);if(_w(),We=n,kf.current=r,Nt!==null)throw Error(Q(261));return Ut=null,Yt=0,Ot}function v4(){for(;Nt!==null;)_P(Nt)}function w4(){for(;Nt!==null&&!WV();)_P(Nt)}function _P(t){var e=SP(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?EP(t):Nt=e,Dw.current=null}function EP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=h4(n,e),n!==null){n.flags&=32767,Nt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Nt=null;return}}else if(n=d4(n,e,$n),n!==null){Nt=n;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Ot===0&&(Ot=5)}function go(t,e,n){var r=Je,s=lr.transition;try{lr.transition=null,Je=1,x4(t,e,n,r)}finally{lr.transition=s,Je=r}return null}function x4(t,e,n,r){do tl();while(wi!==null);if(We&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(eF(t,i),t===Ut&&(Nt=Ut=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dh||(dh=!0,bP(gf,function(){return tl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=lr.transition,lr.transition=null;var o=Je;Je=1;var a=We;We|=4,Dw.current=null,p4(t,n),gP(n,t),UF(Yy),vf=!!Qy,Yy=Qy=null,t.current=n,m4(n),HV(),We=a,Je=o,lr.transition=i}else t.current=n;if(dh&&(dh=!1,wi=t,Df=s),i=t.pendingLanes,i===0&&(Ai=null),GV(n.stateNode),On(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Mf)throw Mf=!1,t=gv,gv=null,t;return Df&1&&t.tag!==0&&tl(),i=t.pendingLanes,i&1?t===yv?eu++:(eu=0,yv=t):eu=0,Xi(),null}function tl(){if(wi!==null){var t=nA(Df),e=lr.transition,n=Je;try{if(lr.transition=null,Je=16>t?16:t,wi===null)var r=!1;else{if(t=wi,wi=null,Df=0,We&6)throw Error(Q(331));var s=We;for(We|=4,oe=t.current;oe!==null;){var i=oe,o=i.child;if(oe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:Jc(8,d,i)}var h=d.child;if(h!==null)h.return=d,oe=h;else for(;oe!==null;){d=oe;var p=d.sibling,m=d.return;if(fP(d),d===c){oe=null;break}if(p!==null){p.return=m,oe=p;break}oe=m}}}var T=i.alternate;if(T!==null){var g=T.child;if(g!==null){T.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,oe=o;else e:for(;oe!==null;){if(i=oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jc(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,oe=E;break e}oe=i.return}}var x=t.current;for(oe=x;oe!==null;){o=oe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,oe=w;else e:for(o=x;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lp(9,a)}}catch(N){Tt(a,a.return,N)}if(a===o){oe=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,oe=A;break e}oe=a.return}}if(We=s,Xi(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(Ap,t)}catch{}r=!0}return r}finally{Je=n,lr.transition=e}}return!1}function t1(t,e,n){e=Sl(n,e),e=nP(t,e,1),t=Ci(t,e,1),e=wn(),t!==null&&(cd(t,1,e),On(t,e))}function Tt(t,e,n){if(t.tag===3)t1(t,t,n);else for(;e!==null;){if(e.tag===3){t1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){t=Sl(n,t),t=rP(e,t,1),e=Ci(e,t,1),t=wn(),e!==null&&(cd(e,1,t),On(e,t));break}}e=e.return}}function _4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(Yt&n)===n&&(Ot===4||Ot===3&&(Yt&130023424)===Yt&&500>It()-Lw?Mo(t,0):Ow|=n),On(t,e)}function TP(t,e){e===0&&(t.mode&1?(e=th,th<<=1,!(th&130023424)&&(th=4194304)):e=1);var n=wn();t=Ls(t,e),t!==null&&(cd(t,e,n),On(t,n))}function E4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TP(t,n)}function T4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),TP(t,n)}var SP;SP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)Rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rn=!1,u4(t,e,n);Rn=!!(t.flags&131072)}else Rn=!1,dt&&e.flags&1048576&&AA(e,bf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uh(t,e),t=e.pendingProps;var s=xl(e,fn.current);el(e,n),s=Pw(null,e,r,t,s,n);var i=Rw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dn(r)?(i=!0,Tf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sw(e),s.updater=Op,e.stateNode=s,s._reactInternals=e,iv(e,r,t,n),e=lv(null,e,r,!0,i,n)):(e.tag=0,dt&&i&&yw(e),gn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=b4(r),t=Er(r,t),s){case 0:e=av(null,e,r,t,n);break e;case 1:e=HT(null,e,r,t,n);break e;case 11:e=zT(null,e,r,t,n);break e;case 14:e=WT(null,e,r,Er(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Er(r,s),av(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Er(r,s),HT(t,e,r,s,n);case 3:e:{if(aP(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,DA(t,e),Af(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Sl(Error(Q(423)),e),e=KT(t,e,r,n,s);break e}else if(r!==s){s=Sl(Error(Q(424)),e),e=KT(t,e,r,n,s);break e}else for(Wn=Ii(e.stateNode.containerInfo.firstChild),Kn=e,dt=!0,Cr=null,n=kA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_l(),r===s){e=js(t,e,n);break e}gn(t,e,r,n)}e=e.child}return e;case 5:return OA(e),t===null&&nv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Xy(r,s)?o=null:i!==null&&Xy(r,i)&&(e.flags|=32),oP(t,e),gn(t,e,o,n),e.child;case 6:return t===null&&nv(e),null;case 13:return lP(t,e,n);case 4:return bw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=El(e,null,r,n):gn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Er(r,s),zT(t,e,r,s,n);case 7:return gn(t,e,e.pendingProps,n),e.child;case 8:return gn(t,e,e.pendingProps.children,n),e.child;case 12:return gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,st(If,r._currentValue),r._currentValue=o,i!==null)if(Nr(i.value,o)){if(i.children===s.children&&!Mn.current){e=js(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ps(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),rv(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}gn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,el(e,n),s=fr(s),r=r(s),e.flags|=1,gn(t,e,r,n),e.child;case 14:return r=e.type,s=Er(r,e.pendingProps),s=Er(r.type,s),WT(t,e,r,s,n);case 15:return sP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Er(r,s),Uh(t,e),e.tag=1,Dn(r)?(t=!0,Tf(e)):t=!1,el(e,n),tP(e,r,s),iv(e,r,s,n),lv(null,e,r,!0,t,n);case 19:return cP(t,e,n);case 22:return iP(t,e,n)}throw Error(Q(156,e.tag))};function bP(t,e){return JC(t,e)}function S4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(t,e,n,r){return new S4(t,e,n,r)}function Uw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function b4(t){if(typeof t=="function")return Uw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===iw)return 11;if(t===ow)return 14}return 2}function Ri(t,e){var n=t.alternate;return n===null?(n=ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Uw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ma:return Do(n.children,s,i,e);case sw:o=8,s|=8;break;case Py:return t=ar(12,n,e,s|2),t.elementType=Py,t.lanes=i,t;case Ry:return t=ar(13,n,e,s),t.elementType=Ry,t.lanes=i,t;case Ny:return t=ar(19,n,e,s),t.elementType=Ny,t.lanes=i,t;case OC:return Vp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MC:o=10;break e;case DC:o=9;break e;case iw:o=11;break e;case ow:o=14;break e;case ii:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=ar(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Do(t,e,n,r){return t=ar(7,t,r,e),t.lanes=n,t}function Vp(t,e,n,r){return t=ar(22,t,r,e),t.elementType=OC,t.lanes=n,t.stateNode={isHidden:!1},t}function Ng(t,e,n){return t=ar(6,t,null,e),t.lanes=n,t}function kg(t,e,n){return e=ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hg(0),this.expirationTimes=hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $w(t,e,n,r,s,i,o,a,l){return t=new I4(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ar(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sw(i),t}function C4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ka,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IP(t){if(!t)return ji;t=t._reactInternals;e:{if(ra(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Dn(n))return IA(t,n,e)}return e}function CP(t,e,n,r,s,i,o,a,l){return t=$w(n,r,!0,t,s,i,o,a,l),t.context=IP(null),n=t.current,r=wn(),s=Pi(n),i=Ps(r,s),i.callback=e??null,Ci(n,i,s),t.current.lanes=s,cd(t,s,r),On(t,r),t}function Fp(t,e,n,r){var s=e.current,i=wn(),o=Pi(s);return n=IP(n),e.context===null?e.context=n:e.pendingContext=n,e=Ps(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ci(s,e,o),t!==null&&(Rr(t,s,o,i),jh(t,s,o)),o}function Lf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function n1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bw(t,e){n1(t,e),(t=t.alternate)&&n1(t,e)}function A4(){return null}var AP=typeof reportError=="function"?reportError:function(t){console.error(t)};function zw(t){this._internalRoot=t}Up.prototype.render=zw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Fp(t,e,null,null)};Up.prototype.unmount=zw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bo(function(){Fp(null,t,null,null)}),e[Os]=null}};function Up(t){this._internalRoot=t}Up.prototype.unstable_scheduleHydration=function(t){if(t){var e=iA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ai.length&&e!==0&&e<ai[n].priority;n++);ai.splice(n,0,t),n===0&&aA(t)}};function Ww(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function r1(){}function P4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Lf(o);i.call(c)}}var o=CP(e,r,t,0,null,!1,!1,"",r1);return t._reactRootContainer=o,t[Os]=o.current,bu(t.nodeType===8?t.parentNode:t),Bo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Lf(l);a.call(c)}}var l=$w(t,0,!1,null,null,!1,!1,"",r1);return t._reactRootContainer=l,t[Os]=l.current,bu(t.nodeType===8?t.parentNode:t),Bo(function(){Fp(e,l,n,r)}),l}function Bp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Lf(o);a.call(l)}}Fp(e,o,t,s)}else o=P4(n,e,t,s,r);return Lf(o)}rA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Dc(e.pendingLanes);n!==0&&(cw(e,n|1),On(e,It()),!(We&6)&&(bl=It()+500,Xi()))}break;case 13:Bo(function(){var r=Ls(t,1);if(r!==null){var s=wn();Rr(r,t,1,s)}}),Bw(t,1)}};uw=function(t){if(t.tag===13){var e=Ls(t,134217728);if(e!==null){var n=wn();Rr(e,t,134217728,n)}Bw(t,134217728)}};sA=function(t){if(t.tag===13){var e=Pi(t),n=Ls(t,e);if(n!==null){var r=wn();Rr(n,t,e,r)}Bw(t,e)}};iA=function(){return Je};oA=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};$y=function(t,e,n){switch(e){case"input":if(Dy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=kp(r);if(!s)throw Error(Q(90));jC(r),Dy(r,s)}}}break;case"textarea":FC(t,n);break;case"select":e=n.value,e!=null&&Ya(t,!!n.multiple,e,!1)}};KC=jw;qC=Bo;var R4={usingClientEntryPoint:!1,Events:[dd,ja,kp,WC,HC,jw]},Ac={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N4={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YC(t),t===null?null:t.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||A4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hh.isDisabled&&hh.supportsFiber)try{Ap=hh.inject(N4),Zr=hh}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R4;Qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ww(e))throw Error(Q(200));return C4(t,e,null,n)};Qn.createRoot=function(t,e){if(!Ww(t))throw Error(Q(299));var n=!1,r="",s=AP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$w(t,1,!1,null,null,n,!1,r,s),t[Os]=e.current,bu(t.nodeType===8?t.parentNode:t),new zw(e)};Qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=YC(e),t=t===null?null:t.stateNode,t};Qn.flushSync=function(t){return Bo(t)};Qn.hydrate=function(t,e,n){if(!$p(e))throw Error(Q(200));return Bp(null,t,e,!0,n)};Qn.hydrateRoot=function(t,e,n){if(!Ww(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=AP;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CP(e,null,t,1,n??null,s,!1,i,o),t[Os]=e.current,bu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Up(e)};Qn.render=function(t,e,n){if(!$p(e))throw Error(Q(200));return Bp(null,t,e,!1,n)};Qn.unmountComponentAtNode=function(t){if(!$p(t))throw Error(Q(40));return t._reactRootContainer?(Bo(function(){Bp(null,null,t,!1,function(){t._reactRootContainer=null,t[Os]=null})}),!0):!1};Qn.unstable_batchedUpdates=jw;Qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$p(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return Bp(t,e,n,!1,r)};Qn.version="18.3.1-next-f1338f8080-20240426";function PP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PP)}catch(t){console.error(t)}}PP(),PC.exports=Qn;var sa=PC.exports;const RP=yC(sa);var NP,s1=sa;NP=s1.createRoot,s1.hydrateRoot;const k4=1,M4=1e6;let Mg=0;function D4(){return Mg=(Mg+1)%Number.MAX_SAFE_INTEGER,Mg.toString()}const Dg=new Map,i1=t=>{if(Dg.has(t))return;const e=setTimeout(()=>{Dg.delete(t),tu({type:"REMOVE_TOAST",toastId:t})},M4);Dg.set(t,e)},O4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,k4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?i1(n):t.toasts.forEach(r=>{i1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Wh=[];let Hh={toasts:[]};function tu(t){Hh=O4(Hh,t),Wh.forEach(e=>{e(Hh)})}function L4({...t}){const e=D4(),n=s=>tu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>tu({type:"DISMISS_TOAST",toastId:e});return tu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function zl(){const[t,e]=y.useState(Hh);return y.useEffect(()=>(Wh.push(e),()=>{const n=Wh.indexOf(e);n>-1&&Wh.splice(n,1)}),[t]),{...t,toast:L4,dismiss:n=>tu({type:"DISMISS_TOAST",toastId:n})}}function ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function o1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zp(...t){return e=>{let n=!1;const r=t.map(s=>{const i=o1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():o1(t[s],null)}}}}function qe(...t){return y.useCallback(zp(...t),t)}function j4(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Vr(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=h=>{var E;const{scope:p,children:m,...T}=h,g=((E=p==null?void 0:p[t])==null?void 0:E[l])||a,_=y.useMemo(()=>T,Object.values(T));return f.jsx(g.Provider,{value:_,children:m})};c.displayName=i+"Provider";function d(h,p){var g;const m=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,T=y.useContext(m);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,V4(s,...e)]}function V4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(i)[`__scope${c}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function zo(t){const e=U4(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(B4);if(l){const c=l.props.children,d=a.map(h=>h===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,d):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var F4=zo("Slot");function U4(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=W4(s),a=z4(i,s.props);return s.type!==y.Fragment&&(a.ref=r?zp(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kP=Symbol("radix.slottable");function $4(t){const e=({children:n})=>f.jsx(f.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=kP,e}function B4(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kP}function z4(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function W4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Wp(t){const e=t+"CollectionProvider",[n,r]=Vr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:_,children:E}=g,x=X.useRef(null),w=X.useRef(new Map).current;return f.jsx(s,{scope:_,itemMap:w,collectionRef:x,children:E})};o.displayName=e;const a=t+"CollectionSlot",l=zo(a),c=X.forwardRef((g,_)=>{const{scope:E,children:x}=g,w=i(a,E),A=qe(_,w.collectionRef);return f.jsx(l,{ref:A,children:x})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=zo(d),m=X.forwardRef((g,_)=>{const{scope:E,children:x,...w}=g,A=X.useRef(null),N=qe(_,A),O=i(d,E);return X.useEffect(()=>(O.itemMap.set(A,{ref:A,...w}),()=>void O.itemMap.delete(A))),f.jsx(p,{[h]:"",ref:N,children:x})});m.displayName=d;function T(g){const _=i(t+"CollectionConsumer",g);return X.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((O,I)=>w.indexOf(O.ref.current)-w.indexOf(I.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},T,r]}var H4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xe=H4.reduce((t,e)=>{const n=zo(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Hw(t,e){t&&sa.flushSync(()=>t.dispatchEvent(e))}function Vn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function K4(t,e=globalThis==null?void 0:globalThis.document){const n=Vn(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var q4="DismissableLayer",xv="dismissableLayer.update",G4="dismissableLayer.pointerDownOutside",Q4="dismissableLayer.focusOutside",a1,MP=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wl=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(MP),[d,h]=y.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),T=qe(e,I=>h(I)),g=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(_),x=d?g.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,A=x>=E,N=X4(I=>{const b=I.target,C=[...c.branches].some(P=>P.contains(b));!A||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),O=J4(I=>{const b=I.target;[...c.branches].some(P=>P.contains(b))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return K4(I=>{x===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),y.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(a1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),l1(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=a1)}},[d,p,n,c]),y.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),l1())},[d,c]),y.useEffect(()=>{const I=()=>m({});return document.addEventListener(xv,I),()=>document.removeEventListener(xv,I)},[]),f.jsx(xe.div,{...l,ref:T,style:{pointerEvents:w?A?"auto":"none":void 0,...t.style},onFocusCapture:ne(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ne(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ne(t.onPointerDownCapture,N.onPointerDownCapture)})});Wl.displayName=q4;var Y4="DismissableLayerBranch",DP=y.forwardRef((t,e)=>{const n=y.useContext(MP),r=y.useRef(null),s=qe(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(xe.div,{...t,ref:s})});DP.displayName=Y4;function X4(t,e=globalThis==null?void 0:globalThis.document){const n=Vn(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){OP(G4,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function J4(t,e=globalThis==null?void 0:globalThis.document){const n=Vn(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&OP(Q4,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function l1(){const t=new CustomEvent(xv);document.dispatchEvent(t)}function OP(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Hw(s,i):s.dispatchEvent(i)}var Z4=Wl,eU=DP,Jt=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},tU="Portal",fd=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Jt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?RP.createPortal(f.jsx(xe.div,{...r,ref:e}),o):null});fd.displayName=tU;function nU(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var Fr=t=>{const{present:e,children:n}=t,r=rU(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=qe(r.ref,sU(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};Fr.displayName="Presence";function rU(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=nU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=fh(r.current);i.current=a==="mounted"?c:"none"},[a]),Jt(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,m=fh(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Jt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=m=>{const g=fh(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=m=>{m.target===e&&(i.current=fh(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function fh(t){return(t==null?void 0:t.animationName)||"none"}function sU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var iU=ew[" useInsertionEffect ".trim().toString()]||Jt;function Wo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=oU({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=y.useRef(t!==void 0);y.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=y.useCallback(d=>{var h;if(a){const p=aU(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else i(d)},[a,t,i,o]);return[l,c]}function oU({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return iU(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function aU(t){return typeof t=="function"}var LP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),lU="VisuallyHidden",Hp=y.forwardRef((t,e)=>f.jsx(xe.span,{...t,ref:e,style:{...LP,...t.style}}));Hp.displayName=lU;var cU=Hp,Kw="ToastProvider",[qw,uU,dU]=Wp("Toast"),[jP,Bne]=Vr("Toast",[dU]),[hU,Kp]=jP(Kw),VP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[c,d]=y.useState(0),h=y.useRef(!1),p=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kw}\`. Expected non-empty \`string\`.`),f.jsx(qw.Provider,{scope:e,children:f.jsx(hU,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>d(m=>m+1),[]),onToastRemove:y.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};VP.displayName=Kw;var FP="ToastViewport",fU=["F8"],_v="toast.viewportPause",Ev="toast.viewportResume",UP=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=fU,label:s="Notifications ({hotkey})",...i}=t,o=Kp(FP,n),a=uU(n),l=y.useRef(null),c=y.useRef(null),d=y.useRef(null),h=y.useRef(null),p=qe(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;y.useEffect(()=>{const _=E=>{var w;r.length!==0&&r.every(A=>E[A]||E.code===A)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),y.useEffect(()=>{const _=l.current,E=h.current;if(T&&_&&E){const x=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(_v);E.dispatchEvent(O),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Ev);E.dispatchEvent(O),o.isClosePausedRef.current=!1}},A=O=>{!_.contains(O.relatedTarget)&&w()},N=()=>{_.contains(document.activeElement)||w()};return _.addEventListener("focusin",x),_.addEventListener("focusout",A),_.addEventListener("pointermove",x),_.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{_.removeEventListener("focusin",x),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",x),_.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[T,o.isClosePausedRef]);const g=y.useCallback(({tabbingDirection:_})=>{const x=a().map(w=>{const A=w.ref.current,N=[A,...IU(A)];return _==="forwards"?N:N.reverse()});return(_==="forwards"?x.reverse():x).flat()},[a]);return y.useEffect(()=>{const _=h.current;if(_){const E=x=>{var N,O,I;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const b=document.activeElement,C=x.shiftKey;if(x.target===_&&C){(N=c.current)==null||N.focus();return}const D=g({tabbingDirection:C?"backwards":"forwards"}),k=D.findIndex(K=>K===b);Og(D.slice(k+1))?x.preventDefault():C?(O=c.current)==null||O.focus():(I=d.current)==null||I.focus()}};return _.addEventListener("keydown",E),()=>_.removeEventListener("keydown",E)}},[a,g]),f.jsxs(eU,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&f.jsx(Tv,{ref:c,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"forwards"});Og(_)}}),f.jsx(qw.Slot,{scope:n,children:f.jsx(xe.ol,{tabIndex:-1,...i,ref:p})}),T&&f.jsx(Tv,{ref:d,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"backwards"});Og(_)}})]})});UP.displayName=FP;var $P="ToastFocusProxy",Tv=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Kp($P,n);return f.jsx(Hp,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Tv.displayName=$P;var pd="Toast",pU="toast.swipeStart",mU="toast.swipeMove",gU="toast.swipeCancel",yU="toast.swipeEnd",BP=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Wo({prop:r,defaultProp:s??!0,onChange:i,caller:pd});return f.jsx(Fr,{present:n||a,children:f.jsx(xU,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Vn(t.onPause),onResume:Vn(t.onResume),onSwipeStart:ne(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(t.onSwipeMove,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ne(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(t.onSwipeEnd,c=>{const{x:d,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});BP.displayName=pd;var[vU,wU]=jP(pd,{onClose(){}}),xU=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...T}=t,g=Kp(pd,n),[_,E]=y.useState(null),x=qe(e,K=>E(K)),w=y.useRef(null),A=y.useRef(null),N=s||g.duration,O=y.useRef(0),I=y.useRef(N),b=y.useRef(0),{onToastAdd:C,onToastRemove:P}=g,M=Vn(()=>{var ie;(_==null?void 0:_.contains(document.activeElement))&&((ie=g.viewport)==null||ie.focus()),o()}),D=y.useCallback(K=>{!K||K===1/0||(window.clearTimeout(b.current),O.current=new Date().getTime(),b.current=window.setTimeout(M,K))},[M]);y.useEffect(()=>{const K=g.viewport;if(K){const ie=()=>{D(I.current),c==null||c()},te=()=>{const J=new Date().getTime()-O.current;I.current=I.current-J,window.clearTimeout(b.current),l==null||l()};return K.addEventListener(_v,te),K.addEventListener(Ev,ie),()=>{K.removeEventListener(_v,te),K.removeEventListener(Ev,ie)}}},[g.viewport,N,l,c,D]),y.useEffect(()=>{i&&!g.isClosePausedRef.current&&D(N)},[i,N,g.isClosePausedRef,D]),y.useEffect(()=>(C(),()=>P()),[C,P]);const k=y.useMemo(()=>_?QP(_):null,[_]);return g.viewport?f.jsxs(f.Fragment,{children:[k&&f.jsx(_U,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),f.jsx(vU,{scope:n,onClose:M,children:sa.createPortal(f.jsx(qw.ItemSlot,{scope:n,children:f.jsx(Z4,{asChild:!0,onEscapeKeyDown:ne(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...T,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ne(t.onKeyDown,K=>{K.key==="Escape"&&(a==null||a(K.nativeEvent),K.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:ne(t.onPointerDown,K=>{K.button===0&&(w.current={x:K.clientX,y:K.clientY})}),onPointerMove:ne(t.onPointerMove,K=>{if(!w.current)return;const ie=K.clientX-w.current.x,te=K.clientY-w.current.y,J=!!A.current,F=["left","right"].includes(g.swipeDirection),j=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,G=F?j(0,ie):0,ae=F?0:j(0,te),ee=K.pointerType==="touch"?10:2,le={x:G,y:ae},ue={originalEvent:K,delta:le};J?(A.current=le,ph(mU,h,ue,{discrete:!1})):c1(le,g.swipeDirection,ee)?(A.current=le,ph(pU,d,ue,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(ie)>ee||Math.abs(te)>ee)&&(w.current=null)}),onPointerUp:ne(t.onPointerUp,K=>{const ie=A.current,te=K.target;if(te.hasPointerCapture(K.pointerId)&&te.releasePointerCapture(K.pointerId),A.current=null,w.current=null,ie){const J=K.currentTarget,F={originalEvent:K,delta:ie};c1(ie,g.swipeDirection,g.swipeThreshold)?ph(yU,m,F,{discrete:!0}):ph(gU,p,F,{discrete:!0}),J.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),_U=t=>{const{__scopeToast:e,children:n,...r}=t,s=Kp(pd,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return SU(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(fd,{asChild:!0,children:f.jsx(Hp,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},EU="ToastTitle",zP=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});zP.displayName=EU;var TU="ToastDescription",WP=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});WP.displayName=TU;var HP="ToastAction",KP=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(GP,{altText:n,asChild:!0,children:f.jsx(Gw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${HP}\`. Expected non-empty \`string\`.`),null)});KP.displayName=HP;var qP="ToastClose",Gw=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=wU(qP,n);return f.jsx(GP,{asChild:!0,children:f.jsx(xe.button,{type:"button",...r,ref:e,onClick:ne(t.onClick,s.onClose)})})});Gw.displayName=qP;var GP=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function QP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),bU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...QP(r))}}),e}function ph(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Hw(s,i):s.dispatchEvent(i)}var c1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function SU(t=()=>{}){const e=Vn(t);Jt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function bU(t){return t.nodeType===t.ELEMENT_NODE}function IU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Og(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var CU=VP,YP=UP,XP=BP,JP=zP,ZP=WP,eR=KP,tR=Gw;function nR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=nR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rR(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=nR(t))&&(r&&(r+=" "),r+=e);return r}const u1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,d1=rR,qp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return d1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const p=u1(d)||u1(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(T=>{let[g,_]=T;return Array.isArray(_)?_.includes({...i,...a}[g]):{...i,...a}[g]===_})?[...c,h,p]:c},[]);return d1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...PU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:sR("lucide",s),...a},[...o.map(([c,d])=>y.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(RU,{ref:i,iconNode:e,className:sR(`lucide-${AU(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=Qe("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Qe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=Qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=Qe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=Qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=Qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=Qe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=Qe("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Qe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=Qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Qw="-",KU=t=>{const e=GU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Qw);return a[0]===""&&a.length!==1&&a.shift(),lR(a,e)||qU(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},lR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?lR(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Qw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},f1=/^\[(.+)\]$/,qU=t=>{if(f1.test(t)){const e=f1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},GU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return YU(Object.entries(t.classGroups),n).forEach(([i,o])=>{Pv(o,r,i,e)}),r},Pv=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:p1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(QU(s)){Pv(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Pv(o,p1(e,i),n,r)})})},p1=(t,e)=>{let n=t;return e.split(Qw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},QU=t=>t.isThemeGetter,YU=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,XU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},cR="!",JU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let _=0;_<a.length;_++){let E=a[_];if(c===0){if(E===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(d,_)),d=_+i;continue}if(E==="/"){h=_;continue}}E==="["?c++:E==="]"&&c--}const p=l.length===0?a:a.substring(d),m=p.startsWith(cR),T=m?p.substring(1):p,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:T,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},ZU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},e5=t=>({cache:XU(t.cacheSize),parseClassName:JU(t),...KU(t)}),t5=/\s+/,n5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(t5);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let T=!!m,g=r(T?p.substring(0,m):p);if(!g){if(!T){a=c+(a.length>0?" "+a:a);continue}if(g=r(p),!g){a=c+(a.length>0?" "+a:a);continue}T=!1}const _=ZU(d).join(":"),E=h?_+cR:_,x=E+g;if(i.includes(x))continue;i.push(x);const w=s(g,T);for(let A=0;A<w.length;++A){const N=w[A];i.push(E+N)}a=c+(a.length>0?" "+a:a)}return a};function r5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uR(e))&&(r&&(r+=" "),r+=n);return r}const uR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uR(t[r]))&&(n&&(n+=" "),n+=e);return n};function s5(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=e5(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=n5(l,n);return s(l,d),d}return function(){return i(r5.apply(null,arguments))}}const ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},dR=/^\[(?:([a-z-]+):)?(.+)\]$/i,i5=/^\d+\/\d+$/,o5=new Set(["px","full","screen"]),a5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,u5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,d5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xs=t=>nl(t)||o5.has(t)||i5.test(t),Zs=t=>Hl(t,"length",w5),nl=t=>!!t&&!Number.isNaN(Number(t)),Fg=t=>Hl(t,"number",nl),Pc=t=>!!t&&Number.isInteger(Number(t)),h5=t=>t.endsWith("%")&&nl(t.slice(0,-1)),ke=t=>dR.test(t),ei=t=>a5.test(t),f5=new Set(["length","size","percentage"]),p5=t=>Hl(t,f5,hR),m5=t=>Hl(t,"position",hR),g5=new Set(["image","url"]),y5=t=>Hl(t,g5,_5),v5=t=>Hl(t,"",x5),Rc=()=>!0,Hl=(t,e,n)=>{const r=dR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},w5=t=>l5.test(t)&&!c5.test(t),hR=()=>!1,x5=t=>u5.test(t),_5=t=>d5.test(t),E5=()=>{const t=ot("colors"),e=ot("spacing"),n=ot("blur"),r=ot("brightness"),s=ot("borderColor"),i=ot("borderRadius"),o=ot("borderSpacing"),a=ot("borderWidth"),l=ot("contrast"),c=ot("grayscale"),d=ot("hueRotate"),h=ot("invert"),p=ot("gap"),m=ot("gradientColorStops"),T=ot("gradientColorStopPositions"),g=ot("inset"),_=ot("margin"),E=ot("opacity"),x=ot("padding"),w=ot("saturate"),A=ot("scale"),N=ot("sepia"),O=ot("skew"),I=ot("space"),b=ot("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",ke,e],D=()=>[ke,e],k=()=>["",xs,Zs],K=()=>["auto",nl,ke],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",ke],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[nl,ke];return{cacheSize:500,separator:":",theme:{colors:[Rc],spacing:[xs,Zs],blur:["none","",ei,ke],brightness:ae(),borderColor:[t],borderRadius:["none","","full",ei,ke],borderSpacing:D(),borderWidth:k(),contrast:ae(),grayscale:j(),hueRotate:ae(),invert:j(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[h5,Zs],inset:M(),margin:M(),opacity:ae(),padding:D(),saturate:ae(),scale:ae(),sepia:j(),skew:ae(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[ei]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),ke]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pc,ke]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Pc,ke]}],"grid-cols":[{"grid-cols":[Rc]}],"col-start-end":[{col:["auto",{span:["full",Pc,ke]},ke]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Rc]}],"row-start-end":[{row:["auto",{span:[Pc,ke]},ke]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,e]}],"min-w":[{"min-w":[ke,e,"min","max","fit"]}],"max-w":[{"max-w":[ke,e,"none","full","min","max","fit","prose",{screen:[ei]},ei]}],h:[{h:[ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ei,Zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fg]}],"font-family":[{font:[Rc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",nl,Fg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xs,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xs,Zs]}],"underline-offset":[{"underline-offset":["auto",xs,ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),m5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",p5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},y5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[xs,ke]}],"outline-w":[{outline:[xs,Zs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[xs,Zs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ei,v5]}],"shadow-color":[{shadow:[Rc]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ei,ke]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Pc,ke]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xs,Zs,Fg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},T5=s5(E5);function Ae(...t){return T5(rR(t))}const S5=CU,fR=y.forwardRef(({className:t,...e},n)=>f.jsx(YP,{ref:n,className:Ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fR.displayName=YP.displayName;const b5=qp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pR=y.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(XP,{ref:r,className:Ae(b5({variant:e}),t),...n}));pR.displayName=XP.displayName;const I5=y.forwardRef(({className:t,...e},n)=>f.jsx(eR,{ref:n,className:Ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));I5.displayName=eR.displayName;const mR=y.forwardRef(({className:t,...e},n)=>f.jsx(tR,{ref:n,className:Ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(aR,{className:"h-4 w-4"})}));mR.displayName=tR.displayName;const gR=y.forwardRef(({className:t,...e},n)=>f.jsx(JP,{ref:n,className:Ae("text-sm font-semibold",t),...e}));gR.displayName=JP.displayName;const yR=y.forwardRef(({className:t,...e},n)=>f.jsx(ZP,{ref:n,className:Ae("text-sm opacity-90",t),...e}));yR.displayName=ZP.displayName;function C5(){const{toasts:t}=zl();return f.jsxs(S5,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(pR,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(gR,{children:n}),r&&f.jsx(yR,{children:r})]}),s,f.jsx(mR,{})]},e)}),f.jsx(fR,{})]})}var m1=["light","dark"],A5="(prefers-color-scheme: dark)",P5=y.createContext(void 0),R5={setTheme:t=>{},themes:[]},N5=()=>{var t;return(t=y.useContext(P5))!=null?t:R5};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?m1.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(T,g=!1,_=!0)=>{let E=o?o[T]:T,x=g?T+"|| ''":`'${E}'`,w="";return s&&_&&!g&&m1.includes(T)&&(w+=`d.style.colorScheme = '${T}';`),n==="class"?g||E?w+=`c.add(${x})`:w+="null":E&&(w+=`d[s](n,${x})`),w},m=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${A5}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var k5=t=>{switch(t){case"success":return O5;case"info":return j5;case"warning":return L5;case"error":return V5;default:return null}},M5=Array(12).fill(0),D5=({visible:t,className:e})=>X.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},X.createElement("div",{className:"sonner-spinner"},M5.map((n,r)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),O5=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),L5=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),j5=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),V5=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),F5=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),U5=()=>{let[t,e]=X.useState(document.hidden);return X.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Rv=1,$5=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Rv++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],X.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(z5(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Rv++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},bn=new $5,B5=(t,e)=>{let n=(e==null?void 0:e.id)||Rv++;return bn.addToast({title:t,...e,id:n}),n},z5=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",W5=B5,H5=()=>bn.toasts,K5=()=>bn.getActiveToasts();Object.assign(W5,{success:bn.success,info:bn.info,warning:bn.warning,error:bn.error,custom:bn.custom,message:bn.message,promise:bn.promise,dismiss:bn.dismiss,loading:bn.loading},{getHistory:H5,getToasts:K5});function q5(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}q5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function mh(t){return t.label!==void 0}var G5=3,Q5="32px",Y5="16px",g1=4e3,X5=356,J5=14,Z5=20,e3=200;function wr(...t){return t.filter(Boolean).join(" ")}function t3(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var n3=t=>{var e,n,r,s,i,o,a,l,c,d,h;let{invert:p,toast:m,unstyled:T,interacting:g,setHeights:_,visibleToasts:E,heights:x,index:w,toasts:A,expanded:N,removeToast:O,defaultRichColors:I,closeButton:b,style:C,cancelButtonStyle:P,actionButtonStyle:M,className:D="",descriptionClassName:k="",duration:K,position:ie,gap:te,loadingIcon:J,expandByDefault:F,classNames:j,icons:G,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:ee}=t,[le,ue]=X.useState(null),[Oe,Le]=X.useState(null),[Y,je]=X.useState(!1),[Ve,Re]=X.useState(!1),[Ne,Me]=X.useState(!1),[wt,jt]=X.useState(!1),[L,$]=X.useState(!1),[W,de]=X.useState(0),[pe,ce]=X.useState(0),he=X.useRef(m.duration||K||g1),ge=X.useRef(null),q=X.useRef(null),Ee=w===0,Ye=w+1<=E,me=m.type,ye=m.dismissible!==!1,Xn=m.className||"",ms=m.descriptionClassName||"",$t=X.useMemo(()=>x.findIndex(Te=>Te.toastId===m.id)||0,[x,m.id]),pa=X.useMemo(()=>{var Te;return(Te=m.closeButton)!=null?Te:b},[m.closeButton,b]),Fn=X.useMemo(()=>m.duration||K||g1,[m.duration,K]),ma=X.useRef(0),gs=X.useRef(0),ga=X.useRef(0),Gs=X.useRef(null),[qm,uc]=ie.split("-"),dc=X.useMemo(()=>x.reduce((Te,ze,Ze)=>Ze>=$t?Te:Te+ze.height,0),[x,$t]),hc=U5(),lo=m.invert||p,co=me==="loading";gs.current=X.useMemo(()=>$t*te+dc,[$t,dc]),X.useEffect(()=>{he.current=Fn},[Fn]),X.useEffect(()=>{je(!0)},[]),X.useEffect(()=>{let Te=q.current;if(Te){let ze=Te.getBoundingClientRect().height;return ce(ze),_(Ze=>[{toastId:m.id,height:ze,position:m.position},...Ze]),()=>_(Ze=>Ze.filter(Bt=>Bt.toastId!==m.id))}},[_,m.id]),X.useLayoutEffect(()=>{if(!Y)return;let Te=q.current,ze=Te.style.height;Te.style.height="auto";let Ze=Te.getBoundingClientRect().height;Te.style.height=ze,ce(Ze),_(Bt=>Bt.find(Tn=>Tn.toastId===m.id)?Bt.map(Tn=>Tn.toastId===m.id?{...Tn,height:Ze}:Tn):[{toastId:m.id,height:Ze,position:m.position},...Bt])},[Y,m.title,m.description,_,m.id]);let Jn=X.useCallback(()=>{Re(!0),de(gs.current),_(Te=>Te.filter(ze=>ze.toastId!==m.id)),setTimeout(()=>{O(m)},e3)},[m,O,_,gs]);X.useEffect(()=>{if(m.promise&&me==="loading"||m.duration===1/0||m.type==="loading")return;let Te;return N||g||ee&&hc?(()=>{if(ga.current<ma.current){let ze=new Date().getTime()-ma.current;he.current=he.current-ze}ga.current=new Date().getTime()})():he.current!==1/0&&(ma.current=new Date().getTime(),Te=setTimeout(()=>{var ze;(ze=m.onAutoClose)==null||ze.call(m,m),Jn()},he.current)),()=>clearTimeout(Te)},[N,g,m,me,ee,hc,Jn]),X.useEffect(()=>{m.delete&&Jn()},[Jn,m.delete]);function ys(){var Te,ze,Ze;return G!=null&&G.loading?X.createElement("div",{className:wr(j==null?void 0:j.loader,(Te=m==null?void 0:m.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":me==="loading"},G.loading):J?X.createElement("div",{className:wr(j==null?void 0:j.loader,(ze=m==null?void 0:m.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":me==="loading"},J):X.createElement(D5,{className:wr(j==null?void 0:j.loader,(Ze=m==null?void 0:m.classNames)==null?void 0:Ze.loader),visible:me==="loading"})}return X.createElement("li",{tabIndex:0,ref:q,className:wr(D,Xn,j==null?void 0:j.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[me],(n=m==null?void 0:m.classNames)==null?void 0:n[me]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:I,"data-styled":!(m.jsx||m.unstyled||T),"data-mounted":Y,"data-promise":!!m.promise,"data-swiped":L,"data-removed":Ve,"data-visible":Ye,"data-y-position":qm,"data-x-position":uc,"data-index":w,"data-front":Ee,"data-swiping":Ne,"data-dismissible":ye,"data-type":me,"data-invert":lo,"data-swipe-out":wt,"data-swipe-direction":Oe,"data-expanded":!!(N||F&&Y),style:{"--index":w,"--toasts-before":w,"--z-index":A.length-w,"--offset":`${Ve?W:gs.current}px`,"--initial-height":F?"auto":`${pe}px`,...C,...m.style},onDragEnd:()=>{Me(!1),ue(null),Gs.current=null},onPointerDown:Te=>{co||!ye||(ge.current=new Date,de(gs.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(Me(!0),Gs.current={x:Te.clientX,y:Te.clientY}))},onPointerUp:()=>{var Te,ze,Ze,Bt;if(wt||!ye)return;Gs.current=null;let Tn=Number(((Te=q.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ct=Number(((ze=q.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$r=new Date().getTime()-((Ze=ge.current)==null?void 0:Ze.getTime()),zt=le==="x"?Tn:ct,Sn=Math.abs(zt)/$r;if(Math.abs(zt)>=Z5||Sn>.11){de(gs.current),(Bt=m.onDismiss)==null||Bt.call(m,m),Le(le==="x"?Tn>0?"right":"left":ct>0?"down":"up"),Jn(),jt(!0),$(!1);return}Me(!1),ue(null)},onPointerMove:Te=>{var ze,Ze,Bt,Tn;if(!Gs.current||!ye||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let ct=Te.clientY-Gs.current.y,$r=Te.clientX-Gs.current.x,zt=(Ze=t.swipeDirections)!=null?Ze:t3(ie);!le&&(Math.abs($r)>1||Math.abs(ct)>1)&&ue(Math.abs($r)>Math.abs(ct)?"x":"y");let Sn={x:0,y:0};le==="y"?(zt.includes("top")||zt.includes("bottom"))&&(zt.includes("top")&&ct<0||zt.includes("bottom")&&ct>0)&&(Sn.y=ct):le==="x"&&(zt.includes("left")||zt.includes("right"))&&(zt.includes("left")&&$r<0||zt.includes("right")&&$r>0)&&(Sn.x=$r),(Math.abs(Sn.x)>0||Math.abs(Sn.y)>0)&&$(!0),(Bt=q.current)==null||Bt.style.setProperty("--swipe-amount-x",`${Sn.x}px`),(Tn=q.current)==null||Tn.style.setProperty("--swipe-amount-y",`${Sn.y}px`)}},pa&&!m.jsx?X.createElement("button",{"aria-label":ae,"data-disabled":co,"data-close-button":!0,onClick:co||!ye?()=>{}:()=>{var Te;Jn(),(Te=m.onDismiss)==null||Te.call(m,m)},className:wr(j==null?void 0:j.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:F5):null,m.jsx||y.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:X.createElement(X.Fragment,null,me||m.icon||m.promise?X.createElement("div",{"data-icon":"",className:wr(j==null?void 0:j.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ys():null,m.type!=="loading"?m.icon||(G==null?void 0:G[me])||k5(me):null):null,X.createElement("div",{"data-content":"",className:wr(j==null?void 0:j.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},X.createElement("div",{"data-title":"",className:wr(j==null?void 0:j.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?X.createElement("div",{"data-description":"",className:wr(k,ms,j==null?void 0:j.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),y.isValidElement(m.cancel)?m.cancel:m.cancel&&mh(m.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:Te=>{var ze,Ze;mh(m.cancel)&&ye&&((Ze=(ze=m.cancel).onClick)==null||Ze.call(ze,Te),Jn())},className:wr(j==null?void 0:j.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,y.isValidElement(m.action)?m.action:m.action&&mh(m.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||M,onClick:Te=>{var ze,Ze;mh(m.action)&&((Ze=(ze=m.action).onClick)==null||Ze.call(ze,Te),!Te.defaultPrevented&&Jn())},className:wr(j==null?void 0:j.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function y1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function r3(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?Y5:Q5;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var s3=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:p,style:m,visibleToasts:T=G5,toastOptions:g,dir:_=y1(),gap:E=J5,loadingIcon:x,icons:w,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:N}=t,[O,I]=X.useState([]),b=X.useMemo(()=>Array.from(new Set([r].concat(O.filter(ee=>ee.position).map(ee=>ee.position)))),[O,r]),[C,P]=X.useState([]),[M,D]=X.useState(!1),[k,K]=X.useState(!1),[ie,te]=X.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=X.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=X.useRef(null),G=X.useRef(!1),ae=X.useCallback(ee=>{I(le=>{var ue;return(ue=le.find(Oe=>Oe.id===ee.id))!=null&&ue.delete||bn.dismiss(ee.id),le.filter(({id:Oe})=>Oe!==ee.id)})},[]);return X.useEffect(()=>bn.subscribe(ee=>{if(ee.dismiss){I(le=>le.map(ue=>ue.id===ee.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{RP.flushSync(()=>{I(le=>{let ue=le.findIndex(Oe=>Oe.id===ee.id);return ue!==-1?[...le.slice(0,ue),{...le[ue],...ee},...le.slice(ue+1)]:[ee,...le]})})})}),[]),X.useEffect(()=>{if(d!=="system"){te(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:le})=>{te(le?"dark":"light")})}catch{ee.addListener(({matches:ue})=>{try{te(ue?"dark":"light")}catch(Oe){console.error(Oe)}})}},[d]),X.useEffect(()=>{O.length<=1&&D(!1)},[O]),X.useEffect(()=>{let ee=le=>{var ue,Oe;s.every(Le=>le[Le]||le.code===Le)&&(D(!0),(ue=J.current)==null||ue.focus()),le.code==="Escape"&&(document.activeElement===J.current||(Oe=J.current)!=null&&Oe.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[s]),X.useEffect(()=>{if(J.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,G.current=!1)}},[J.current]),X.createElement("section",{ref:e,"aria-label":`${A} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((ee,le)=>{var ue;let[Oe,Le]=ee.split("-");return O.length?X.createElement("ol",{key:ee,dir:_==="auto"?y1():_,tabIndex:-1,ref:J,className:a,"data-sonner-toaster":!0,"data-theme":ie,"data-y-position":Oe,"data-lifted":M&&O.length>1&&!i,"data-x-position":Le,style:{"--front-toast-height":`${((ue=C[0])==null?void 0:ue.height)||0}px`,"--width":`${X5}px`,"--gap":`${E}px`,...m,...r3(l,c)},onBlur:Y=>{G.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(G.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||G.current||(G.current=!0,j.current=Y.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{k||D(!1)},onDragEnd:()=>D(!1),onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},O.filter(Y=>!Y.position&&le===0||Y.position===ee).map((Y,je)=>{var Ve,Re;return X.createElement(n3,{key:Y.id,icons:w,index:je,toast:Y,defaultRichColors:h,duration:(Ve=g==null?void 0:g.duration)!=null?Ve:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:T,closeButton:(Re=g==null?void 0:g.closeButton)!=null?Re:o,interacting:k,position:ee,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ae,toasts:O.filter(Ne=>Ne.position==Y.position),heights:C.filter(Ne=>Ne.position==Y.position),setHeights:P,expandByDefault:i,gap:E,loadingIcon:x,expanded:M,pauseWhenPageIsHidden:N,swipeDirections:t.swipeDirections})})):null}))});const i3=({...t})=>{const{theme:e="system"}=N5();return f.jsx(s3,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var o3=ew[" useId ".trim().toString()]||(()=>{}),a3=0;function ts(t){const[e,n]=y.useState(o3());return Jt(()=>{n(r=>r??String(a3++))},[t]),e?`radix-${e}`:""}const l3=["top","right","bottom","left"],Vi=Math.min,Bn=Math.max,jf=Math.round,gh=Math.floor,ns=t=>({x:t,y:t}),c3={left:"right",right:"left",bottom:"top",top:"bottom"},u3={start:"end",end:"start"};function Nv(t,e,n){return Bn(t,Vi(e,n))}function Vs(t,e){return typeof t=="function"?t(e):t}function Fs(t){return t.split("-")[0]}function Kl(t){return t.split("-")[1]}function Yw(t){return t==="x"?"y":"x"}function Xw(t){return t==="y"?"height":"width"}const d3=new Set(["top","bottom"]);function Xr(t){return d3.has(Fs(t))?"y":"x"}function Jw(t){return Yw(Xr(t))}function h3(t,e,n){n===void 0&&(n=!1);const r=Kl(t),s=Jw(t),i=Xw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vf(o)),[o,Vf(o)]}function f3(t){const e=Vf(t);return[kv(t),e,kv(e)]}function kv(t){return t.replace(/start|end/g,e=>u3[e])}const v1=["left","right"],w1=["right","left"],p3=["top","bottom"],m3=["bottom","top"];function g3(t,e,n){switch(t){case"top":case"bottom":return n?e?w1:v1:e?v1:w1;case"left":case"right":return e?p3:m3;default:return[]}}function y3(t,e,n,r){const s=Kl(t);let i=g3(Fs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(kv)))),i}function Vf(t){return t.replace(/left|right|bottom|top/g,e=>c3[e])}function v3(t){return{top:0,right:0,bottom:0,left:0,...t}}function vR(t){return typeof t!="number"?v3(t):{top:t,right:t,bottom:t,left:t}}function Ff(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function x1(t,e,n){let{reference:r,floating:s}=t;const i=Xr(e),o=Jw(e),a=Xw(o),l=Fs(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Kl(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const w3=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=x1(c,r,l),p=r,m={},T=0;for(let g=0;g<a.length;g++){const{name:_,fn:E}=a[g],{x,y:w,data:A,reset:N}=await E({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,h=w??h,m={...m,[_]:{...m[_],...A}},N&&T<=50&&(T++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(c=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:d,y:h}=x1(c,p,l)),g=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}};async function Du(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=Vs(e,t),T=vR(m),_=a[p?h==="floating"?"reference":"floating":h],E=Ff(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Ff(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:w,strategy:l}):x);return{top:(E.top-N.top+T.top)/A.y,bottom:(N.bottom-E.bottom+T.bottom)/A.y,left:(E.left-N.left+T.left)/A.x,right:(N.right-E.right+T.right)/A.x}}const x3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Vs(t,e)||{};if(c==null)return{};const h=vR(d),p={x:n,y:r},m=Jw(s),T=Xw(m),g=await o.getDimensions(c),_=m==="y",E=_?"top":"left",x=_?"bottom":"right",w=_?"clientHeight":"clientWidth",A=i.reference[T]+i.reference[m]-p[m]-i.floating[T],N=p[m]-i.reference[m],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=O?O[w]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=a.floating[w]||i.floating[T]);const b=A/2-N/2,C=I/2-g[T]/2-1,P=Vi(h[E],C),M=Vi(h[x],C),D=P,k=I-g[T]-M,K=I/2-g[T]/2+b,ie=Nv(D,K,k),te=!l.arrow&&Kl(s)!=null&&K!==ie&&i.reference[T]/2-(K<D?P:M)-g[T]/2<0,J=te?K<D?K-D:K-k:0;return{[m]:p[m]+J,data:{[m]:ie,centerOffset:K-ie-J,...te&&{alignmentOffset:J}},reset:te}}}),_3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:g=!0,..._}=Vs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Fs(s),x=Xr(a),w=Fs(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),N=p||(w||!g?[Vf(a)]:f3(a)),O=T!=="none";!p&&O&&N.push(...y3(a,g,T,A));const I=[a,...N],b=await Du(e,_),C=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(b[E]),h){const K=h3(s,o,A);C.push(b[K[0]],b[K[1]])}if(P=[...P,{placement:s,overflows:C}],!C.every(K=>K<=0)){var M,D;const K=(((M=i.flip)==null?void 0:M.index)||0)+1,ie=I[K];if(ie&&(!(h==="alignment"?x!==Xr(ie):!1)||P.every(F=>F.overflows[0]>0&&Xr(F.placement)===x)))return{data:{index:K,overflows:P},reset:{placement:ie}};let te=(D=P.filter(J=>J.overflows[0]<=0).sort((J,F)=>J.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!te)switch(m){case"bestFit":{var k;const J=(k=P.filter(F=>{if(O){const j=Xr(F.placement);return j===x||j==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(j=>j>0).reduce((j,G)=>j+G,0)]).sort((F,j)=>F[1]-j[1])[0])==null?void 0:k[0];J&&(te=J);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function _1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function E1(t){return l3.some(e=>t[e]>=0)}const E3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Vs(t,e);switch(r){case"referenceHidden":{const i=await Du(e,{...s,elementContext:"reference"}),o=_1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:E1(o)}}}case"escaped":{const i=await Du(e,{...s,altBoundary:!0}),o=_1(i,n.floating);return{data:{escapedOffsets:o,escaped:E1(o)}}}default:return{}}}}},wR=new Set(["left","top"]);async function T3(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Fs(n),a=Kl(n),l=Xr(n)==="y",c=wR.has(o)?-1:1,d=i&&l?-1:1,h=Vs(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:T}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof T=="number"&&(m=a==="end"?T*-1:T),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const S3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await T3(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},b3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:E,y:x}=_;return{x:E,y:x}}},...l}=Vs(t,e),c={x:n,y:r},d=await Du(e,l),h=Xr(Fs(s)),p=Yw(h);let m=c[p],T=c[h];if(i){const _=p==="y"?"top":"left",E=p==="y"?"bottom":"right",x=m+d[_],w=m-d[E];m=Nv(x,m,w)}if(o){const _=h==="y"?"top":"left",E=h==="y"?"bottom":"right",x=T+d[_],w=T-d[E];T=Nv(x,T,w)}const g=a.fn({...e,[p]:m,[h]:T});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:i,[h]:o}}}}}},I3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Vs(t,e),d={x:n,y:r},h=Xr(s),p=Yw(h);let m=d[p],T=d[h];const g=Vs(a,e),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=p==="y"?"height":"width",A=i.reference[p]-i.floating[w]+_.mainAxis,N=i.reference[p]+i.reference[w]-_.mainAxis;m<A?m=A:m>N&&(m=N)}if(c){var E,x;const w=p==="y"?"width":"height",A=wR.has(Fs(s)),N=i.reference[h]-i.floating[w]+(A&&((E=o.offset)==null?void 0:E[h])||0)+(A?0:_.crossAxis),O=i.reference[h]+i.reference[w]+(A?0:((x=o.offset)==null?void 0:x[h])||0)-(A?_.crossAxis:0);T<N?T=N:T>O&&(T=O)}return{[p]:m,[h]:T}}}},C3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Vs(t,e),d=await Du(e,c),h=Fs(s),p=Kl(s),m=Xr(s)==="y",{width:T,height:g}=i.floating;let _,E;h==="top"||h==="bottom"?(_=h,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=h,_=p==="end"?"top":"bottom");const x=g-d.top-d.bottom,w=T-d.left-d.right,A=Vi(g-d[_],x),N=Vi(T-d[E],w),O=!e.middlewareData.shift;let I=A,b=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=x),O&&!p){const P=Bn(d.left,0),M=Bn(d.right,0),D=Bn(d.top,0),k=Bn(d.bottom,0);m?b=T-2*(P!==0||M!==0?P+M:Bn(d.left,d.right)):I=g-2*(D!==0||k!==0?D+k:Bn(d.top,d.bottom))}await l({...e,availableWidth:b,availableHeight:I});const C=await o.getDimensions(a.floating);return T!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function Gp(){return typeof window<"u"}function ql(t){return xR(t)?(t.nodeName||"").toLowerCase():"#document"}function qn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ps(t){var e;return(e=(xR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xR(t){return Gp()?t instanceof Node||t instanceof qn(t).Node:!1}function kr(t){return Gp()?t instanceof Element||t instanceof qn(t).Element:!1}function hs(t){return Gp()?t instanceof HTMLElement||t instanceof qn(t).HTMLElement:!1}function T1(t){return!Gp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qn(t).ShadowRoot}const A3=new Set(["inline","contents"]);function md(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!A3.has(s)}const P3=new Set(["table","td","th"]);function R3(t){return P3.has(ql(t))}const N3=[":popover-open",":modal"];function Qp(t){return N3.some(e=>{try{return t.matches(e)}catch{return!1}})}const k3=["transform","translate","scale","rotate","perspective"],M3=["transform","translate","scale","rotate","perspective","filter"],D3=["paint","layout","strict","content"];function Zw(t){const e=ex(),n=kr(t)?Mr(t):t;return k3.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||M3.some(r=>(n.willChange||"").includes(r))||D3.some(r=>(n.contain||"").includes(r))}function O3(t){let e=Fi(t);for(;hs(e)&&!Il(e);){if(Zw(e))return e;if(Qp(e))return null;e=Fi(e)}return null}function ex(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const L3=new Set(["html","body","#document"]);function Il(t){return L3.has(ql(t))}function Mr(t){return qn(t).getComputedStyle(t)}function Yp(t){return kr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fi(t){if(ql(t)==="html")return t;const e=t.assignedSlot||t.parentNode||T1(t)&&t.host||ps(t);return T1(e)?e.host:e}function _R(t){const e=Fi(t);return Il(e)?t.ownerDocument?t.ownerDocument.body:t.body:hs(e)&&md(e)?e:_R(e)}function Ou(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=_R(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=qn(s);if(i){const a=Mv(o);return e.concat(o,o.visualViewport||[],md(s)?s:[],a&&n?Ou(a):[])}return e.concat(s,Ou(s,[],n))}function Mv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ER(t){const e=Mr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=hs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=jf(n)!==i||jf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function tx(t){return kr(t)?t:t.contextElement}function rl(t){const e=tx(t);if(!hs(e))return ns(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=ER(e);let o=(i?jf(n.width):n.width)/r,a=(i?jf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const j3=ns(0);function TR(t){const e=qn(t);return!ex()||!e.visualViewport?j3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function V3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==qn(t)?!1:e}function Ho(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=tx(t);let o=ns(1);e&&(r?kr(r)&&(o=rl(r)):o=rl(t));const a=V3(i,n,r)?TR(i):ns(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=qn(i),m=r&&kr(r)?qn(r):r;let T=p,g=Mv(T);for(;g&&r&&m!==T;){const _=rl(g),E=g.getBoundingClientRect(),x=Mr(g),w=E.left+(g.clientLeft+parseFloat(x.paddingLeft))*_.x,A=E.top+(g.clientTop+parseFloat(x.paddingTop))*_.y;l*=_.x,c*=_.y,d*=_.x,h*=_.y,l+=w,c+=A,T=qn(g),g=Mv(T)}}return Ff({width:d,height:h,x:l,y:c})}function nx(t,e){const n=Yp(t).scrollLeft;return e?e.left+n:Ho(ps(t)).left+n}function SR(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:nx(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function F3(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ps(r),a=e?Qp(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ns(1);const d=ns(0),h=hs(r);if((h||!h&&!i)&&((ql(r)!=="body"||md(o))&&(l=Yp(r)),hs(r))){const m=Ho(r);c=rl(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=o&&!h&&!i?SR(o,l,!0):ns(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function U3(t){return Array.from(t.getClientRects())}function $3(t){const e=ps(t),n=Yp(t),r=t.ownerDocument.body,s=Bn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Bn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+nx(t);const a=-n.scrollTop;return Mr(r).direction==="rtl"&&(o+=Bn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function B3(t,e){const n=qn(t),r=ps(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=ex();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const z3=new Set(["absolute","fixed"]);function W3(t,e){const n=Ho(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=hs(t)?rl(t):ns(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function S1(t,e,n){let r;if(e==="viewport")r=B3(t,n);else if(e==="document")r=$3(ps(t));else if(kr(e))r=W3(e,n);else{const s=TR(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ff(r)}function bR(t,e){const n=Fi(t);return n===e||!kr(n)||Il(n)?!1:Mr(n).position==="fixed"||bR(n,e)}function H3(t,e){const n=e.get(t);if(n)return n;let r=Ou(t,[],!1).filter(a=>kr(a)&&ql(a)!=="body"),s=null;const i=Mr(t).position==="fixed";let o=i?Fi(t):t;for(;kr(o)&&!Il(o);){const a=Mr(o),l=Zw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&z3.has(s.position)||md(o)&&!l&&bR(t,o))?r=r.filter(d=>d!==o):s=a,o=Fi(o)}return e.set(t,r),r}function K3(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Qp(e)?[]:H3(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=S1(e,d,s);return c.top=Bn(h.top,c.top),c.right=Vi(h.right,c.right),c.bottom=Vi(h.bottom,c.bottom),c.left=Bn(h.left,c.left),c},S1(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function q3(t){const{width:e,height:n}=ER(t);return{width:e,height:n}}function G3(t,e,n){const r=hs(e),s=ps(e),i=n==="fixed",o=Ho(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ns(0);function c(){l.x=nx(s)}if(r||!r&&!i)if((ql(e)!=="body"||md(s))&&(a=Yp(e)),r){const m=Ho(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?SR(s,a):ns(0),h=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function Ug(t){return Mr(t).position==="static"}function b1(t,e){if(!hs(t)||Mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ps(t)===n&&(n=n.ownerDocument.body),n}function IR(t,e){const n=qn(t);if(Qp(t))return n;if(!hs(t)){let s=Fi(t);for(;s&&!Il(s);){if(kr(s)&&!Ug(s))return s;s=Fi(s)}return n}let r=b1(t,e);for(;r&&R3(r)&&Ug(r);)r=b1(r,e);return r&&Il(r)&&Ug(r)&&!Zw(r)?n:r||O3(t)||n}const Q3=async function(t){const e=this.getOffsetParent||IR,n=this.getDimensions,r=await n(t.floating);return{reference:G3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Y3(t){return Mr(t).direction==="rtl"}const X3={convertOffsetParentRelativeRectToViewportRelativeRect:F3,getDocumentElement:ps,getClippingRect:K3,getOffsetParent:IR,getElementRects:Q3,getClientRects:U3,getDimensions:q3,getScale:rl,isElement:kr,isRTL:Y3};function CR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function J3(t,e){let n=null,r;const s=ps(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=c;if(a||e(),!p||!m)return;const T=gh(h),g=gh(s.clientWidth-(d+p)),_=gh(s.clientHeight-(h+m)),E=gh(d),w={rootMargin:-T+"px "+-g+"px "+-_+"px "+-E+"px",threshold:Bn(0,Vi(1,l))||1};let A=!0;function N(O){const I=O[0].intersectionRatio;if(I!==l){if(!A)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!CR(c,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(N,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(t)}return o(!0),i}function Z3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=tx(t),d=s||i?[...c?Ou(c):[],...Ou(e)]:[];d.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const h=c&&a?J3(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(E=>{let[x]=E;x&&x.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let T,g=l?Ho(t):null;l&&_();function _(){const E=Ho(t);g&&!CR(g,E)&&n(),g=E,T=requestAnimationFrame(_)}return n(),()=>{var E;d.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(E=m)==null||E.disconnect(),m=null,l&&cancelAnimationFrame(T)}}const e6=S3,t6=b3,n6=_3,r6=C3,s6=E3,I1=x3,i6=I3,o6=(t,e,n)=>{const r=new Map,s={platform:X3,...n},i={...s.platform,_c:r};return w3(t,e,{...s,platform:i})};var a6=typeof document<"u",l6=function(){},qh=a6?y.useLayoutEffect:l6;function Uf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Uf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Uf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function AR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function C1(t,e){const n=AR(t);return Math.round(e*n)/n}function $g(t){const e=y.useRef(t);return qh(()=>{e.current=t}),e}function c6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=y.useState(r);Uf(p,r)||m(r);const[T,g]=y.useState(null),[_,E]=y.useState(null),x=y.useCallback(F=>{F!==O.current&&(O.current=F,g(F))},[]),w=y.useCallback(F=>{F!==I.current&&(I.current=F,E(F))},[]),A=i||T,N=o||_,O=y.useRef(null),I=y.useRef(null),b=y.useRef(d),C=l!=null,P=$g(l),M=$g(s),D=$g(c),k=y.useCallback(()=>{if(!O.current||!I.current)return;const F={placement:e,strategy:n,middleware:p};M.current&&(F.platform=M.current),o6(O.current,I.current,F).then(j=>{const G={...j,isPositioned:D.current!==!1};K.current&&!Uf(b.current,G)&&(b.current=G,sa.flushSync(()=>{h(G)}))})},[p,e,n,M,D]);qh(()=>{c===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[c]);const K=y.useRef(!1);qh(()=>(K.current=!0,()=>{K.current=!1}),[]),qh(()=>{if(A&&(O.current=A),N&&(I.current=N),A&&N){if(P.current)return P.current(A,N,k);k()}},[A,N,k,P,C]);const ie=y.useMemo(()=>({reference:O,floating:I,setReference:x,setFloating:w}),[x,w]),te=y.useMemo(()=>({reference:A,floating:N}),[A,N]),J=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!te.floating)return F;const j=C1(te.floating,d.x),G=C1(te.floating,d.y);return a?{...F,transform:"translate("+j+"px, "+G+"px)",...AR(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:G}},[n,a,te.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:k,refs:ie,elements:te,floatingStyles:J}),[d,k,ie,te,J])}const u6=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?I1({element:r.current,padding:s}).fn(n):{}:r?I1({element:r,padding:s}).fn(n):{}}}},d6=(t,e)=>({...e6(t),options:[t,e]}),h6=(t,e)=>({...t6(t),options:[t,e]}),f6=(t,e)=>({...i6(t),options:[t,e]}),p6=(t,e)=>({...n6(t),options:[t,e]}),m6=(t,e)=>({...r6(t),options:[t,e]}),g6=(t,e)=>({...s6(t),options:[t,e]}),y6=(t,e)=>({...u6(t),options:[t,e]});var v6="Arrow",PR=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(xe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});PR.displayName=v6;var w6=PR;function x6(t){const[e,n]=y.useState(void 0);return Jt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var rx="Popper",[RR,Gl]=Vr(rx),[_6,NR]=RR(rx),kR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return f.jsx(_6,{scope:e,anchor:r,onAnchorChange:s,children:n})};kR.displayName=rx;var MR="PopperAnchor",DR=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=NR(MR,n),o=y.useRef(null),a=qe(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(xe.div,{...s,ref:a})});DR.displayName=MR;var sx="PopperContent",[E6,T6]=RR(sx),OR=y.forwardRef((t,e)=>{var Y,je,Ve,Re,Ne,Me;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:T,...g}=t,_=NR(sx,n),[E,x]=y.useState(null),w=qe(e,wt=>x(wt)),[A,N]=y.useState(null),O=x6(A),I=(O==null?void 0:O.width)??0,b=(O==null?void 0:O.height)??0,C=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(c)?c:[c],D=M.length>0,k={padding:P,boundary:M.filter(b6),altBoundary:D},{refs:K,floatingStyles:ie,placement:te,isPositioned:J,middlewareData:F}=c6({strategy:"fixed",placement:C,whileElementsMounted:(...wt)=>Z3(...wt,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[d6({mainAxis:s+b,alignmentAxis:o}),l&&h6({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?f6():void 0,...k}),l&&p6({...k}),m6({...k,apply:({elements:wt,rects:jt,availableWidth:L,availableHeight:$})=>{const{width:W,height:de}=jt.reference,pe=wt.floating.style;pe.setProperty("--radix-popper-available-width",`${L}px`),pe.setProperty("--radix-popper-available-height",`${$}px`),pe.setProperty("--radix-popper-anchor-width",`${W}px`),pe.setProperty("--radix-popper-anchor-height",`${de}px`)}}),A&&y6({element:A,padding:a}),I6({arrowWidth:I,arrowHeight:b}),p&&g6({strategy:"referenceHidden",...k})]}),[j,G]=VR(te),ae=Vn(T);Jt(()=>{J&&(ae==null||ae())},[J,ae]);const ee=(Y=F.arrow)==null?void 0:Y.x,le=(je=F.arrow)==null?void 0:je.y,ue=((Ve=F.arrow)==null?void 0:Ve.centerOffset)!==0,[Oe,Le]=y.useState();return Jt(()=>{E&&Le(window.getComputedStyle(E).zIndex)},[E]),f.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:J?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(Re=F.transformOrigin)==null?void 0:Re.x,(Ne=F.transformOrigin)==null?void 0:Ne.y].join(" "),...((Me=F.hide)==null?void 0:Me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(E6,{scope:n,placedSide:j,onArrowChange:N,arrowX:ee,arrowY:le,shouldHideArrow:ue,children:f.jsx(xe.div,{"data-side":j,"data-align":G,...g,ref:w,style:{...g.style,animation:J?void 0:"none"}})})})});OR.displayName=sx;var LR="PopperArrow",S6={top:"bottom",right:"left",bottom:"top",left:"right"},jR=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=T6(LR,r),o=S6[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(w6,{...s,ref:n,style:{...s.style,display:"block"}})})});jR.displayName=LR;function b6(t){return t!==null}var I6=t=>({name:"transformOrigin",options:t,fn(e){var _,E,x;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=VR(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let T="",g="";return c==="bottom"?(T=o?h:`${p}px`,g=`${-l}px`):c==="top"?(T=o?h:`${p}px`,g=`${r.floating.height+l}px`):c==="right"?(T=`${-l}px`,g=o?h:`${m}px`):c==="left"&&(T=`${r.floating.width+l}px`,g=o?h:`${m}px`),{data:{x:T,y:g}}}});function VR(t){const[e,n="center"]=t.split("-");return[e,n]}var FR=kR,ix=DR,ox=OR,ax=jR,[Xp,Wne]=Vr("Tooltip",[Gl]),lx=Gl(),UR="TooltipProvider",C6=700,A1="tooltip.open",[A6,$R]=Xp(UR),BR=t=>{const{__scopeTooltip:e,delayDuration:n=C6,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),f.jsx(A6,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};BR.displayName=UR;var zR="Tooltip",[Hne,Jp]=Xp(zR),Dv="TooltipTrigger",P6=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Jp(Dv,n),i=$R(Dv,n),o=lx(n),a=y.useRef(null),l=qe(e,a,s.onTriggerChange),c=y.useRef(!1),d=y.useRef(!1),h=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(ix,{asChild:!0,...o,children:f.jsx(xe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ne(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ne(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ne(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ne(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ne(t.onBlur,s.onClose),onClick:ne(t.onClick,s.onClose)})})});P6.displayName=Dv;var R6="TooltipPortal",[Kne,N6]=Xp(R6,{forceMount:void 0}),Cl="TooltipContent",WR=y.forwardRef((t,e)=>{const n=N6(Cl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Jp(Cl,t.__scopeTooltip);return f.jsx(Fr,{present:r||o.open,children:o.disableHoverableContent?f.jsx(HR,{side:s,...i,ref:e}):f.jsx(k6,{side:s,...i,ref:e})})}),k6=y.forwardRef((t,e)=>{const n=Jp(Cl,t.__scopeTooltip),r=$R(Cl,t.__scopeTooltip),s=y.useRef(null),i=qe(e,s),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,p=y.useCallback(()=>{a(null),h(!1)},[h]),m=y.useCallback((T,g)=>{const _=T.currentTarget,E={x:T.clientX,y:T.clientY},x=j6(E,_.getBoundingClientRect()),w=V6(E,x),A=F6(g.getBoundingClientRect()),N=$6([...w,...A]);a(N),h(!0)},[h]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(l&&d){const T=_=>m(_,d),g=_=>m(_,l);return l.addEventListener("pointerleave",T),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",g)}}},[l,d,m,p]),y.useEffect(()=>{if(o){const T=g=>{const _=g.target,E={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(_))||(d==null?void 0:d.contains(_)),w=!U6(E,o);x?p():w&&(p(),c())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,d,o,c,p]),f.jsx(HR,{...t,ref:i})}),[M6,D6]=Xp(zR,{isInside:!1}),O6=$4("TooltipContent"),HR=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Jp(Cl,n),c=lx(n),{onClose:d}=l;return y.useEffect(()=>(document.addEventListener(A1,d),()=>document.removeEventListener(A1,d)),[d]),y.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),f.jsx(Wl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:f.jsxs(ox,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(O6,{children:r}),f.jsx(M6,{scope:n,isInside:!0,children:f.jsx(cU,{id:l.contentId,role:"tooltip",children:s||r})})]})})});WR.displayName=Cl;var KR="TooltipArrow",L6=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=lx(n);return D6(KR,n).isInside?null:f.jsx(ax,{...s,...r,ref:e})});L6.displayName=KR;function j6(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function V6(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function F6(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function U6(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function $6(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),B6(e)}function B6(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var z6=BR,qR=WR;const W6=z6,H6=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(qR,{ref:r,sideOffset:e,className:Ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));H6.displayName=qR.displayName;var Zp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},em=typeof window>"u"||"Deno"in globalThis;function Tr(){}function K6(t,e){return typeof t=="function"?t(e):t}function q6(t){return typeof t=="number"&&t>=0&&t!==1/0}function G6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ov(t,e){return typeof t=="function"?t(e):t}function Q6(t,e){return typeof t=="function"?t(e):t}function P1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==cx(o,e.options))return!1}else if(!ju(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function R1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Lu(e.options.mutationKey)!==Lu(i))return!1}else if(!ju(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function cx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Lu)(t)}function Lu(t){return JSON.stringify(t,(e,n)=>Lv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ju(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ju(t[n],e[n])):!1}function GR(t,e){if(t===e)return t;const n=N1(t)&&N1(e);if(n||Lv(t)&&Lv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=GR(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function N1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Lv(t){if(!k1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!k1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function k1(t){return Object.prototype.toString.call(t)==="[object Object]"}function Y6(t){return new Promise(e=>{setTimeout(e,t)})}function X6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?GR(t,e):e}function J6(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Z6(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ux=Symbol();function QR(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ux?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Co,fi,dl,cC,e$=(cC=class extends Zp{constructor(){super();Ke(this,Co);Ke(this,fi);Ke(this,dl);Ce(this,dl,e=>{if(!em&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,fi)||this.setEventListener(z(this,dl))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,fi))==null||e.call(this),Ce(this,fi,void 0))}setEventListener(e){var n;Ce(this,dl,e),(n=z(this,fi))==null||n.call(this),Ce(this,fi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Co)!==e&&(Ce(this,Co,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Co)=="boolean"?z(this,Co):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Co=new WeakMap,fi=new WeakMap,dl=new WeakMap,cC),YR=new e$,hl,pi,fl,uC,t$=(uC=class extends Zp{constructor(){super();Ke(this,hl,!0);Ke(this,pi);Ke(this,fl);Ce(this,fl,e=>{if(!em&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,pi)||this.setEventListener(z(this,fl))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,pi))==null||e.call(this),Ce(this,pi,void 0))}setEventListener(e){var n;Ce(this,fl,e),(n=z(this,pi))==null||n.call(this),Ce(this,pi,e(this.setOnline.bind(this)))}setOnline(e){z(this,hl)!==e&&(Ce(this,hl,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,hl)}},hl=new WeakMap,pi=new WeakMap,fl=new WeakMap,uC),$f=new t$;function n$(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function r$(t){return Math.min(1e3*2**t,3e4)}function XR(t){return(t??"online")==="online"?$f.isOnline():!0}var JR=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Bg(t){return t instanceof JR}function ZR(t){let e=!1,n=0,r=!1,s;const i=n$(),o=g=>{var _;r||(p(new JR(g)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>YR.isFocused()&&(t.networkMode==="always"||$f.isOnline())&&t.canRun(),d=()=>XR(t.networkMode)&&t.canRun(),h=g=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,g),s==null||s(),i.resolve(g))},p=g=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,g),s==null||s(),i.reject(g))},m=()=>new Promise(g=>{var _;s=E=>{(r||c())&&g(E)},(_=t.onPause)==null||_.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),T=()=>{if(r)return;let g;const _=n===0?t.initialPromise:void 0;try{g=_??t.fn()}catch(E){g=Promise.reject(E)}Promise.resolve(g).then(h).catch(E=>{var O;if(r)return;const x=t.retry??(em?0:3),w=t.retryDelay??r$,A=typeof w=="function"?w(n,E):w,N=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,E);if(e||!N){p(E);return}n++,(O=t.onFail)==null||O.call(t,n,E),Y6(A).then(()=>c()?void 0:m()).then(()=>{e?p(E):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?T():m().then(T),i)}}var s$=t=>setTimeout(t,0);function i$(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=s$;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var yn=i$(),Ao,dC,eN=(dC=class{constructor(){Ke(this,Ao)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),q6(this.gcTime)&&Ce(this,Ao,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(em?1/0:5*60*1e3))}clearGcTimeout(){z(this,Ao)&&(clearTimeout(z(this,Ao)),Ce(this,Ao,void 0))}},Ao=new WeakMap,dC),pl,Po,nr,Ro,an,od,No,Sr,_s,hC,o$=(hC=class extends eN{constructor(n){super();Ke(this,Sr);Ke(this,pl);Ke(this,Po);Ke(this,nr);Ke(this,Ro);Ke(this,an);Ke(this,od);Ke(this,No);Ce(this,No,!1),Ce(this,od,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ce(this,Ro,n.client),Ce(this,nr,z(this,Ro).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ce(this,pl,l$(this.options)),this.state=n.state??z(this,pl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,an))==null?void 0:n.promise}setOptions(n){this.options={...z(this,od),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,nr).remove(this)}setData(n,r){const s=X6(this.state.data,n,this.options);return nn(this,Sr,_s).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){nn(this,Sr,_s).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=z(this,an))==null?void 0:s.promise;return(i=z(this,an))==null||i.cancel(n),r?r.then(Tr).catch(Tr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,pl))}isActive(){return this.observers.some(n=>Q6(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ux||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Ov(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!G6(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,an))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,an))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,nr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,an)&&(z(this,No)?z(this,an).cancel({revert:!0}):z(this,an).cancelRetry()),this.scheduleGc()),z(this,nr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nn(this,Sr,_s).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,an))return z(this,an).continueRetry(),z(this,an).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(T=>T.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ce(this,No,!0),s.signal)})},o=()=>{const m=QR(this.options,r),g=(()=>{const _={client:z(this,Ro),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return Ce(this,No,!1),this.options.persister?this.options.persister(m,g,this):m(g)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Ro),state:this.state,fetchFn:o};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),Ce(this,Po,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&nn(this,Sr,_s).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=m=>{var T,g,_,E;Bg(m)&&m.silent||nn(this,Sr,_s).call(this,{type:"error",error:m}),Bg(m)||((g=(T=z(this,nr).config).onError)==null||g.call(T,m,this),(E=(_=z(this,nr).config).onSettled)==null||E.call(_,this.state.data,m,this)),this.scheduleGc()};return Ce(this,an,ZR({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var T,g,_,E;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){c(x);return}(g=(T=z(this,nr).config).onSuccess)==null||g.call(T,m,this),(E=(_=z(this,nr).config).onSettled)==null||E.call(_,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,T)=>{nn(this,Sr,_s).call(this,{type:"failed",failureCount:m,error:T})},onPause:()=>{nn(this,Sr,_s).call(this,{type:"pause"})},onContinue:()=>{nn(this,Sr,_s).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),z(this,an).start()}},pl=new WeakMap,Po=new WeakMap,nr=new WeakMap,Ro=new WeakMap,an=new WeakMap,od=new WeakMap,No=new WeakMap,Sr=new WeakSet,_s=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...a$(s.data,this.options),fetchMeta:n.meta??null};case"success":return Ce(this,Po,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Bg(i)&&i.revert&&z(this,Po)?{...z(this,Po),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),yn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,nr).notify({query:this,type:"updated",action:n})})},hC);function a$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function l$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Kr,fC,c$=(fC=class extends Zp{constructor(e={}){super();Ke(this,Kr);this.config=e,Ce(this,Kr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??cx(s,n);let o=this.get(i);return o||(o=new o$({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,Kr).has(e.queryHash)||(z(this,Kr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Kr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Kr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){yn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Kr).get(e)}getAll(){return[...z(this,Kr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>P1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>P1(e,r)):n}notify(e){yn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){yn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){yn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Kr=new WeakMap,fC),qr,mn,ko,Gr,ni,pC,u$=(pC=class extends eN{constructor(n){super();Ke(this,Gr);Ke(this,qr);Ke(this,mn);Ke(this,ko);this.mutationId=n.mutationId,Ce(this,mn,n.mutationCache),Ce(this,qr,[]),this.state=n.state||d$(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,qr).includes(n)||(z(this,qr).push(n),this.clearGcTimeout(),z(this,mn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ce(this,qr,z(this,qr).filter(r=>r!==n)),this.scheduleGc(),z(this,mn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,qr).length||(this.state.status==="pending"?this.scheduleGc():z(this,mn).remove(this))}continue(){var n;return((n=z(this,ko))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,d,h,p,m,T,g,_,E,x,w,A,N,O,I,b,C;const r=()=>{nn(this,Gr,ni).call(this,{type:"continue"})};Ce(this,ko,ZR({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,M)=>{nn(this,Gr,ni).call(this,{type:"failed",failureCount:P,error:M})},onPause:()=>{nn(this,Gr,ni).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,mn).canRun(this)}));const s=this.state.status==="pending",i=!z(this,ko).canStart();try{if(s)r();else{nn(this,Gr,ni).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=z(this,mn).config).onMutate)==null?void 0:a.call(o,n,this));const M=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));M!==this.state.context&&nn(this,Gr,ni).call(this,{type:"pending",context:M,variables:n,isPaused:i})}const P=await z(this,ko).start();return await((h=(d=z(this,mn).config).onSuccess)==null?void 0:h.call(d,P,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,P,n,this.state.context)),await((g=(T=z(this,mn).config).onSettled)==null?void 0:g.call(T,P,null,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,P,null,n,this.state.context)),nn(this,Gr,ni).call(this,{type:"success",data:P}),P}catch(P){try{throw await((w=(x=z(this,mn).config).onError)==null?void 0:w.call(x,P,n,this.state.context,this)),await((N=(A=this.options).onError)==null?void 0:N.call(A,P,n,this.state.context)),await((I=(O=z(this,mn).config).onSettled)==null?void 0:I.call(O,void 0,P,this.state.variables,this.state.context,this)),await((C=(b=this.options).onSettled)==null?void 0:C.call(b,void 0,P,n,this.state.context)),P}finally{nn(this,Gr,ni).call(this,{type:"error",error:P})}}finally{z(this,mn).runNext(this)}}},qr=new WeakMap,mn=new WeakMap,ko=new WeakMap,Gr=new WeakSet,ni=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),yn.batch(()=>{z(this,qr).forEach(s=>{s.onMutationUpdate(n)}),z(this,mn).notify({mutation:this,type:"updated",action:n})})},pC);function d$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ss,br,ad,mC,h$=(mC=class extends Zp{constructor(e={}){super();Ke(this,Ss);Ke(this,br);Ke(this,ad);this.config=e,Ce(this,Ss,new Set),Ce(this,br,new Map),Ce(this,ad,0)}build(e,n,r){const s=new u$({mutationCache:this,mutationId:++Qd(this,ad)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){z(this,Ss).add(e);const n=yh(e);if(typeof n=="string"){const r=z(this,br).get(n);r?r.push(e):z(this,br).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,Ss).delete(e)){const n=yh(e);if(typeof n=="string"){const r=z(this,br).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&z(this,br).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=yh(e);if(typeof n=="string"){const r=z(this,br).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=yh(e);if(typeof n=="string"){const s=(r=z(this,br).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yn.batch(()=>{z(this,Ss).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,Ss).clear(),z(this,br).clear()})}getAll(){return Array.from(z(this,Ss))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>R1(n,r))}findAll(e={}){return this.getAll().filter(n=>R1(e,n))}notify(e){yn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return yn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Tr))))}},Ss=new WeakMap,br=new WeakMap,ad=new WeakMap,mC);function yh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function M1(t){return{onFetch:(e,n)=>{var d,h,p,m,T;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const _=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},E=QR(e.options,e.fetchOptions),x=async(w,A,N)=>{if(g)return Promise.reject();if(A==null&&w.pages.length)return Promise.resolve(w);const I=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:A,direction:N?"backward":"forward",meta:e.options.meta};return _(M),M})(),b=await E(I),{maxPages:C}=e.options,P=N?Z6:J6;return{pages:P(w.pages,b,C),pageParams:P(w.pageParams,A,C)}};if(s&&i.length){const w=s==="backward",A=w?f$:D1,N={pages:i,pageParams:o},O=A(r,N);a=await x(N,O,w)}else{const w=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:D1(r,a);if(l>0&&A==null)break;a=await x(a,A),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,_;return(_=(g=e.options).persister)==null?void 0:_.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function D1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function f$(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var _t,mi,gi,ml,gl,yi,yl,vl,gC,p$=(gC=class{constructor(t={}){Ke(this,_t);Ke(this,mi);Ke(this,gi);Ke(this,ml);Ke(this,gl);Ke(this,yi);Ke(this,yl);Ke(this,vl);Ce(this,_t,t.queryCache||new c$),Ce(this,mi,t.mutationCache||new h$),Ce(this,gi,t.defaultOptions||{}),Ce(this,ml,new Map),Ce(this,gl,new Map),Ce(this,yi,0)}mount(){Qd(this,yi)._++,z(this,yi)===1&&(Ce(this,yl,YR.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,_t).onFocus())})),Ce(this,vl,$f.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,_t).onOnline())})))}unmount(){var t,e;Qd(this,yi)._--,z(this,yi)===0&&((t=z(this,yl))==null||t.call(this),Ce(this,yl,void 0),(e=z(this,vl))==null||e.call(this),Ce(this,vl,void 0))}isFetching(t){return z(this,_t).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,mi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,_t).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=z(this,_t).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ov(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return z(this,_t).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,_t).get(r.queryHash),i=s==null?void 0:s.state.data,o=K6(e,i);if(o!==void 0)return z(this,_t).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return yn.batch(()=>z(this,_t).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,_t).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,_t);yn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,_t);return yn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=yn.batch(()=>z(this,_t).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Tr).catch(Tr)}invalidateQueries(t,e={}){return yn.batch(()=>(z(this,_t).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=yn.batch(()=>z(this,_t).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Tr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Tr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,_t).build(this,e);return n.isStaleByTime(Ov(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Tr).catch(Tr)}fetchInfiniteQuery(t){return t.behavior=M1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Tr).catch(Tr)}ensureInfiniteQueryData(t){return t.behavior=M1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $f.isOnline()?z(this,mi).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,_t)}getMutationCache(){return z(this,mi)}getDefaultOptions(){return z(this,gi)}setDefaultOptions(t){Ce(this,gi,t)}setQueryDefaults(t,e){z(this,ml).set(Lu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,ml).values()],n={};return e.forEach(r=>{ju(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){z(this,gl).set(Lu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,gl).values()],n={};return e.forEach(r=>{ju(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,gi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ux&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,gi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,_t).clear(),z(this,mi).clear()}},_t=new WeakMap,mi=new WeakMap,gi=new WeakMap,ml=new WeakMap,gl=new WeakMap,yi=new WeakMap,yl=new WeakMap,vl=new WeakMap,gC),m$=y.createContext(void 0),g$=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(m$.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(this,arguments)}var xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xi||(xi={}));const O1="popstate";function y$(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return jv("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Bf(s)}return w$(e,n,null,t)}function At(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v$(){return Math.random().toString(36).substr(2,8)}function L1(t,e){return{usr:t.state,key:t.key,idx:e}}function jv(t,e,n,r){return n===void 0&&(n=null),Vu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ql(e):e,{state:n,key:e&&e.key||r||v$()})}function Bf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ql(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function w$(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=xi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Vu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=xi.Pop;let _=d(),E=_==null?null:_-c;c=_,l&&l({action:a,location:g.location,delta:E})}function p(_,E){a=xi.Push;let x=jv(g.location,_,E);c=d()+1;let w=L1(x,c),A=g.createHref(x);try{o.pushState(w,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(A)}i&&l&&l({action:a,location:g.location,delta:1})}function m(_,E){a=xi.Replace;let x=jv(g.location,_,E);c=d();let w=L1(x,c),A=g.createHref(x);o.replaceState(w,"",A),i&&l&&l({action:a,location:g.location,delta:0})}function T(_){let E=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof _=="string"?_:Bf(_);return x=x.replace(/ $/,"%20"),At(E,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,E)}let g={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(O1,h),l=_,()=>{s.removeEventListener(O1,h),l=null}},createHref(_){return e(s,_)},createURL:T,encodeLocation(_){let E=T(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:m,go(_){return o.go(_)}};return g}var j1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(j1||(j1={}));function x$(t,e,n){return n===void 0&&(n="/"),_$(t,e,n,!1)}function _$(t,e,n,r){let s=typeof e=="string"?Ql(e):e,i=dx(s.pathname||"/",n);if(i==null)return null;let o=nN(t);E$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=M$(i);a=N$(o[l],c,r)}return a}function nN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(At(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ni([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(At(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nN(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:P$(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of rN(i.path))s(i,o,l)}),e}function rN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=rN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function E$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const T$=/^:[\w-]+$/,S$=3,b$=2,I$=1,C$=10,A$=-2,V1=t=>t==="*";function P$(t,e){let n=t.split("/"),r=n.length;return n.some(V1)&&(r+=A$),e&&(r+=b$),n.filter(s=>!V1(s)).reduce((s,i)=>s+(T$.test(i)?S$:i===""?I$:C$),r)}function R$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function N$(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=F1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=F1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ni([i,h.pathname]),pathnameBase:j$(Ni([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ni([i,h.pathnameBase]))}return o}function F1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=k$(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const T=a[h];return m&&!T?c[p]=void 0:c[p]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function k$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function M$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function D$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ql(t):t;return{pathname:n?n.startsWith("/")?n:O$(n,e):e,search:V$(r),hash:F$(s)}}function O$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function L$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hx(t,e){let n=L$(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fx(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ql(t):(s=Vu({},t),At(!s.pathname||!s.pathname.includes("?"),zg("?","pathname","search",s)),At(!s.pathname||!s.pathname.includes("#"),zg("#","pathname","hash",s)),At(!s.search||!s.search.includes("#"),zg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=D$(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ni=t=>t.join("/").replace(/\/\/+/g,"/"),j$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),V$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sN=["post","put","patch","delete"];new Set(sN);const $$=["get",...sN];new Set($$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(this,arguments)}const px=y.createContext(null),B$=y.createContext(null),Ji=y.createContext(null),tm=y.createContext(null),Zi=y.createContext({outlet:null,matches:[],isDataRoute:!1}),iN=y.createContext(null);function z$(t,e){let{relative:n}=e===void 0?{}:e;Yl()||At(!1);let{basename:r,navigator:s}=y.useContext(Ji),{hash:i,pathname:o,search:a}=aN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ni([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Yl(){return y.useContext(tm)!=null}function ia(){return Yl()||At(!1),y.useContext(tm).location}function oN(t){y.useContext(Ji).static||y.useLayoutEffect(t)}function Xl(){let{isDataRoute:t}=y.useContext(Zi);return t?nB():W$()}function W$(){Yl()||At(!1);let t=y.useContext(px),{basename:e,future:n,navigator:r}=y.useContext(Ji),{matches:s}=y.useContext(Zi),{pathname:i}=ia(),o=JSON.stringify(hx(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return oN(()=>{a.current=!0}),y.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=fx(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ni([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function aN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Ji),{matches:s}=y.useContext(Zi),{pathname:i}=ia(),o=JSON.stringify(hx(s,r.v7_relativeSplatPath));return y.useMemo(()=>fx(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function H$(t,e){return K$(t,e)}function K$(t,e,n,r){Yl()||At(!1);let{navigator:s}=y.useContext(Ji),{matches:i}=y.useContext(Zi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ia(),d;if(e){var h;let _=typeof e=="string"?Ql(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||At(!1),d=_}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let T=x$(t,{pathname:m}),g=X$(T&&T.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Ni([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ni([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&g?y.createElement(tm.Provider,{value:{location:Fu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xi.Pop}},g):g}function q$(){let t=tB(),e=U$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const G$=y.createElement(q$,null);class Q$ extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(Zi.Provider,{value:this.props.routeContext},y.createElement(iN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y$(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(px);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Zi.Provider,{value:e},r)}function X$(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||At(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,T=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||T){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,T=!1,g=null,_=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||G$,l&&(c<0&&p===0?(T=!0,_=null):c===p&&(T=!0,_=h.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,p+1)),x=()=>{let w;return m?w=g:T?w=_:h.route.Component?w=y.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,y.createElement(Y$,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(Q$,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):x()},null)}var lN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lN||{}),zf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zf||{});function J$(t){let e=y.useContext(px);return e||At(!1),e}function Z$(t){let e=y.useContext(B$);return e||At(!1),e}function eB(t){let e=y.useContext(Zi);return e||At(!1),e}function cN(t){let e=eB(),n=e.matches[e.matches.length-1];return n.route.id||At(!1),n.route.id}function tB(){var t;let e=y.useContext(iN),n=Z$(zf.UseRouteError),r=cN(zf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nB(){let{router:t}=J$(lN.UseNavigateStable),e=cN(zf.UseNavigateStable),n=y.useRef(!1);return oN(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Fu({fromRouteId:e},i)))},[t,e])}function rB(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function uN(t){let{to:e,replace:n,state:r,relative:s}=t;Yl()||At(!1);let{future:i,static:o}=y.useContext(Ji),{matches:a}=y.useContext(Zi),{pathname:l}=ia(),c=Xl(),d=fx(e,hx(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Wr(t){At(!1)}function sB(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xi.Pop,navigator:i,static:o=!1,future:a}=t;Yl()&&At(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:Fu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ql(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:T="default"}=r,g=y.useMemo(()=>{let _=dx(d,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:m,key:T},navigationType:s}},[l,d,h,p,m,T,s]);return g==null?null:y.createElement(Ji.Provider,{value:c},y.createElement(tm.Provider,{children:n,value:g}))}function dN(t){let{children:e,location:n}=t;return H$(Vv(e),n)}new Promise(()=>{});function Vv(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Vv(r.props.children,i));return}r.type!==Wr&&At(!1),!r.props.index||!r.props.children||At(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function iB(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function oB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aB(t,e){return t.button===0&&(!e||e==="_self")&&!oB(t)}function Uv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function lB(t,e){let n=Uv(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const cB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uB="6";try{window.__reactRouterVersion=uB}catch{}const dB="startTransition",U1=ew[dB];function hB(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=y$({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=y.useCallback(h=>{c&&U1?U1(()=>l(h)):l(h)},[l,c]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>rB(r),[r]),y.createElement(sB,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const fB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ia=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=iB(e,cB),{basename:m}=y.useContext(Ji),T,g=!1;if(typeof c=="string"&&pB.test(c)&&(T=c,fB))try{let w=new URL(window.location.href),A=c.startsWith("//")?new URL(w.protocol+c):new URL(c),N=dx(A.pathname,m);A.origin===w.origin&&N!=null?c=N+A.search+A.hash:g=!0}catch{}let _=z$(c,{relative:s}),E=mB(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function x(w){r&&r(w),w.defaultPrevented||E(w)}return y.createElement("a",Fv({},p,{href:T||_,onClick:g||i?r:x,ref:n,target:l}))});var $1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($1||($1={}));var B1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(B1||(B1={}));function mB(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Xl(),c=ia(),d=aN(t,{relative:o});return y.useCallback(h=>{if(aB(h,n)){h.preventDefault();let p=r!==void 0?r:Bf(c)===Bf(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}function gB(t){let e=y.useRef(Uv(t)),n=y.useRef(!1),r=ia(),s=y.useMemo(()=>lB(r.search,n.current?null:e.current),[r.search]),i=Xl(),o=y.useCallback((a,l)=>{const c=Uv(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}const yB=()=>{};var z1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},vB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},fN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new wB;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const T=c<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xB=function(t){const e=hN(t);return fN.encodeByteArray(e,!0)},Wf=function(t){return xB(t).replace(/\./g,"")},pN=function(t){try{return fN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=()=>_B().__FIREBASE_DEFAULTS__,TB=()=>{if(typeof process>"u"||typeof z1>"u")return;const t=z1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pN(t[1]);return e&&JSON.parse(e)},nm=()=>{try{return yB()||EB()||TB()||SB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mN=t=>{var e,n;return(n=(e=nm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gN=t=>{const e=mN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yN=()=>{var t;return(t=nm())==null?void 0:t.config},vN=t=>{var e;return(e=nm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Wf(JSON.stringify(n)),Wf(JSON.stringify(o)),""].join(".")}const ru={};function CB(){const t={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?t.emulator.push(e):t.prod.push(e);return t}function AB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let W1=!1;function gx(t,e){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||ru[t]===e||ru[t]||W1)return;ru[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=CB().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{W1=!0,o()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=AB(r),m=n("text"),T=document.getElementById(m)||document.createElement("span"),g=n("learnmore"),_=document.getElementById(g)||document.createElement("a"),E=n("preprendIcon"),x=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;a(w),d(_,g);const A=c();l(x,E),w.append(x,T,_,A),document.body.appendChild(w)}i?(T.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function RB(){var e;const t=(e=nm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MB(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DB(){return!RB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xN(){try{return typeof indexedDB=="object"}catch{return!1}}function _N(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function OB(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB="FirebaseError";class gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LB,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?jB(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new gr(s,a,r)}}function jB(t,e){return t.replace(VB,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const VB=/\{\$([^}]+)}/g;function FB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ko(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(H1(i)&&H1(o)){if(!Ko(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function H1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function jc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UB(t,e){const n=new $B(t,e);return n.subscribe.bind(n)}class $B{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BB(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Wg),s.error===void 0&&(s.error=Wg),s.complete===void 0&&(s.complete=Wg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=1e3,WB=2,HB=4*60*60*1e3,KB=.5;function K1(t,e=zB,n=WB){const r=e*Math.pow(n,t),s=Math.round(KB*r*(Math.random()-.5)*2);return Math.min(HB,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QB(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GB(t){return t===yo?void 0:t}function QB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const XB={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},JB=Fe.INFO,ZB={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},e9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ZB[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rm{constructor(e){this.name=e,this._logLevel=JB,this._logHandler=e9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const t9=(t,e)=>e.some(n=>t instanceof n);let q1,G1;function n9(){return q1||(q1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r9(){return G1||(G1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EN=new WeakMap,$v=new WeakMap,TN=new WeakMap,Hg=new WeakMap,yx=new WeakMap;function s9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ki(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EN.set(n,t)}).catch(()=>{}),yx.set(e,t),e}function i9(t){if($v.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});$v.set(t,e)}let Bv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $v.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o9(t){Bv=t(Bv)}function a9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kg(this),e,...n);return TN.set(r,e.sort?e.sort():[e]),ki(r)}:r9().includes(t)?function(...e){return t.apply(Kg(this),e),ki(EN.get(this))}:function(...e){return ki(t.apply(Kg(this),e))}}function l9(t){return typeof t=="function"?a9(t):(t instanceof IDBTransaction&&i9(t),t9(t,n9())?new Proxy(t,Bv):t)}function ki(t){if(t instanceof IDBRequest)return s9(t);if(Hg.has(t))return Hg.get(t);const e=l9(t);return e!==t&&(Hg.set(t,e),yx.set(e,t)),e}const Kg=t=>yx.get(t);function SN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ki(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ki(o.result),l.oldVersion,l.newVersion,ki(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const c9=["get","getKey","getAll","getAllKeys","count"],u9=["put","add","delete","clear"],qg=new Map;function Q1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qg.get(e))return qg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=u9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||c9.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return qg.set(e,i),i}o9(t=>({...t,get:(e,n,r)=>Q1(e,n)||t.get(e,n,r),has:(e,n)=>!!Q1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function h9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zv="@firebase/app",Y1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new rm("@firebase/app"),f9="@firebase/app-compat",p9="@firebase/analytics-compat",m9="@firebase/analytics",g9="@firebase/app-check-compat",y9="@firebase/app-check",v9="@firebase/auth",w9="@firebase/auth-compat",x9="@firebase/database",_9="@firebase/data-connect",E9="@firebase/database-compat",T9="@firebase/functions",S9="@firebase/functions-compat",b9="@firebase/installations",I9="@firebase/installations-compat",C9="@firebase/messaging",A9="@firebase/messaging-compat",P9="@firebase/performance",R9="@firebase/performance-compat",N9="@firebase/remote-config",k9="@firebase/remote-config-compat",M9="@firebase/storage",D9="@firebase/storage-compat",O9="@firebase/firestore",L9="@firebase/ai",j9="@firebase/firestore-compat",V9="firebase",F9="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="[DEFAULT]",U9={[zv]:"fire-core",[f9]:"fire-core-compat",[m9]:"fire-analytics",[p9]:"fire-analytics-compat",[y9]:"fire-app-check",[g9]:"fire-app-check-compat",[v9]:"fire-auth",[w9]:"fire-auth-compat",[x9]:"fire-rtdb",[_9]:"fire-data-connect",[E9]:"fire-rtdb-compat",[T9]:"fire-fn",[S9]:"fire-fn-compat",[b9]:"fire-iid",[I9]:"fire-iid-compat",[C9]:"fire-fcm",[A9]:"fire-fcm-compat",[P9]:"fire-perf",[R9]:"fire-perf-compat",[N9]:"fire-rc",[k9]:"fire-rc-compat",[M9]:"fire-gcs",[D9]:"fire-gcs-compat",[O9]:"fire-fst",[j9]:"fire-fst-compat",[L9]:"fire-vertex","fire-js":"fire-js",[V9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new Map,$9=new Map,Hv=new Map;function X1(t,e){try{t.container.addComponent(e)}catch(n){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dr(t){const e=t.name;if(Hv.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;Hv.set(e,t);for(const n of Uu.values())X1(n,t);for(const n of $9.values())X1(n,t);return!0}function Jl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new oa("app","Firebase",B9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=F9;function bN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Wv,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Mi.create("bad-app-name",{appName:String(s)});if(n||(n=yN()),!n)throw Mi.create("no-options");const i=Uu.get(s);if(i){if(Ko(n,i.options)&&Ko(r,i.config))return i;throw Mi.create("duplicate-app",{appName:s})}const o=new YB(s);for(const l of Hv.values())o.addComponent(l);const a=new z9(n,r,o);return Uu.set(s,a),a}function vx(t=Wv){const e=Uu.get(t);if(!e&&t===Wv&&yN())return bN();if(!e)throw Mi.create("no-app",{appName:t});return e}function J1(){return Array.from(Uu.values())}function Ln(t,e,n){let r=U9[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(o.join(" "));return}Dr(new mr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="firebase-heartbeat-database",H9=1,$u="firebase-heartbeat-store";let Gg=null;function IN(){return Gg||(Gg=SN(W9,H9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($u)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),Gg}async function K9(t){try{const n=(await IN()).transaction($u),r=await n.objectStore($u).get(CN(t));return await n.done,r}catch(e){if(e instanceof gr)Us.warn(e.message);else{const n=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(n.message)}}}async function Z1(t,e){try{const r=(await IN()).transaction($u,"readwrite");await r.objectStore($u).put(e,CN(t)),await r.done}catch(n){if(n instanceof gr)Us.warn(n.message);else{const r=Mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(r.message)}}}function CN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=1024,G9=30;class Q9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=eS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>G9){const o=J9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eS(),{heartbeatsToSend:r,unsentEntries:s}=Y9(this._heartbeatsCache.heartbeats),i=Wf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Us.warn(n),""}}}function eS(){return new Date().toISOString().substring(0,10)}function Y9(t,e=q9){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),tS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),tS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xN()?_N().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Z1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tS(t){return Wf(JSON.stringify({version:2,heartbeats:t})).length}function J9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){Dr(new mr("platform-logger",e=>new d9(e),"PRIVATE")),Dr(new mr("heartbeat",e=>new Q9(e),"PRIVATE")),Ln(zv,Y1,t),Ln(zv,Y1,"esm2020"),Ln("fire-js","")}Z9("");var ez="firebase",tz="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(ez,tz,"app");function AN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nz=AN,PN=new oa("auth","Firebase",AN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new rm("@firebase/auth");function rz(t,...e){Hf.logLevel<=Fe.WARN&&Hf.warn(`Auth (${Zl}): ${t}`,...e)}function Gh(t,...e){Hf.logLevel<=Fe.ERROR&&Hf.error(`Auth (${Zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw wx(t,...e)}function rs(t,...e){return wx(t,...e)}function RN(t,e,n){const r={...nz(),[e]:n};return new oa("auth","Firebase",r).create(e,{appName:t.name})}function Rs(t){return RN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PN.create(t,...e)}function ve(t,e,...n){if(!t)throw wx(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gh(e),new Error(e)}function $s(t,e){t||Cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function sz(){return nS()==="http:"||nS()==="https:"}function nS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sz()||wN()||"connection"in navigator)?navigator.onLine:!0}function oz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=PB()||kB()}get(){return iz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cz=new yd(3e4,6e4);function to(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qs(t,e,n,r,s={}){return kN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=gd({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return NB()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&eo(t.emulatorConfig.host)&&(c.credentials="include"),NN.fetch()(await MN(t,t.config.apiHost,n,a),c)})}async function kN(t,e,n){t._canInitEmulator=!1;const r={...az,...e};try{const s=new dz(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw vh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw RN(t,d,c);Or(t,d)}}catch(s){if(s instanceof gr)throw s;Or(t,"network-request-failed",{message:String(s)})}}async function vd(t,e,n,r,s={}){const i=await qs(t,e,n,r,s);return"mfaPendingCredential"in i&&Or(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function MN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?xx(t.config,s):`${t.config.apiScheme}://${s}`;return lz.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function uz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rs(this.auth,"network-request-failed")),cz.get())})}}function vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=rs(t,e,r);return s.customData._tokenResponse=n,s}function rS(t){return t!==void 0&&t.enterprise!==void 0}class hz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fz(t,e){return qs(t,"GET","/v2/recaptchaConfig",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e){return qs(t,"POST","/v1/accounts:delete",e)}async function Kf(t,e){return qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mz(t,e=!1){const n=yt(t),r=await n.getIdToken(e),s=_x(r);ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:su(Qg(s.auth_time)),issuedAtTime:su(Qg(s.iat)),expirationTime:su(Qg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Qg(t){return Number(t)*1e3}function _x(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{const s=pN(n);return s?JSON.parse(s):(Gh("Failed to decode base64 JWT payload"),null)}catch(s){return Gh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function sS(t){const e=_x(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gr&&gz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Al(t,Kf(e,{idToken:n}));ve(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?DN(s.providerUserInfo):[],o=wz(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new qv(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function vz(t){const e=yt(t);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function DN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(t,e){const n=await kN(t,{},async()=>{const r=gd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await MN(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&eo(t.emulatorConfig.host)&&(l.credentials="include"),NN.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _z(t,e){return qs(t,"POST","/v2/accounts:revokeToken",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=sS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await xz(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new sl;return r&&(ve(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ve(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ve(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ar{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new yz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Al(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mz(this,e)}reload(){return vz(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await Al(this,pz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:m,providerData:T,stsTokenManager:g}=n;ve(h&&g,e,"internal-error");const _=sl.fromJSON(this.name,g);ve(typeof h=="string",e,"internal-error"),ti(r,e.name),ti(s,e.name),ve(typeof p=="boolean",e,"internal-error"),ve(typeof m=="boolean",e,"internal-error"),ti(i,e.name),ti(o,e.name),ti(a,e.name),ti(l,e.name),ti(c,e.name),ti(d,e.name);const E=new Ar({uid:h,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:_,createdAt:c,lastLoginAt:d});return T&&Array.isArray(T)&&(E.providerData=T.map(x=>({...x}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new sl;s.updateFromServerResponse(n);const i=new Ar({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ve(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?DN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new sl;a.updateFromIdToken(r);const l=new Ar({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;function As(t){$s(t instanceof Function,"Expected a class definition");let e=iS.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ON.type="NONE";const oS=ON;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}class il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Qh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Qh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kf(this.auth,{idToken:e}).catch(()=>{});return n?Ar._fromGetAccountInfoResponse(this.auth,n,e):null}return Ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new il(As(oS),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||As(oS);const o=Qh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const p=await Kf(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Ar._fromGetAccountInfoResponse(e,p,d)}else h=Ar._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new il(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new il(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($N(e))return"Blackberry";if(BN(e))return"Webos";if(jN(e))return"Safari";if((e.includes("chrome/")||VN(e))&&!e.includes("edge/"))return"Chrome";if(UN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LN(t=pn()){return/firefox\//i.test(t)}function jN(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VN(t=pn()){return/crios\//i.test(t)}function FN(t=pn()){return/iemobile/i.test(t)}function UN(t=pn()){return/android/i.test(t)}function $N(t=pn()){return/blackberry/i.test(t)}function BN(t=pn()){return/webos/i.test(t)}function Ex(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ez(t=pn()){var e;return Ex(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Tz(){return MB()&&document.documentMode===10}function zN(t=pn()){return Ex(t)||UN(t)||BN(t)||$N(t)||/windows phone/i.test(t)||FN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t,e=[]){let n;switch(t){case"Browser":n=aS(pn());break;case"Worker":n=`${aS(pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(t,e={}){return qs(t,"GET","/v2/passwordPolicy",to(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=6;class Cz{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Iz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lS(this),this.idTokenSubscription=new lS(this),this.beforeStateQueue=new Sz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=As(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await il.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kf(this,{idToken:e}),r=await Ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(Rs(this));const n=e?yt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bz(this),n=new Cz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _z(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&As(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[As(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&rz(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function aa(t){return yt(t)}class lS{constructor(e){this.auth=e,this.observer=null,this.addObserver=UB(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pz(t){sm=t}function HN(t){return sm.loadJS(t)}function Rz(){return sm.recaptchaEnterpriseScript}function Nz(){return sm.gapiScript}function kz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Mz{constructor(){this.enterprise=new Dz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Dz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Oz="recaptcha-enterprise",KN="NO_RECAPTCHA";class Lz{constructor(e){this.type=Oz,this.auth=aa(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{fz(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new hz(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;rS(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(KN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mz().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&rS(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Rz();l.length!==0&&(l+=a),HN(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function cS(t,e,n,r=!1,s=!1){const i=new Lz(t);let o;if(s)o=KN;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gv(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await cS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await cS(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t,e){const n=Jl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ko(i,e??{}))return s;Or(s,"already-initialized")}return n.initialize({options:e})}function Vz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(As);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Fz(t,e,n){const r=aa(t);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=qN(e),{host:o,port:a}=Uz(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(Ko(c,r.config.emulator)&&Ko(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,eo(o)?(mx(`${i}//${o}${l}`),gx("Auth",!0)):$z()}function qN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Uz(t){const e=qN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:uS(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:uS(o)}}}function uS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $z(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}async function Bz(t,e){return qs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(t,e){return vd(t,"POST","/v1/accounts:signInWithPassword",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}async function Hz(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends Tx{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Bu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(e,n,"signInWithPassword",zz);case"emailLink":return Wz(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(e,r,"signUpPassword",Bz);case"emailLink":return Hz(e,{idToken:n,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t,e){return vd(t,"POST","/v1/accounts:signInWithIdp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz="http://localhost";class qo extends Tx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new qo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ol(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ol(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ol(e,n)}buildRequest(){const e={requestUri:Kz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Gz(t){const e=Lc(jc(t)).link,n=e?Lc(jc(e)).deep_link_id:null,r=Lc(jc(t)).deep_link_id;return(r?Lc(jc(r)).link:null)||r||n||e||t}class Sx{constructor(e){const n=Lc(jc(e)),r=n.apiKey??null,s=n.oobCode??null,i=qz(n.mode??null);ve(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Gz(e);try{return new Sx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.providerId=ec.PROVIDER_ID}static credential(e,n){return Bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sx.parseLink(n);return ve(r,"argument-error"),Bu._fromEmailAndCode(e,r.code,r.tenantId)}}ec.PROVIDER_ID="password";ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends GN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends wd{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qo._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends wd{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends wd{constructor(){super("twitter.com")}static credential(e,n){return qo._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qz(t,e){return vd(t,"POST","/v1/accounts:signUp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ar._fromIdTokenResponse(e,r,s),o=dS(r);return new Go({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=dS(r);return new Go({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function dS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends gr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Gf(e,n,r,s)}}function QN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(t,i,e,r):i})}async function Yz(t,e,n=!1){const r=await Al(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Go._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xz(t,e,n=!1){const{auth:r}=t;if(zn(r.app))return Promise.reject(Rs(r));const s="reauthenticate";try{const i=await Al(t,QN(r,s,e,t),n);ve(i.idToken,r,"internal-error");const o=_x(i.idToken);ve(o,r,"internal-error");const{sub:a}=o;return ve(t.uid===a,r,"user-mismatch"),Go._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e,n=!1){if(zn(t.app))return Promise.reject(Rs(t));const r="signIn",s=await QN(t,r,e),i=await Go._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Jz(t,e){return YN(aa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t){const e=aa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JN(t,e,n){if(zn(t.app))return Promise.reject(Rs(t));const r=aa(t),o=await Gv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qz).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&XN(t),l}),a=await Go._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function ZN(t,e,n){return zn(t.app)?Promise.reject(Rs(t)):Jz(yt(t),ec.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zz(t,e){return qs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=yt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Al(r,Zz(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function eW(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function tW(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function ek(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function tk(t){return yt(t).signOut()}const Qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=1e3,rW=10;class rk extends nk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Tz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,rW):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rk.type="LOCAL";const sW=rk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk extends nk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sk.type="SESSION";const ik=sk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new im(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await iW(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=bx("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function aW(t){ss().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function lW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function uW(){return ok()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="firebaseLocalStorageDb",dW=1,Yf="firebaseLocalStorage",lk="fbase_key";class xd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function om(t,e){return t.transaction([Yf],e?"readwrite":"readonly").objectStore(Yf)}function hW(){const t=indexedDB.deleteDatabase(ak);return new xd(t).toPromise()}function Qv(){const t=indexedDB.open(ak,dW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yf,{keyPath:lk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yf)?e(r):(r.close(),await hW(),e(await Qv()))})})}async function fS(t,e,n){const r=om(t,!0).put({[lk]:e,value:n});return new xd(r).toPromise()}async function fW(t,e){const n=om(t,!1).get(e),r=await new xd(n).toPromise();return r===void 0?null:r.value}function pS(t,e){const n=om(t,!0).delete(e);return new xd(n).toPromise()}const pW=800,mW=3;class ck{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ok()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=im._getInstance(uW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await lW(),!this.activeServiceWorker)return;this.sender=new oW(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qv();return await fS(e,Qf,"1"),await pS(e,Qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=om(s,!1).getAll();return new xd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ck.type="LOCAL";const gW=ck;new yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t,e){return e?As(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix extends Tx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vW(t){return YN(t.auth,new Ix(t),t.bypassAuthState)}function wW(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),Xz(n,new Ix(t),t.bypassAuthState)}async function xW(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),Yz(n,new Ix(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vW;case"linkViaPopup":case"linkViaRedirect":return xW;case"reauthViaPopup":case"reauthViaRedirect":return wW;default:Or(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W=new yd(2e3,1e4);class Wa extends uk{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=bx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_W.get())};e()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW="pendingRedirect",Yh=new Map;class TW extends uk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yh.get(this.auth._key());if(!e){try{const r=await SW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SW(t,e){const n=CW(e),r=IW(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function bW(t,e){Yh.set(t._key(),e)}function IW(t){return As(t._redirectPersistence)}function CW(t){return Qh(EW,t.config.apiKey,t.name)}async function AW(t,e,n=!1){if(zn(t.app))return Promise.reject(Rs(t));const r=aa(t),s=yW(r,e),o=await new TW(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=10*60*1e3;class RW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dk(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(rs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PW&&this.cachedEventUids.clear(),this.cachedEventUids.has(mS(e))}saveEventToCache(e){this.cachedEventUids.add(mS(e)),this.lastProcessedEventTime=Date.now()}}function mS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kW(t,e={}){return qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DW=/^https?/;async function OW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kW(t);for(const n of e)try{if(LW(n))return}catch{}Or(t,"unauthorized-domain")}function LW(t){const e=Kv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!DW.test(n))return!1;if(MW.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW=new yd(3e4,6e4);function gS(){const t=ss().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VW(t){return new Promise((e,n)=>{var s,i,o;function r(){gS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gS(),n(rs(t,"network-request-failed"))},timeout:jW.get()})}if((i=(s=ss().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=ss().gapi)!=null&&o.load)r();else{const a=kz("iframefcb");return ss()[a]=()=>{gapi.load?r():n(rs(t,"network-request-failed"))},HN(`${Nz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xh=null,e})}let Xh=null;function FW(t){return Xh=Xh||VW(t),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW=new yd(5e3,15e3),$W="__/auth/iframe",BW="emulator/auth/iframe",zW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HW(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xx(e,BW):`https://${t.config.authDomain}/${$W}`,r={apiKey:e.apiKey,appName:t.name,v:Zl},s=WW.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${gd(r).slice(1)}`}async function KW(t){const e=await FW(t),n=ss().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:HW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zW,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=rs(t,"network-request-failed"),a=ss().setTimeout(()=>{i(o)},UW.get());function l(){ss().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GW=500,QW=600,YW="_blank",XW="http://localhost";class yS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JW(t,e,n,r=GW,s=QW){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...qW,width:r.toString(),height:s.toString(),top:i,left:o},c=pn().toLowerCase();n&&(a=VN(c)?YW:n),LN(c)&&(e=e||XW,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,T])=>`${p}${m}=${T},`,"");if(Ez(c)&&a!=="_self")return ZW(e||"",a),new yS(null);const h=window.open(e||"",a,d);ve(h,t,"popup-blocked");try{h.focus()}catch{}return new yS(h)}function ZW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="__/auth/handler",t8="emulator/auth/handler",n8=encodeURIComponent("fac");async function vS(t,e,n,r,s,i){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zl,eventId:s};if(e instanceof GN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",FB(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof wd){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${n8}=${encodeURIComponent(l)}`:"";return`${r8(t)}?${gd(a).slice(1)}${c}`}function r8({config:t}){return t.emulator?xx(t,t8):`https://${t.authDomain}/${e8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="webStorageSupport";class s8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ik,this._completeRedirectFn=AW,this._overrideRedirectResult=bW}async _openPopup(e,n,r,s){var o;$s((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await vS(e,n,r,Kv(),s);return JW(e,i,bx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await vS(e,n,r,Kv(),s);return aW(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):($s(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KW(e),r=new RW(e);return n.register("authEvent",s=>(ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yg,{type:Yg},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Yg];i!==void 0&&n(!!i),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zN()||jN()||Ex()}}const i8=s8;var wS="@firebase/auth",xS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l8(t){Dr(new mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WN(t)},c=new Az(r,s,i,l);return Vz(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dr(new mr("auth-internal",e=>{const n=aa(e.getProvider("auth").getImmediate());return(r=>new o8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(wS,xS,a8(t)),Ln(wS,xS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=5*60,u8=vN("authIdTokenMaxAge")||c8;let _S=null;const d8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>u8)return;const s=n==null?void 0:n.token;_S!==s&&(_S=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function h8(t=vx()){const e=Jl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jz(t,{popupRedirectResolver:i8,persistence:[gW,sW,ik]}),r=vN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=d8(i.toString());tW(n,o,()=>o(n.currentUser)),eW(n,a=>o(a))}}const s=mN("auth");return s&&Fz(n,`http://${s}`),n}function f8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Pz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=rs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",f8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l8("Browser");var ES=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,hk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function C(){}C.prototype=b.prototype,I.D=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(P,M,D){for(var k=Array(arguments.length-2),K=2;K<arguments.length;K++)k[K-2]=arguments[K];return b.prototype[M].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,b,C){C||(C=0);var P=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)P[M]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(M=0;16>M;++M)P[M]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],M=I.g[2];var D=I.g[3],k=b+(D^C&(M^D))+P[0]+3614090360&4294967295;b=C+(k<<7&4294967295|k>>>25),k=D+(M^b&(C^M))+P[1]+3905402710&4294967295,D=b+(k<<12&4294967295|k>>>20),k=M+(C^D&(b^C))+P[2]+606105819&4294967295,M=D+(k<<17&4294967295|k>>>15),k=C+(b^M&(D^b))+P[3]+3250441966&4294967295,C=M+(k<<22&4294967295|k>>>10),k=b+(D^C&(M^D))+P[4]+4118548399&4294967295,b=C+(k<<7&4294967295|k>>>25),k=D+(M^b&(C^M))+P[5]+1200080426&4294967295,D=b+(k<<12&4294967295|k>>>20),k=M+(C^D&(b^C))+P[6]+2821735955&4294967295,M=D+(k<<17&4294967295|k>>>15),k=C+(b^M&(D^b))+P[7]+4249261313&4294967295,C=M+(k<<22&4294967295|k>>>10),k=b+(D^C&(M^D))+P[8]+1770035416&4294967295,b=C+(k<<7&4294967295|k>>>25),k=D+(M^b&(C^M))+P[9]+2336552879&4294967295,D=b+(k<<12&4294967295|k>>>20),k=M+(C^D&(b^C))+P[10]+4294925233&4294967295,M=D+(k<<17&4294967295|k>>>15),k=C+(b^M&(D^b))+P[11]+2304563134&4294967295,C=M+(k<<22&4294967295|k>>>10),k=b+(D^C&(M^D))+P[12]+1804603682&4294967295,b=C+(k<<7&4294967295|k>>>25),k=D+(M^b&(C^M))+P[13]+4254626195&4294967295,D=b+(k<<12&4294967295|k>>>20),k=M+(C^D&(b^C))+P[14]+2792965006&4294967295,M=D+(k<<17&4294967295|k>>>15),k=C+(b^M&(D^b))+P[15]+1236535329&4294967295,C=M+(k<<22&4294967295|k>>>10),k=b+(M^D&(C^M))+P[1]+4129170786&4294967295,b=C+(k<<5&4294967295|k>>>27),k=D+(C^M&(b^C))+P[6]+3225465664&4294967295,D=b+(k<<9&4294967295|k>>>23),k=M+(b^C&(D^b))+P[11]+643717713&4294967295,M=D+(k<<14&4294967295|k>>>18),k=C+(D^b&(M^D))+P[0]+3921069994&4294967295,C=M+(k<<20&4294967295|k>>>12),k=b+(M^D&(C^M))+P[5]+3593408605&4294967295,b=C+(k<<5&4294967295|k>>>27),k=D+(C^M&(b^C))+P[10]+38016083&4294967295,D=b+(k<<9&4294967295|k>>>23),k=M+(b^C&(D^b))+P[15]+3634488961&4294967295,M=D+(k<<14&4294967295|k>>>18),k=C+(D^b&(M^D))+P[4]+3889429448&4294967295,C=M+(k<<20&4294967295|k>>>12),k=b+(M^D&(C^M))+P[9]+568446438&4294967295,b=C+(k<<5&4294967295|k>>>27),k=D+(C^M&(b^C))+P[14]+3275163606&4294967295,D=b+(k<<9&4294967295|k>>>23),k=M+(b^C&(D^b))+P[3]+4107603335&4294967295,M=D+(k<<14&4294967295|k>>>18),k=C+(D^b&(M^D))+P[8]+1163531501&4294967295,C=M+(k<<20&4294967295|k>>>12),k=b+(M^D&(C^M))+P[13]+2850285829&4294967295,b=C+(k<<5&4294967295|k>>>27),k=D+(C^M&(b^C))+P[2]+4243563512&4294967295,D=b+(k<<9&4294967295|k>>>23),k=M+(b^C&(D^b))+P[7]+1735328473&4294967295,M=D+(k<<14&4294967295|k>>>18),k=C+(D^b&(M^D))+P[12]+2368359562&4294967295,C=M+(k<<20&4294967295|k>>>12),k=b+(C^M^D)+P[5]+4294588738&4294967295,b=C+(k<<4&4294967295|k>>>28),k=D+(b^C^M)+P[8]+2272392833&4294967295,D=b+(k<<11&4294967295|k>>>21),k=M+(D^b^C)+P[11]+1839030562&4294967295,M=D+(k<<16&4294967295|k>>>16),k=C+(M^D^b)+P[14]+4259657740&4294967295,C=M+(k<<23&4294967295|k>>>9),k=b+(C^M^D)+P[1]+2763975236&4294967295,b=C+(k<<4&4294967295|k>>>28),k=D+(b^C^M)+P[4]+1272893353&4294967295,D=b+(k<<11&4294967295|k>>>21),k=M+(D^b^C)+P[7]+4139469664&4294967295,M=D+(k<<16&4294967295|k>>>16),k=C+(M^D^b)+P[10]+3200236656&4294967295,C=M+(k<<23&4294967295|k>>>9),k=b+(C^M^D)+P[13]+681279174&4294967295,b=C+(k<<4&4294967295|k>>>28),k=D+(b^C^M)+P[0]+3936430074&4294967295,D=b+(k<<11&4294967295|k>>>21),k=M+(D^b^C)+P[3]+3572445317&4294967295,M=D+(k<<16&4294967295|k>>>16),k=C+(M^D^b)+P[6]+76029189&4294967295,C=M+(k<<23&4294967295|k>>>9),k=b+(C^M^D)+P[9]+3654602809&4294967295,b=C+(k<<4&4294967295|k>>>28),k=D+(b^C^M)+P[12]+3873151461&4294967295,D=b+(k<<11&4294967295|k>>>21),k=M+(D^b^C)+P[15]+530742520&4294967295,M=D+(k<<16&4294967295|k>>>16),k=C+(M^D^b)+P[2]+3299628645&4294967295,C=M+(k<<23&4294967295|k>>>9),k=b+(M^(C|~D))+P[0]+4096336452&4294967295,b=C+(k<<6&4294967295|k>>>26),k=D+(C^(b|~M))+P[7]+1126891415&4294967295,D=b+(k<<10&4294967295|k>>>22),k=M+(b^(D|~C))+P[14]+2878612391&4294967295,M=D+(k<<15&4294967295|k>>>17),k=C+(D^(M|~b))+P[5]+4237533241&4294967295,C=M+(k<<21&4294967295|k>>>11),k=b+(M^(C|~D))+P[12]+1700485571&4294967295,b=C+(k<<6&4294967295|k>>>26),k=D+(C^(b|~M))+P[3]+2399980690&4294967295,D=b+(k<<10&4294967295|k>>>22),k=M+(b^(D|~C))+P[10]+4293915773&4294967295,M=D+(k<<15&4294967295|k>>>17),k=C+(D^(M|~b))+P[1]+2240044497&4294967295,C=M+(k<<21&4294967295|k>>>11),k=b+(M^(C|~D))+P[8]+1873313359&4294967295,b=C+(k<<6&4294967295|k>>>26),k=D+(C^(b|~M))+P[15]+4264355552&4294967295,D=b+(k<<10&4294967295|k>>>22),k=M+(b^(D|~C))+P[6]+2734768916&4294967295,M=D+(k<<15&4294967295|k>>>17),k=C+(D^(M|~b))+P[13]+1309151649&4294967295,C=M+(k<<21&4294967295|k>>>11),k=b+(M^(C|~D))+P[4]+4149444226&4294967295,b=C+(k<<6&4294967295|k>>>26),k=D+(C^(b|~M))+P[11]+3174756917&4294967295,D=b+(k<<10&4294967295|k>>>22),k=M+(b^(D|~C))+P[2]+718787259&4294967295,M=D+(k<<15&4294967295|k>>>17),k=C+(D^(M|~b))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var C=b-this.blockSize,P=this.B,M=this.h,D=0;D<b;){if(M==0)for(;D<=C;)s(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<b;)if(P[M++]=I.charCodeAt(D++),M==this.blockSize){s(this,P),M=0;break}}else for(;D<b;)if(P[M++]=I[D++],M==this.blockSize){s(this,P),M=0;break}}this.h=M,this.o+=b},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var C=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=C&255,C/=256;for(this.u(I),I=Array(16),b=C=0;4>b;++b)for(var P=0;32>P;P+=8)I[C++]=this.g[b]>>>P&255;return I};function i(I,b){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function o(I,b){this.h=b;for(var C=[],P=!0,M=I.length-1;0<=M;M--){var D=I[M]|0;P&&D==b||(C[M]=D,P=!1)}this.g=C}var a={};function l(I){return-128<=I&&128>I?i(I,function(b){return new o([b|0],0>b?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return _(c(-I));for(var b=[],C=1,P=0;I>=C;P++)b[P]=I/C|0,C*=4294967296;return new o(b,0)}function d(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return _(d(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(b,8)),P=h,M=0;M<I.length;M+=8){var D=Math.min(8,I.length-M),k=parseInt(I.substring(M,M+D),b);8>D?(D=c(Math.pow(b,D)),P=P.j(D).add(c(k))):(P=P.j(C),P=P.add(c(k)))}return P}var h=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-_(this).m();for(var I=0,b=1,C=0;C<this.g.length;C++){var P=this.i(C);I+=(0<=P?P:4294967296+P)*b,b*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(g(this))return"-"+_(this).toString(I);for(var b=c(Math.pow(I,6)),C=this,P="";;){var M=A(C,b).g;C=E(C,M.j(b));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=M,T(C))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function g(I){return I.h==-1}t.l=function(I){return I=E(this,I),g(I)?-1:T(I)?0:1};function _(I){for(var b=I.g.length,C=[],P=0;P<b;P++)C[P]=~I.g[P];return new o(C,~I.h).add(p)}t.abs=function(){return g(this)?_(this):this},t.add=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],P=0,M=0;M<=b;M++){var D=P+(this.i(M)&65535)+(I.i(M)&65535),k=(D>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);P=k>>>16,D&=65535,k&=65535,C[M]=k<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(I,b){return I.add(_(b))}t.j=function(I){if(T(this)||T(I))return h;if(g(this))return g(I)?_(this).j(_(I)):_(_(this).j(I));if(g(I))return _(this.j(_(I)));if(0>this.l(m)&&0>I.l(m))return c(this.m()*I.m());for(var b=this.g.length+I.g.length,C=[],P=0;P<2*b;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<I.g.length;M++){var D=this.i(P)>>>16,k=this.i(P)&65535,K=I.i(M)>>>16,ie=I.i(M)&65535;C[2*P+2*M]+=k*ie,x(C,2*P+2*M),C[2*P+2*M+1]+=D*ie,x(C,2*P+2*M+1),C[2*P+2*M+1]+=k*K,x(C,2*P+2*M+1),C[2*P+2*M+2]+=D*K,x(C,2*P+2*M+2)}for(P=0;P<b;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=b;P<2*b;P++)C[P]=0;return new o(C,0)};function x(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function w(I,b){this.g=I,this.h=b}function A(I,b){if(T(b))throw Error("division by zero");if(T(I))return new w(h,h);if(g(I))return b=A(_(I),b),new w(_(b.g),_(b.h));if(g(b))return b=A(I,_(b)),new w(_(b.g),b.h);if(30<I.g.length){if(g(I)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var C=p,P=b;0>=P.l(I);)C=N(C),P=N(P);var M=O(C,1),D=O(P,1);for(P=O(P,2),C=O(C,2);!T(P);){var k=D.add(P);0>=k.l(I)&&(M=M.add(C),D=k),P=O(P,1),C=O(C,1)}return b=E(I,M.j(b)),new w(M,b)}for(M=h;0<=I.l(b);){for(C=Math.max(1,Math.floor(I.m()/b.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=c(C),k=D.j(b);g(k)||0<k.l(I);)C-=P,D=c(C),k=D.j(b);T(D)&&(D=p),M=M.add(D),I=E(I,k)}return new w(M,I)}t.A=function(I){return A(this,I).h},t.and=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],P=0;P<b;P++)C[P]=this.i(P)&I.i(P);return new o(C,this.h&I.h)},t.or=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],P=0;P<b;P++)C[P]=this.i(P)|I.i(P);return new o(C,this.h|I.h)},t.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],P=0;P<b;P++)C[P]=this.i(P)^I.i(P);return new o(C,this.h^I.h)};function N(I){for(var b=I.g.length+1,C=[],P=0;P<b;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(C,I.h)}function O(I,b){var C=b>>5;b%=32;for(var P=I.g.length-C,M=[],D=0;D<P;D++)M[D]=0<b?I.i(D+C)>>>b|I.i(D+C+1)<<32-b:I.i(D+C);return new o(M,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Di=o}).apply(typeof ES<"u"?ES:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fk,Vc,pk,Jh,Yv,mk,gk,yk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,S){return u==Array.prototype||u==Object.prototype||(u[v]=S.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var v=0;v<u.length;++v){var S=u[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(u,v){if(v)e:{var S=r;u=u.split(".");for(var R=0;R<u.length-1;R++){var V=u[R];if(!(V in S))break e;S=S[V]}u=u[u.length-1],R=S[u],v=v(R),v!=R&&v!=null&&e(S,u,{configurable:!0,writable:!0,value:v})}}function i(u,v){u instanceof String&&(u+="");var S=0,R=!1,V={next:function(){if(!R&&S<u.length){var U=S++;return{value:v(U,u[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(u){return u||function(){return i(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function c(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function d(u,v,S){return u.call.apply(u.bind,arguments)}function h(u,v,S){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,R),u.apply(v,V)}}return function(){return u.apply(v,arguments)}}function p(u,v,S){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(u,v){var S=Array.prototype.slice.call(arguments,1);return function(){var R=S.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function T(u,v){function S(){}S.prototype=v.prototype,u.aa=v.prototype,u.prototype=new S,u.prototype.constructor=u,u.Qb=function(R,V,U){for(var Z=Array(arguments.length-2),et=2;et<arguments.length;et++)Z[et-2]=arguments[et];return v.prototype[V].apply(R,Z)}}function g(u){const v=u.length;if(0<v){const S=Array(v);for(let R=0;R<v;R++)S[R]=u[R];return S}return[]}function _(u,v){for(let S=1;S<arguments.length;S++){const R=arguments[S];if(l(R)){const V=u.length||0,U=R.length||0;u.length=V+U;for(let Z=0;Z<U;Z++)u[V+Z]=R[Z]}else u.push(R)}}class E{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function x(u){return/^[\s\xa0]*$/.test(u)}function w(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var N=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function O(u,v,S){for(const R in u)v.call(S,u[R],R,u)}function I(u,v){for(const S in u)v.call(void 0,u[S],S,u)}function b(u){const v={};for(const S in u)v[S]=u[S];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,v){let S,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(S in R)u[S]=R[S];for(let U=0;U<C.length;U++)S=C[U],Object.prototype.hasOwnProperty.call(R,S)&&(u[S]=R[S])}}function M(u){var v=1;u=u.split(":");const S=[];for(;0<v&&u.length;)S.push(u.shift()),v--;return u.length&&S.push(u.join(":")),S}function D(u){a.setTimeout(()=>{throw u},0)}function k(){var u=j;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class K{constructor(){this.h=this.g=null}add(v,S){const R=ie.get();R.set(v,S),this.h?this.h.next=R:this.g=R,this.h=R}}var ie=new E(()=>new te,u=>u.reset());class te{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let J,F=!1,j=new K,G=()=>{const u=a.Promise.resolve(void 0);J=()=>{u.then(ae)}};var ae=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(S){D(S)}var v=ie;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}F=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const S=()=>{};a.addEventListener("test",S,v),a.removeEventListener("test",S,v)}catch{}return u}();function Oe(u,v){if(le.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var S=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(N){e:{try{A(v.nodeName);var V=!0;break e}catch{}V=!1}V||(v=null)}}else S=="mouseover"?v=u.fromElement:S=="mouseout"&&(v=u.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Le[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Oe.aa.h.call(this)}}T(Oe,le);var Le={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ve(u,v,S,R,V){this.listener=u,this.proxy=null,this.src=v,this.type=S,this.capture=!!R,this.ha=V,this.key=++je,this.da=this.fa=!1}function Re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ne(u){this.src=u,this.g={},this.h=0}Ne.prototype.add=function(u,v,S,R,V){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var Z=wt(u,v,R,V);return-1<Z?(v=u[Z],S||(v.fa=!1)):(v=new Ve(v,this.src,U,!!R,V),v.fa=S,u.push(v)),v};function Me(u,v){var S=v.type;if(S in u.g){var R=u.g[S],V=Array.prototype.indexOf.call(R,v,void 0),U;(U=0<=V)&&Array.prototype.splice.call(R,V,1),U&&(Re(v),u.g[S].length==0&&(delete u.g[S],u.h--))}}function wt(u,v,S,R){for(var V=0;V<u.length;++V){var U=u[V];if(!U.da&&U.listener==v&&U.capture==!!S&&U.ha==R)return V}return-1}var jt="closure_lm_"+(1e6*Math.random()|0),L={};function $(u,v,S,R,V){if(Array.isArray(v)){for(var U=0;U<v.length;U++)$(u,v[U],S,R,V);return null}return S=Ye(S),u&&u[Y]?u.K(v,S,c(R)?!!R.capture:!!R,V):W(u,v,S,!1,R,V)}function W(u,v,S,R,V,U){if(!v)throw Error("Invalid event type");var Z=c(V)?!!V.capture:!!V,et=q(u);if(et||(u[jt]=et=new Ne(u)),S=et.add(v,S,R,Z,U),S.proxy)return S;if(R=de(),S.proxy=R,R.src=u,R.listener=S,u.addEventListener)ue||(V=Z),V===void 0&&(V=!1),u.addEventListener(v.toString(),R,V);else if(u.attachEvent)u.attachEvent(he(v.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return S}function de(){function u(S){return v.call(u.src,u.listener,S)}const v=ge;return u}function pe(u,v,S,R,V){if(Array.isArray(v))for(var U=0;U<v.length;U++)pe(u,v[U],S,R,V);else R=c(R)?!!R.capture:!!R,S=Ye(S),u&&u[Y]?(u=u.i,v=String(v).toString(),v in u.g&&(U=u.g[v],S=wt(U,S,R,V),-1<S&&(Re(U[S]),Array.prototype.splice.call(U,S,1),U.length==0&&(delete u.g[v],u.h--)))):u&&(u=q(u))&&(v=u.g[v.toString()],u=-1,v&&(u=wt(v,S,R,V)),(S=-1<u?v[u]:null)&&ce(S))}function ce(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Y])Me(v.i,u);else{var S=u.type,R=u.proxy;v.removeEventListener?v.removeEventListener(S,R,u.capture):v.detachEvent?v.detachEvent(he(S),R):v.addListener&&v.removeListener&&v.removeListener(R),(S=q(v))?(Me(S,u),S.h==0&&(S.src=null,v[jt]=null)):Re(u)}}}function he(u){return u in L?L[u]:L[u]="on"+u}function ge(u,v){if(u.da)u=!0;else{v=new Oe(v,this);var S=u.listener,R=u.ha||u.src;u.fa&&ce(u),u=S.call(R,v)}return u}function q(u){return u=u[jt],u instanceof Ne?u:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(u){return typeof u=="function"?u:(u[Ee]||(u[Ee]=function(v){return u.handleEvent(v)}),u[Ee])}function me(){ee.call(this),this.i=new Ne(this),this.M=this,this.F=null}T(me,ee),me.prototype[Y]=!0,me.prototype.removeEventListener=function(u,v,S,R){pe(this,u,v,S,R)};function ye(u,v){var S,R=u.F;if(R)for(S=[];R;R=R.F)S.push(R);if(u=u.M,R=v.type||v,typeof v=="string")v=new le(v,u);else if(v instanceof le)v.target=v.target||u;else{var V=v;v=new le(R,u),P(v,V)}if(V=!0,S)for(var U=S.length-1;0<=U;U--){var Z=v.g=S[U];V=Xn(Z,R,!0,v)&&V}if(Z=v.g=u,V=Xn(Z,R,!0,v)&&V,V=Xn(Z,R,!1,v)&&V,S)for(U=0;U<S.length;U++)Z=v.g=S[U],V=Xn(Z,R,!1,v)&&V}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var S=u.g[v],R=0;R<S.length;R++)Re(S[R]);delete u.g[v],u.h--}}this.F=null},me.prototype.K=function(u,v,S,R){return this.i.add(String(u),v,!1,S,R)},me.prototype.L=function(u,v,S,R){return this.i.add(String(u),v,!0,S,R)};function Xn(u,v,S,R){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var V=!0,U=0;U<v.length;++U){var Z=v[U];if(Z&&!Z.da&&Z.capture==S){var et=Z.listener,Wt=Z.ha||Z.src;Z.fa&&Me(u.i,Z),V=et.call(Wt,R)!==!1&&V}}return V&&!R.defaultPrevented}function ms(u,v,S){if(typeof u=="function")S&&(u=p(u,S));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(u,v||0)}function $t(u){u.g=ms(()=>{u.g=null,u.i&&(u.i=!1,$t(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class pa extends ee{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fn(u){ee.call(this),this.h=u,this.g={}}T(Fn,ee);var ma=[];function gs(u){O(u.g,function(v,S){this.g.hasOwnProperty(S)&&ce(v)},u),u.g={}}Fn.prototype.N=function(){Fn.aa.N.call(this),gs(this)},Fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ga=a.JSON.stringify,Gs=a.JSON.parse,qm=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function uc(){}uc.prototype.h=null;function dc(u){return u.h||(u.h=u.i())}function hc(){}var lo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function co(){le.call(this,"d")}T(co,le);function Jn(){le.call(this,"c")}T(Jn,le);var ys={},Te=null;function ze(){return Te=Te||new me}ys.La="serverreachability";function Ze(u){le.call(this,ys.La,u)}T(Ze,le);function Bt(u){const v=ze();ye(v,new Ze(v))}ys.STAT_EVENT="statevent";function Tn(u,v){le.call(this,ys.STAT_EVENT,u),this.stat=v}T(Tn,le);function ct(u){const v=ze();ye(v,new Tn(v,u))}ys.Ma="timingevent";function $r(u,v){le.call(this,ys.Ma,u),this.size=v}T($r,le);function zt(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},v)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function jj(u,v,S,R,V,U){u.info(function(){if(u.g)if(U)for(var Z="",et=U.split("&"),Wt=0;Wt<et.length;Wt++){var He=et[Wt].split("=");if(1<He.length){var en=He[0];He=He[1];var tn=en.split("_");Z=2<=tn.length&&tn[1]=="type"?Z+(en+"="+He+"&"):Z+(en+"=redacted&")}}else Z=null;else Z=U;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+v+`
`+S+`
`+Z})}function Vj(u,v,S,R,V,U,Z){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+v+`
`+S+`
`+U+" "+Z})}function ya(u,v,S,R){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Uj(u,S)+(R?" "+R:"")})}function Fj(u,v){u.info(function(){return"TIMEOUT: "+v})}Sn.prototype.info=function(){};function Uj(u,v){if(!u.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(u=0;u<S.length;u++)if(Array.isArray(S[u])){var R=S[u];if(!(2>R.length)){var V=R[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Z=1;Z<V.length;Z++)V[Z]=""}}}}return ga(S)}catch{return v}}var Od={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gm;function Ld(){}T(Ld,uc),Ld.prototype.g=function(){return new XMLHttpRequest},Ld.prototype.i=function(){return{}},Gm=new Ld;function Qs(u,v,S,R){this.j=u,this.i=v,this.l=S,this.R=R||1,this.U=new Fn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dE}function dE(){this.i=null,this.g="",this.h=!1}var hE={},Qm={};function Ym(u,v,S){u.L=1,u.v=Ud(vs(v)),u.m=S,u.P=!0,fE(u,null)}function fE(u,v){u.F=Date.now(),jd(u),u.A=vs(u.v);var S=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),CE(S.i,"t",R),u.C=0,S=u.j.J,u.h=new dE,u.g=HE(u.j,S?v:null,!u.m),0<u.O&&(u.M=new pa(p(u.Y,u,u.g),u.O)),v=u.U,S=u.g,R=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(ma[0]=V.toString()),V=ma);for(var U=0;U<V.length;U++){var Z=$(S,V[U],R||v.handleEvent,!1,v.h||v);if(!Z)break;v.g[Z.key]=Z}v=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),Bt(),jj(u.i,u.u,u.A,u.l,u.R,u.m)}Qs.prototype.ca=function(u){u=u.target;const v=this.M;v&&ws(u)==3?v.j():this.Y(u)},Qs.prototype.Y=function(u){try{if(u==this.g)e:{const tn=ws(this.g);var v=this.g.Ba();const xa=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||DE(this.g)))){this.J||tn!=4||v==7||(v==8||0>=xa?Bt(3):Bt(2)),Xm(this);var S=this.g.Z();this.X=S;t:if(pE(this)){var R=DE(this.g);u="";var V=R.length,U=ws(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){uo(this),fc(this);var Z="";break t}this.h.i=new a.TextDecoder}for(v=0;v<V;v++)this.h.h=!0,u+=this.h.i.decode(R[v],{stream:!(U&&v==V-1)});R.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=S==200,Vj(this.i,this.u,this.A,this.l,this.R,tn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Wt=this.g;if((et=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(et)){var He=et;break t}}He=null}if(S=He)ya(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jm(this,S);else{this.o=!1,this.s=3,ct(12),uo(this),fc(this);break e}}if(this.P){S=!0;let yr;for(;!this.J&&this.C<Z.length;)if(yr=$j(this,Z),yr==Qm){tn==4&&(this.s=4,ct(14),S=!1),ya(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==hE){this.s=4,ct(15),ya(this.i,this.l,Z,"[Invalid Chunk]"),S=!1;break}else ya(this.i,this.l,yr,null),Jm(this,yr);if(pE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||Z.length!=0||this.h.h||(this.s=1,ct(16),S=!1),this.o=this.o&&S,!S)ya(this.i,this.l,Z,"[Invalid Chunked Response]"),uo(this),fc(this);else if(0<Z.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),sg(en),en.M=!0,ct(11))}}else ya(this.i,this.l,Z,null),Jm(this,Z);tn==4&&uo(this),this.o&&!this.J&&(tn==4?$E(this.j,this):(this.o=!1,jd(this)))}else sV(this.g),S==400&&0<Z.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),uo(this),fc(this)}}}catch{}finally{}};function pE(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function $j(u,v){var S=u.C,R=v.indexOf(`
`,S);return R==-1?Qm:(S=Number(v.substring(S,R)),isNaN(S)?hE:(R+=1,R+S>v.length?Qm:(v=v.slice(R,R+S),u.C=R+S,v)))}Qs.prototype.cancel=function(){this.J=!0,uo(this)};function jd(u){u.S=Date.now()+u.I,mE(u,u.I)}function mE(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=zt(p(u.ba,u),v)}function Xm(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Qs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fj(this.i,this.A),this.L!=2&&(Bt(),ct(17)),uo(this),this.s=2,fc(this)):mE(this,this.S-u)};function fc(u){u.j.G==0||u.J||$E(u.j,u)}function uo(u){Xm(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,gs(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Jm(u,v){try{var S=u.j;if(S.G!=0&&(S.g==u||Zm(S.h,u))){if(!u.K&&Zm(S.h,u)&&S.G==3){try{var R=S.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<u.F)Kd(S),Wd(S);else break e;rg(S),ct(18)}}else S.za=V[1],0<S.za-S.T&&37500>V[2]&&S.F&&S.v==0&&!S.C&&(S.C=zt(p(S.Za,S),6e3));if(1>=vE(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else fo(S,11)}else if((u.K||S.g==u)&&Kd(S),!x(v))for(V=S.Da.g.parse(v),v=0;v<V.length;v++){let He=V[v];if(S.T=He[0],He=He[1],S.G==2)if(He[0]=="c"){S.K=He[1],S.ia=He[2];const en=He[3];en!=null&&(S.la=en,S.j.info("VER="+S.la));const tn=He[4];tn!=null&&(S.Aa=tn,S.j.info("SVER="+S.Aa));const xa=He[5];xa!=null&&typeof xa=="number"&&0<xa&&(R=1.5*xa,S.L=R,S.j.info("backChannelRequestTimeoutMs_="+R)),R=S;const yr=u.g;if(yr){const Gd=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gd){var U=R.h;U.g||Gd.indexOf("spdy")==-1&&Gd.indexOf("quic")==-1&&Gd.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(eg(U,U.h),U.h=null))}if(R.D){const ig=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;ig&&(R.ya=ig,it(R.I,R.D,ig))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-u.F,S.j.info("Handshake RTT: "+S.R+"ms")),R=S;var Z=u;if(R.qa=WE(R,R.J?R.ia:null,R.W),Z.K){wE(R.h,Z);var et=Z,Wt=R.L;Wt&&(et.I=Wt),et.B&&(Xm(et),jd(et)),R.g=Z}else FE(R);0<S.i.length&&Hd(S)}else He[0]!="stop"&&He[0]!="close"||fo(S,7);else S.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?fo(S,7):ng(S):He[0]!="noop"&&S.l&&S.l.ta(He),S.v=0)}}Bt(4)}catch{}}var Bj=class{constructor(u,v){this.g=u,this.map=v}};function gE(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yE(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vE(u){return u.h?1:u.g?u.g.size:0}function Zm(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function eg(u,v){u.g?u.g.add(v):u.h=v}function wE(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}gE.prototype.cancel=function(){if(this.i=xE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xE(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const S of u.g.values())v=v.concat(S.D);return v}return g(u.i)}function zj(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var v=[],S=u.length,R=0;R<S;R++)v.push(u[R]);return v}v=[],S=0;for(R in u)v[S++]=u[R];return v}function Wj(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var v=[];u=u.length;for(var S=0;S<u;S++)v.push(S);return v}v=[],S=0;for(const R in u)v[S++]=R;return v}}}function _E(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var S=Wj(u),R=zj(u),V=R.length,U=0;U<V;U++)v.call(void 0,R[U],S&&S[U],u)}var EE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hj(u,v){if(u){u=u.split("&");for(var S=0;S<u.length;S++){var R=u[S].indexOf("="),V=null;if(0<=R){var U=u[S].substring(0,R);V=u[S].substring(R+1)}else U=u[S];v(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ho(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ho){this.h=u.h,Vd(this,u.j),this.o=u.o,this.g=u.g,Fd(this,u.s),this.l=u.l;var v=u.i,S=new gc;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),TE(this,S),this.m=u.m}else u&&(v=String(u).match(EE))?(this.h=!1,Vd(this,v[1]||"",!0),this.o=pc(v[2]||""),this.g=pc(v[3]||"",!0),Fd(this,v[4]),this.l=pc(v[5]||"",!0),TE(this,v[6]||"",!0),this.m=pc(v[7]||"")):(this.h=!1,this.i=new gc(null,this.h))}ho.prototype.toString=function(){var u=[],v=this.j;v&&u.push(mc(v,SE,!0),":");var S=this.g;return(S||v=="file")&&(u.push("//"),(v=this.o)&&u.push(mc(v,SE,!0),"@"),u.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&u.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&u.push("/"),u.push(mc(S,S.charAt(0)=="/"?Gj:qj,!0))),(S=this.i.toString())&&u.push("?",S),(S=this.m)&&u.push("#",mc(S,Yj)),u.join("")};function vs(u){return new ho(u)}function Vd(u,v,S){u.j=S?pc(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Fd(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function TE(u,v,S){v instanceof gc?(u.i=v,Xj(u.i,u.h)):(S||(v=mc(v,Qj)),u.i=new gc(v,u.h))}function it(u,v,S){u.i.set(v,S)}function Ud(u){return it(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pc(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mc(u,v,S){return typeof u=="string"?(u=encodeURI(u).replace(v,Kj),S&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Kj(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var SE=/[#\/\?@]/g,qj=/[#\?:]/g,Gj=/[#\?]/g,Qj=/[#\?@]/g,Yj=/#/g;function gc(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Ys(u){u.g||(u.g=new Map,u.h=0,u.i&&Hj(u.i,function(v,S){u.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}t=gc.prototype,t.add=function(u,v){Ys(this),this.i=null,u=va(this,u);var S=this.g.get(u);return S||this.g.set(u,S=[]),S.push(v),this.h+=1,this};function bE(u,v){Ys(u),v=va(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function IE(u,v){return Ys(u),v=va(u,v),u.g.has(v)}t.forEach=function(u,v){Ys(this),this.g.forEach(function(S,R){S.forEach(function(V){u.call(v,V,R,this)},this)},this)},t.na=function(){Ys(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let R=0;R<v.length;R++){const V=u[R];for(let U=0;U<V.length;U++)S.push(v[R])}return S},t.V=function(u){Ys(this);let v=[];if(typeof u=="string")IE(this,u)&&(v=v.concat(this.g.get(va(this,u))));else{u=Array.from(this.g.values());for(let S=0;S<u.length;S++)v=v.concat(u[S])}return v},t.set=function(u,v){return Ys(this),this.i=null,u=va(this,u),IE(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},t.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function CE(u,v,S){bE(u,v),0<S.length&&(u.i=null,u.g.set(va(u,v),g(S)),u.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var R=v[S];const U=encodeURIComponent(String(R)),Z=this.V(R);for(R=0;R<Z.length;R++){var V=U;Z[R]!==""&&(V+="="+encodeURIComponent(String(Z[R]))),u.push(V)}}return this.i=u.join("&")};function va(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Xj(u,v){v&&!u.j&&(Ys(u),u.i=null,u.g.forEach(function(S,R){var V=R.toLowerCase();R!=V&&(bE(this,R),CE(this,V,S))},u)),u.j=v}function Jj(u,v){const S=new Sn;if(a.Image){const R=new Image;R.onload=m(Xs,S,"TestLoadImage: loaded",!0,v,R),R.onerror=m(Xs,S,"TestLoadImage: error",!1,v,R),R.onabort=m(Xs,S,"TestLoadImage: abort",!1,v,R),R.ontimeout=m(Xs,S,"TestLoadImage: timeout",!1,v,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else v(!1)}function Zj(u,v){const S=new Sn,R=new AbortController,V=setTimeout(()=>{R.abort(),Xs(S,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:R.signal}).then(U=>{clearTimeout(V),U.ok?Xs(S,"TestPingServer: ok",!0,v):Xs(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(V),Xs(S,"TestPingServer: error",!1,v)})}function Xs(u,v,S,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(S)}catch{}}function eV(){this.g=new qm}function tV(u,v,S){const R=S||"";try{_E(u,function(V,U){let Z=V;c(V)&&(Z=ga(V)),v.push(R+U+"="+encodeURIComponent(Z))})}catch(V){throw v.push(R+"type="+encodeURIComponent("_badmap")),V}}function $d(u){this.l=u.Ub||null,this.j=u.eb||!1}T($d,uc),$d.prototype.g=function(){return new Bd(this.l,this.j)},$d.prototype.i=function(u){return function(){return u}}({});function Bd(u,v){me.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Bd,me),t=Bd.prototype,t.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,vc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vc(this)),this.g&&(this.readyState=3,vc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;AE(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function AE(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?yc(this):vc(this),this.readyState==3&&AE(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,yc(this))},t.Qa=function(u){this.g&&(this.response=u,yc(this))},t.ga=function(){this.g&&yc(this)};function yc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,vc(u)}t.setRequestHeader=function(u,v){this.u.append(u,v)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,u.push(S[0]+": "+S[1]),S=v.next();return u.join(`\r
`)};function vc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Bd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function PE(u){let v="";return O(u,function(S,R){v+=R,v+=":",v+=S,v+=`\r
`}),v}function tg(u,v,S){e:{for(R in S){var R=!1;break e}R=!0}R||(S=PE(S),typeof u=="string"?S!=null&&encodeURIComponent(String(S)):it(u,v,S))}function xt(u){me.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(xt,me);var nV=/^https?$/i,rV=["POST","PUT"];t=xt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,v,S,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gm.g(),this.v=this.o?dc(this.o):dc(Gm),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(U){RE(this,U);return}if(u=S||"",S=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)S.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())S.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(S.keys()).find(U=>U.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rV,v,void 0))||R||V||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Z]of S)this.g.setRequestHeader(U,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ME(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){RE(this,U)}};function RE(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,NE(u),zd(u)}function NE(u){u.A||(u.A=!0,ye(u,"complete"),ye(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ye(this,"complete"),ye(this,"abort"),zd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zd(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?kE(this):this.bb())},t.bb=function(){kE(this)};function kE(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ws(u)!=4||u.Z()!=2)){if(u.u&&ws(u)==4)ms(u.Ea,0,u);else if(ye(u,"readystatechange"),ws(u)==4){u.h=!1;try{const Z=u.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var R;if(R=Z===0){var V=String(u.D).match(EE)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),R=!nV.test(V?V.toLowerCase():"")}S=R}if(S)ye(u,"complete"),ye(u,"success");else{u.m=6;try{var U=2<ws(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",NE(u)}}finally{zd(u)}}}}function zd(u,v){if(u.g){ME(u);const S=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||ye(u,"ready");try{S.onreadystatechange=R}catch{}}}function ME(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ws(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ws(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Gs(v)}};function DE(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function sV(u){const v={};u=(u.g&&2<=ws(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(x(u[R]))continue;var S=M(u[R]);const V=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const U=v[V]||[];v[V]=U,U.push(S)}I(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wc(u,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[u]||v}function OE(u){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wc("baseRetryDelayMs",5e3,u),this.cb=wc("retryDelaySeedMs",1e4,u),this.Wa=wc("forwardChannelMaxRetries",2,u),this.wa=wc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gE(u&&u.concurrentRequestLimit),this.Da=new eV,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=OE.prototype,t.la=8,t.G=1,t.connect=function(u,v,S,R){ct(0),this.W=u,this.H=v||{},S&&R!==void 0&&(this.H.OSID=S,this.H.OAID=R),this.F=this.X,this.I=WE(this,null,this.W),Hd(this)};function ng(u){if(LE(u),u.G==3){var v=u.U++,S=vs(u.I);if(it(S,"SID",u.K),it(S,"RID",v),it(S,"TYPE","terminate"),xc(u,S),v=new Qs(u,u.j,v),v.L=2,v.v=Ud(vs(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&a.Image&&(new Image().src=v.v,S=!0),S||(v.g=HE(v.j,null),v.g.ea(v.v)),v.F=Date.now(),jd(v)}zE(u)}function Wd(u){u.g&&(sg(u),u.g.cancel(),u.g=null)}function LE(u){Wd(u),u.u&&(a.clearTimeout(u.u),u.u=null),Kd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Hd(u){if(!yE(u.h)&&!u.s){u.s=!0;var v=u.Ga;J||G(),F||(J(),F=!0),j.add(v,u),u.B=0}}function iV(u,v){return vE(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=zt(p(u.Ga,u,v),BE(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Qs(this,this.j,u);let U=this.o;if(this.S&&(U?(U=b(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var R=this.i[S];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=VE(this,V,v),S=vs(this.I),it(S,"RID",u),it(S,"CVER",22),this.D&&it(S,"X-HTTP-Session-Id",this.D),xc(this,S),U&&(this.O?v="headers="+encodeURIComponent(String(PE(U)))+"&"+v:this.m&&tg(S,this.m,U)),eg(this.h,V),this.Ua&&it(S,"TYPE","init"),this.P?(it(S,"$req",v),it(S,"SID","null"),V.T=!0,Ym(V,S,null)):Ym(V,S,v),this.G=2}}else this.G==3&&(u?jE(this,u):this.i.length==0||yE(this.h)||jE(this))};function jE(u,v){var S;v?S=v.l:S=u.U++;const R=vs(u.I);it(R,"SID",u.K),it(R,"RID",S),it(R,"AID",u.T),xc(u,R),u.m&&u.o&&tg(R,u.m,u.o),S=new Qs(u,u.j,S,u.B+1),u.m===null&&(S.H=u.o),v&&(u.i=v.D.concat(u.i)),v=VE(u,S,1e3),S.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),eg(u.h,S),Ym(S,R,v)}function xc(u,v){u.H&&O(u.H,function(S,R){it(v,R,S)}),u.l&&_E({},function(S,R){it(v,R,S)})}function VE(u,v,S){S=Math.min(u.i.length,S);var R=u.l?p(u.l.Na,u.l,u):null;e:{var V=u.i;let U=-1;for(;;){const Z=["count="+S];U==-1?0<S?(U=V[0].g,Z.push("ofs="+U)):U=0:Z.push("ofs="+U);let et=!0;for(let Wt=0;Wt<S;Wt++){let He=V[Wt].g;const en=V[Wt].map;if(He-=U,0>He)U=Math.max(0,V[Wt].g-100),et=!1;else try{tV(en,Z,"req"+He+"_")}catch{R&&R(en)}}if(et){R=Z.join("&");break e}}}return u=u.i.splice(0,S),v.D=u,R}function FE(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;J||G(),F||(J(),F=!0),j.add(v,u),u.v=0}}function rg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=zt(p(u.Fa,u),BE(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,UE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=zt(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Wd(this),UE(this))};function sg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function UE(u){u.g=new Qs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=vs(u.qa);it(v,"RID","rpc"),it(v,"SID",u.K),it(v,"AID",u.T),it(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&it(v,"TO",u.ja),it(v,"TYPE","xmlhttp"),xc(u,v),u.m&&u.o&&tg(v,u.m,u.o),u.L&&(u.g.I=u.L);var S=u.g;u=u.ia,S.L=1,S.v=Ud(vs(v)),S.m=null,S.P=!0,fE(S,u)}t.Za=function(){this.C!=null&&(this.C=null,Wd(this),rg(this),ct(19))};function Kd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function $E(u,v){var S=null;if(u.g==v){Kd(u),sg(u),u.g=null;var R=2}else if(Zm(u.h,v))S=v.D,wE(u.h,v),R=1;else return;if(u.G!=0){if(v.o)if(R==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var V=u.B;R=ze(),ye(R,new $r(R,S)),Hd(u)}else FE(u);else if(V=v.s,V==3||V==0&&0<v.X||!(R==1&&iV(u,v)||R==2&&rg(u)))switch(S&&0<S.length&&(v=u.h,v.i=v.i.concat(S)),V){case 1:fo(u,5);break;case 4:fo(u,10);break;case 3:fo(u,6);break;default:fo(u,2)}}}function BE(u,v){let S=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(S*=2),S*v}function fo(u,v){if(u.j.info("Error code "+v),v==2){var S=p(u.fb,u),R=u.Xa;const V=!R;R=new ho(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vd(R,"https"),Ud(R),V?Jj(R.toString(),S):Zj(R.toString(),S)}else ct(2);u.G=0,u.l&&u.l.sa(v),zE(u),LE(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function zE(u){if(u.G=0,u.ka=[],u.l){const v=xE(u.h);(v.length!=0||u.i.length!=0)&&(_(u.ka,v),_(u.ka,u.i),u.h.i.length=0,g(u.i),u.i.length=0),u.l.ra()}}function WE(u,v,S){var R=S instanceof ho?vs(S):new ho(S);if(R.g!="")v&&(R.g=v+"."+R.g),Fd(R,R.s);else{var V=a.location;R=V.protocol,v=v?v+"."+V.hostname:V.hostname,V=+V.port;var U=new ho(null);R&&Vd(U,R),v&&(U.g=v),V&&Fd(U,V),S&&(U.l=S),R=U}return S=u.D,v=u.ya,S&&v&&it(R,S,v),it(R,"VER",u.la),xc(u,R),R}function HE(u,v,S){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new xt(new $d({eb:S})):new xt(u.pa),v.Ha(u.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function KE(){}t=KE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qd(){}qd.prototype.g=function(u,v){return new Un(u,v)};function Un(u,v){me.call(this),this.g=new OE(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!x(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!x(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new wa(this)}T(Un,me),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){ng(this.g)},Un.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var S={};S.__data__=u,u=S}else this.u&&(S={},S.__data__=ga(u),u=S);v.i.push(new Bj(v.Ya++,u)),v.G==3&&Hd(v)},Un.prototype.N=function(){this.g.l=null,delete this.j,ng(this.g),delete this.g,Un.aa.N.call(this)};function qE(u){co.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const S in v){u=S;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}T(qE,co);function GE(){Jn.call(this),this.status=1}T(GE,Jn);function wa(u){this.g=u}T(wa,KE),wa.prototype.ua=function(){ye(this.g,"a")},wa.prototype.ta=function(u){ye(this.g,new qE(u))},wa.prototype.sa=function(u){ye(this.g,new GE)},wa.prototype.ra=function(){ye(this.g,"b")},qd.prototype.createWebChannel=qd.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,yk=function(){return new qd},gk=function(){return ze()},mk=ys,Yv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Od.NO_ERROR=0,Od.TIMEOUT=8,Od.HTTP_ERROR=6,Jh=Od,uE.COMPLETE="complete",pk=uE,hc.EventType=lo,lo.OPEN="a",lo.CLOSE="b",lo.ERROR="c",lo.MESSAGE="d",me.prototype.listen=me.prototype.K,Vc=hc,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,fk=xt}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const TS="@firebase/firestore",SS="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new rm("@firebase/firestore");function Ca(){return Qo.logLevel}function se(t,...e){if(Qo.logLevel<=Fe.DEBUG){const n=e.map(Cx);Qo.debug(`Firestore (${tc}): ${t}`,...n)}}function Bs(t,...e){if(Qo.logLevel<=Fe.ERROR){const n=e.map(Cx);Qo.error(`Firestore (${tc}): ${t}`,...n)}}function Pl(t,...e){if(Qo.logLevel<=Fe.WARN){const n=e.map(Cx);Qo.warn(`Firestore (${tc}): ${t}`,...n)}}function Cx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,vk(t,r,n)}function vk(t,e,n){let r=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bs(r),new Error(r)}function Ge(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||vk(e,s,r)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class m8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class g8{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ns,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ns)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new wk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class y8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const r=i=>{i.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=x8(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Xv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Xg(s)===Xg(i)?Ue(s,i):Xg(s)?1:-1}return Ue(t.length,e.length)}const _8=55296,E8=57343;function Xg(t){const e=t.charCodeAt(0);return e>=_8&&e<=E8}function Rl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="__name__";class Hr{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&we(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Hr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Hr.isNumericId(e),s=Hr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Hr.extractNumericId(e).compare(Hr.extractNumericId(n)):Xv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class rt extends Hr{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const T8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Hr{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return T8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IS}static keyField(){return new Qt([IS])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new re(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new re(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(rt.fromString(e))}static fromName(e){return new fe(rt.fromString(e).popFirst(5))}static empty(){return new fe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t,e,n){if(!n)throw new re(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S8(t,e,n,r){if(e===!0&&r===!0)throw new re(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CS(t){if(!fe.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AS(t){if(fe.isDocumentKey(t))throw new re(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _k(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function am(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function Lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=am(t);throw new re(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function _d(t,e){if(!_k(t))throw new re(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new re(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=-62135596800,RS=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*RS);return new tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PS)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/RS}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_d(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Mt("string",tt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new tt(0,0))}static max(){return new Se(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=-1;function b8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new Ui(s,fe.empty(),e)}function I8(t){return new Ui(t.readTime,t.key,zu)}class Ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ui(Se.min(),fe.empty(),zu)}static max(){return new Ui(Se.max(),fe.empty(),zu)}}function C8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==A8)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function R8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=-1;function cm(t){return t==null}function Xf(t){return t===0&&1/t==-1/0}function N8(t){return typeof t=="number"&&Number.isInteger(t)&&!Xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="";function k8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NS(e)),e=M8(t.get(n),e);return NS(e)}function M8(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Ek:n+="";break;default:n+=i}}return n}function NS(t){return t+Ek+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function no(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??qt.RED,this.left=s??qt.EMPTY,this.right=i??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new qt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MS(this.data.getIterator())}getIteratorFrom(e){return new MS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class MS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Lt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Sk("Invalid base64 string: "+i):i}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const D8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(t){if(Ge(!!t,39018),typeof t=="string"){let e=0;const n=D8.exec(t);if(Ge(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="server_timestamp",Ik="__type__",Ck="__previous_value__",Ak="__local_write_time__";function Rx(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Ik])==null?void 0:r.stringValue)===bk}function um(t){const e=t.mapValue.fields[Ck];return Rx(e)?um(e):e}function Wu(t){const e=$i(t.mapValue.fields[Ak].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Jf="(default)";class Hu{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="__type__",Rk="__max__",_h={mapValue:{fields:{__type__:{stringValue:Rk}}}},Nk="__vector__",Zf="value";function zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rx(t)?4:j8(t)?9007199254740991:L8(t)?10:11:we(28295,{value:t})}function fs(t,e){if(t===e)return!0;const n=zi(t);if(n!==zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=$i(s.timestampValue),a=$i(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Bi(s.bytesValue).isEqual(Bi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return bt(s.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(s.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return bt(s.integerValue)===bt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=bt(s.doubleValue),a=bt(i.doubleValue);return o===a?Xf(o)===Xf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Rl(t.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(kS(o)!==kS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fs(o[l],a[l])))return!1;return!0}(t,e);default:return we(52216,{left:t})}}function Ku(t,e){return(t.values||[]).find(n=>fs(n,e))!==void 0}function Nl(t,e){if(t===e)return 0;const n=zi(t),r=zi(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=bt(i.integerValue||i.doubleValue),l=bt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return DS(t.timestampValue,e.timestampValue);case 4:return DS(Wu(t),Wu(e));case 5:return Xv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Bi(i),l=Bi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ue(a[c],l[c]);if(d!==0)return d}return Ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ue(bt(i.latitude),bt(o.latitude));return a!==0?a:Ue(bt(i.longitude),bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return OS(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,m,T,g;const a=i.fields||{},l=o.fields||{},c=(p=a[Zf])==null?void 0:p.arrayValue,d=(m=l[Zf])==null?void 0:m.arrayValue,h=Ue(((T=c==null?void 0:c.values)==null?void 0:T.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return h!==0?h:OS(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===_h.mapValue&&o===_h.mapValue)return 0;if(i===_h.mapValue)return 1;if(o===_h.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Xv(l[h],d[h]);if(p!==0)return p;const m=Nl(a[l[h]],c[d[h]]);if(m!==0)return m}return Ue(l.length,d.length)}(t.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function DS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=$i(t),r=$i(e),s=Ue(n.seconds,r.seconds);return s!==0?s:Ue(n.nanos,r.nanos)}function OS(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Nl(n[s],r[s]);if(i)return i}return Ue(n.length,r.length)}function kl(t){return Jv(t)}function Jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$i(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Jv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Jv(n.fields[o])}`;return s+"}"}(t.mapValue):we(61005,{value:t})}function Zh(t){switch(zi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=um(t);return e?16+Zh(e):16;case 5:return 2*t.stringValue.length;case 6:return Bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Zh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return no(r.fields,(i,o)=>{s+=i.length+Zh(o)}),s}(t.mapValue);default:throw we(13486,{value:t})}}function LS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zv(t){return!!t&&"integerValue"in t}function Nx(t){return!!t&&"arrayValue"in t}function jS(t){return!!t&&"nullValue"in t}function VS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ef(t){return!!t&&"mapValue"in t}function L8(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Pk])==null?void 0:r.stringValue)===Nk}function iu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return no(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=iu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(t.arrayValue.values[n]);return e}return{...t}}function j8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Rk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=Qt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=iu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ef(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){no(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Pn(iu(this.value))}}function kk(t){const e=[];return no(t.fields,(n,r)=>{const s=new Qt([n]);if(ef(r)){const i=kk(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dn(e,0,Se.min(),Se.min(),Se.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,s){return new dn(e,1,n,Se.min(),r,s,0)}static newNoDocument(e,n){return new dn(e,2,n,Se.min(),Se.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Se.min(),Se.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.position=e,this.inclusive=n}}function FS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=Nl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function US(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n="asc"){this.field=e,this.dir=n}}function V8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{}class kt extends Mk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U8(e,n,r):n==="array-contains"?new z8(e,r):n==="in"?new W8(e,r):n==="not-in"?new H8(e,r):n==="array-contains-any"?new K8(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $8(e,r):new B8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nl(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(Nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends Mk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new jr(e,n)}matches(e){return Dk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Dk(t){return t.op==="and"}function Ok(t){return F8(t)&&Dk(t)}function F8(t){for(const e of t.filters)if(e instanceof jr)return!1;return!0}function e0(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+kl(t.value);if(Ok(t))return t.filters.map(e=>e0(e)).join(",");{const e=t.filters.map(n=>e0(n)).join(",");return`${t.op}(${e})`}}function Lk(t,e){return t instanceof kt?function(r,s){return s instanceof kt&&r.op===s.op&&r.field.isEqual(s.field)&&fs(r.value,s.value)}(t,e):t instanceof jr?function(r,s){return s instanceof jr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Lk(o,s.filters[a]),!0):!1}(t,e):void we(19439)}function jk(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${kl(n.value)}`}(t):t instanceof jr?function(n){return n.op.toString()+" {"+n.getFilters().map(jk).join(" ,")+"}"}(t):"Filter"}class U8 extends kt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class $8 extends kt{constructor(e,n){super(e,"in",n),this.keys=Vk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class B8 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=Vk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Vk(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class z8 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nx(n)&&Ku(n.arrayValue,this.value)}}class W8 extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ku(this.value.arrayValue,n)}}class H8 extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ku(this.value.arrayValue,n)}}class K8 extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ku(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function $S(t,e=null,n=[],r=[],s=null,i=null,o=null){return new q8(t,e,n,r,s,i,o)}function kx(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>e0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),cm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>kl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>kl(r)).join(",")),e.Te=n}return e.Te}function Mx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Lk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!US(t.startAt,e.startAt)&&US(t.endAt,e.endAt)}function t0(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G8(t,e,n,r,s,i,o,a){return new sc(t,e,n,r,s,i,o,a)}function Dx(t){return new sc(t)}function BS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fk(t){return t.collectionGroup!==null}function ou(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(Qt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new qu(i,r))}),n.has(Qt.keyField().canonicalString())||e.Ie.push(new qu(Qt.keyField(),r))}return e.Ie}function is(t){const e=Ie(t);return e.Ee||(e.Ee=Q8(e,ou(t))),e.Ee}function Q8(t,e){if(t.limitType==="F")return $S(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new qu(s.field,i)});const n=t.endAt?new ep(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ep(t.startAt.position,t.startAt.inclusive):null;return $S(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function n0(t,e){const n=t.filters.concat([e]);return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function r0(t,e,n){return new sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dm(t,e){return Mx(is(t),is(e))&&t.limitType===e.limitType}function Uk(t){return`${kx(is(t))}|lt:${t.limitType}`}function Aa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>jk(s)).join(", ")}]`),cm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>kl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>kl(s)).join(",")),`Target(${r})`}(is(t))}; limitType=${t.limitType})`}function hm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):fe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ou(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=FS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ou(r),s)||r.endAt&&!function(o,a,l){const c=FS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ou(r),s))}(t,e)}function Y8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $k(t){return(e,n)=>{let r=!1;for(const s of ou(t)){const i=X8(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function X8(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Nl(l,c):we(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Tk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=new vt(fe.comparator);function zs(){return J8}const Bk=new vt(fe.comparator);function Fc(...t){let e=Bk;for(const n of t)e=e.insert(n.key,n);return e}function zk(t){let e=Bk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Eo(){return au()}function Wk(){return au()}function au(){return new la(t=>t.toString(),(t,e)=>t.isEqual(e))}const Z8=new vt(fe.comparator),e7=new Lt(fe.comparator);function $e(...t){let e=e7;for(const n of t)e=e.add(n);return e}const t7=new Lt(Ue);function n7(){return t7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function Hk(t){return{integerValue:""+t}}function r7(t,e){return N8(e)?Hk(e):Ox(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this._=void 0}}function s7(t,e,n){return t instanceof Gu?function(s,i){const o={fields:{[Ik]:{stringValue:bk},[Ak]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Rx(i)&&(i=um(i)),i&&(o.fields[Ck]=i),{mapValue:o}}(n,e):t instanceof Qu?qk(t,e):t instanceof Yu?Gk(t,e):function(s,i){const o=Kk(s,i),a=zS(o)+zS(s.Ae);return Zv(o)&&Zv(s.Ae)?Hk(a):Ox(s.serializer,a)}(t,e)}function i7(t,e,n){return t instanceof Qu?qk(t,e):t instanceof Yu?Gk(t,e):n}function Kk(t,e){return t instanceof tp?function(r){return Zv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Gu extends fm{}class Qu extends fm{constructor(e){super(),this.elements=e}}function qk(t,e){const n=Qk(e);for(const r of t.elements)n.some(s=>fs(s,r))||n.push(r);return{arrayValue:{values:n}}}class Yu extends fm{constructor(e){super(),this.elements=e}}function Gk(t,e){let n=Qk(e);for(const r of t.elements)n=n.filter(s=>!fs(s,r));return{arrayValue:{values:n}}}class tp extends fm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zS(t){return bt(t.integerValue||t.doubleValue)}function Qk(t){return Nx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,n){this.field=e,this.transform=n}}function a7(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Qu&&s instanceof Qu||r instanceof Yu&&s instanceof Yu?Rl(r.elements,s.elements,fs):r instanceof tp&&s instanceof tp?fs(r.Ae,s.Ae):r instanceof Gu&&s instanceof Gu}(t.transform,e.transform)}class l7{constructor(e,n){this.version=e,this.transformResults=n}}class cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pm{}function Yk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lx(t.key,cr.none()):new Ed(t.key,t.data,cr.none());{const n=t.data,r=Pn.empty();let s=new Lt(Qt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ro(t.key,r,new Hn(s.toArray()),cr.none())}}function c7(t,e,n){t instanceof Ed?function(s,i,o){const a=s.value.clone(),l=HS(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ro?function(s,i,o){if(!tf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=HS(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Xk(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lu(t,e,n,r){return t instanceof Ed?function(i,o,a,l){if(!tf(i.precondition,o))return a;const c=i.value.clone(),d=KS(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ro?function(i,o,a,l){if(!tf(i.precondition,o))return a;const c=KS(i.fieldTransforms,l,o),d=o.data;return d.setAll(Xk(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return tf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function u7(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Kk(r.transform,s||null);i!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,i))}return n||null}function WS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Rl(r,s,(i,o)=>a7(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ed extends pm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ro extends pm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Xk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function HS(t,e,n){const r=new Map;Ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,i7(o,a,n[s]))}return r}function KS(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,s7(i,o,e))}return r}class Lx extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d7 extends pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&c7(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Wk();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Yk(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(n,r)=>WS(n,r))&&Rl(this.baseMutations,e.baseMutations,(n,r)=>WS(n,r))}}class jx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Z8}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new jx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f7=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Be;function m7(t){switch(t){case B.OK:return we(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function Jk(t){if(t===void 0)return Bs("GRPC error has no .code"),B.UNKNOWN;switch(t){case Pt.OK:return B.OK;case Pt.CANCELLED:return B.CANCELLED;case Pt.UNKNOWN:return B.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return B.INTERNAL;case Pt.UNAVAILABLE:return B.UNAVAILABLE;case Pt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Pt.NOT_FOUND:return B.NOT_FOUND;case Pt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Pt.ABORTED:return B.ABORTED;case Pt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Pt.DATA_LOSS:return B.DATA_LOSS;default:return we(39323,{code:t})}}(Be=Pt||(Pt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=new Di([4294967295,4294967295],0);function qS(t){const e=g7().encode(t),n=new hk;return n.update(e),new Uint8Array(n.digest())}function GS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Di([n,r],0),new Di([s,i],0)]}class Vx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uc(`Invalid padding: ${n}`);if(r<0)throw new Uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Di.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Di.fromNumber(r)));return s.compare(y7)===1&&(s=new Di([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qS(e),[r,s]=GS(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Vx(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=qS(e),[r,s]=GS(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mm(Se.min(),s,new vt(Ue),zs(),$e())}}class Td{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Td(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Zk{constructor(e,n){this.targetId=e,this.Ce=n}}class e2{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class QS{constructor(){this.ve=0,this.Fe=YS(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),r=$e();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:we(38017,{changeType:i})}}),new Td(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=YS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class v7{constructor(e){this.Ge=e,this.ze=new Map,this.je=zs(),this.Je=Eh(),this.He=Eh(),this.Ye=new vt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(t0(i))if(r===0){const o=new fe(i.path);this.et(n,o,dn.newNoDocument(o,Se.min()))}else Ge(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Bi(r).toUint8Array()}catch(l){if(l instanceof Sk)return Pl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Vx(o,s,i)}catch(l){return Pl(l instanceof Uc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&t0(a.target)){const l=new fe(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,dn.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=$e();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new mm(e,n,this.Ye,this.je,r);return this.je=zs(),this.Je=Eh(),this.He=Eh(),this.Ye=new vt(Ue),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new QS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new QS),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Eh(){return new vt(fe.comparator)}function YS(){return new vt(fe.comparator)}const w7={asc:"ASCENDING",desc:"DESCENDING"},x7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_7={and:"AND",or:"OR"};class E7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function s0(t,e){return t.useProto3Json||cm(e)?e:{value:e}}function np(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function T7(t,e){return np(t,e.toTimestamp())}function os(t){return Ge(!!t,49232),Se.fromTimestamp(function(n){const r=$i(n);return new tt(r.seconds,r.nanos)}(t))}function Fx(t,e){return i0(t,e).canonicalString()}function i0(t,e){const n=function(s){return new rt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function n2(t){const e=rt.fromString(t);return Ge(a2(e),10190,{key:e.toString()}),e}function o0(t,e){return Fx(t.databaseId,e.path)}function Jg(t,e){const n=n2(e);if(n.get(1)!==t.databaseId.projectId)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(s2(n))}function r2(t,e){return Fx(t.databaseId,e)}function S7(t){const e=n2(t);return e.length===4?rt.emptyPath():s2(e)}function a0(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s2(t){return Ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XS(t,e,n){return{name:o0(t,e),fields:n.value.mapValue.fields}}function b7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:we(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ge(d===void 0||typeof d=="string",58123),Zt.fromBase64String(d||"")):(Ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:Jk(c.code);return new re(d,c.message||"")}(o);n=new e2(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jg(t,r.document.name),i=os(r.document.updateTime),o=r.document.createTime?os(r.document.createTime):Se.min(),a=new Pn({mapValue:{fields:r.document.fields}}),l=dn.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new nf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jg(t,r.document),i=r.readTime?os(r.readTime):Se.min(),o=dn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new nf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jg(t,r.document),i=r.removedTargetIds||[];n=new nf([],i,s,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new p7(s,i),a=r.targetId;n=new Zk(a,o)}}return n}function I7(t,e){let n;if(e instanceof Ed)n={update:XS(t,e.key,e.value)};else if(e instanceof Lx)n={delete:o0(t,e.key)};else if(e instanceof ro)n={update:XS(t,e.key,e.data),updateMask:O7(e.fieldMask)};else{if(!(e instanceof d7))return we(16599,{Vt:e.type});n={verify:o0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tp)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw we(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:T7(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:we(27497)}(t,e.precondition)),n}function C7(t,e){return t&&t.length>0?(Ge(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?os(s.updateTime):os(i);return o.isEqual(Se.min())&&(o=os(i)),new l7(o,s.transformResults||[])}(n,e))):[]}function A7(t,e){return{documents:[r2(t,e.path)]}}function P7(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=r2(t,s);const i=function(c){if(c.length!==0)return o2(jr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Pa(p.field),direction:k7(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=s0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function R7(t){let e=S7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ge(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=i2(h);return p instanceof jr&&Ok(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(T){return new qu(Ra(T.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,cm(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new ep(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new ep(m,p)}(n.endAt)),G8(e,s,o,i,a,"F",l,c)}function N7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ra(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ra(n.unaryFilter.field);return kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ra(n.unaryFilter.field);return kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ra(n.unaryFilter.field);return kt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(t):t.fieldFilter!==void 0?function(n){return kt.create(Ra(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jr.create(n.compositeFilter.filters.map(r=>i2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(n.compositeFilter.op))}(t):we(30097,{filter:t})}function k7(t){return w7[t]}function M7(t){return x7[t]}function D7(t){return _7[t]}function Pa(t){return{fieldPath:t.canonicalString()}}function Ra(t){return Qt.fromServerFormat(t.fieldPath)}function o2(t){return t instanceof kt?function(n){if(n.op==="=="){if(VS(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NAN"}};if(jS(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VS(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NAN"}};if(jS(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(n.field),op:M7(n.op),value:n.value}}}(t):t instanceof jr?function(n){const r=n.getFilters().map(s=>o2(s));return r.length===1?r[0]:{compositeFilter:{op:D7(n.op),filters:r}}}(t):we(54877,{filter:t})}function O7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function a2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,r,s,i=Se.min(),o=Se.min(),a=Zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e){this.yt=e}}function j7(t){const e=R7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?r0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(){this.Cn=new F7}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ui.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class F7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Lt(rt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l2=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(l2,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ml(0)}static cr(){return new Ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="LruGarbageCollector",U7=1048576;function eb([t,e],[n,r]){const s=Ue(t,n);return s===0?Ue(e,r):s}class $7{constructor(e){this.Ir=e,this.buffer=new Lt(eb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class B7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(ZS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rc(n)?se(ZS,"Ignoring IndexedDB error during garbage collection: ",n):await nc(n)}await this.Vr(3e5)})}}class z7{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(lm.ce);const r=new $7(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(JS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Ca()<=Fe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function W7(t,e){return new z7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(){this.changes=new la(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&lu(r.mutation,s,Hn.empty(),tt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const s=Eo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Fc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=zs();const o=au(),a=function(){return au()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof ro)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),lu(d.mutation,c,d.mutation.getFieldMask(),tt.now())):o.set(c.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new K7(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=au();let s=new vt((o,a)=>o-a),i=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Hn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||$e()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=Wk();d.forEach(p=>{if(!i.has(p)){const m=Yk(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Eo());let a=zu,l=i;return o.next(c=>H.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,$e())).next(d=>({batchId:a,changes:zk(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let s=Fc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Fc();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,l=>{const c=function(h,p){return new sc(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,dn.newInvalidDocument(d)))});let a=Fc();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&lu(d.mutation,c,Hn.empty(),tt.now()),hm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:os(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:j7(s.bundledQuery),readTime:os(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(){this.overlays=new vt(fe.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Eo();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Eo(),i=n.length+1,o=new fe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new vt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Eo(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Eo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return H.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new f7(n,r));let i=this.qr.get(n);i===void 0&&(i=$e(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.Qr=new Lt(Vt.$r),this.Ur=new Lt(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new fe(new rt([])),r=new Vt(n,e),s=new Vt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new fe(new rt([])),r=new Vt(n,e),s=new Vt(n,e+1);let i=$e();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Vt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return fe.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Vt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new h7(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Vt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Px:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),s=new Vt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Ue);return n.forEach(s=>{const i=new Vt(s,0),o=new Vt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;fe.isDocumentKey(i)||(i=i.child(""));const o=new Vt(new fe(i),0);let a=new Lt(Ue);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),H.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,s=>{const i=new Vt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Vt(n,0),s=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e){this.ri=e,this.docs=function(){return new vt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=zs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():dn.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=zs();const o=n.path,a=new fe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||C8(I8(d),r)<=0||(s.has(d.key)||hm(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){we(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Z7(this)}getSize(e){return H.resolve(this.size)}}class Z7 extends H7{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e){this.persistence=e,this.si=new la(n=>kx(n),Mx),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Ux,this.targetCount=0,this.ai=Ml.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.ui={},this.overlays={},this.ci=new lm(0),this.li=!1,this.li=!0,this.hi=new Y7,this.referenceDelegate=e(this),this.Pi=new eH(this),this.indexManager=new V7,this.remoteDocumentCache=function(s){return new J7(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new L7(n),this.Ii=new G7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new X7(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const s=new tH(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class tH extends P8{constructor(e){super(),this.currentSequenceNumber=e}}class $x{constructor(e){this.persistence=e,this.Ri=new Ux,this.Vi=null}static mi(e){return new $x(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const s=fe.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rp{constructor(e,n){this.persistence=e,this.pi=new la(r=>k8(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=W7(this,n)}static mi(e,n){return new rp(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?H.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Se.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zh(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=$e(),s=$e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Bx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return DB()?8:R8(pn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new nH;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ca()<=Fe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(Ca()<=Fe.DEBUG&&se("QueryEngine","Query:",Aa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ca()<=Fe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,is(n))):H.resolve())}ys(e,n){if(BS(n))return H.resolve(null);let r=is(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=r0(n,null,"F"),r=is(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=$e(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,r0(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return BS(n)||s.isEqual(Se.min())?H.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?H.resolve(null):(Ca()<=Fe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Aa(n)),this.vs(e,o,n,b8(s,zu)).next(a=>a))})}Ds(e,n){let r=new Lt($k(e));return n.forEach((s,i)=>{hm(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ca()<=Fe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Aa(n)),this.ps.getDocumentsMatchingQuery(e,n,Ui.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="LocalStore",sH=3e8;class iH{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new vt(Ue),this.xs=new la(i=>kx(i),Mx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function oH(t,e,n,r){return new iH(t,e,n,r)}async function u2(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=$e();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function aH(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let m=H.resolve();return p.forEach(T=>{m=m.next(()=>d.getEntry(l,T)).next(g=>{const _=c.docVersions.get(T);Ge(_!==null,48541),g.version.compareTo(_)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=$e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function d2(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function lH(t,e){const n=Ie(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(g,_,E){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=sH?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,m,d)&&a.push(n.Pi.updateTargetData(i,m))});let l=zs(),c=$e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(cH(i,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(Se.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function cH(t,e,n){let r=$e(),s=$e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=zs();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):se(zx,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function uH(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Px),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dH(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new _i(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function l0(t,e,n){const r=Ie(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!rc(o))throw o;se(zx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function tb(t,e,n){const r=Ie(t);let s=Se.min(),i=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=Ie(l),p=h.xs.get(d);return p!==void 0?H.resolve(h.Ms.get(p)):h.Pi.getTargetData(c,d)}(r,o,is(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Se.min(),n?i:$e())).next(a=>(hH(r,Y8(e),a),{documents:a,Qs:i})))}function hH(t,e,n){let r=t.Os.get(e)||Se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class nb{constructor(){this.activeTargetIds=n7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fH{constructor(){this.Mo=new nb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new nb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="ConnectivityMonitor";class sb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(rb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(rb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function c0(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="RestConnection",mH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gH{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Jf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=c0(),a=this.zo(e,n.toUriEncodedString());se(Zg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),d=eo(c);return this.Jo(e,a,l,r,d).then(h=>(se(Zg,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Pl(Zg,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=mH[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class vH extends gH{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=c0();return new Promise((a,l)=>{const c=new fk;c.setWithCredentials(!0),c.listenOnce(pk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Jh.NO_ERROR:const h=c.getResponseJson();se(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Jh.TIMEOUT:se(on,`RPC '${e}' ${o} timed out`),l(new re(B.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:const p=c.getStatus();if(se(on,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const T=m==null?void 0:m.error;if(T&&T.status&&T.message){const g=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(x)>=0?x:B.UNKNOWN}(T.status);l(new re(g,T.message))}else l(new re(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new re(B.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{se(on,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);se(on,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=c0(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yk(),a=gk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");se(on,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let p=!1,m=!1;const T=new yH({Yo:_=>{m?se(on,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(se(on,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),se(on,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},Zo:()=>h.close()}),g=(_,E,x)=>{_.listen(E,w=>{try{x(w)}catch(A){setTimeout(()=>{throw A},0)}})};return g(h,Vc.EventType.OPEN,()=>{m||(se(on,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),g(h,Vc.EventType.CLOSE,()=>{m||(m=!0,se(on,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(h))}),g(h,Vc.EventType.ERROR,_=>{m||(m=!0,Pl(on,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),T.a_(new re(B.UNAVAILABLE,"The operation could not be completed")))}),g(h,Vc.EventType.MESSAGE,_=>{var E;if(!m){const x=_.data[0];Ge(!!x,16349);const w=x,A=(w==null?void 0:w.error)||((E=w[0])==null?void 0:E.error);if(A){se(on,`RPC '${e}' stream ${s} received error:`,A);const N=A.status;let O=function(C){const P=Pt[C];if(P!==void 0)return Jk(P)}(N),I=A.message;O===void 0&&(O=B.INTERNAL,I="Unknown error status: "+N+" with message "+A.message),m=!0,T.a_(new re(O,I)),h.close()}else se(on,`RPC '${e}' stream ${s} received:`,x),T.u_(x)}}),g(a,mk.STAT_EVENT,_=>{_.stat===Yv.PROXY?se(on,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Yv.NOPROXY&&se(on,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ey(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){return new E7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="PersistentStream";class f2{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Bs(n.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new re(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return se(ib,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(se(ib,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wH extends f2{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=b7(this.serializer,e),r=function(i){if(!("targetChange"in i))return Se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?os(o.readTime):Se.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=a0(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=t0(l)?{documents:A7(i,l)}:{query:P7(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=t2(i,o.resumeToken);const c=s0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Se.min())>0){a.readTime=np(i,o.snapshotVersion.toTimestamp());const c=s0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=N7(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=a0(this.serializer),n.removeTarget=e,this.q_(n)}}class xH extends f2{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=C7(e.writeResults,e.commitTime),r=os(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=a0(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>I7(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{}class EH extends _H{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,i0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,i0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class TH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bs(n),this.aa=!1):se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="RemoteStore";class SH{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ca(this)&&(se(Yo,"Restarting streams for network reachability change."),await async function(l){const c=Ie(l);c.Ea.add(4),await Sd(c),c.Ra.set("Unknown"),c.Ea.delete(4),await ym(c)}(this))})}),this.Ra=new TH(r,s)}}async function ym(t){if(ca(t))for(const e of t.da)await e(!0)}async function Sd(t){for(const e of t.da)await e(!1)}function p2(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qx(n)?Kx(n):ic(n).O_()&&Hx(n,e))}function Wx(t,e){const n=Ie(t),r=ic(n);n.Ia.delete(e),r.O_()&&m2(n,e),n.Ia.size===0&&(r.O_()?r.L_():ca(n)&&n.Ra.set("Unknown"))}function Hx(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ic(t).Y_(e)}function m2(t,e){t.Va.Ue(e),ic(t).Z_(e)}function Kx(t){t.Va=new v7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ic(t).start(),t.Ra.ua()}function qx(t){return ca(t)&&!ic(t).x_()&&t.Ia.size>0}function ca(t){return Ie(t).Ea.size===0}function g2(t){t.Va=void 0}async function bH(t){t.Ra.set("Online")}async function IH(t){t.Ia.forEach((e,n)=>{Hx(t,e)})}async function CH(t,e){g2(t),qx(t)?(t.Ra.ha(e),Kx(t)):t.Ra.set("Unknown")}async function AH(t,e,n){if(t.Ra.set("Online"),e instanceof e2&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){se(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sp(t,r)}else if(e instanceof nf?t.Va.Ze(e):e instanceof Zk?t.Va.st(e):t.Va.tt(e),!n.isEqual(Se.min()))try{const r=await d2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(Zt.EMPTY_BYTE_STRING,d.snapshotVersion)),m2(i,l);const h=new _i(d.target,l,c,d.sequenceNumber);Hx(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se(Yo,"Failed to raise snapshot:",r),await sp(t,r)}}async function sp(t,e,n){if(!rc(e))throw e;t.Ea.add(1),await Sd(t),t.Ra.set("Offline"),n||(n=()=>d2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se(Yo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ym(t)})}function y2(t,e){return e().catch(n=>sp(t,n,e))}async function vm(t){const e=Ie(t),n=Wi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Px;for(;PH(e);)try{const s=await uH(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,RH(e,s)}catch(s){await sp(e,s)}v2(e)&&w2(e)}function PH(t){return ca(t)&&t.Ta.length<10}function RH(t,e){t.Ta.push(e);const n=Wi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function v2(t){return ca(t)&&!Wi(t).x_()&&t.Ta.length>0}function w2(t){Wi(t).start()}async function NH(t){Wi(t).ra()}async function kH(t){const e=Wi(t);for(const n of t.Ta)e.ea(n.mutations)}async function MH(t,e,n){const r=t.Ta.shift(),s=jx.from(r,e,n);await y2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vm(t)}async function DH(t,e){e&&Wi(t).X_&&await async function(r,s){if(function(o){return m7(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();Wi(r).B_(),await y2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await vm(r)}}(t,e),v2(t)&&w2(t)}async function ob(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),se(Yo,"RemoteStore received new credentials");const r=ca(n);n.Ea.add(3),await Sd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ym(n)}async function OH(t,e){const n=Ie(t);e?(n.Ea.delete(2),await ym(n)):e||(n.Ea.add(2),await Sd(n),n.Ra.set("Unknown"))}function ic(t){return t.ma||(t.ma=function(n,r,s){const i=Ie(n);return i.sa(),new wH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:bH.bind(null,t),t_:IH.bind(null,t),r_:CH.bind(null,t),H_:AH.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),qx(t)?Kx(t):t.Ra.set("Unknown")):(await t.ma.stop(),g2(t))})),t.ma}function Wi(t){return t.fa||(t.fa=function(n,r,s){const i=Ie(n);return i.sa(),new xH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:NH.bind(null,t),r_:DH.bind(null,t),ta:kH.bind(null,t),na:MH.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await vm(t)):(await t.fa.stop(),t.Ta.length>0&&(se(Yo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Gx(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qx(t,e){if(Bs("AsyncQueue",`${e}: ${t}`),rc(t))return new re(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=Fc(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new al;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.ga=new vt(fe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Dl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Dl(e,n,al.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class jH{constructor(){this.queries=lb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ie(n),i=s.queries;s.queries=lb(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new re(B.ABORTED,"Firestore shutting down"))}}function lb(){return new la(t=>Uk(t),dm)}async function x2(t,e){const n=Ie(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new LH,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Qx(o,`Initialization of query '${Aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Yx(n)}async function _2(t,e){const n=Ie(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VH(t,e){const n=Ie(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Yx(n)}function FH(t,e,n){const r=Ie(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Yx(t){t.Ca.forEach(e=>{e.next()})}var u0,cb;(cb=u0||(u0={})).Ma="default",cb.Cache="cache";class E2{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==u0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.key=e}}class S2{constructor(e){this.key=e}}class UH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=$k(e),this.tu=new al(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ab,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),m=hm(this.query,h)?h:null,T=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;p&&m?p.data.isEqual(m.data)?T!==g&&(r.track({type:3,doc:m}),_=!0):this.su(p,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),_=!0):p&&!m&&(r.track({type:1,doc:p}),_=!0,(l||c)&&(a=!0)),_&&(m?(o=o.add(m),i=g?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(m,T){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:_})}};return g(m)-g(T)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Dl(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ab,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new S2(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new T2(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xx="SyncEngine";class $H{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class BH{constructor(e){this.key=e,this.hu=!1}}class zH{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new la(a=>Uk(a),dm),this.Iu=new Map,this.Eu=new Set,this.du=new vt(fe.comparator),this.Au=new Map,this.Ru=new Ux,this.Vu={},this.mu=new Map,this.fu=Ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WH(t,e,n=!0){const r=R2(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await b2(r,e,n,!0),s}async function HH(t,e){const n=R2(t);await b2(n,e,!0,!1)}async function b2(t,e,n,r){const s=await dH(t.localStore,is(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await KH(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&p2(t.remoteStore,s),a}async function KH(t,e,n,r,s){t.pu=(h,p,m)=>async function(g,_,E,x){let w=_.view.ru(E);w.Cs&&(w=await tb(g.localStore,_.query,!1).then(({documents:I})=>_.view.ru(I,w)));const A=x&&x.targetChanges.get(_.targetId),N=x&&x.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(w,g.isPrimaryClient,A,N);return db(g,_.targetId,O.au),O.snapshot}(t,h,p,m);const i=await tb(t.localStore,e,!0),o=new UH(e,i.Qs),a=o.ru(i.documents),l=Td.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);db(t,n,c.au);const d=new $H(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function qH(t,e,n){const r=Ie(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!dm(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await l0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Wx(r.remoteStore,s.targetId),d0(r,s.targetId)}).catch(nc)):(d0(r,s.targetId),await l0(r.localStore,s.targetId,!0))}async function GH(t,e){const n=Ie(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wx(n.remoteStore,r.targetId))}async function QH(t,e,n){const r=nK(t);try{const s=await function(o,a){const l=Ie(o),c=tt.now(),d=a.reduce((m,T)=>m.add(T.key),$e());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let T=zs(),g=$e();return l.Ns.getEntries(m,d).next(_=>{T=_,T.forEach((E,x)=>{x.isValidDocument()||(g=g.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,T)).next(_=>{h=_;const E=[];for(const x of a){const w=u7(x,h.get(x.key).overlayedDocument);w!=null&&E.push(new ro(x.key,w,kk(w.value.mapValue),cr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,E,a)}).next(_=>{p=_;const E=_.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(m,_.batchId,E)})}).then(()=>({batchId:p.batchId,changes:zk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new vt(Ue)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await bd(r,s.changes),await vm(r.remoteStore)}catch(s){const i=Qx(s,"Failed to persist write");n.reject(i)}}async function I2(t,e){const n=Ie(t);try{const r=await lH(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ge(o.hu,14607):s.removedDocuments.size>0&&(Ge(o.hu,42227),o.hu=!1))}),await bd(n,r,e)}catch(r){await nc(r)}}function ub(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ie(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.Sa)p.va(a)&&(c=!0)}),c&&Yx(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YH(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new vt(fe.comparator);o=o.insert(i,dn.newNoDocument(i,Se.min()));const a=$e().add(i),l=new mm(Se.min(),new Map,new vt(Ue),o,a);await I2(r,l),r.du=r.du.remove(i),r.Au.delete(e),Jx(r)}else await l0(r.localStore,e,!1).then(()=>d0(r,e,n)).catch(nc)}async function XH(t,e){const n=Ie(t),r=e.batch.batchId;try{const s=await aH(n.localStore,e);A2(n,r,null),C2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bd(n,s)}catch(s){await nc(s)}}async function JH(t,e,n){const r=Ie(t);try{const s=await function(o,a){const l=Ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ge(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);A2(r,e,n),C2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bd(r,s)}catch(s){await nc(s)}}function C2(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function A2(t,e,n){const r=Ie(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function d0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||P2(t,r)})}function P2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Wx(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Jx(t))}function db(t,e,n){for(const r of n)r instanceof T2?(t.Ru.addReference(r.key,e),ZH(t,r)):r instanceof S2?(se(Xx,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||P2(t,r.key)):we(19791,{wu:r})}function ZH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(se(Xx,"New document in limbo: "+n),t.Eu.add(r),Jx(t))}function Jx(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new fe(rt.fromString(e)),r=t.fu.next();t.Au.set(r,new BH(n)),t.du=t.du.insert(n,r),p2(t.remoteStore,new _i(is(Dx(n.path)),r,"TargetPurposeLimboResolution",lm.ce))}}async function bd(t,e,n){const r=Ie(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=Bx.As(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const d=Ie(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(c,p=>H.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>H.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!rc(h))throw h;se(zx,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=d.Ms.get(p),T=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(T);d.Ms=d.Ms.insert(p,g)}}}(r.localStore,i))}async function eK(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){se(Xx,"User change. New user:",e.toKey());const r=await u2(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new re(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bd(n,r.Ls)}}function tK(t,e){const n=Ie(t),r=n.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let s=$e();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function R2(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YH.bind(null,e),e.Pu.H_=VH.bind(null,e.eventManager),e.Pu.yu=FH.bind(null,e.eventManager),e}function nK(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JH.bind(null,e),e}class ip{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oH(this.persistence,new rH,e.initialUser,this.serializer)}Cu(e){return new c2($x.mi,this.serializer)}Du(e){return new fH}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ip.provider={build:()=>new ip};class rK extends ip{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof rp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new B7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new c2(r=>rp.mi(r,n),this.serializer)}}class h0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ub(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eK.bind(null,this.syncEngine),await OH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jH}()}createDatastore(e){const n=gm(e.databaseInfo.databaseId),r=function(i){return new vH(i)}(e.databaseInfo);return function(i,o,a,l){return new EH(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new SH(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ub(this.syncEngine,n,0),function(){return sb.v()?new sb:new pH}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new zH(s,i,o,a,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ie(s);se(Yo,"RemoteStore shutting down."),i.Ea.add(5),await Sd(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}h0.provider={build:()=>new h0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="FirestoreClient";class sK{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ln.UNAUTHENTICATED,this.clientId=Ax.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{se(Hi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(se(Hi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ty(t,e){t.asyncQueue.verifyOperationInProgress(),se(Hi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await u2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iK(t);se(Hi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ob(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>ob(e.remoteStore,s)),t._onlineComponents=e}async function iK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se(Hi,"Using user provided OfflineComponentProvider");try{await ty(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Pl("Error using user provided cache. Falling back to memory cache: "+n),await ty(t,new ip)}}else se(Hi,"Using default OfflineComponentProvider"),await ty(t,new rK(void 0));return t._offlineComponents}async function k2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se(Hi,"Using user provided OnlineComponentProvider"),await hb(t,t._uninitializedComponentsProvider._online)):(se(Hi,"Using default OnlineComponentProvider"),await hb(t,new h0))),t._onlineComponents}function oK(t){return k2(t).then(e=>e.syncEngine)}async function M2(t){const e=await k2(t),n=e.eventManager;return n.onListen=WH.bind(null,e.syncEngine),n.onUnlisten=qH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GH.bind(null,e.syncEngine),n}function aK(t,e,n={}){const r=new Ns;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new N2({next:p=>{d.Nu(),o.enqueueAndForget(()=>_2(i,h));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new re(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new re(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new E2(Dx(a.path),d,{includeMetadataChanges:!0,qa:!0});return x2(i,h)}(await M2(t),t.asyncQueue,e,n,r)),r.promise}function lK(t,e,n={}){const r=new Ns;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new N2({next:p=>{d.Nu(),o.enqueueAndForget(()=>_2(i,h)),p.fromCache&&l.source==="server"?c.reject(new re(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new E2(a,d,{includeMetadataChanges:!0,qa:!0});return x2(i,h)}(await M2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firestore.googleapis.com",pb=!0;class mb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O2,this.ssl=pb}else this.host=e.host,this.ssl=e.ssl??pb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U7)throw new re(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D2(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p8;switch(r.type){case"firstParty":return new v8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fb.get(n);r&&(se("ComponentProvider","Removing Datastore"),fb.delete(n),r.terminate())}(this),Promise.resolve()}}function cK(t,e,n,r={}){var c;t=Lr(t,wm);const s=eo(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(mx(`https://${a}`),gx("Firestore",!0)),i.host!==O2&&i.host!==a&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Ko(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=ln.MOCK_USER;else{d=IB(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new re(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ln(p)}t._authCredentials=new m8(new wk(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class Ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_d(n,Ct._jsonSchema))return new Ct(e,r||null,new fe(rt.fromString(n.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Mt("string",Ct._jsonSchemaVersion),referencePath:Mt("string")};class Oi extends ua{constructor(e,n,r){super(e,n,Dx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new fe(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function Ki(t,e,...n){if(t=yt(t),xk("collection","path",e),t instanceof wm){const r=rt.fromString(e,...n);return AS(r),new Oi(t,null,r)}{if(!(t instanceof Ct||t instanceof Oi))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return AS(r),new Oi(t.firestore,null,r)}}function Gt(t,e,...n){if(t=yt(t),arguments.length===1&&(e=Ax.newId()),xk("doc","path",e),t instanceof wm){const r=rt.fromString(e,...n);return CS(r),new Ct(t,null,new fe(r))}{if(!(t instanceof Ct||t instanceof Oi))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return CS(r),new Ct(t.firestore,t instanceof Oi?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="AsyncQueue";class yb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h2(this,"async_queue_retry"),this._c=()=>{const r=ey();r&&se(gb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ey();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ey();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ns;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!rc(e))throw e;se(gb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Bs("INTERNAL UNHANDLED ERROR: ",vb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Gx.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&we(47125,{Pc:vb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vb(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class da extends wm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new yb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yb(e),this._firestoreClient=void 0,await e}}}function uK(t,e){const n=typeof t=="object"?t:vx(),r=typeof t=="string"?t:Jf,s=Jl(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=gN("firestore");i&&cK(s,...i)}return s}function Zx(t){if(t._terminated)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dK(t),t._firestoreClient}function dK(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,d){return new O8(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,D2(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new sK(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ir(Zt.fromBase64String(e))}catch(n){throw new re(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ir(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_d(e,ir._jsonSchema))return ir.fromBase64String(e.bytes)}}ir._jsonSchemaVersion="firestore/bytes/1.0",ir._jsonSchema={type:Mt("string",ir._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(e){if(_d(e,as._jsonSchema))return new as(e.latitude,e.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:Mt("string",as._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_d(e,ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ls(e.vectorValues);throw new re(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ls._jsonSchemaVersion="firestore/vectorValue/1.0",ls._jsonSchema={type:Mt("string",ls._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK=/^__.*__$/;class fK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ed(e,this.data,n,this.fieldTransforms)}}class L2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ro(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function j2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:t})}}class e_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new e_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return op(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(j2(this.Ac)&&hK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gm(e)}Cc(e,n,r,s=!1){return new e_({Ac:e,methodName:n,Dc:r,path:Qt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Em(t){const e=t._freezeSettings(),n=gm(t._databaseId);return new pK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V2(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);n_("Data must be an object, but it was:",o,r);const a=F2(r,o);let l,c;if(i.merge)l=new Hn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=f0(e,h,n);if(!o.contains(p))throw new re(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);$2(d,p)||d.push(p)}l=new Hn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new fK(new Pn(a),l,c)}class Tm extends _m{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tm}}class t_ extends _m{_toFieldTransform(e){return new o7(e.path,new Gu)}isEqual(e){return e instanceof t_}}function mK(t,e,n,r){const s=t.Cc(1,e,n);n_("Data must be an object, but it was:",s,r);const i=[],o=Pn.empty();no(r,(l,c)=>{const d=r_(e,l,n);c=yt(c);const h=s.yc(d);if(c instanceof Tm)i.push(d);else{const p=Id(c,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new Hn(i);return new L2(o,a,s.fieldTransforms)}function gK(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[f0(e,r,n)],l=[s];if(i.length%2!=0)throw new re(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(f0(e,i[p])),l.push(i[p+1]);const c=[],d=Pn.empty();for(let p=a.length-1;p>=0;--p)if(!$2(c,a[p])){const m=a[p];let T=l[p];T=yt(T);const g=o.yc(m);if(T instanceof Tm)c.push(m);else{const _=Id(T,g);_!=null&&(c.push(m),d.set(m,_))}}const h=new Hn(c);return new L2(d,h,o.fieldTransforms)}function yK(t,e,n,r=!1){return Id(n,t.Cc(r?4:3,e))}function Id(t,e){if(U2(t=yt(t)))return n_("Unsupported field value:",e,t),F2(t,e);if(t instanceof _m)return function(r,s){if(!j2(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Id(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=tt.fromDate(r);return{timestampValue:np(s.serializer,i)}}if(r instanceof tt){const i=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:np(s.serializer,i)}}if(r instanceof as)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ir)return{bytesValue:t2(s.serializer,r._byteString)};if(r instanceof Ct){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Fx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ls)return function(o,a){return{mapValue:{fields:{[Pk]:{stringValue:Nk},[Zf]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Ox(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${am(r)}`)}(t,e)}function F2(t,e){const n={};return Tk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(t,(r,s)=>{const i=Id(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function U2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof as||t instanceof ir||t instanceof Ct||t instanceof _m||t instanceof ls)}function n_(t,e,n){if(!U2(n)||!_k(n)){const r=am(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function f0(t,e,n){if((e=yt(e))instanceof xm)return e._internalPath;if(typeof e=="string")return r_(t,e);throw op("Field path arguments must be of type string or ",t,!1,void 0,n)}const vK=new RegExp("[~\\*/\\[\\]]");function r_(t,e,n){if(e.search(vK)>=0)throw op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xm(...e.split("."))._internalPath}catch{throw op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function op(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new re(B.INVALID_ARGUMENT,a+t+l)}function $2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wK extends B2{data(){return super.data()}}function Sm(t,e){return typeof e=="string"?r_(t,e):e instanceof xm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xK(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s_{}class z2 extends s_{}function bm(t,e,...n){let r=[];e instanceof s_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof i_).length,a=i.filter(l=>l instanceof Im).length;if(o>1||o>0&&a>0)throw new re(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Im extends z2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Im(e,n,r)}_apply(e){const n=this._parse(e);return H2(e._query,n),new ua(e.firestore,e.converter,n0(e._query,n))}_parse(e){const n=Em(e.firestore);return function(i,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new re(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){xb(h,d);const T=[];for(const g of h)T.push(wb(l,i,g));p={arrayValue:{values:T}}}else p=wb(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||xb(h,d),p=yK(a,o,h,d==="in"||d==="not-in");return kt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ap(t,e,n){const r=e,s=Sm("where",t);return Im._create(s,r,n)}class i_ extends s_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new i_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)H2(o,l),o=n0(o,l)}(e._query,n),new ua(e.firestore,e.converter,n0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class o_ extends z2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new o_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new re(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qu(i,o)}(e._query,this._field,this._direction);return new ua(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new sc(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function W2(t,e="asc"){const n=e,r=Sm("orderBy",t);return o_._create(r,n)}function wb(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fk(e)&&n.indexOf("/")!==-1)throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!fe.isDocumentKey(r))throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return LS(t,new fe(r))}if(n instanceof Ct)return LS(t,n._key);throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${am(n)}.`)}function xb(t,e){if(!Array.isArray(t)||t.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H2(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _K{convertValue(e,n="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return no(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Zf].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>bt(o.doubleValue));return new ls(n)}convertGeoPoint(e){return new as(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=um(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const n=$i(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Ge(a2(r),9688,{name:e});const s=new Hu(r.get(1),r.get(3)),i=new fe(r.popFirst(5));return s.isEqual(n)||Bs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class $c{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oo extends B2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Oo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Oo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oo._jsonSchema={type:Mt("string",Oo._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class rf extends Oo{data(e={}){return super.data(e)}}class ll{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new $c(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rf(this._firestore,this._userDataWriter,r.key,r,new $c(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new rf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new $c(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new rf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new $c(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:EK(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ax.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){t=Lr(t,Ct);const e=Lr(t.firestore,da);return aK(Zx(e),t._key).then(n=>TK(e,t,n))}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:Mt("string",ll._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class q2 extends _K{constructor(e){super(),this.firestore=e}convertBytes(e){return new ir(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function Cd(t){t=Lr(t,ua);const e=Lr(t.firestore,da),n=Zx(e),r=new q2(e);return xK(t._query),lK(n,t._query).then(s=>new ll(e,r,t,s))}function Na(t,e,n){t=Lr(t,Ct);const r=Lr(t.firestore,da),s=K2(t.converter,e,n);return Cm(r,[V2(Em(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,cr.none())])}function lp(t,e,n,...r){t=Lr(t,Ct);const s=Lr(t.firestore,da),i=Em(s);let o;return o=typeof(e=yt(e))=="string"||e instanceof xm?gK(i,"updateDoc",t._key,e,n,r):mK(i,"updateDoc",t._key,e),Cm(s,[o.toMutation(t._key,cr.exists(!0))])}function G2(t){return Cm(Lr(t.firestore,da),[new Lx(t._key,cr.none())])}function a_(t,e){const n=Lr(t.firestore,da),r=Gt(t),s=K2(t.converter,e);return Cm(n,[V2(Em(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,cr.exists(!1))]).then(()=>r)}function Cm(t,e){return function(r,s){const i=new Ns;return r.asyncQueue.enqueueAndForget(async()=>QH(await oK(r),s,i)),i.promise}(Zx(t),e)}function TK(t,e,n){const r=n.docs.get(e._key),s=new q2(t);return new Oo(t,s,e._key,r,new $c(n.hasPendingWrites,n.fromCache),e.converter)}function cn(){return new t_("serverTimestamp")}(function(e,n=!0){(function(s){tc=s})(Zl),Dr(new mr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new da(new g8(r.getProvider("auth-internal")),new w8(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new re(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ln(TS,SS,e),Ln(TS,SS,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK="type.googleapis.com/google.protobuf.Int64Value",bK="type.googleapis.com/google.protobuf.UInt64Value";function Q2(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function cp(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>cp(e));if(typeof t=="function"||typeof t=="object")return Q2(t,e=>cp(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Ol(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case SK:case bK:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Ol(e)):typeof t=="function"||typeof t=="object"?Q2(t,e=>Ol(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nn extends gr{constructor(e,n,r){super(`${l_}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Nn.prototype)}}function IK(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function up(t,e){let n=IK(t),r=n,s;try{const i=e&&e.error;if(i){const o=i.status;if(typeof o=="string"){if(!_b[o])return new Nn("internal","internal");n=_b[o],r=o}const a=i.message;typeof a=="string"&&(r=a),s=i.details,s!==void 0&&(s=Ol(s))}}catch{}return n==="ok"?null:new Nn(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,zn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s==null||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="us-central1",AK=/^data: (.*?)(?:\n|$)/;function PK(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Nn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class RK{constructor(e,n,r,s,i=p0,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new CK(e,n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=p0}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function NK(t,e,n){const r=eo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(mx(t.emulatorOrigin+"/backends"),gx("Functions",!0))}function kK(t,e,n){const r=s=>DK(t,e,s,{});return r.stream=(s,i)=>LK(t,e,s,i),r}function Y2(t){return t.emulatorOrigin&&eo(t.emulatorOrigin)?"include":void 0}async function MK(t,e,n,r,s){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:Y2(s)})}catch{return{status:0,json:null}}let o=null;try{o=await i.json()}catch{}return{status:i.status,json:o}}async function X2(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function DK(t,e,n,r){const s=t._url(e);return OK(t,s,n,r)}async function OK(t,e,n,r){n=cp(n);const s={data:n},i=await X2(t,r),o=r.timeout||7e4,a=PK(o),l=await Promise.race([MK(e,s,i,t.fetchImpl,t),a.promise,t.cancelAllRequests]);if(a.cancel(),!l)throw new Nn("cancelled","Firebase Functions instance was deleted.");const c=up(l.status,l.json);if(c)throw c;if(!l.json)throw new Nn("internal","Response is not valid JSON object.");let d=l.json.data;if(typeof d>"u"&&(d=l.json.result),typeof d>"u")throw new Nn("internal","Response is missing data field.");return{data:Ol(d)}}function LK(t,e,n,r){const s=t._url(e);return jK(t,s,n,r||{})}async function jK(t,e,n,r){var p;n=cp(n);const s={data:n},i=await X2(t,r);i["Content-Type"]="application/json",i.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:i,signal:r==null?void 0:r.signal,credentials:Y2(t)})}catch(m){if(m instanceof Error&&m.name==="AbortError"){const g=new Nn("cancelled","Request was cancelled.");return{data:Promise.reject(g),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(g)}}}}}}const T=up(0,null);return{data:Promise.reject(T),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(T)}}}}}}let a,l;const c=new Promise((m,T)=>{a=m,l=T});(p=r==null?void 0:r.signal)==null||p.addEventListener("abort",()=>{const m=new Nn("cancelled","Request was cancelled.");l(m)});const d=o.body.getReader(),h=VK(d,a,l,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const m=h.getReader();return{async next(){const{value:T,done:g}=await m.read();return{value:T,done:g}},async return(){return await m.cancel(),{done:!0,value:void 0}}}}},data:c}}function VK(t,e,n,r){const s=(o,a)=>{const l=o.match(AK);if(!l)return;const c=l[1];try{const d=JSON.parse(c);if("result"in d){e(Ol(d.result));return}if("message"in d){a.enqueue(Ol(d.message));return}if("error"in d){const h=up(0,d);a.error(h),n(h);return}}catch(d){if(d instanceof Nn){a.error(d),n(d);return}}},i=new TextDecoder;return new ReadableStream({start(o){let a="";return l();async function l(){if(r!=null&&r.aborted){const c=new Nn("cancelled","Request was cancelled");return o.error(c),n(c),Promise.resolve()}try{const{value:c,done:d}=await t.read();if(d){a.trim()&&s(a.trim(),o),o.close();return}if(r!=null&&r.aborted){const p=new Nn("cancelled","Request was cancelled");o.error(p),n(p),await t.cancel();return}a+=i.decode(c,{stream:!0});const h=a.split(`
`);a=h.pop()||"";for(const p of h)p.trim()&&s(p.trim(),o);return l()}catch(c){const d=c instanceof Nn?c:up(0,null);o.error(d),n(d)}}},cancel(){return t.cancel()}})}const Eb="@firebase/functions",Tb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK="auth-internal",UK="app-check-internal",$K="messaging-internal";function BK(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),i=n.getProvider(FK),o=n.getProvider($K),a=n.getProvider(UK);return new RK(s,i,o,a,r)};Dr(new mr(l_,e,"PUBLIC").setMultipleInstances(!0)),Ln(Eb,Tb,t),Ln(Eb,Tb,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(t=vx(),e=p0){const r=Jl(yt(t),l_).getImmediate({identifier:e}),s=gN("functions");return s&&WK(r,...s),r}function WK(t,e,n){NK(yt(t),e,n)}function HK(t,e,n){return kK(yt(t),e)}BK();const KK={apiKey:"AIzaSyBRYf_nDTQC-wzWZWjFyWjUKKWc5UHOe-I",authDomain:"voda-45a7f.firebaseapp.com",projectId:"voda-45a7f",storageBucket:"voda-45a7f.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:abcdef123456",measurementId:"G-DUMMY"},c_=J1().length?J1()[0]:bN(KK),Ei=h8(c_),ut=uK(c_),qK=zK(c_,"us-central1"),GK=null;console.log("Using Firebase Production Environment");const QK="modulepreload",YK=function(t){return"/"+t},Sb={},XK=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=YK(l),l in Sb)return;Sb[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":QK,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Jr=t=>t&&t.toDate?t.toDate():new Date,To={async create(t){await Na(Gt(ut,"profiles",t.userId),{userId:t.userId,shopId:t.shopId,role:t.role,fullName:t.fullName,phone:t.phone,createdAt:cn()})},async getById(t){const e=Gt(ut,"profiles",t),n=await Xu(e);if(n.exists()){const r=n.data();return{userId:n.id,...r,createdAt:Jr(r.createdAt)}}return null},async update(t,e){const n=Gt(ut,"profiles",t);await lp(n,{...e,updatedAt:cn()})},async getByShopId(t){const e=bm(Ki(ut,"profiles"),ap("shopId","==",t));return(await Cd(e)).docs.map(r=>{const s=r.data();return{userId:r.id,...s,createdAt:Jr(s.createdAt)}})}},JK={async create(t){return(await a_(Ki(ut,"shops"),{...t,createdAt:cn(),updatedAt:cn()})).id},async getAll(){try{console.log("Getting all shops...");const t=await Cd(Ki(ut,"shops"));console.log("Shops snapshot size:",t.size);const e=t.docs.map(n=>{const r=n.data();return console.log("Shop data:",{id:n.id,...r}),{id:n.id,...r,createdAt:Jr(r.createdAt),updatedAt:Jr(r.updatedAt)}});return console.log("Returning shops:",e),e}catch(t){throw console.error("Error in shopService.getAll:",t),t}},async getById(t){const e=Gt(ut,"shops",t),n=await Xu(e);if(n.exists()){const r=n.data();return{id:n.id,...r,createdAt:Jr(r.createdAt),updatedAt:Jr(r.updatedAt)}}return null},async update(t,e){const n=Gt(ut,"shops",t);await lp(n,{...e,updatedAt:cn()})}},or={async create(t){return(await a_(Ki(ut,"merchantWallets"),{...t,transferLimit:t.transferLimit||2e5,withdrawLimit:t.withdrawLimit||2e5,transferUsage:t.transferUsage||0,withdrawUsage:t.withdrawUsage||0,createdAt:cn(),updatedAt:cn()})).id},async getByMerchantId(t){const e=bm(Ki(ut,"merchantWallets"),ap("merchantUserId","==",t),W2("createdAt","desc"));return(await Cd(e)).docs.map(r=>{const s=r.data();return{id:r.id,...s,transferLimit:s.transferLimit||2e5,withdrawLimit:s.withdrawLimit||2e5,transferUsage:s.transferUsage||0,withdrawUsage:s.withdrawUsage||0,createdAt:Jr(s.createdAt),updatedAt:Jr(s.updatedAt)}})},async getById(t){const e=Gt(ut,"merchantWallets",t),n=await Xu(e);if(n.exists()){const r=n.data();return{id:n.id,...r,transferLimit:r.transferLimit||2e5,withdrawLimit:r.withdrawLimit||2e5,transferUsage:r.transferUsage||0,withdrawUsage:r.withdrawUsage||0,createdAt:Jr(r.createdAt),updatedAt:Jr(r.updatedAt)}}return null},async update(t,e){const n=Gt(ut,"merchantWallets",t);await lp(n,{...e,updatedAt:cn()})},async updateUsage(t,e,n){const r=Gt(ut,"merchantWallets",t),s={updatedAt:cn()};e!==void 0&&(s.transferUsage=e),n!==void 0&&(s.withdrawUsage=n),await lp(r,s)},async resetDailyUsage(t){const n=(await this.getByMerchantId(t)).map(r=>this.updateUsage(r.id,0,0));await Promise.all(n)},async delete(t){const e=Gt(ut,"merchantWallets",t);await G2(e)}},ZK=Object.freeze(Object.defineProperty({__proto__:null,merchantWalletService:or,profileService:To,shopService:JK},Symbol.toStringTag,{value:"Module"})),eq=y.createContext(void 0);function tq({children:t}){const[e,n]=y.useState(null),[r,s]=y.useState(null),[i,o]=y.useState(!0),a=async m=>{try{o(!0);const T=await To.getById(m);T?s(T):console.error("No profile found for user")}catch(T){console.error("Error fetching profile:",T)}finally{o(!1)}},l=async()=>{e&&await a(e.uid)};y.useEffect(()=>{const m=ek(Ei,async T=>{n(T),T?await a(T.uid):s(null),o(!1)});return()=>m()},[]);const p={user:e,profile:r,loading:i,signUp:async(m,T,g)=>{try{const _=await JN(Ei,m,T);return _.user&&await To.create({userId:_.user.uid,role:"merchant",fullName:(g==null?void 0:g.fullName)||null,phone:(g==null?void 0:g.phone)||null,shopId:""}),{error:null}}catch(_){return console.error("Error during sign up:",_),{error:_}}},signIn:async(m,T)=>{try{return await ZN(Ei,m,T),{error:null}}catch(g){return console.error("Error during sign in:",g),{error:g}}},signOut:async()=>{try{await tk(Ei)}catch(m){console.error("Error during sign out:",m)}},refreshProfile:l};return f.jsx(eq.Provider,{value:p,children:t})}const J2=y.createContext(void 0);function nq(){const t=y.useContext(J2);if(t===void 0)throw new Error("useFirebaseAuth must be used within a FirebaseAuthProvider");return t}const so=nq,rq=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(null),[i,o]=y.useState(!0),a=async g=>{try{const _=await To.getById(g);_?s(_):await l(g)}catch(_){console.error("Error fetching profile:",_),await l(g)}},l=async g=>{try{console.log("Creating default profile for user:",g);const _={userId:g,shopId:"admin-shop",role:"admin",fullName:" ",phone:null,createdAt:new Date,updatedAt:new Date};s(_),console.log("Created temporary profile:",_);try{const{shopService:E}=await XK(async()=>{const{shopService:A}=await Promise.resolve().then(()=>ZK);return{shopService:A}},void 0);let x="admin-shop";try{console.log("Attempting to get shops");const A=await E.getAll();console.log("Shops retrieved:",A),A.length>0?(x=A[0].id,console.log("Using existing shop:",x)):(console.log("No shops found, creating default shop"),x=await E.create({name:" ",logoUrl:null}))}catch(A){console.error("Error getting/creating shop:",A),x="admin-shop"}await To.create({userId:g,shopId:x,role:"admin",fullName:" ",phone:null});const w=await To.getById(g);w&&(s(w),console.log("Updated with Firebase profile:",w))}catch{console.log("Using local profile - Firebase unavailable")}}catch(_){console.error("Error creating default profile:",_)}};y.useEffect(()=>{console.log("Setting up auth state listener");const g=ek(Ei,async _=>{if(console.log("Auth state changed:",_==null?void 0:_.uid),n(_),_){console.log("User authenticated, fetching profile for:",_.uid);const E=new Promise((x,w)=>setTimeout(()=>w(new Error("Profile fetch timeout")),5e3));try{await Promise.race([a(_.uid),E]),console.log("Profile fetched successfully")}catch(x){console.error("Error fetching profile:",x),console.log("Attempting to create default profile");try{await Promise.race([l(_.uid),E])}catch(w){console.error("Error creating default profile:",w),s({userId:_.uid,shopId:"temp-shop",role:"admin",fullName:" ",phone:null,createdAt:new Date,updatedAt:new Date})}}}else console.log("No user authenticated, setting profile to null"),s(null);console.log("Setting loading to false"),o(!1)});return()=>{console.log("Cleaning up auth state listener"),g()}},[]);const T={user:e,profile:r,loading:i,signUp:async(g,_,E)=>{try{const x=await JN(Ei,g,_);return E!=null&&E.fullName&&await hS(x.user,{displayName:E.fullName}),await l(x.user.uid),{error:null}}catch(x){return console.error("Sign up error:",x),{error:x}}},signIn:async(g,_)=>{try{return await ZN(Ei,g,_),{error:null}}catch(E){console.error("Sign in error:",E);let x="    ";return E.code==="auth/invalid-credential"?x="      ":E.code==="auth/user-not-found"?x="     ":E.code==="auth/wrong-password"?x="   ":E.code==="auth/too-many-requests"&&(x="      "),{error:{...E,message:x}}}},signOut:async()=>{try{await tk(Ei)}catch(g){console.error("Sign out error:",g)}},updateUserProfile:async g=>{if(!(!e||!r))try{g.fullName&&await hS(e,{displayName:g.fullName}),await To.update(e.uid,{fullName:g.fullName||r.fullName,phone:g.phone||r.phone}),s({...r,fullName:g.fullName||r.fullName,phone:g.phone||r.phone})}catch(_){console.error("Error updating profile:",_)}},refreshProfile:async()=>{if(e)try{console.log("Refreshing profile for user:",e.uid),await a(e.uid)}catch(g){console.error("Error refreshing profile:",g)}}};return f.jsx(J2.Provider,{value:T,children:t})},sq=()=>{const{user:t,profile:e,loading:n}=so(),r=Xl();return y.useEffect(()=>{console.log("Index: useEffect triggered",{loading:n,user:t==null?void 0:t.uid,profile:e==null?void 0:e.role}),n||(t?e?(console.log("Index: Profile found, navigating based on role:",e.role),e.role==="merchant"?r("/merchant"):(r("/landing"),console.log("User role not supported:",e.role))):console.log("Index: User exists but no profile yet, waiting..."):(console.log("Index: No user, navigating to landing"),r("/landing")))},[t,e,n,r]),n?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:"  ..."})]})})},iq=qp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),be=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?F4:"button";return f.jsx(o,{className:Ae(iq({variant:e,size:n,className:t})),ref:i,...s})});be.displayName="Button";const ks=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ks.displayName="Card";const Ll=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ae("flex flex-col space-y-1.5 p-6",t),...e}));Ll.displayName="CardHeader";const jl=y.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:Ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));jl.displayName="CardTitle";const oq=y.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));oq.displayName="CardDescription";const Ms=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ae("p-6 pt-0",t),...e}));Ms.displayName="CardContent";const aq=y.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Ae("flex items-center p-6 pt-0",t),...e}));aq.displayName="CardFooter";function lq(){const t=[{icon:nu,title:"  ",description:"           "},{icon:WU,title:"  ",description:"         "},{icon:bv,title:" ",description:"       "},{icon:MU,title:" ",description:"        "}],e=[{name:"Vodafone Cash",color:"provider-vodafone"},{name:"Etisalat Cash",color:"provider-etisalat"},{name:"Orange Cash",color:"provider-orange"},{name:"InstaPay",color:"provider-instapay"}];return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-background",children:[f.jsx("header",{className:"container mx-auto px-4 py-6",children:f.jsxs("nav",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-8 w-8 gradient-primary rounded-lg flex items-center justify-center",children:f.jsx(nu,{className:"h-5 w-5 text-white"})}),f.jsx("span",{className:"text-xl font-bold",children:"CashyLink"})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Ia,{to:"/auth",children:f.jsx(be,{variant:"ghost",children:" "})}),f.jsx(Ia,{to:"/auth?mode=signup",children:f.jsxs(be,{className:"btn-primary",children:["  ",f.jsx(Lg,{className:"mr-2 h-4 w-4"})]})})]})]})}),f.jsx("section",{className:"container mx-auto px-4 py-20 text-center",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsx("h1",{className:"text-5xl font-bold mb-6 gradient-hero bg-clip-text text-transparent",children:"    "}),f.jsx("p",{className:"text-xl text-muted-foreground mb-8 leading-relaxed",children:"          "}),f.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:e.map(n=>f.jsx("div",{className:`px-4 py-2 ${n.color} text-white rounded-full text-sm font-medium shadow-lg`,children:n.name},n.name))}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsx(Ia,{to:"/auth?mode=signup",children:f.jsxs(be,{size:"lg",className:"btn-primary shadow-elegant",children:["  ",f.jsx(Lg,{className:"mr-2 h-5 w-5"})]})}),f.jsx(Ia,{to:"/auth",children:f.jsx(be,{size:"lg",variant:"outline",className:"border-primary text-primary hover:bg-primary/10",children:" "})})]})]})}),f.jsxs("section",{className:"container mx-auto px-4 py-20",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-3xl font-bold mb-4",children:" "}),f.jsx("p",{className:"text-muted-foreground text-lg",children:"      "})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((n,r)=>f.jsx(ks,{className:"card-glass hover:shadow-elegant transition-smooth group",children:f.jsxs(Ms,{className:"p-6 text-center",children:[f.jsx("div",{className:"h-12 w-12 gradient-primary rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:animate-pulse-glow transition-smooth",children:f.jsx(n.icon,{className:"h-6 w-6 text-white"})}),f.jsx("h3",{className:"text-lg font-semibold mb-2",children:n.title}),f.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})]})},r))})]}),f.jsx("section",{className:"container mx-auto px-4 py-20 bg-muted/30 rounded-3xl my-20",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-bold mb-6",children:" CashyLink"}),f.jsx("div",{className:"space-y-4",children:["    ","    ","   ","   ","   ","    "].map((n,r)=>f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(LU,{className:"h-5 w-5 text-success flex-shrink-0"}),f.jsx("span",{className:"text-foreground",children:n})]},r))})]}),f.jsx("div",{className:"relative",children:f.jsx("div",{className:"gradient-primary rounded-2xl p-8 shadow-elegant",children:f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 text-white",children:[f.jsx("h3",{className:"text-xl font-semibold mb-4",children:"  "}),f.jsx("p",{className:"text-white/80 mb-6",children:"        "}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-2 w-2 bg-white rounded-full animate-pulse"}),f.jsx("div",{className:"h-2 w-2 bg-white/60 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),f.jsx("div",{className:"h-2 w-2 bg-white/40 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})})})]})}),f.jsx("section",{className:"container mx-auto px-4 py-20 text-center",children:f.jsxs("div",{className:"max-w-2xl mx-auto",children:[f.jsx("h2",{className:"text-3xl font-bold mb-4",children:" "}),f.jsx("p",{className:"text-muted-foreground text-lg mb-8",children:"          "}),f.jsx(Ia,{to:"/auth?mode=signup",children:f.jsxs(be,{size:"lg",className:"btn-primary shadow-elegant",children:["  ",f.jsx(Lg,{className:"mr-2 h-5 w-5"})]})})]})}),f.jsx("footer",{className:"border-t border-border bg-card/50 py-8",children:f.jsxs("div",{className:"container mx-auto px-4 text-center",children:[f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[f.jsx("div",{className:"h-6 w-6 gradient-primary rounded flex items-center justify-center",children:f.jsx(nu,{className:"h-4 w-4 text-white"})}),f.jsx("span",{className:"font-semibold",children:"CashyLink"})]}),f.jsx("p",{className:"text-muted-foreground text-sm",children:" 2024 CashyLink.   ."})]})})]})}const Xe=y.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:Ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Xe.displayName="Input";function cq(){const[t]=gB(),e=t.get("mode")||"signin",[n,r]=y.useState(e==="signup"),[s,i]=y.useState(!1),[o,a]=y.useState({email:"admin@example.com",password:"password123",fullName:"",phone:""}),{signIn:l,signUp:c,user:d}=so(),{toast:h}=zl();if(d)return f.jsx(uN,{to:"/",replace:!0});const p=async m=>{m.preventDefault(),i(!0);try{if(n){const{error:T}=await c(o.email,o.password,{full_name:o.fullName,phone:o.phone});if(T)throw T;h({title:"   !",description:"     "})}else{const{error:T}=await l(o.email,o.password);if(T)throw T;h({title:" !",description:"      ..."})}}catch(T){h({title:"",description:T.message||"   ",variant:"destructive"})}finally{i(!1)}};return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-secondary/10 flex items-center justify-center p-4",children:f.jsxs(ks,{className:"w-full max-w-md",children:[f.jsxs(Ll,{className:"text-center",children:[f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[f.jsx("div",{className:"h-8 w-8 gradient-primary rounded-lg flex items-center justify-center",children:f.jsx(nu,{className:"h-5 w-5 text-white"})}),f.jsx("span",{className:"text-xl font-bold",children:"CashyLink"})]}),f.jsx(jl,{children:n?"  ":" "})]}),f.jsxs(Ms,{children:[f.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n&&f.jsxs(f.Fragment,{children:[f.jsx(Xe,{placeholder:" ",value:o.fullName,onChange:m=>a({...o,fullName:m.target.value}),required:!0}),f.jsx(Xe,{placeholder:" ",value:o.phone,onChange:m=>a({...o,phone:m.target.value})})]}),f.jsx(Xe,{type:"email",placeholder:" ",value:o.email,onChange:m=>a({...o,email:m.target.value}),required:!0}),f.jsx(Xe,{type:"password",placeholder:" ",value:o.password,onChange:m=>a({...o,password:m.target.value}),required:!0}),f.jsx(be,{type:"submit",className:"w-full btn-primary",disabled:s,children:s?" ...":n?" ":" "}),f.jsx(be,{type:"button",variant:"secondary",className:"w-full mt-2",onClick:()=>{a({email:"admin@example.com",password:"password123",fullName:"",phone:""}),setTimeout(()=>{const m=document.querySelector("form");m&&m.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},100)},children:"  "})]}),f.jsxs("div",{className:"text-center mt-6",children:[f.jsx("span",{className:"text-muted-foreground",children:n?" ":"  "}),f.jsx(be,{variant:"link",onClick:()=>r(!n),className:"text-primary",children:n?" ":" "})]}),f.jsx("div",{className:"text-center mt-4",children:f.jsx(Ia,{to:"/",children:f.jsx(be,{variant:"ghost",className:"text-muted-foreground",children:"  "})})})]})]})})}function uq(){const t=Xl(),{user:e,signIn:n,signOut:r}=so(),{toast:s}=zl(),[i,o]=y.useState(!1),[a,l]=y.useState({email:"admin@example.com",password:"password123"}),c=async h=>{h.preventDefault(),o(!0);try{const{error:p}=await n(a.email,a.password);if(p)throw p;s({title:"    !",description:"   "}),t("/dashboard")}catch(p){console.error("Login error:",p),s({title:"   ",description:p.message||"     ",variant:"destructive"})}finally{o(!1)}},d=()=>{l({email:"admin@example.com",password:"password123"}),setTimeout(()=>{const h=document.querySelector("form");h&&h.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},100)};return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-background to-indigo-50 flex items-center justify-center p-4",children:f.jsxs(ks,{className:"w-full max-w-md shadow-lg",children:[f.jsxs(Ll,{className:"text-center",children:[f.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[f.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:f.jsx(bv,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(nu,{className:"h-5 w-5 text-primary"}),f.jsx("span",{className:"text-xl font-bold text-primary",children:"CashyLink"})]})]}),f.jsx(jl,{className:"text-2xl font-bold text-gray-800",children:"  "}),f.jsx("p",{className:"text-muted-foreground mt-2",children:"     "})]}),f.jsxs(Ms,{children:[e?f.jsxs("div",{className:"space-y-4 text-center",children:[f.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[f.jsx("p",{className:"text-green-800 font-medium mb-2",children:"   "}),f.jsx("p",{className:"text-green-600 text-sm",children:e.email})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(be,{onClick:()=>t("/dashboard"),className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:" "}),f.jsx(be,{variant:"outline",onClick:async()=>{await r(),s({title:"   "})},className:"flex-1 border-red-200 text-red-600 hover:bg-red-50",children:" "})]})]}):f.jsxs("form",{onSubmit:c,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:" "}),f.jsx(Xe,{id:"email",type:"email",placeholder:"admin@example.com",value:a.email,onChange:h=>l(p=>({...p,email:h.target.value})),required:!0,className:"h-11"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:" "}),f.jsx(Xe,{id:"password",type:"password",placeholder:"",value:a.password,onChange:h=>l(p=>({...p,password:h.target.value})),required:!0,className:"h-11"})]}),f.jsx(be,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",disabled:i,children:i?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"  ..."]}):" "}),f.jsxs(be,{type:"button",variant:"outline",className:"w-full h-11 border-blue-200 text-blue-600 hover:bg-blue-50",onClick:d,disabled:i,children:[f.jsx(bv,{className:"w-4 h-4 mr-2"}),"   ()"]})]}),f.jsx("div",{className:"text-center mt-6 pt-4 border-t",children:f.jsx("p",{className:"text-xs text-muted-foreground",children:"    "})})]})]})})}var dq=y.createContext(void 0);function Am(t){const e=y.useContext(dq);return t||e||"ltr"}var ny=0;function u_(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bb()),document.body.insertAdjacentElement("beforeend",t[1]??bb()),ny++,()=>{ny===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ny--}},[])}function bb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ry="focusScope.autoFocusOnMount",sy="focusScope.autoFocusOnUnmount",Ib={bubbles:!1,cancelable:!0},hq="FocusScope",Pm=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=Vn(s),d=Vn(i),h=y.useRef(null),p=qe(e,g=>l(g)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let g=function(w){if(m.paused||!a)return;const A=w.target;a.contains(A)?h.current=A:ri(h.current,{select:!0})},_=function(w){if(m.paused||!a)return;const A=w.relatedTarget;A!==null&&(a.contains(A)||ri(h.current,{select:!0}))},E=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&ri(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",_);const x=new MutationObserver(E);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",_),x.disconnect()}}},[r,a,m.paused]),y.useEffect(()=>{if(a){Ab.add(m);const g=document.activeElement;if(!a.contains(g)){const E=new CustomEvent(ry,Ib);a.addEventListener(ry,c),a.dispatchEvent(E),E.defaultPrevented||(fq(vq(Z2(a)),{select:!0}),document.activeElement===g&&ri(a))}return()=>{a.removeEventListener(ry,c),setTimeout(()=>{const E=new CustomEvent(sy,Ib);a.addEventListener(sy,d),a.dispatchEvent(E),E.defaultPrevented||ri(g??document.body,{select:!0}),a.removeEventListener(sy,d),Ab.remove(m)},0)}}},[a,c,d,m]);const T=y.useCallback(g=>{if(!n&&!r||m.paused)return;const _=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(_&&E){const x=g.currentTarget,[w,A]=pq(x);w&&A?!g.shiftKey&&E===A?(g.preventDefault(),n&&ri(w,{select:!0})):g.shiftKey&&E===w&&(g.preventDefault(),n&&ri(A,{select:!0})):E===x&&g.preventDefault()}},[n,r,m.paused]);return f.jsx(xe.div,{tabIndex:-1,...o,ref:p,onKeyDown:T})});Pm.displayName=hq;function fq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ri(r,{select:e}),document.activeElement!==n)return}function pq(t){const e=Z2(t),n=Cb(e,t),r=Cb(e.reverse(),t);return[n,r]}function Z2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Cb(t,e){for(const n of t)if(!mq(n,{upTo:e}))return n}function mq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function gq(t){return t instanceof HTMLInputElement&&"select"in t}function ri(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&gq(t)&&e&&t.select()}}var Ab=yq();function yq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Pb(t,e),t.unshift(e)},remove(e){var n;t=Pb(t,e),(n=t[0])==null||n.resume()}}}function Pb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function vq(t){return t.filter(e=>e.tagName!=="A")}var iy="rovingFocusGroup.onEntryFocus",wq={bubbles:!1,cancelable:!0},Ad="RovingFocusGroup",[m0,eM,xq]=Wp(Ad),[_q,Rm]=Vr(Ad,[xq]),[Eq,Tq]=_q(Ad),tM=y.forwardRef((t,e)=>f.jsx(m0.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(m0.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Sq,{...t,ref:e})})}));tM.displayName=Ad;var Sq=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,p=y.useRef(null),m=qe(e,p),T=Am(i),[g,_]=Wo({prop:o,defaultProp:a??null,onChange:l,caller:Ad}),[E,x]=y.useState(!1),w=Vn(c),A=eM(n),N=y.useRef(!1),[O,I]=y.useState(0);return y.useEffect(()=>{const b=p.current;if(b)return b.addEventListener(iy,w),()=>b.removeEventListener(iy,w)},[w]),f.jsx(Eq,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(b=>_(b),[_]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(b=>b+1),[]),onFocusableItemRemove:y.useCallback(()=>I(b=>b-1),[]),children:f.jsx(xe.div,{tabIndex:E||O===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...t.style},onMouseDown:ne(t.onMouseDown,()=>{N.current=!0}),onFocus:ne(t.onFocus,b=>{const C=!N.current;if(b.target===b.currentTarget&&C&&!E){const P=new CustomEvent(iy,wq);if(b.currentTarget.dispatchEvent(P),!P.defaultPrevented){const M=A().filter(te=>te.focusable),D=M.find(te=>te.active),k=M.find(te=>te.id===g),ie=[D,k,...M].filter(Boolean).map(te=>te.ref.current);sM(ie,d)}}N.current=!1}),onBlur:ne(t.onBlur,()=>x(!1))})})}),nM="RovingFocusGroupItem",rM=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=ts(),c=i||l,d=Tq(nM,n),h=d.currentTabStopId===c,p=eM(n),{onFocusableItemAdd:m,onFocusableItemRemove:T,currentTabStopId:g}=d;return y.useEffect(()=>{if(r)return m(),()=>T()},[r,m,T]),f.jsx(m0.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:f.jsx(xe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:ne(t.onMouseDown,_=>{r?d.onItemFocus(c):_.preventDefault()}),onFocus:ne(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ne(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const E=Cq(_,d.orientation,d.dir);if(E!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let w=p().filter(A=>A.focusable).map(A=>A.ref.current);if(E==="last")w.reverse();else if(E==="prev"||E==="next"){E==="prev"&&w.reverse();const A=w.indexOf(_.currentTarget);w=d.loop?Aq(w,A+1):w.slice(A+1)}setTimeout(()=>sM(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});rM.displayName=nM;var bq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Iq(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Cq(t,e,n){const r=Iq(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bq[r]}function sM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Aq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var iM=tM,oM=rM,Pq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ta=new WeakMap,Sh=new WeakMap,bh={},oy=0,aM=function(t){return t&&(t.host||aM(t.parentNode))},Rq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=aM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Nq=function(t,e,n,r){var s=Rq(e,Array.isArray(t)?t:[t]);bh[n]||(bh[n]=new WeakMap);var i=bh[n],o=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),T=m!==null&&m!=="false",g=(Ta.get(p)||0)+1,_=(i.get(p)||0)+1;Ta.set(p,g),i.set(p,_),o.push(p),g===1&&T&&Sh.set(p,!0),_===1&&p.setAttribute(n,"true"),T||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return d(e),a.clear(),oy++,function(){o.forEach(function(h){var p=Ta.get(h)-1,m=i.get(h)-1;Ta.set(h,p),i.set(h,m),p||(Sh.has(h)||h.removeAttribute(r),Sh.delete(h)),m||h.removeAttribute(n)}),oy--,oy||(Ta=new WeakMap,Ta=new WeakMap,Sh=new WeakMap,bh={})}},d_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Pq(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Nq(r,s,n,"aria-hidden")):function(){return null}},Yr=function(){return Yr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yr.apply(this,arguments)};function lM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function kq(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var sf="right-scroll-bar-position",of="width-before-scroll-bar",Mq="with-scroll-bars-hidden",Dq="--removed-body-scroll-bar-size";function ay(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Oq(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Lq=typeof window<"u"?y.useLayoutEffect:y.useEffect,Rb=new WeakMap;function jq(t,e){var n=Oq(null,function(r){return t.forEach(function(s){return ay(s,r)})});return Lq(function(){var r=Rb.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ay(a,null)}),i.forEach(function(a){s.has(a)||ay(a,o)})}Rb.set(n,t)},[t]),n}function Vq(t){return t}function Fq(t,e){e===void 0&&(e=Vq);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function Uq(t){t===void 0&&(t={});var e=Fq(null);return e.options=Yr({async:!0,ssr:!1},t),e}var cM=function(t){var e=t.sideCar,n=lM(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Yr({},n))};cM.isSideCarExport=!0;function $q(t,e){return t.useMedium(e),cM}var uM=Uq(),ly=function(){},Nm=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:ly,onWheelCapture:ly,onTouchMoveCapture:ly}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,m=t.noRelative,T=t.noIsolation,g=t.inert,_=t.allowPinchZoom,E=t.as,x=E===void 0?"div":E,w=t.gapMode,A=lM(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,O=jq([n,e]),I=Yr(Yr({},A),s);return y.createElement(y.Fragment,null,d&&y.createElement(N,{sideCar:uM,removeScrollBar:c,shards:h,noRelative:m,noIsolation:T,inert:g,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:w}),o?y.cloneElement(y.Children.only(a),Yr(Yr({},I),{ref:O})):y.createElement(x,Yr({},I,{className:l,ref:O}),a))});Nm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nm.classNames={fullWidth:of,zeroRight:sf};var Bq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Bq();return e&&t.setAttribute("nonce",e),t}function Wq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Hq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Kq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=zq())&&(Wq(e,n),Hq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qq=function(){var t=Kq();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},dM=function(){var t=qq(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Gq={left:0,top:0,right:0,gap:0},cy=function(t){return parseInt(t||"",10)||0},Qq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[cy(n),cy(r),cy(s)]},Yq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Gq;var e=Qq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Xq=dM(),cl="data-scroll-locked",Jq=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Mq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(cl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(of,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sf," .").concat(sf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(of," .").concat(of,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(cl,`] {
    `).concat(Dq,": ").concat(a,`px;
  }
`)},Nb=function(){var t=parseInt(document.body.getAttribute(cl)||"0",10);return isFinite(t)?t:0},Zq=function(){y.useEffect(function(){return document.body.setAttribute(cl,(Nb()+1).toString()),function(){var t=Nb()-1;t<=0?document.body.removeAttribute(cl):document.body.setAttribute(cl,t.toString())}},[])},eG=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Zq();var i=y.useMemo(function(){return Yq(s)},[s]);return y.createElement(Xq,{styles:Jq(i,!e,s,n?"":"!important")})},g0=!1;if(typeof window<"u")try{var Ih=Object.defineProperty({},"passive",{get:function(){return g0=!0,!0}});window.addEventListener("test",Ih,Ih),window.removeEventListener("test",Ih,Ih)}catch{g0=!1}var Sa=g0?{passive:!1}:!1,tG=function(t){return t.tagName==="TEXTAREA"},hM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!tG(t)&&n[e]==="visible")},nG=function(t){return hM(t,"overflowY")},rG=function(t){return hM(t,"overflowX")},kb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=fM(t,r);if(s){var i=pM(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sG=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},iG=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},fM=function(t,e){return t==="v"?nG(e):rG(e)},pM=function(t,e){return t==="v"?sG(e):iG(e)},oG=function(t,e){return t==="h"&&e==="rtl"?-1:1},aG=function(t,e,n,r,s){var i=oG(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,p=0;do{if(!a)break;var m=pM(t,a),T=m[0],g=m[1],_=m[2],E=g-_-i*T;(T||E)&&fM(t,a)&&(h+=E,p+=T);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},Ch=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Mb=function(t){return[t.deltaX,t.deltaY]},Db=function(t){return t&&"current"in t?t.current:t},lG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},cG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},uG=0,ba=[];function dG(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(uG++)[0],i=y.useState(dM)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=kq([t.lockRef.current],(t.shards||[]).map(Db),!0).filter(Boolean);return g.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(g,_){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var E=Ch(g),x=n.current,w="deltaX"in g?g.deltaX:x[0]-E[0],A="deltaY"in g?g.deltaY:x[1]-E[1],N,O=g.target,I=Math.abs(w)>Math.abs(A)?"h":"v";if("touches"in g&&I==="h"&&O.type==="range")return!1;var b=kb(I,O);if(!b)return!0;if(b?N=I:(N=I==="v"?"h":"v",b=kb(I,O)),!b)return!1;if(!r.current&&"changedTouches"in g&&(w||A)&&(r.current=N),!N)return!0;var C=r.current||N;return aG(C,_,g,C==="h"?w:A,!0)},[]),l=y.useCallback(function(g){var _=g;if(!(!ba.length||ba[ba.length-1]!==i)){var E="deltaY"in _?Mb(_):Ch(_),x=e.current.filter(function(N){return N.name===_.type&&(N.target===_.target||_.target===N.shadowParent)&&lG(N.delta,E)})[0];if(x&&x.should){_.cancelable&&_.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(Db).filter(Boolean).filter(function(N){return N.contains(_.target)}),A=w.length>0?a(_,w[0]):!o.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),c=y.useCallback(function(g,_,E,x){var w={name:g,delta:_,target:E,should:x,shadowParent:hG(E)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(A){return A!==w})},1)},[]),d=y.useCallback(function(g){n.current=Ch(g),r.current=void 0},[]),h=y.useCallback(function(g){c(g.type,Mb(g),g.target,a(g,t.lockRef.current))},[]),p=y.useCallback(function(g){c(g.type,Ch(g),g.target,a(g,t.lockRef.current))},[]);y.useEffect(function(){return ba.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Sa),document.addEventListener("touchmove",l,Sa),document.addEventListener("touchstart",d,Sa),function(){ba=ba.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Sa),document.removeEventListener("touchmove",l,Sa),document.removeEventListener("touchstart",d,Sa)}},[]);var m=t.removeScrollBar,T=t.inert;return y.createElement(y.Fragment,null,T?y.createElement(i,{styles:cG(s)}):null,m?y.createElement(eG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function hG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const fG=$q(uM,dG);var km=y.forwardRef(function(t,e){return y.createElement(Nm,Yr({},t,{ref:e,sideCar:fG}))});km.classNames=Nm.classNames;var y0=["Enter"," "],pG=["ArrowDown","PageUp","Home"],mM=["ArrowUp","PageDown","End"],mG=[...pG,...mM],gG={ltr:[...y0,"ArrowRight"],rtl:[...y0,"ArrowLeft"]},yG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pd="Menu",[Ju,vG,wG]=Wp(Pd),[ha,gM]=Vr(Pd,[wG,Gl,Rm]),Mm=Gl(),yM=Rm(),[xG,fa]=ha(Pd),[_G,Rd]=ha(Pd),vM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Mm(e),[l,c]=y.useState(null),d=y.useRef(!1),h=Vn(i),p=Am(s);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),f.jsx(FR,{...a,children:f.jsx(xG,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:f.jsx(_G,{scope:e,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};vM.displayName=Pd;var EG="MenuAnchor",h_=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Mm(n);return f.jsx(ix,{...s,...r,ref:e})});h_.displayName=EG;var f_="MenuPortal",[TG,wM]=ha(f_,{forceMount:void 0}),xM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=fa(f_,e);return f.jsx(TG,{scope:e,forceMount:n,children:f.jsx(Fr,{present:n||i.open,children:f.jsx(fd,{asChild:!0,container:s,children:r})})})};xM.displayName=f_;var ur="MenuContent",[SG,p_]=ha(ur),_M=y.forwardRef((t,e)=>{const n=wM(ur,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=fa(ur,t.__scopeMenu),o=Rd(ur,t.__scopeMenu);return f.jsx(Ju.Provider,{scope:t.__scopeMenu,children:f.jsx(Fr,{present:r||i.open,children:f.jsx(Ju.Slot,{scope:t.__scopeMenu,children:o.modal?f.jsx(bG,{...s,ref:e}):f.jsx(IG,{...s,ref:e})})})})}),bG=y.forwardRef((t,e)=>{const n=fa(ur,t.__scopeMenu),r=y.useRef(null),s=qe(e,r);return y.useEffect(()=>{const i=r.current;if(i)return d_(i)},[]),f.jsx(m_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ne(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),IG=y.forwardRef((t,e)=>{const n=fa(ur,t.__scopeMenu);return f.jsx(m_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),CG=zo("MenuContent.ScrollLock"),m_=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:T,...g}=t,_=fa(ur,n),E=Rd(ur,n),x=Mm(n),w=yM(n),A=vG(n),[N,O]=y.useState(null),I=y.useRef(null),b=qe(e,I,_.onContentChange),C=y.useRef(0),P=y.useRef(""),M=y.useRef(0),D=y.useRef(null),k=y.useRef("right"),K=y.useRef(0),ie=T?km:y.Fragment,te=T?{as:CG,allowPinchZoom:!0}:void 0,J=j=>{var Y,je;const G=P.current+j,ae=A().filter(Ve=>!Ve.disabled),ee=document.activeElement,le=(Y=ae.find(Ve=>Ve.ref.current===ee))==null?void 0:Y.textValue,ue=ae.map(Ve=>Ve.textValue),Oe=FG(ue,G,le),Le=(je=ae.find(Ve=>Ve.textValue===Oe))==null?void 0:je.ref.current;(function Ve(Re){P.current=Re,window.clearTimeout(C.current),Re!==""&&(C.current=window.setTimeout(()=>Ve(""),1e3))})(G),Le&&setTimeout(()=>Le.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),u_();const F=y.useCallback(j=>{var ae,ee;return k.current===((ae=D.current)==null?void 0:ae.side)&&$G(j,(ee=D.current)==null?void 0:ee.area)},[]);return f.jsx(SG,{scope:n,searchRef:P,onItemEnter:y.useCallback(j=>{F(j)&&j.preventDefault()},[F]),onItemLeave:y.useCallback(j=>{var G;F(j)||((G=I.current)==null||G.focus(),O(null))},[F]),onTriggerLeave:y.useCallback(j=>{F(j)&&j.preventDefault()},[F]),pointerGraceTimerRef:M,onPointerGraceIntentChange:y.useCallback(j=>{D.current=j},[]),children:f.jsx(ie,{...te,children:f.jsx(Pm,{asChild:!0,trapped:s,onMountAutoFocus:ne(i,j=>{var G;j.preventDefault(),(G=I.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:f.jsx(Wl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:f.jsx(iM,{asChild:!0,...w,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:O,onEntryFocus:ne(l,j=>{E.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(ox,{role:"menu","aria-orientation":"vertical","data-state":jM(_.open),"data-radix-menu-content":"",dir:E.dir,...x,...g,ref:b,style:{outline:"none",...g.style},onKeyDown:ne(g.onKeyDown,j=>{const ae=j.target.closest("[data-radix-menu-content]")===j.currentTarget,ee=j.ctrlKey||j.altKey||j.metaKey,le=j.key.length===1;ae&&(j.key==="Tab"&&j.preventDefault(),!ee&&le&&J(j.key));const ue=I.current;if(j.target!==ue||!mG.includes(j.key))return;j.preventDefault();const Le=A().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);mM.includes(j.key)&&Le.reverse(),jG(Le)}),onBlur:ne(t.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(C.current),P.current="")}),onPointerMove:ne(t.onPointerMove,Zu(j=>{const G=j.target,ae=K.current!==j.clientX;if(j.currentTarget.contains(G)&&ae){const ee=j.clientX>K.current?"right":"left";k.current=ee,K.current=j.clientX}}))})})})})})})});_M.displayName=ur;var AG="MenuGroup",g_=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{role:"group",...r,ref:e})});g_.displayName=AG;var PG="MenuLabel",EM=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{...r,ref:e})});EM.displayName=PG;var dp="MenuItem",Ob="menu.itemSelect",Dm=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),o=Rd(dp,t.__scopeMenu),a=p_(dp,t.__scopeMenu),l=qe(e,i),c=y.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(Ob,{bubbles:!0,cancelable:!0});h.addEventListener(Ob,m=>r==null?void 0:r(m),{once:!0}),Hw(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return f.jsx(TM,{...s,ref:l,disabled:n,onClick:ne(t.onClick,d),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:ne(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:ne(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||y0.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Dm.displayName=dp;var TM=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=p_(dp,n),a=yM(n),l=y.useRef(null),c=qe(e,l),[d,h]=y.useState(!1),[p,m]=y.useState("");return y.useEffect(()=>{const T=l.current;T&&m((T.textContent??"").trim())},[i.children]),f.jsx(Ju.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:f.jsx(oM,{asChild:!0,...a,focusable:!r,children:f.jsx(xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ne(t.onPointerMove,Zu(T=>{r?o.onItemLeave(T):(o.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(t.onPointerLeave,Zu(T=>o.onItemLeave(T))),onFocus:ne(t.onFocus,()=>h(!0)),onBlur:ne(t.onBlur,()=>h(!1))})})})}),RG="MenuCheckboxItem",SM=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return f.jsx(PM,{scope:t.__scopeMenu,checked:n,children:f.jsx(Dm,{role:"menuitemcheckbox","aria-checked":hp(n)?"mixed":n,...s,ref:e,"data-state":v_(n),onSelect:ne(s.onSelect,()=>r==null?void 0:r(hp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});SM.displayName=RG;var bM="MenuRadioGroup",[NG,kG]=ha(bM,{value:void 0,onValueChange:()=>{}}),IM=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Vn(r);return f.jsx(NG,{scope:t.__scopeMenu,value:n,onValueChange:i,children:f.jsx(g_,{...s,ref:e})})});IM.displayName=bM;var CM="MenuRadioItem",AM=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=kG(CM,t.__scopeMenu),i=n===s.value;return f.jsx(PM,{scope:t.__scopeMenu,checked:i,children:f.jsx(Dm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":v_(i),onSelect:ne(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});AM.displayName=CM;var y_="MenuItemIndicator",[PM,MG]=ha(y_,{checked:!1}),RM=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=MG(y_,n);return f.jsx(Fr,{present:r||hp(i.checked)||i.checked===!0,children:f.jsx(xe.span,{...s,ref:e,"data-state":v_(i.checked)})})});RM.displayName=y_;var DG="MenuSeparator",NM=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});NM.displayName=DG;var OG="MenuArrow",kM=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Mm(n);return f.jsx(ax,{...s,...r,ref:e})});kM.displayName=OG;var LG="MenuSub",[Xne,MM]=ha(LG),Bc="MenuSubTrigger",DM=y.forwardRef((t,e)=>{const n=fa(Bc,t.__scopeMenu),r=Rd(Bc,t.__scopeMenu),s=MM(Bc,t.__scopeMenu),i=p_(Bc,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),f.jsx(h_,{asChild:!0,...c,children:f.jsx(TM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":jM(n.open),...t,ref:zp(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ne(t.onPointerMove,Zu(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ne(t.onPointerLeave,Zu(h=>{var m,T;d();const p=(m=n.content)==null?void 0:m.getBoundingClientRect();if(p){const g=(T=n.content)==null?void 0:T.dataset.side,_=g==="right",E=_?-5:5,x=p[_?"left":"right"],w=p[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+E,y:h.clientY},{x,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x,y:p.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ne(t.onKeyDown,h=>{var m;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||gG[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});DM.displayName=Bc;var OM="MenuSubContent",LM=y.forwardRef((t,e)=>{const n=wM(ur,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=fa(ur,t.__scopeMenu),o=Rd(ur,t.__scopeMenu),a=MM(OM,t.__scopeMenu),l=y.useRef(null),c=qe(e,l);return f.jsx(Ju.Provider,{scope:t.__scopeMenu,children:f.jsx(Fr,{present:r||i.open,children:f.jsx(Ju.Slot,{scope:t.__scopeMenu,children:f.jsx(m_,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ne(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ne(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ne(t.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),p=yG[o.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),d.preventDefault())})})})})})});LM.displayName=OM;function jM(t){return t?"open":"closed"}function hp(t){return t==="indeterminate"}function v_(t){return hp(t)?"indeterminate":t?"checked":"unchecked"}function jG(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function VG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function FG(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=VG(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function UG(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function $G(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return UG(n,e)}function Zu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var BG=vM,zG=h_,WG=xM,HG=_M,KG=g_,qG=EM,GG=Dm,QG=SM,YG=IM,XG=AM,JG=RM,ZG=NM,eQ=kM,tQ=DM,nQ=LM,Om="DropdownMenu",[rQ,Jne]=Vr(Om,[gM]),En=gM(),[sQ,VM]=rQ(Om),FM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=En(e),c=y.useRef(null),[d,h]=Wo({prop:s,defaultProp:i??!1,onChange:o,caller:Om});return f.jsx(sQ,{scope:e,triggerId:ts(),triggerRef:c,contentId:ts(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),modal:a,children:f.jsx(BG,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};FM.displayName=Om;var UM="DropdownMenuTrigger",$M=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=VM(UM,n),o=En(n);return f.jsx(zG,{asChild:!0,...o,children:f.jsx(xe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:zp(e,i.triggerRef),onPointerDown:ne(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ne(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});$M.displayName=UM;var iQ="DropdownMenuPortal",BM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=En(e);return f.jsx(WG,{...r,...n})};BM.displayName=iQ;var zM="DropdownMenuContent",WM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=VM(zM,n),i=En(n),o=y.useRef(!1);return f.jsx(HG,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ne(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ne(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WM.displayName=zM;var oQ="DropdownMenuGroup",aQ=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return f.jsx(KG,{...s,...r,ref:e})});aQ.displayName=oQ;var lQ="DropdownMenuLabel",HM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return f.jsx(qG,{...s,...r,ref:e})});HM.displayName=lQ;var cQ="DropdownMenuItem",KM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return f.jsx(GG,{...s,...r,ref:e})});KM.displayName=cQ;var uQ="DropdownMenuCheckboxItem",qM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return f.jsx(QG,{...s,...r,ref:e})});qM.displayName=uQ;var dQ="DropdownMenuRadioGroup",hQ=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return f.jsx(YG,{...s,...r,ref:e})});hQ.displayName=dQ;var fQ="DropdownMenuRadioItem",GM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return f.jsx(XG,{...s,...r,ref:e})});GM.displayName=fQ;var pQ="DropdownMenuItemIndicator",QM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return f.jsx(JG,{...s,...r,ref:e})});QM.displayName=pQ;var mQ="DropdownMenuSeparator",YM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return f.jsx(ZG,{...s,...r,ref:e})});YM.displayName=mQ;var gQ="DropdownMenuArrow",yQ=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return f.jsx(eQ,{...s,...r,ref:e})});yQ.displayName=gQ;var vQ="DropdownMenuSubTrigger",XM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return f.jsx(tQ,{...s,...r,ref:e})});XM.displayName=vQ;var wQ="DropdownMenuSubContent",JM=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=En(n);return f.jsx(nQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JM.displayName=wQ;var xQ=FM,_Q=$M,EQ=BM,ZM=WM,eD=HM,tD=KM,nD=qM,rD=GM,sD=QM,iD=YM,oD=XM,aD=JM;const TQ=xQ,SQ=_Q,bQ=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>f.jsxs(oD,{ref:s,className:Ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,f.jsx(DU,{className:"ml-auto h-4 w-4"})]}));bQ.displayName=oD.displayName;const IQ=y.forwardRef(({className:t,...e},n)=>f.jsx(aD,{ref:n,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));IQ.displayName=aD.displayName;const lD=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(EQ,{children:f.jsx(ZM,{ref:r,sideOffset:e,className:Ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));lD.displayName=ZM.displayName;const v0=y.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(tD,{ref:r,className:Ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));v0.displayName=tD.displayName;const CQ=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>f.jsxs(nD,{ref:s,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(sD,{children:f.jsx(iR,{className:"h-4 w-4"})})}),e]}));CQ.displayName=nD.displayName;const AQ=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(rD,{ref:r,className:Ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(sD,{children:f.jsx(jU,{className:"h-2 w-2 fill-current"})})}),e]}));AQ.displayName=rD.displayName;const cD=y.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(eD,{ref:r,className:Ae("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));cD.displayName=eD.displayName;const w0=y.forwardRef(({className:t,...e},n)=>f.jsx(iD,{ref:n,className:Ae("-mx-1 my-1 h-px bg-muted",t),...e}));w0.displayName=iD.displayName;const PQ=qp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function fp({className:t,variant:e,...n}){return f.jsx("div",{className:Ae(PQ({variant:e}),t),...n})}function RQ(){const{profile:t,signOut:e}=so(),n=s=>{switch(s){case"admin":return"";case"staff":return"";case"merchant":return"";default:return s}},r=s=>{switch(s){case"admin":return"bg-primary text-primary-foreground";case"staff":return"bg-secondary text-secondary-foreground";case"merchant":return"bg-success text-success-foreground";default:return"bg-muted text-muted-foreground"}};return f.jsx("header",{className:"h-16 border-b border-border bg-card/50 backdrop-blur-sm",children:f.jsxs("div",{className:"flex h-full items-center justify-between px-6",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("h1",{className:"text-xl font-bold text-foreground",children:"  "}),t&&f.jsx(fp,{className:r(t.role),children:n(t.role)})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs(be,{variant:"ghost",size:"icon",className:"relative",children:[f.jsx(kU,{className:"h-5 w-5"}),f.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-destructive text-xs text-destructive-foreground flex items-center justify-center",children:"3"})]}),f.jsxs(TQ,{children:[f.jsx(SQ,{asChild:!0,children:f.jsxs(be,{variant:"ghost",className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:f.jsx(Av,{className:"h-4 w-4 text-primary"})}),f.jsx("span",{className:"text-sm",children:(t==null?void 0:t.fullName)||""})]})}),f.jsxs(lD,{align:"end",className:"w-56",children:[f.jsx(cD,{children:""}),f.jsx(w0,{}),f.jsxs(v0,{children:[f.jsx($U,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:""})]}),f.jsx(w0,{}),f.jsxs(v0,{onClick:()=>e(),className:"text-destructive",children:[f.jsx(VU,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:" "})]})]})]})]})]})})}var w_="Progress",x_=100,[NQ,Zne]=Vr(w_),[kQ,MQ]=NQ(w_),uD=y.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=DQ,...o}=t;(s||s===0)&&!Lb(s)&&console.error(OQ(`${s}`,"Progress"));const a=Lb(s)?s:x_;r!==null&&!jb(r,a)&&console.error(LQ(`${r}`,"Progress"));const l=jb(r,a)?r:null,c=pp(l)?i(l,a):void 0;return f.jsx(kQ,{scope:n,value:l,max:a,children:f.jsx(xe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":pp(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":fD(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});uD.displayName=w_;var dD="ProgressIndicator",hD=y.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=MQ(dD,n);return f.jsx(xe.div,{"data-state":fD(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});hD.displayName=dD;function DQ(t,e){return`${Math.round(t/e*100)}%`}function fD(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function pp(t){return typeof t=="number"}function Lb(t){return pp(t)&&!isNaN(t)&&t>0}function jb(t,e){return pp(t)&&!isNaN(t)&&t<=e&&t>=0}function OQ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${x_}\`.`}function LQ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${x_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var pD=uD,jQ=hD;const zc=y.forwardRef(({className:t,value:e,...n},r)=>f.jsx(pD,{ref:r,className:Ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:f.jsx(jQ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));zc.displayName=pD.displayName;var VQ="Label",mD=y.forwardRef((t,e)=>f.jsx(xe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mD.displayName=VQ;var gD=mD;const FQ=qp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),nt=y.forwardRef(({className:t,...e},n)=>f.jsx(gD,{ref:n,className:Ae(FQ(),t),...e}));nt.displayName=gD.displayName;function Vb(t,[e,n]){return Math.min(n,Math.max(e,t))}function UQ(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var $Q=[" ","Enter","ArrowUp","ArrowDown"],BQ=[" ","Enter"],Xo="Select",[Lm,jm,zQ]=Wp(Xo),[oc,ere]=Vr(Xo,[zQ,Gl]),Vm=Gl(),[WQ,io]=oc(Xo),[HQ,KQ]=oc(Xo),yD=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:p,required:m,form:T}=t,g=Vm(e),[_,E]=y.useState(null),[x,w]=y.useState(null),[A,N]=y.useState(!1),O=Am(c),[I,b]=Wo({prop:r,defaultProp:s??!1,onChange:i,caller:Xo}),[C,P]=Wo({prop:o,defaultProp:a,onChange:l,caller:Xo}),M=y.useRef(null),D=_?T||!!_.closest("form"):!0,[k,K]=y.useState(new Set),ie=Array.from(k).map(te=>te.props.value).join(";");return f.jsx(FR,{...g,children:f.jsxs(WQ,{required:m,scope:e,trigger:_,onTriggerChange:E,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:A,onValueNodeHasChildrenChange:N,contentId:ts(),value:C,onValueChange:P,open:I,onOpenChange:b,dir:O,triggerPointerDownPosRef:M,disabled:p,children:[f.jsx(Lm.Provider,{scope:e,children:f.jsx(HQ,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(te=>{K(J=>new Set(J).add(te))},[]),onNativeOptionRemove:y.useCallback(te=>{K(J=>{const F=new Set(J);return F.delete(te),F})},[]),children:n})}),D?f.jsxs($D,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:C,onChange:te=>P(te.target.value),disabled:p,form:T,children:[C===void 0?f.jsx("option",{value:""}):null,Array.from(k)]},ie):null]})})};yD.displayName=Xo;var vD="SelectTrigger",wD=y.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Vm(n),o=io(vD,n),a=o.disabled||r,l=qe(e,o.onTriggerChange),c=jm(n),d=y.useRef("touch"),[h,p,m]=zD(g=>{const _=c().filter(w=>!w.disabled),E=_.find(w=>w.value===o.value),x=WD(_,g,E);x!==void 0&&o.onValueChange(x.value)}),T=g=>{a||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return f.jsx(ix,{asChild:!0,...i,children:f.jsx(xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":BD(o.value)?"":void 0,...s,ref:l,onClick:ne(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&T(g)}),onPointerDown:ne(s.onPointerDown,g=>{d.current=g.pointerType;const _=g.target;_.hasPointerCapture(g.pointerId)&&_.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(T(g),g.preventDefault())}),onKeyDown:ne(s.onKeyDown,g=>{const _=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(_&&g.key===" ")&&$Q.includes(g.key)&&(T(),g.preventDefault())})})})});wD.displayName=vD;var xD="SelectValue",_D=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=io(xD,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,h=qe(e,l.onValueNodeChange);return Jt(()=>{c(d)},[c,d]),f.jsx(xe.span,{...a,ref:h,style:{pointerEvents:"none"},children:BD(l.value)?f.jsx(f.Fragment,{children:o}):i})});_D.displayName=xD;var qQ="SelectIcon",ED=y.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(xe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});ED.displayName=qQ;var GQ="SelectPortal",TD=t=>f.jsx(fd,{asChild:!0,...t});TD.displayName=GQ;var Jo="SelectContent",SD=y.forwardRef((t,e)=>{const n=io(Jo,t.__scopeSelect),[r,s]=y.useState();if(Jt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?sa.createPortal(f.jsx(bD,{scope:t.__scopeSelect,children:f.jsx(Lm.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx(ID,{...t,ref:e})});SD.displayName=Jo;var xr=10,[bD,oo]=oc(Jo),QQ="SelectContentImpl",YQ=zo("SelectContent.RemoveScroll"),ID=y.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:T,hideWhenDetached:g,avoidCollisions:_,...E}=t,x=io(Jo,n),[w,A]=y.useState(null),[N,O]=y.useState(null),I=qe(e,Y=>A(Y)),[b,C]=y.useState(null),[P,M]=y.useState(null),D=jm(n),[k,K]=y.useState(!1),ie=y.useRef(!1);y.useEffect(()=>{if(w)return d_(w)},[w]),u_();const te=y.useCallback(Y=>{const[je,...Ve]=D().map(Me=>Me.ref.current),[Re]=Ve.slice(-1),Ne=document.activeElement;for(const Me of Y)if(Me===Ne||(Me==null||Me.scrollIntoView({block:"nearest"}),Me===je&&N&&(N.scrollTop=0),Me===Re&&N&&(N.scrollTop=N.scrollHeight),Me==null||Me.focus(),document.activeElement!==Ne))return},[D,N]),J=y.useCallback(()=>te([b,w]),[te,b,w]);y.useEffect(()=>{k&&J()},[k,J]);const{onOpenChange:F,triggerPointerDownPosRef:j}=x;y.useEffect(()=>{if(w){let Y={x:0,y:0};const je=Re=>{var Ne,Me;Y={x:Math.abs(Math.round(Re.pageX)-(((Ne=j.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((Me=j.current)==null?void 0:Me.y)??0))}},Ve=Re=>{Y.x<=10&&Y.y<=10?Re.preventDefault():w.contains(Re.target)||F(!1),document.removeEventListener("pointermove",je),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[w,F,j]),y.useEffect(()=>{const Y=()=>F(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[F]);const[G,ae]=zD(Y=>{const je=D().filter(Ne=>!Ne.disabled),Ve=je.find(Ne=>Ne.ref.current===document.activeElement),Re=WD(je,Y,Ve);Re&&setTimeout(()=>Re.ref.current.focus())}),ee=y.useCallback((Y,je,Ve)=>{const Re=!ie.current&&!Ve;(x.value!==void 0&&x.value===je||Re)&&(C(Y),Re&&(ie.current=!0))},[x.value]),le=y.useCallback(()=>w==null?void 0:w.focus(),[w]),ue=y.useCallback((Y,je,Ve)=>{const Re=!ie.current&&!Ve;(x.value!==void 0&&x.value===je||Re)&&M(Y)},[x.value]),Oe=r==="popper"?x0:CD,Le=Oe===x0?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:T,hideWhenDetached:g,avoidCollisions:_}:{};return f.jsx(bD,{scope:n,content:w,viewport:N,onViewportChange:O,itemRefCallback:ee,selectedItem:b,onItemLeave:le,itemTextRefCallback:ue,focusSelectedItem:J,selectedItemText:P,position:r,isPositioned:k,searchRef:G,children:f.jsx(km,{as:YQ,allowPinchZoom:!0,children:f.jsx(Pm,{asChild:!0,trapped:x.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:ne(s,Y=>{var je;(je=x.trigger)==null||je.focus({preventScroll:!0}),Y.preventDefault()}),children:f.jsx(Wl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:f.jsx(Oe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Y=>Y.preventDefault(),...E,...Le,onPlaced:()=>K(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:ne(E.onKeyDown,Y=>{const je=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!je&&Y.key.length===1&&ae(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let Re=D().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const Ne=Y.target,Me=Re.indexOf(Ne);Re=Re.slice(Me+1)}setTimeout(()=>te(Re)),Y.preventDefault()}})})})})})})});ID.displayName=QQ;var XQ="SelectItemAlignedPosition",CD=y.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=io(Jo,n),o=oo(Jo,n),[a,l]=y.useState(null),[c,d]=y.useState(null),h=qe(e,I=>d(I)),p=jm(n),m=y.useRef(!1),T=y.useRef(!0),{viewport:g,selectedItem:_,selectedItemText:E,focusSelectedItem:x}=o,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&_&&E){const I=i.trigger.getBoundingClientRect(),b=c.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=P.left-b.left,Me=C.left-Ne,wt=I.left-Me,jt=I.width+wt,L=Math.max(jt,b.width),$=window.innerWidth-xr,W=Vb(Me,[xr,Math.max(xr,$-L)]);a.style.minWidth=jt+"px",a.style.left=W+"px"}else{const Ne=b.right-P.right,Me=window.innerWidth-C.right-Ne,wt=window.innerWidth-I.right-Me,jt=I.width+wt,L=Math.max(jt,b.width),$=window.innerWidth-xr,W=Vb(Me,[xr,Math.max(xr,$-L)]);a.style.minWidth=jt+"px",a.style.right=W+"px"}const M=p(),D=window.innerHeight-xr*2,k=g.scrollHeight,K=window.getComputedStyle(c),ie=parseInt(K.borderTopWidth,10),te=parseInt(K.paddingTop,10),J=parseInt(K.borderBottomWidth,10),F=parseInt(K.paddingBottom,10),j=ie+te+k+F+J,G=Math.min(_.offsetHeight*5,j),ae=window.getComputedStyle(g),ee=parseInt(ae.paddingTop,10),le=parseInt(ae.paddingBottom,10),ue=I.top+I.height/2-xr,Oe=D-ue,Le=_.offsetHeight/2,Y=_.offsetTop+Le,je=ie+te+Y,Ve=j-je;if(je<=ue){const Ne=M.length>0&&_===M[M.length-1].ref.current;a.style.bottom="0px";const Me=c.clientHeight-g.offsetTop-g.offsetHeight,wt=Math.max(Oe,Le+(Ne?le:0)+Me+J),jt=je+wt;a.style.height=jt+"px"}else{const Ne=M.length>0&&_===M[0].ref.current;a.style.top="0px";const wt=Math.max(ue,ie+g.offsetTop+(Ne?ee:0)+Le)+Ve;a.style.height=wt+"px",g.scrollTop=je-ue+g.offsetTop}a.style.margin=`${xr}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,a,c,g,_,E,i.dir,r]);Jt(()=>w(),[w]);const[A,N]=y.useState();Jt(()=>{c&&N(window.getComputedStyle(c).zIndex)},[c]);const O=y.useCallback(I=>{I&&T.current===!0&&(w(),x==null||x(),T.current=!1)},[w,x]);return f.jsx(ZQ,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:O,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:f.jsx(xe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});CD.displayName=XQ;var JQ="SelectPopperPosition",x0=y.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=xr,...i}=t,o=Vm(n);return f.jsx(ox,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});x0.displayName=JQ;var[ZQ,__]=oc(Jo,{}),_0="SelectViewport",AD=y.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=oo(_0,n),o=__(_0,n),a=qe(e,i.onViewportChange),l=y.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Lm.Slot,{scope:n,children:f.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ne(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const T=window.innerHeight-xr*2,g=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),E=Math.max(g,_);if(E<T){const x=E+m,w=Math.min(T,x),A=x-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});AD.displayName=_0;var PD="SelectGroup",[eY,tY]=oc(PD),nY=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ts();return f.jsx(eY,{scope:n,id:s,children:f.jsx(xe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});nY.displayName=PD;var RD="SelectLabel",ND=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=tY(RD,n);return f.jsx(xe.div,{id:s.id,...r,ref:e})});ND.displayName=RD;var mp="SelectItem",[rY,kD]=oc(mp),MD=y.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=io(mp,n),l=oo(mp,n),c=a.value===r,[d,h]=y.useState(i??""),[p,m]=y.useState(!1),T=qe(e,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,r,s)}),g=ts(),_=y.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(rY,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:y.useCallback(x=>{h(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:f.jsx(Lm.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:f.jsx(xe.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:ne(o.onFocus,()=>m(!0)),onBlur:ne(o.onBlur,()=>m(!1)),onClick:ne(o.onClick,()=>{_.current!=="mouse"&&E()}),onPointerUp:ne(o.onPointerUp,()=>{_.current==="mouse"&&E()}),onPointerDown:ne(o.onPointerDown,x=>{_.current=x.pointerType}),onPointerMove:ne(o.onPointerMove,x=>{var w;_.current=x.pointerType,s?(w=l.onItemLeave)==null||w.call(l):_.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:ne(o.onKeyDown,x=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&x.key===" "||(BQ.includes(x.key)&&E(),x.key===" "&&x.preventDefault())})})})})});MD.displayName=mp;var Wc="SelectItemText",DD=y.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=io(Wc,n),a=oo(Wc,n),l=kD(Wc,n),c=KQ(Wc,n),[d,h]=y.useState(null),p=qe(e,E=>h(E),l.onItemTextChange,E=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,E,l.value,l.disabled)}),m=d==null?void 0:d.textContent,T=y.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:_}=c;return Jt(()=>(g(T),()=>_(T)),[g,_,T]),f.jsxs(f.Fragment,{children:[f.jsx(xe.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?sa.createPortal(i.children,o.valueNode):null]})});DD.displayName=Wc;var OD="SelectItemIndicator",LD=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return kD(OD,n).isSelected?f.jsx(xe.span,{"aria-hidden":!0,...r,ref:e}):null});LD.displayName=OD;var E0="SelectScrollUpButton",jD=y.forwardRef((t,e)=>{const n=oo(E0,t.__scopeSelect),r=__(E0,t.__scopeSelect),[s,i]=y.useState(!1),o=qe(e,r.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(FD,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});jD.displayName=E0;var T0="SelectScrollDownButton",VD=y.forwardRef((t,e)=>{const n=oo(T0,t.__scopeSelect),r=__(T0,t.__scopeSelect),[s,i]=y.useState(!1),o=qe(e,r.onScrollButtonChange);return Jt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(FD,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});VD.displayName=T0;var FD=y.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=oo("SelectScrollButton",n),o=y.useRef(null),a=jm(n),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),Jt(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),f.jsx(xe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ne(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ne(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ne(s.onPointerLeave,()=>{l()})})}),sY="SelectSeparator",UD=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(xe.div,{"aria-hidden":!0,...r,ref:e})});UD.displayName=sY;var S0="SelectArrow",iY=y.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Vm(n),i=io(S0,n),o=oo(S0,n);return i.open&&o.position==="popper"?f.jsx(ax,{...s,...r,ref:e}):null});iY.displayName=S0;var oY="SelectBubbleInput",$D=y.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=y.useRef(null),i=qe(r,s),o=UQ(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),f.jsx(xe.select,{...n,style:{...LP,...n.style},ref:i,defaultValue:e})});$D.displayName=oY;function BD(t){return t===""||t===void 0}function zD(t){const e=Vn(t),n=y.useRef(""),r=y.useRef(0),s=y.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function WD(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=aY(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function aY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var lY=yD,HD=wD,cY=_D,uY=ED,dY=TD,KD=SD,hY=AD,qD=ND,GD=MD,fY=DD,pY=LD,QD=jD,YD=VD,XD=UD;const af=lY,lf=cY,cu=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(HD,{ref:r,className:Ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(uY,{asChild:!0,children:f.jsx(oR,{className:"h-4 w-4 opacity-50"})})]}));cu.displayName=HD.displayName;const JD=y.forwardRef(({className:t,...e},n)=>f.jsx(QD,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(OU,{className:"h-4 w-4"})}));JD.displayName=QD.displayName;const ZD=y.forwardRef(({className:t,...e},n)=>f.jsx(YD,{ref:n,className:Ae("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(oR,{className:"h-4 w-4"})}));ZD.displayName=YD.displayName;const uu=y.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(dY,{children:f.jsxs(KD,{ref:s,className:Ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(JD,{}),f.jsx(hY,{className:Ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(ZD,{})]})}));uu.displayName=KD.displayName;const mY=y.forwardRef(({className:t,...e},n)=>f.jsx(qD,{ref:n,className:Ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));mY.displayName=qD.displayName;const In=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(GD,{ref:r,className:Ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(pY,{children:f.jsx(iR,{className:"h-4 w-4"})})}),f.jsx(fY,{children:e})]}));In.displayName=GD.displayName;const gY=y.forwardRef(({className:t,...e},n)=>f.jsx(XD,{ref:n,className:Ae("-mx-1 my-1 h-px bg-muted",t),...e}));gY.displayName=XD.displayName;var Fm="Dialog",[eO,tre]=Vr(Fm),[yY,Ur]=eO(Fm),tO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c,d]=Wo({prop:r,defaultProp:s??!1,onChange:i,caller:Fm});return f.jsx(yY,{scope:e,triggerRef:a,contentRef:l,contentId:ts(),titleId:ts(),descriptionId:ts(),open:c,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};tO.displayName=Fm;var nO="DialogTrigger",vY=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(nO,n),i=qe(e,s.triggerRef);return f.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":S_(s.open),...r,ref:i,onClick:ne(t.onClick,s.onOpenToggle)})});vY.displayName=nO;var E_="DialogPortal",[wY,rO]=eO(E_,{forceMount:void 0}),sO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ur(E_,e);return f.jsx(wY,{scope:e,forceMount:n,children:y.Children.map(r,o=>f.jsx(Fr,{present:n||i.open,children:f.jsx(fd,{asChild:!0,container:s,children:o})}))})};sO.displayName=E_;var gp="DialogOverlay",iO=y.forwardRef((t,e)=>{const n=rO(gp,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ur(gp,t.__scopeDialog);return i.modal?f.jsx(Fr,{present:r||i.open,children:f.jsx(_Y,{...s,ref:e})}):null});iO.displayName=gp;var xY=zo("DialogOverlay.RemoveScroll"),_Y=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(gp,n);return f.jsx(km,{as:xY,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(xe.div,{"data-state":S_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Zo="DialogContent",oO=y.forwardRef((t,e)=>{const n=rO(Zo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ur(Zo,t.__scopeDialog);return f.jsx(Fr,{present:r||i.open,children:i.modal?f.jsx(EY,{...s,ref:e}):f.jsx(TY,{...s,ref:e})})});oO.displayName=Zo;var EY=y.forwardRef((t,e)=>{const n=Ur(Zo,t.__scopeDialog),r=y.useRef(null),s=qe(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return d_(i)},[]),f.jsx(aO,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ne(t.onFocusOutside,i=>i.preventDefault())})}),TY=y.forwardRef((t,e)=>{const n=Ur(Zo,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return f.jsx(aO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),aO=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Ur(Zo,n),l=y.useRef(null),c=qe(e,l);return u_(),f.jsxs(f.Fragment,{children:[f.jsx(Pm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(Wl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":S_(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(SY,{titleId:a.titleId}),f.jsx(IY,{contentRef:l,descriptionId:a.descriptionId})]})]})}),T_="DialogTitle",lO=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(T_,n);return f.jsx(xe.h2,{id:s.titleId,...r,ref:e})});lO.displayName=T_;var cO="DialogDescription",uO=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(cO,n);return f.jsx(xe.p,{id:s.descriptionId,...r,ref:e})});uO.displayName=cO;var dO="DialogClose",hO=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ur(dO,n);return f.jsx(xe.button,{type:"button",...r,ref:e,onClick:ne(t.onClick,()=>s.onOpenChange(!1))})});hO.displayName=dO;function S_(t){return t?"open":"closed"}var fO="DialogTitleWarning",[nre,pO]=j4(fO,{contentName:Zo,titleName:T_,docsSlug:"dialog"}),SY=({titleId:t})=>{const e=pO(fO),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},bY="DialogDescriptionWarning",IY=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pO(bY).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},CY=tO,AY=sO,mO=iO,gO=oO,yO=lO,vO=uO,PY=hO;const b0=CY,RY=AY,wO=y.forwardRef(({className:t,...e},n)=>f.jsx(mO,{ref:n,className:Ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));wO.displayName=mO.displayName;const yp=y.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(RY,{children:[f.jsx(wO,{}),f.jsxs(gO,{ref:r,className:Ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(PY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(aR,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yp.displayName=gO.displayName;const vp=({className:t,...e})=>f.jsx("div",{className:Ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});vp.displayName="DialogHeader";const wp=y.forwardRef(({className:t,...e},n)=>f.jsx(yO,{ref:n,className:Ae("text-lg font-semibold leading-none tracking-tight",t),...e}));wp.displayName=yO.displayName;const NY=y.forwardRef(({className:t,...e},n)=>f.jsx(vO,{ref:n,className:Ae("text-sm text-muted-foreground",t),...e}));NY.displayName=vO.displayName;function kY({open:t,onOpenChange:e,wallet:n,onSuccess:r}){const[s,i]=y.useState({provider:(n==null?void 0:n.provider)||"",msisdn:(n==null?void 0:n.msisdn)||"",label:(n==null?void 0:n.label)||"",dailyLimit:(n==null?void 0:n.dailyLimit)||0,monthlyLimit:(n==null?void 0:n.monthlyLimit)||0,transferLimit:(n==null?void 0:n.transferLimit)||2e5,withdrawLimit:(n==null?void 0:n.withdrawLimit)||2e5}),[o,a]=y.useState(!1),[l,c]=y.useState(null),{user:d}=so(),{toast:h}=zl(),p=(g,_)=>{const E=g.slice(0,3);return _==="vodafone_cash"&&E==="010"||_==="orange_cash"&&E==="012"||_==="etisalat_cash"&&E==="011"||_==="instapay"&&E==="015"},m=g=>{switch(g){case"INVALID_MSISDN":return"   .";case"PROVIDER_MISMATCH":return"    .";case"ALREADY_EXISTS":return"   .";case"RLS_DENIED":return"    .";default:return"  ."}},T=async g=>{if(g.preventDefault(),c(null),!/^01\d{9}$/.test(s.msisdn)){c("  11    01.");return}if(!p(s.msisdn,s.provider)){c("      .");return}a(!0);try{const _={...s,merchantUserId:d==null?void 0:d.uid,isActive:!0,provider:s.provider};if(console.log("Saving wallet data:",_),n!=null&&n.id)await or.update(n.id,_),console.log("Wallet updated successfully"),r();else{console.log("Creating new wallet...");const E=await or.create(_);console.log("Wallet created with ID:",E);const x={id:E,..._,dailyUsage:0,monthlyUsage:0};console.log("Final wallet object:",x),r(x)}h({title:"  ",description:` ${n!=null&&n.id?"":""}  `}),e(!1)}catch(_){console.error("Error saving wallet:",_);let E="   ";_.code?E=m(_.code):_.message&&(E=_.message),h({title:"",description:E,variant:"destructive"})}finally{a(!1)}};return f.jsx(b0,{open:t,onOpenChange:e,children:f.jsxs(yp,{className:"sm:max-w-md",children:[f.jsx(vp,{children:f.jsx(wp,{children:n!=null&&n.id?" ":"  "})}),f.jsxs("form",{onSubmit:T,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"provider",children:""}),f.jsxs(af,{value:s.provider,onValueChange:g=>i({...s,provider:g}),disabled:o,children:[f.jsx(cu,{children:f.jsx(lf,{placeholder:" "})}),f.jsxs(uu,{children:[f.jsx(In,{value:"vodafone_cash",children:"Vodafone Cash"}),f.jsx(In,{value:"etisalat_cash",children:"Etisalat Cash"}),f.jsx(In,{value:"orange_cash",children:"Orange Cash"}),f.jsx(In,{value:"instapay",children:"InstaPay"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"msisdn",children:" "}),f.jsx(Xe,{id:"msisdn",placeholder:"01xxxxxxxxx",value:s.msisdn,onChange:g=>i({...s,msisdn:g.target.value}),disabled:o,required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"label",children:" ()"}),f.jsx(Xe,{id:"label",placeholder:"  ",value:s.label,onChange:g=>i({...s,label:g.target.value}),disabled:o})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"dailyLimit",children:"  (.)"}),f.jsx(Xe,{id:"dailyLimit",type:"number",min:"0",step:"0.01",value:s.dailyLimit,onChange:g=>i({...s,dailyLimit:parseFloat(g.target.value)||0}),disabled:o})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"monthlyLimit",children:"  (.)"}),f.jsx(Xe,{id:"monthlyLimit",type:"number",min:"0",step:"0.01",value:s.monthlyLimit,onChange:g=>i({...s,monthlyLimit:parseFloat(g.target.value)||0}),disabled:o})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"transferLimit",children:"  (.)"}),f.jsx(Xe,{id:"transferLimit",type:"number",min:"0",step:"0.01",value:s.transferLimit,onChange:g=>i({...s,transferLimit:parseFloat(g.target.value)||2e5}),disabled:o,placeholder:"200000"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"withdrawLimit",children:"  (.)"}),f.jsx(Xe,{id:"withdrawLimit",type:"number",min:"0",step:"0.01",value:s.withdrawLimit,onChange:g=>i({...s,withdrawLimit:parseFloat(g.target.value)||2e5}),disabled:o,placeholder:"200000"})]})]}),l&&f.jsx("div",{className:"text-red-600 text-sm mt-2",children:l}),f.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[f.jsx(be,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:o,children:""}),f.jsx(be,{type:"submit",disabled:o,className:"btn-primary",children:o?f.jsxs(f.Fragment,{children:[f.jsx(Sv,{className:"mr-2 h-4 w-4 animate-spin"})," "]}):n!=null&&n.id?" ":" "})]})]})]})})}const er={getCurrentMonthId(){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`},async getWalletUsage(t){try{const e=this.getCurrentMonthId(),n=Gt(ut,"users",t,"limits",e),r=await Xu(n);if(r.exists()){const i=r.data();return{walletId:t,used_transfer:i.used_transfer||0,used_withdraw:i.used_withdraw||0,monthly_limit:i.monthly_limit||2e5,last_reset:i.last_reset||null,updatedAt:i.updatedAt||tt.now()}}const s={walletId:t,used_transfer:0,used_withdraw:0,monthly_limit:2e5,last_reset:null,updatedAt:tt.now()};return await Na(n,{used_transfer:0,used_withdraw:0,monthly_limit:2e5,last_reset:null,updatedAt:cn()}),s}catch(e){return console.error("Error getting wallet usage:",e),null}},async resetWalletUsage(t){try{const e=this.getCurrentMonthId(),n=Gt(ut,"users",t,"limits",e);return await Na(n,{used_transfer:0,used_withdraw:0,last_reset:cn(),updatedAt:cn()},{merge:!0}),console.log(`     ${t} `),!0}catch(e){return console.error("    :",e),!1}},async calculateUsageFromTransactions(t){var e;try{const n=this.getCurrentMonthId(),r=Gt(ut,"users",t,"limits",n),s=await Xu(r),i=s.exists()?(e=s.data())==null?void 0:e.last_reset:null,o=bm(Ki(ut,"tx"),ap("uid","==",t),...i?[ap("createdAt",">=",i)]:[]),a=await Cd(o);let l=0,c=0;return a.forEach(d=>{const h=d.data();h.status==="completed"&&(h.type==="transfer"?l+=h.amount:h.type==="withdraw"&&(c+=h.amount))}),{used_transfer:l,used_withdraw:c}}catch(n){return console.error("     :",n),{used_transfer:0,used_withdraw:0}}},async getWalletUsageWithRefresh(t){try{const e=await this.getWalletUsage(t);if(!e)return null;const n=await this.calculateUsageFromTransactions(t);if(e.used_transfer!==n.used_transfer||e.used_withdraw!==n.used_withdraw){const r=this.getCurrentMonthId(),s=Gt(ut,"users",t,"limits",r);return await Na(s,{used_transfer:n.used_transfer,used_withdraw:n.used_withdraw,updatedAt:cn()},{merge:!0}),await this.getWalletUsage(t)}return e}catch(e){return console.error("      :",e),null}},calculateRemaining(t){return{remainingTransfer:Math.max(0,t.monthly_limit-t.used_transfer),remainingWithdraw:Math.max(0,t.monthly_limit-t.used_withdraw)}},async canPerformOperation(t,e,n){try{const r=await this.getWalletUsageWithRefresh(t);if(!r)return{canPerform:!1,message:"      "};const s=this.calculateRemaining(r);return n==="transfer"&&e>s.remainingTransfer?{canPerform:!1,message:`   . : ${s.remainingTransfer.toLocaleString()} .   ${r.monthly_limit.toLocaleString()} .`,remaining:s.remainingTransfer}:n==="withdraw"&&e>s.remainingWithdraw?{canPerform:!1,message:`   . : ${s.remainingWithdraw.toLocaleString()} .   ${r.monthly_limit.toLocaleString()} .`,remaining:s.remainingWithdraw}:{canPerform:!0}}catch(r){return console.error("Error checking operation limits:",r),{canPerform:!1,message:"    "}}},async updateUsage(t,e,n){try{const r=await this.getWalletUsageWithRefresh(t);if(!r)throw new Error("      ");const s=await this.canPerformOperation(t,e,n);if(!s.canPerform)throw new Error(s.message||"   ");const i=n==="transfer"?r.used_transfer+e:r.used_transfer,o=n==="withdraw"?r.used_withdraw+e:r.used_withdraw,a=this.getCurrentMonthId(),l=Gt(ut,"users",r.walletId,"limits",a);await Na(l,{used_transfer:i,used_withdraw:o,updatedAt:cn()},{merge:!0});const c=await this.getWalletUsageWithRefresh(t);if(!c)throw new Error("    ");return c}catch(r){throw console.error("Error updating wallet usage:",r),r}},async resetWalletUsageManually(t){try{const e=this.getCurrentMonthId(),n=Gt(ut,"users",t,"limits",e);await Na(n,{used_transfer:0,used_withdraw:0,last_reset:cn(),updatedAt:cn()},{merge:!0});const r=await this.getWalletUsageWithRefresh(t);if(!r)throw new Error("     ");return console.log(`     ${t} `),r}catch(e){throw console.error("Error resetting wallet usage:",e),e}},async getAllWalletsUsage(t){try{const n=(await or.getByMerchantId(t)).map(s=>this.getWalletUsageWithRefresh(s.id));return(await Promise.all(n)).filter(s=>s!==null)}catch(e){return console.error("Error getting all wallets usage:",e),[]}}};function MY(){const[t,e]=y.useState([]),[n,r]=y.useState(!0),[s,i]=y.useState(!1),[o,a]=y.useState(null),[l,c]=y.useState(!0),{user:d}=so(),{toast:h}=zl();y.useEffect(()=>{d!=null&&d.uid&&p()},[d==null?void 0:d.uid]);const p=async()=>{try{if(!(d!=null&&d.uid)){e([]),r(!1);return}r(!0);const w=await or.getByMerchantId(d.uid),A=await Promise.all(w.map(async N=>{try{const O=await er.getUsage(N.id);return{...N,dailyUsage:N.dailyUsage||0,monthlyUsage:N.monthlyUsage||0,transferUsage:(O==null?void 0:O.transferUsage)||0,withdrawUsage:(O==null?void 0:O.withdrawUsage)||0}}catch(O){return console.error(`Error loading usage for wallet ${N.id}:`,O),{...N,dailyUsage:N.dailyUsage||0,monthlyUsage:N.monthlyUsage||0,transferUsage:0,withdrawUsage:0}}}));e(A)}catch(w){console.error("Error fetching wallets from Firebase:",w),h({title:"",description:"     .    .",variant:"destructive"}),e([])}finally{r(!1)}},m=async(w,A)=>{try{await or.update(w,{isActive:!A});const N=t.map(O=>O.id===w?{...O,isActive:!O.isActive}:O);e(N),h({title:" ",description:` ${A?" ":""}  `})}catch(N){console.error("Error toggling wallet status:",N),h({title:"",description:"    ",variant:"destructive"})}},T=async(w,A)=>{if(window.confirm(`      ${A}

     .`))try{await or.delete(w);const O=t.filter(I=>I.id!==w);e(O),h({title:" ",description:"   "})}catch(O){console.error("Error deleting wallet:",O),h({title:"",description:"   ",variant:"destructive"})}},g=(w,A)=>{if(A===0)return"bg-muted";const N=w/A*100;return N>=100?"bg-destructive":N>=80?"bg-warning":"bg-success"},_=w=>{switch(w){case"vodafone_cash":return"bg-red-600";case"etisalat_cash":return"bg-green-600";case"orange_cash":return"bg-orange-600";case"instapay":return"bg-blue-600";default:return"bg-gray-600"}},E=w=>{switch(w){case"vodafone_cash":return"#dc2626";case"etisalat_cash":return"#16a34a";case"orange_cash":return"#ea580c";case"instapay":return"#2563eb";default:return"#6b7280"}},x=w=>{switch(w){case"vodafone_cash":return" ";case"etisalat_cash":return" ";case"orange_cash":return" ";case"instapay":return"";default:return w.replace("_"," ")}};return n?f.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"}),f.jsx("p",{className:"text-muted-foreground animate-pulse",children:"  ..."})]}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("h2",{className:"text-2xl font-bold",children:""}),f.jsxs(be,{variant:"outline",size:"sm",onClick:p,disabled:n,className:"flex items-center gap-2",children:[f.jsx("svg",{className:`w-4 h-4 ${n?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),""]})]}),l&&f.jsxs(be,{onClick:()=>{i(!0),c(!1)},className:"btn-primary",children:[f.jsx(Kh,{className:"ml-2 h-4 w-4"}),"  "]})]}),f.jsxs("div",{className:"grid gap-6",children:[t.map(w=>{var A,N,O,I,b,C;return f.jsxs(ks,{className:"card-glass hover:shadow-lg transition-all duration-300 border-l-4",style:{borderLeftColor:E(w.provider)},children:[f.jsx(Ll,{className:"pb-4",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(fp,{className:`${_(w.provider)} text-white font-medium px-3 py-1`,children:x(w.provider)}),f.jsx("div",{className:`w-3 h-3 rounded-full ${w.isActive?"bg-green-500":"bg-gray-400"}`,title:w.isActive?"":" "})]}),f.jsx(jl,{className:"text-xl font-bold text-primary",children:w.msisdn}),w.label&&f.jsxs("span",{className:"text-sm text-muted-foreground font-medium",children:["(",w.label,")"]})]})}),f.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-2",children:[f.jsx(be,{variant:"ghost",size:"sm",onClick:()=>{a(w),i(!0)},children:f.jsx(Iv,{className:"h-4 w-4"})}),f.jsx(be,{variant:"ghost",size:"sm",onClick:()=>m(w.id,w.isActive),children:w.isActive?f.jsx(zU,{className:"h-5 w-5 text-success"}):f.jsx(BU,{className:"h-5 w-5 text-muted-foreground"})}),f.jsx(be,{variant:"ghost",size:"sm",onClick:()=>T(w.id,w.msisdn),className:"text-destructive hover:text-destructive",children:f.jsx(Cv,{className:"h-4 w-4"})})]})]})}),f.jsx(Ms,{className:"pt-4",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-muted/30 rounded-lg p-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",children:[f.jsx("span",{className:"font-medium text-muted-foreground",children:" "}),f.jsxs("span",{className:"font-bold",children:[(A=w.dailyUsage)==null?void 0:A.toLocaleString()," / ",w.dailyLimit>0?w.dailyLimit.toLocaleString():""," "]})]}),f.jsx(zc,{value:w.dailyLimit>0?Math.min((w.dailyUsage||0)/w.dailyLimit*100,100):0,className:`h-3 ${g(w.dailyUsage||0,w.dailyLimit)}`}),f.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[w.dailyLimit>0?((w.dailyUsage||0)/w.dailyLimit*100).toFixed(1):0,"% "]})]}),f.jsxs("div",{className:"bg-muted/30 rounded-lg p-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",children:[f.jsx("span",{className:"font-medium text-muted-foreground",children:" "}),f.jsxs("span",{className:"font-bold",children:[(N=w.monthlyUsage)==null?void 0:N.toLocaleString()," / ",w.monthlyLimit>0?w.monthlyLimit.toLocaleString():""," "]})]}),f.jsx(zc,{value:w.monthlyLimit>0?Math.min((w.monthlyUsage||0)/w.monthlyLimit*100,100):0,className:`h-3 ${g(w.monthlyUsage||0,w.monthlyLimit)}`}),f.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[w.monthlyLimit>0?((w.monthlyUsage||0)/w.monthlyLimit*100).toFixed(1):0,"% "]})]}),f.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",children:[f.jsx("span",{className:"font-medium text-blue-700",children:" "}),f.jsxs("span",{className:"font-bold text-blue-900",children:[((O=w.transferUsage)==null?void 0:O.toLocaleString())||0," / ",((I=w.transferLimit)==null?void 0:I.toLocaleString())||2e5," "]})]}),f.jsx(zc,{value:w.transferLimit?Math.min((w.transferUsage||0)/w.transferLimit*100,100):0,className:"h-3 bg-blue-100"}),f.jsxs("div",{className:"text-xs text-blue-600 mt-1 text-right",children:[w.transferLimit?((w.transferUsage||0)/w.transferLimit*100).toFixed(1):0,"% "]})]}),f.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[f.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",children:[f.jsx("span",{className:"font-medium text-green-700",children:" "}),f.jsxs("span",{className:"font-bold text-green-900",children:[((b=w.withdrawUsage)==null?void 0:b.toLocaleString())||0," / ",((C=w.withdrawLimit)==null?void 0:C.toLocaleString())||2e5," "]})]}),f.jsx(zc,{value:w.withdrawLimit?Math.min((w.withdrawUsage||0)/w.withdrawLimit*100,100):0,className:"h-3 bg-green-100"}),f.jsxs("div",{className:"text-xs text-green-600 mt-1 text-right",children:[w.withdrawLimit?((w.withdrawUsage||0)/w.withdrawLimit*100).toFixed(1):0,"% "]})]})]})})]},w.id)}),t.length===0&&f.jsx(ks,{className:"card-glass",children:f.jsxs(Ms,{className:"text-center py-16",children:[f.jsx("div",{className:"bg-muted/30 rounded-full w-24 h-24 mx-auto mb-6 flex items-center justify-center",children:f.jsx(Kh,{className:"w-12 h-12 text-muted-foreground"})}),f.jsx("h3",{className:"text-xl font-semibold mb-2",children:"  "}),f.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"         "}),l&&f.jsxs(be,{onClick:()=>{i(!0),c(!1)},size:"lg",className:"btn-primary px-8",children:[f.jsx(Kh,{className:"w-5 h-5 ml-2"}),"  "]})]})})]}),f.jsx(kY,{open:s,onOpenChange:w=>{i(w),w||(a(null),c(!0))},wallet:o,onSuccess:w=>{console.log("onSuccess called with:",w),console.log("editingWallet:",o),w&&!o?(console.log("Adding new wallet to list"),e(A=>{const N=[...A,w];return console.log("Updated wallets list:",N),N})):(console.log("Refreshing wallets from Firebase"),p()),i(!1),a(null),c(!0)}})]})}function DY(){const{user:t,profile:e,loading:n}=so();return y.useEffect(()=>{!n&&(!t||!e||e.role!=="merchant")&&(window.location.href="/auth")},[t,e,n]),n?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):!t||!e||e.role!=="merchant"?null:f.jsxs("div",{className:"min-h-screen bg-background",children:[f.jsx(RQ,{}),f.jsx("main",{className:"container mx-auto p-6",children:f.jsxs(dN,{children:[f.jsx(Wr,{path:"/",element:f.jsx(uN,{to:"/merchant/wallets",replace:!0})}),f.jsx(Wr,{path:"/wallets",element:f.jsx(MY,{})})]})})]})}const b_=y.createContext({});function I_(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const C_=typeof window<"u",xO=C_?y.useLayoutEffect:y.useEffect,Um=y.createContext(null);function A_(t,e){t.indexOf(e)===-1&&t.push(e)}function P_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ws=(t,e,n)=>n>e?e:n<t?t:n;let xp=()=>{};const Hs={},_O=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function EO(t){return typeof t=="object"&&t!==null}const TO=t=>/^0[^.\s]+$/u.test(t);function R_(t){let e;return()=>(e===void 0&&(e=t()),e)}const dr=t=>t,OY=(t,e)=>n=>e(t(n)),Nd=(...t)=>t.reduce(OY),ed=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class N_{constructor(){this.subscriptions=[]}add(e){return A_(this.subscriptions,e),()=>P_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cs=t=>t*1e3,us=t=>t/1e3;function SO(t,e){return e?t*(1e3/e):0}const bO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,LY=1e-7,jY=12;function VY(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=bO(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>LY&&++a<jY);return o}function kd(t,e,n,r){if(t===e&&n===r)return dr;const s=i=>VY(i,0,1,t,n);return i=>i===0||i===1?i:bO(s(i),e,r)}const IO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,CO=t=>e=>1-t(1-e),AO=kd(.33,1.53,.69,.99),k_=CO(AO),PO=IO(k_),RO=t=>(t*=2)<1?.5*k_(t):.5*(2-Math.pow(2,-10*(t-1))),M_=t=>1-Math.sin(Math.acos(t)),NO=CO(M_),kO=IO(M_),FY=kd(.42,0,1,1),UY=kd(0,0,.58,1),MO=kd(.42,0,.58,1),$Y=t=>Array.isArray(t)&&typeof t[0]!="number",DO=t=>Array.isArray(t)&&typeof t[0]=="number",Fb={linear:dr,easeIn:FY,easeInOut:MO,easeOut:UY,circIn:M_,circInOut:kO,circOut:NO,backIn:k_,backInOut:PO,backOut:AO,anticipate:RO},BY=t=>typeof t=="string",Ub=t=>{if(DO(t)){xp(t.length===4);const[e,n,r,s]=t;return kd(e,n,r,s)}else if(BY(t))return xp(Fb[t]!==void 0),Fb[t];return t},Ah=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],$b={value:null,addProjectionMetrics:null};function zY(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(h){o.has(h)&&(d.schedule(h),t()),l++,h(a)}const d={schedule:(h,p=!1,m=!1)=>{const g=m&&s?n:r;return p&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&$b.value&&$b.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const WY=40;function OO(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ah.reduce((w,A)=>(w[A]=zY(i,e?A:void 0),w),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:p,render:m,postRender:T}=o,g=()=>{const w=Hs.useManualTiming?s.timestamp:performance.now();n=!1,Hs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,WY),1)),s.timestamp=w,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),p.process(s),m.process(s),T.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},_=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:Ah.reduce((w,A)=>{const N=o[A];return w[A]=(O,I=!1,b=!1)=>(n||_(),N.schedule(O,I,b)),w},{}),cancel:w=>{for(let A=0;A<Ah.length;A++)o[Ah[A]].cancel(w)},state:s,steps:o}}const{schedule:ht,cancel:qi,state:Kt,steps:uy}=OO(typeof requestAnimationFrame<"u"?requestAnimationFrame:dr,!0);let cf;function HY(){cf=void 0}const kn={now:()=>(cf===void 0&&kn.set(Kt.isProcessing||Hs.useManualTiming?Kt.timestamp:performance.now()),cf),set:t=>{cf=t,queueMicrotask(HY)}},LO=t=>e=>typeof e=="string"&&e.startsWith(t),D_=LO("--"),KY=LO("var(--"),O_=t=>KY(t)?qY.test(t.split("/*")[0].trim()):!1,qY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ac={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},td={...ac,transform:t=>Ws(0,1,t)},Ph={...ac,default:1},du=t=>Math.round(t*1e5)/1e5,L_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GY(t){return t==null}const QY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,j_=(t,e)=>n=>!!(typeof n=="string"&&QY.test(n)&&n.startsWith(t)||e&&!GY(n)&&Object.prototype.hasOwnProperty.call(n,e)),jO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(L_);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},YY=t=>Ws(0,255,t),dy={...ac,transform:t=>Math.round(YY(t))},So={test:j_("rgb","red"),parse:jO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+dy.transform(t)+", "+dy.transform(e)+", "+dy.transform(n)+", "+du(td.transform(r))+")"};function XY(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const I0={test:j_("#"),parse:XY,transform:So.transform},Md=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),si=Md("deg"),ds=Md("%"),_e=Md("px"),JY=Md("vh"),ZY=Md("vw"),Bb={...ds,parse:t=>ds.parse(t)/100,transform:t=>ds.transform(t*100)},Ha={test:j_("hsl","hue"),parse:jO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ds.transform(du(e))+", "+ds.transform(du(n))+", "+du(td.transform(r))+")"},Rt={test:t=>So.test(t)||I0.test(t)||Ha.test(t),parse:t=>So.test(t)?So.parse(t):Ha.test(t)?Ha.parse(t):I0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?So.transform(t):Ha.transform(t),getAnimatableNone:t=>{const e=Rt.parse(t);return e.alpha=0,Rt.transform(e)}},eX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tX(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(L_))==null?void 0:e.length)||0)+(((n=t.match(eX))==null?void 0:n.length)||0)>0}const VO="number",FO="color",nX="var",rX="var(",zb="${}",sX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(sX,l=>(Rt.test(l)?(r.color.push(i),s.push(FO),n.push(Rt.parse(l))):l.startsWith(rX)?(r.var.push(i),s.push(nX),n.push(l)):(r.number.push(i),s.push(VO),n.push(parseFloat(l))),++i,zb)).split(zb);return{values:n,split:a,indexes:r,types:s}}function UO(t){return nd(t).values}function $O(t){const{split:e,types:n}=nd(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===VO?i+=du(s[o]):a===FO?i+=Rt.transform(s[o]):i+=s[o]}return i}}const iX=t=>typeof t=="number"?0:Rt.test(t)?Rt.getAnimatableNone(t):t;function oX(t){const e=UO(t);return $O(t)(e.map(iX))}const Gi={test:tX,parse:UO,createTransformer:$O,getAnimatableNone:oX};function hy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=hy(l,a,t+1/3),i=hy(l,a,t),o=hy(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function _p(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,fy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},lX=[I0,So,Ha],cX=t=>lX.find(e=>e.test(t));function Wb(t){const e=cX(t);if(!e)return!1;let n=e.parse(t);return e===Ha&&(n=aX(n)),n}const Hb=(t,e)=>{const n=Wb(t),r=Wb(e);if(!n||!r)return _p(t,e);const s={...n};return i=>(s.red=fy(n.red,r.red,i),s.green=fy(n.green,r.green,i),s.blue=fy(n.blue,r.blue,i),s.alpha=pt(n.alpha,r.alpha,i),So.transform(s))},C0=new Set(["none","hidden"]);function uX(t,e){return C0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function dX(t,e){return n=>pt(t,e,n)}function V_(t){return typeof t=="number"?dX:typeof t=="string"?O_(t)?_p:Rt.test(t)?Hb:pX:Array.isArray(t)?BO:typeof t=="object"?Rt.test(t)?Hb:hX:_p}function BO(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>V_(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function hX(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=V_(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function fX(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const pX=(t,e)=>{const n=Gi.createTransformer(e),r=nd(t),s=nd(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?C0.has(t)&&!s.values.length||C0.has(e)&&!r.values.length?uX(t,e):Nd(BO(fX(r,s),s.values),n):_p(t,e)};function zO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):V_(t)(t,e)}const mX=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>qi(e),now:()=>Kt.isProcessing?Kt.timestamp:kn.now()}},WO=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ep=2e4;function F_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ep;)e+=n,r=t.next(e);return e>=Ep?1/0:e}function gX(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(F_(r),Ep);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:us(s)}}const yX=5;function HO(t,e,n){const r=Math.max(e-yX,0);return SO(n-t(r),e-r)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},py=.001;function vX({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:r=Et.mass}){let s,i,o=1-e;o=Ws(Et.minDamping,Et.maxDamping,o),t=Ws(Et.minDuration,Et.maxDuration,us(t)),o<1?(s=c=>{const d=c*o,h=d*t,p=d-n,m=A0(c,o),T=Math.exp(-h);return py-p/m*T},i=c=>{const h=c*o*t,p=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,T=Math.exp(-h),g=A0(Math.pow(c,2),o);return(-s(c)+py>0?-1:1)*((p-m)*T)/g}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-py+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=xX(s,i,a);if(t=cs(t),isNaN(l))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const wX=12;function xX(t,e,n){let r=n;for(let s=1;s<wX;s++)r=r-t(r)/e(r);return r}function A0(t,e){return t*Math.sqrt(1-e*e)}const _X=["duration","bounce"],EX=["stiffness","damping","mass"];function Kb(t,e){return e.some(n=>t[n]!==void 0)}function TX(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!Kb(t,EX)&&Kb(t,_X))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ws(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Et.mass,stiffness:s,damping:i}}else{const n=vX(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function Tp(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=TX({...n,velocity:-us(n.velocity||0)}),T=p||0,g=c/(2*Math.sqrt(l*d)),_=o-i,E=us(Math.sqrt(l/d)),x=Math.abs(_)<5;r||(r=x?Et.restSpeed.granular:Et.restSpeed.default),s||(s=x?Et.restDelta.granular:Et.restDelta.default);let w;if(g<1){const N=A0(E,g);w=O=>{const I=Math.exp(-g*E*O);return o-I*((T+g*E*_)/N*Math.sin(N*O)+_*Math.cos(N*O))}}else if(g===1)w=N=>o-Math.exp(-E*N)*(_+(T+E*_)*N);else{const N=E*Math.sqrt(g*g-1);w=O=>{const I=Math.exp(-g*E*O),b=Math.min(N*O,300);return o-I*((T+g*E*_)*Math.sinh(b)+N*_*Math.cosh(b))/N}}const A={calculatedDuration:m&&h||null,next:N=>{const O=w(N);if(m)a.done=N>=h;else{let I=N===0?T:0;g<1&&(I=N===0?cs(T):HO(w,N,O));const b=Math.abs(I)<=r,C=Math.abs(o-O)<=s;a.done=b&&C}return a.value=a.done?o:O,a},toString:()=>{const N=Math.min(F_(A),Ep),O=WO(I=>A.next(N*I).value,N,30);return N+"ms "+O},toTransition:()=>{}};return A}Tp.applyToOptions=t=>{const e=gX(t,100,Tp);return t.ease=e.ease,t.duration=cs(e.duration),t.type="keyframes",t};function P0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},m=b=>a!==void 0&&b<a||l!==void 0&&b>l,T=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let g=n*e;const _=h+g,E=o===void 0?_:o(_);E!==_&&(g=E-h);const x=b=>-g*Math.exp(-b/r),w=b=>E+x(b),A=b=>{const C=x(b),P=w(b);p.done=Math.abs(C)<=c,p.value=p.done?E:P};let N,O;const I=b=>{m(p.value)&&(N=b,O=Tp({keyframes:[p.value,T(p.value)],velocity:HO(w,b,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return I(0),{calculatedDuration:null,next:b=>{let C=!1;return!O&&N===void 0&&(C=!0,A(b),I(b)),N!==void 0&&b>=N?O.next(b-N):(!C&&A(b),p)}}}function SX(t,e,n){const r=[],s=n||Hs.mix||zO,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||dr:e;a=Nd(l,a)}r.push(a)}return r}function bX(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(xp(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=SX(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=ed(t[h],t[h+1],d);return a[h](p)};return n?d=>c(Ws(t[0],t[i-1],d)):c}function IX(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ed(0,e,r);t.push(pt(n,1,s))}}function CX(t){const e=[0];return IX(e,t.length-1),e}function AX(t,e){return t.map(n=>n*e)}function PX(t,e){return t.map(()=>e||MO).splice(0,t.length-1)}function hu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=$Y(r)?r.map(Ub):Ub(r),i={done:!1,value:e[0]},o=AX(n&&n.length===e.length?n:CX(e),t),a=bX(o,e,{ease:Array.isArray(s)?s:PX(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const RX=t=>t!==null;function U_(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(RX),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const NX={decay:P0,inertia:P0,tween:hu,keyframes:hu,spring:Tp};function KO(t){typeof t.type=="string"&&(t.type=NX[t.type])}class $_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const kX=t=>t/100;class B_ extends $_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==kn.now()&&this.tick(kn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;KO(e);const{type:n=hu,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||hu;l!==hu&&typeof a[0]!="number"&&(this.mixKeyframes=Nd(kX,zO(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=F_(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:p,repeatDelay:m,type:T,onUpdate:g,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const E=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?E<0:E>s;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,A=r;if(h){const b=Math.min(this.currentTime,s)/a;let C=Math.floor(b),P=b%1;!P&&b>=1&&(P=1),P===1&&C--,C=Math.min(C,h+1),!!(C%2)&&(p==="reverse"?(P=1-P,m&&(P-=m/a)):p==="mirror"&&(A=o)),w=Ws(0,1,P)*a}const N=x?{done:!1,value:d[0]}:A.next(w);i&&(N.value=i(N.value));let{done:O}=N;!x&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return I&&T!==P0&&(N.value=U_(d,this.options,_,this.speed)),g&&g(N.value),I&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return us(this.calculatedDuration)}get time(){return us(this.currentTime)}set time(e){var n;e=cs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(kn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=us(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=mX,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(kn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function MX(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const bo=t=>t*180/Math.PI,R0=t=>{const e=bo(Math.atan2(t[1],t[0]));return N0(e)},DX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:R0,rotateZ:R0,skewX:t=>bo(Math.atan(t[1])),skewY:t=>bo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},N0=t=>(t=t%360,t<0&&(t+=360),t),qb=R0,Gb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Qb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),OX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Gb,scaleY:Qb,scale:t=>(Gb(t)+Qb(t))/2,rotateX:t=>N0(bo(Math.atan2(t[6],t[5]))),rotateY:t=>N0(bo(Math.atan2(-t[2],t[0]))),rotateZ:qb,rotate:qb,skewX:t=>bo(Math.atan(t[4])),skewY:t=>bo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function k0(t){return t.includes("scale")?1:0}function M0(t,e){if(!t||t==="none")return k0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=OX,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=DX,s=a}if(!s)return k0(e);const i=r[e],o=s[1].split(",").map(jX);return typeof i=="function"?i(o):o[i]}const LX=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return M0(n,e)};function jX(t){return parseFloat(t.trim())}const lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cc=new Set(lc),Yb=t=>t===ac||t===_e,VX=new Set(["x","y","z"]),FX=lc.filter(t=>!VX.has(t));function UX(t){const e=[];return FX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Lo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>M0(e,"x"),y:(t,{transform:e})=>M0(e,"y")};Lo.translateX=Lo.x;Lo.translateY=Lo.y;const jo=new Set;let D0=!1,O0=!1,L0=!1;function qO(){if(O0){const t=Array.from(jo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=UX(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}O0=!1,D0=!1,jo.forEach(t=>t.complete(L0)),jo.clear()}function GO(){jo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(O0=!0)})}function $X(){L0=!0,GO(),qO(),L0=!1}class z_{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(jo.add(this),D0||(D0=!0,ht.read(GO),ht.resolveKeyframes(qO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}MX(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),jo.delete(this)}cancel(){this.state==="scheduled"&&(jo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const BX=t=>t.startsWith("--");function zX(t,e,n){BX(e)?t.style.setProperty(e,n):t.style[e]=n}const WX=R_(()=>window.ScrollTimeline!==void 0),HX={};function KX(t,e){const n=R_(t);return()=>HX[e]??n()}const QO=KX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Xb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hc([0,.65,.55,1]),circOut:Hc([.55,0,1,.45]),backIn:Hc([.31,.01,.66,-.59]),backOut:Hc([.33,1.53,.69,.99])};function YO(t,e){if(t)return typeof t=="function"?QO()?WO(t,e):"ease-out":DO(t)?Hc(t):Array.isArray(t)?t.map(n=>YO(n,e)||Xb.easeOut):Xb[t]}function qX(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=YO(a,s);Array.isArray(h)&&(d.easing=h);const p={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(d,p)}function XO(t){return typeof t=="function"&&"applyToOptions"in t}function GX({type:t,...e}){return XO(t)&&QO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class QX extends $_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,xp(typeof e.type!="string");const c=GX(e);this.animation=qX(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=U_(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):zX(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return us(Number(e))}get time(){return us(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=cs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&WX()?(this.animation.timeline=e,dr):n(this)}}const JO={anticipate:RO,backInOut:PO,circInOut:kO};function YX(t){return t in JO}function XX(t){typeof t.ease=="string"&&YX(t.ease)&&(t.ease=JO[t.ease])}const Jb=10;class JX extends QX{constructor(e){XX(e),KO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new B_({...o,autoplay:!1}),l=cs(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Jb).value,a.sample(l).value,Jb),a.stop()}}const Zb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gi.test(t)||t==="0")&&!t.startsWith("url("));function ZX(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function eJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Zb(s,e),a=Zb(i,e);return!o||!a?!1:ZX(t)||(n==="spring"||XO(n))&&r}function j0(t){t.duration=0,t.type}const tJ=new Set(["opacity","clipPath","filter","transform"]),nJ=R_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rJ(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return nJ()&&n&&tJ.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const sJ=40;class iJ extends $_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var T;super(),this.stop=()=>{var g,_;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=kn.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},m=(d==null?void 0:d.KeyframeResolver)||z_;this.keyframeResolver=new m(a,(g,_,E)=>this.onKeyframesResolved(g,_,p,!E),l,c,d),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=kn.now(),eJ(e,i,o,a)||((Hs.instantAnimations||!l)&&(d==null||d(U_(e,r,n))),e[0]=e[e.length-1],j0(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>sJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&rJ(p)?new JX({...p,element:p.motionValue.owner.current}):new B_(p);m.finished.then(()=>this.notifyFinished()).catch(dr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),$X()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const oJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aJ(t){const e=oJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function ZO(t,e,n=1){const[r,s]=aJ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return _O(o)?parseFloat(o):o}return O_(s)?ZO(s,e,n+1):s}function W_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const eL=new Set(["width","height","top","left","right","bottom",...lc]),lJ={test:t=>t==="auto",parse:t=>t},tL=t=>e=>e.test(t),nL=[ac,_e,ds,si,ZY,JY,lJ],eI=t=>nL.find(tL(t));function cJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TO(t):!0}const uJ=new Set(["brightness","contrast","saturate","opacity"]);function dJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(L_)||[];if(!r)return t;const s=n.replace(r,"");let i=uJ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const hJ=/\b([a-z-]*)\(.*?\)/gu,V0={...Gi,getAnimatableNone:t=>{const e=t.match(hJ);return e?e.map(dJ).join(" "):t}},tI={...ac,transform:Math.round},fJ={rotate:si,rotateX:si,rotateY:si,rotateZ:si,scale:Ph,scaleX:Ph,scaleY:Ph,scaleZ:Ph,skew:si,skewX:si,skewY:si,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:td,originX:Bb,originY:Bb,originZ:_e},H_={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e,...fJ,zIndex:tI,fillOpacity:td,strokeOpacity:td,numOctaves:tI},pJ={...H_,color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,filter:V0,WebkitFilter:V0},rL=t=>pJ[t];function sL(t,e){let n=rL(t);return n!==V0&&(n=Gi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const mJ=new Set(["auto","none","0"]);function gJ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!mJ.has(i)&&nd(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=sL(n,s)}class yJ extends z_{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),O_(c))){const d=ZO(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!eL.has(r)||e.length!==2)return;const[s,i]=e,o=eI(s),a=eI(i);if(o!==a)if(Yb(o)&&Yb(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Lo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||cJ(e[s]))&&r.push(s);r.length&&gJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Lo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function vJ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const iL=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function oL(t){return EO(t)&&"offsetHeight"in t}const nI=30,wJ=t=>!isNaN(parseFloat(t));class xJ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=kn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new N_);const r=this.events[e].add(n);return e==="change"?()=>{r(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nI);return SO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vl(t,e){return new xJ(t,e)}const{schedule:K_,cancel:rre}=OO(queueMicrotask,!1),_r={x:!1,y:!1};function aL(){return _r.x||_r.y}function _J(t){return t==="x"||t==="y"?_r[t]?null:(_r[t]=!0,()=>{_r[t]=!1}):_r.x||_r.y?null:(_r.x=_r.y=!0,()=>{_r.x=_r.y=!1})}function lL(t,e){const n=vJ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function rI(t){return!(t.pointerType==="touch"||aL())}function EJ(t,e,n={}){const[r,s,i]=lL(t,n),o=a=>{if(!rI(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{rI(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const cL=(t,e)=>e?t===e?!0:cL(t,e.parentElement):!1,q_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,TJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SJ(t){return TJ.has(t.tagName)||t.tabIndex!==-1}const uf=new WeakSet;function sI(t){return e=>{e.key==="Enter"&&t(e)}}function my(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bJ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=sI(()=>{if(uf.has(n))return;my(n,"down");const s=sI(()=>{my(n,"up")}),i=()=>my(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function iI(t){return q_(t)&&!aL()}function IJ(t,e,n={}){const[r,s,i]=lL(t,n),o=a=>{const l=a.currentTarget;if(!iI(a))return;uf.add(l);const c=e(l,a),d=(m,T)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),uf.has(l)&&uf.delete(l),iI(m)&&typeof c=="function"&&c(m,{success:T})},h=m=>{d(m,l===window||l===document||n.useGlobalTarget||cL(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),oL(a)&&(a.addEventListener("focus",c=>bJ(c,s)),!SJ(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function uL(t){return EO(t)&&"ownerSVGElement"in t}function CJ(t){return uL(t)&&t.tagName==="svg"}const hn=t=>!!(t&&t.getVelocity),AJ=[...nL,Rt,Gi],PJ=t=>AJ.find(tL(t)),G_=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class RJ extends y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=oL(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function NJ({children:t,isPresent:e,anchorX:n,root:r}){const s=y.useId(),i=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=y.useContext(G_);return y.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:h,right:p}=o.current;if(e||!i.current||!l||!c)return;const m=n==="left"?`left: ${h}`:`right: ${p}`;i.current.dataset.motionPopId=s;const T=document.createElement("style");a&&(T.nonce=a);const g=r??document.head;return g.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{g.contains(T)&&g.removeChild(T)}},[e]),f.jsx(RJ,{isPresent:e,childRef:i,sizeRef:o,children:y.cloneElement(t,{ref:i})})}const kJ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=I_(MJ),d=y.useId();let h=!0,p=y.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:m=>{c.set(m,!0);for(const T of c.values())if(!T)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return i&&h&&(p={...p}),y.useMemo(()=>{c.forEach((m,T)=>c.set(T,!1))},[n]),y.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(NJ,{isPresent:n,anchorX:a,root:l,children:t})),f.jsx(Um.Provider,{value:p,children:t})};function MJ(){return new Map}function dL(t=!0){const e=y.useContext(Um);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=y.useId();y.useEffect(()=>{if(t)return s(i)},[t]);const o=y.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Rh=t=>t.key||"";function oI(t){const e=[];return y.Children.forEach(t,n=>{y.isValidElement(n)&&e.push(n)}),e}const DJ=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,d]=dL(o),h=y.useMemo(()=>oI(t),[t]),p=o&&!c?[]:h.map(Rh),m=y.useRef(!0),T=y.useRef(h),g=I_(()=>new Map),[_,E]=y.useState(h),[x,w]=y.useState(h);xO(()=>{m.current=!1,T.current=h;for(let O=0;O<x.length;O++){const I=Rh(x[O]);p.includes(I)?g.delete(I):g.get(I)!==!0&&g.set(I,!1)}},[x,p.length,p.join("-")]);const A=[];if(h!==_){let O=[...h];for(let I=0;I<x.length;I++){const b=x[I],C=Rh(b);p.includes(C)||(O.splice(I,0,b),A.push(b))}return i==="wait"&&A.length&&(O=A),w(oI(O)),E(h),null}const{forceRender:N}=y.useContext(b_);return f.jsx(f.Fragment,{children:x.map(O=>{const I=Rh(O),b=o&&!c?!1:h===x||p.includes(I),C=()=>{if(g.has(I))g.set(I,!0);else return;let P=!0;g.forEach(M=>{M||(P=!1)}),P&&(N==null||N(),w(T.current),o&&(d==null||d()),r&&r())};return f.jsx(kJ,{isPresent:b,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:b?void 0:C,anchorX:a,children:O},I)})})},hL=y.createContext({strict:!1}),aI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fl={};for(const t in aI)Fl[t]={isEnabled:e=>aI[t].some(n=>!!e[n])};function OJ(t){for(const e in t)Fl[e]={...Fl[e],...t[e]}}const LJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LJ.has(t)}let fL=t=>!Sp(t);function jJ(t){typeof t=="function"&&(fL=e=>e.startsWith("on")?!Sp(e):t(e))}try{jJ(require("@emotion/is-prop-valid").default)}catch{}function VJ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(fL(s)||n===!0&&Sp(s)||!e&&!Sp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const $m=y.createContext({});function Bm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rd(t){return typeof t=="string"||Array.isArray(t)}const Q_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Y_=["initial",...Q_];function zm(t){return Bm(t.animate)||Y_.some(e=>rd(t[e]))}function pL(t){return!!(zm(t)||t.variants)}function FJ(t,e){if(zm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rd(n)?n:void 0,animate:rd(r)?r:void 0}}return t.inherit!==!1?e:{}}function UJ(t){const{initial:e,animate:n}=FJ(t,y.useContext($m));return y.useMemo(()=>({initial:e,animate:n}),[lI(e),lI(n)])}function lI(t){return Array.isArray(t)?t.join(" "):t}const sd={};function $J(t){for(const e in t)sd[e]=t[e],D_(e)&&(sd[e].isCSSVariable=!0)}function mL(t,{layout:e,layoutId:n}){return cc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!sd[t]||t==="opacity")}const BJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zJ=lc.length;function WJ(t,e,n){let r="",s=!0;for(let i=0;i<zJ;i++){const o=lc[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=iL(a,H_[o]);if(!l){s=!1;const d=BJ[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function X_(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(cc.has(l)){o=!0;continue}else if(D_(l)){s[l]=c;continue}else{const d=iL(c,H_[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=WJ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const J_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gL(t,e,n){for(const r in e)!hn(e[r])&&!mL(r,n)&&(t[r]=e[r])}function HJ({transformTemplate:t},e){return y.useMemo(()=>{const n=J_();return X_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function KJ(t,e){const n=t.style||{},r={};return gL(r,n,t),Object.assign(r,HJ(t,e)),r}function qJ(t,e){const n={},r=KJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const GJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},QJ={offset:"strokeDashoffset",array:"strokeDasharray"};function YJ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?GJ:QJ;t[i.offset]=_e.transform(-r);const o=_e.transform(e),a=_e.transform(n);t[i.array]=`${o} ${a}`}function yL(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(X_(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p}=t;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&YJ(h,s,i,o,!1)}const vL=()=>({...J_(),attrs:{}}),wL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function XJ(t,e,n,r){const s=y.useMemo(()=>{const i=vL();return yL(i,e,wL(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};gL(i,t.style,t),s.style={...i,...s.style}}return s}const JJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z_(t){return typeof t!="string"||t.includes("-")?!1:!!(JJ.indexOf(t)>-1||/[A-Z]/u.test(t))}function ZJ(t,e,n,{latestValues:r},s,i=!1){const a=(Z_(t)?XJ:qJ)(e,r,s,t),l=VJ(e,typeof t=="string",i),c=t!==y.Fragment?{...l,...a,ref:n}:{},{children:d}=e,h=y.useMemo(()=>hn(d)?d.get():d,[d]);return y.createElement(t,{...c,children:h})}function cI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function eE(t,e,n,r){if(typeof e=="function"){const[s,i]=cI(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=cI(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function df(t){return hn(t)?t.get():t}function eZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:tZ(n,r,s,t),renderState:e()}}function tZ(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=df(i[p]);let{initial:o,animate:a}=t;const l=zm(t),c=pL(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Bm(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const T=eE(t,p[m]);if(T){const{transitionEnd:g,transition:_,...E}=T;for(const x in E){let w=E[x];if(Array.isArray(w)){const A=d?w.length-1:0;w=w[A]}w!==null&&(s[x]=w)}for(const x in g)s[x]=g[x]}}}return s}const xL=t=>(e,n)=>{const r=y.useContext($m),s=y.useContext(Um),i=()=>eZ(t,e,r,s);return n?i():I_(i)};function tE(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(hn(r[o])||e.style&&hn(e.style[o])||mL(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const nZ=xL({scrapeMotionValuesFromProps:tE,createRenderState:J_});function _L(t,e,n){const r=tE(t,e,n);for(const s in t)if(hn(t[s])||hn(e[s])){const i=lc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const rZ=xL({scrapeMotionValuesFromProps:_L,createRenderState:vL}),sZ=Symbol.for("motionComponentSymbol");function Ka(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iZ(t,e,n){return y.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ka(n)&&(n.current=r))},[e])}const nE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oZ="framerAppearId",EL="data-"+nE(oZ),TL=y.createContext({});function aZ(t,e,n,r,s){var g,_;const{visualElement:i}=y.useContext($m),o=y.useContext(hL),a=y.useContext(Um),l=y.useContext(G_).reducedMotion,c=y.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=y.useContext(TL);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&lZ(c.current,n,s,h);const p=y.useRef(!1);y.useInsertionEffect(()=>{d&&p.current&&d.update(n,a)});const m=n[EL],T=y.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,m)));return xO(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),T.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!T.current&&d.animationState&&d.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,m)}),T.current=!1),d.enteringChildren=void 0)}),d}function lZ(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:SL(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ka(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function SL(t){if(t)return t.options.allowProjection!==!1?t.projection:SL(t.parent)}function gy(t,{forwardMotionProps:e=!1}={},n,r){n&&OJ(n);const s=Z_(t)?rZ:nZ;function i(a,l){let c;const d={...y.useContext(G_),...a,layoutId:cZ(a)},{isStatic:h}=d,p=UJ(a),m=s(a,h);if(!h&&C_){uZ();const T=dZ(d);c=T.MeasureLayout,p.visualElement=aZ(t,m,d,r,T.ProjectionNode)}return f.jsxs($m.Provider,{value:p,children:[c&&p.visualElement?f.jsx(c,{visualElement:p.visualElement,...d}):null,ZJ(t,a,iZ(m,p.visualElement,l),m,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=y.forwardRef(i);return o[sZ]=t,o}function cZ({layoutId:t}){const e=y.useContext(b_).id;return e&&t!==void 0?e+"-"+t:t}function uZ(t,e){y.useContext(hL).strict}function dZ(t){const{drag:e,layout:n}=Fl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function hZ(t,e){if(typeof Proxy>"u")return gy;const n=new Map,r=(i,o)=>gy(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,gy(o,void 0,t,e)),n.get(o))})}function bL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function fZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yy(t){return t===void 0||t===1}function F0({scale:t,scaleX:e,scaleY:n}){return!yy(t)||!yy(e)||!yy(n)}function vo(t){return F0(t)||IL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function IL(t){return uI(t.x)||uI(t.y)}function uI(t){return t&&t!=="0%"}function bp(t,e,n){const r=t-n,s=e*r;return n+s}function dI(t,e,n,r,s){return s!==void 0&&(t=bp(t,s,r)),bp(t,n,r)+e}function U0(t,e=0,n=1,r,s){t.min=dI(t.min,e,n,r,s),t.max=dI(t.max,e,n,r,s)}function CL(t,{x:e,y:n}){U0(t.x,e.translate,e.scale,e.originPoint),U0(t.y,n.translate,n.scale,n.originPoint)}const hI=.999999999999,fI=1.0000000000001;function mZ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ga(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,CL(t,o)),r&&vo(i.latestValues)&&Ga(t,i.latestValues))}e.x<fI&&e.x>hI&&(e.x=1),e.y<fI&&e.y>hI&&(e.y=1)}function qa(t,e){t.min=t.min+e,t.max=t.max+e}function pI(t,e,n,r,s=.5){const i=pt(t.min,t.max,s);U0(t,e,n,i,r)}function Ga(t,e){pI(t.x,e.x,e.scaleX,e.scale,e.originX),pI(t.y,e.y,e.scaleY,e.scale,e.originY)}function AL(t,e){return bL(pZ(t.getBoundingClientRect(),e))}function gZ(t,e,n){const r=AL(t,n),{scroll:s}=e;return s&&(qa(r.x,s.offset.x),qa(r.y,s.offset.y)),r}const mI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qa=()=>({x:mI(),y:mI()}),gI=()=>({min:0,max:0}),St=()=>({x:gI(),y:gI()}),$0={current:null},PL={current:!1};function yZ(){if(PL.current=!0,!!C_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$0.current=t.matches;t.addEventListener("change",e),e()}else $0.current=!1}const vZ=new WeakMap;function wZ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(hn(s))t.addValue(r,s);else if(hn(i))t.addValue(r,Vl(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Vl(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const yI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=z_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=kn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ht.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=zm(n),this.isVariantNode=pL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];l[p]!==void 0&&hn(m)&&m.set(l[p])}}mount(e){var n;this.current=e,vZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),PL.current||yZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),qi(this.notifyUpdate),qi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=cc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ht.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fl){const n=Fl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<yI.length;r++){const s=yI[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=wZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(_O(r)||TO(r))?r=parseFloat(r):!PJ(r)&&Gi.test(n)&&(r=sL(e,n)),this.setBaseTarget(e,hn(r)?r.get():r)),hn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=eE(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!hn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new N_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){K_.render(this.render)}}class RL extends xZ{constructor(){super(...arguments),this.KeyframeResolver=yJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function NL(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function _Z(t){return window.getComputedStyle(t)}class EZ extends RL{constructor(){super(...arguments),this.type="html",this.renderInstance=NL}readValueFromInstance(e,n){var r;if(cc.has(n))return(r=this.projection)!=null&&r.isProjecting?k0(n):LX(e,n);{const s=_Z(e),i=(D_(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return AL(e,n)}build(e,n,r){X_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return tE(e,n,r)}}const kL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TZ(t,e,n,r){NL(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(kL.has(s)?s:nE(s),e.attrs[s])}class SZ extends RL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=St}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(cc.has(n)){const r=rL(n);return r&&r.default||0}return n=kL.has(n)?n:nE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _L(e,n,r)}build(e,n,r){yL(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){TZ(e,n,r,s)}mount(e){this.isSVGTag=wL(e.tagName),super.mount(e)}}const bZ=(t,e)=>Z_(t)?new SZ(e):new EZ(e,{allowProjection:t!==y.Fragment});function ul(t,e,n){const r=t.getProps();return eE(r,e,n!==void 0?n:r.custom,t)}const B0=t=>Array.isArray(t);function IZ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vl(n))}function CZ(t){return B0(t)?t[t.length-1]||0:t}function AZ(t,e){const n=ul(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=CZ(i[o]);IZ(t,o,a)}}function PZ(t){return!!(hn(t)&&t.add)}function z0(t,e){const n=t.getValue("willChange");if(PZ(n))return n.add(e);if(!n&&Hs.WillChange){const r=new Hs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function ML(t){return t.props[EL]}const RZ=t=>t!==null;function NZ(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(RZ),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const kZ={type:"spring",stiffness:500,damping:25,restSpeed:10},MZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),DZ={type:"keyframes",duration:.8},OZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LZ=(t,{keyframes:e})=>e.length>2?DZ:cc.has(t)?t.startsWith("scale")?MZ(e[1]):kZ:OZ;function jZ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const rE=(t,e,n,r={},s,i)=>o=>{const a=W_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-cs(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};jZ(a)||Object.assign(d,LZ(t,d)),d.duration&&(d.duration=cs(d.duration)),d.repeatDelay&&(d.repeatDelay=cs(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(j0(d),d.delay===0&&(h=!0)),(Hs.instantAnimations||Hs.skipAnimations)&&(h=!0,j0(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const p=NZ(d.keyframes,a);if(p!==void 0){ht.update(()=>{d.onUpdate(p),d.onComplete()});return}}return a.isSync?new B_(d):new iJ(d)};function VZ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function DL(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),p=a[d];if(p===void 0||c&&VZ(c,d))continue;const m={delay:n,...W_(i||{},d)},T=h.get();if(T!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===T&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const E=ML(t);if(E){const x=window.MotionHandoffAnimation(E,d,ht);x!==null&&(m.startTime=x,g=!0)}}z0(t,d),h.start(rE(d,h,p,t.shouldReduceMotion&&eL.has(d)?{type:!1}:m,t,g));const _=h.animation;_&&l.push(_)}return o&&Promise.all(l).then(()=>{ht.update(()=>{o&&AZ(t,o)})}),l}function OL(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function W0(t,e,n={}){var l;const r=ul(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(DL(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return FZ(t,e,c,d,h,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function FZ(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(W0(l,e,{...o,delay:n+(typeof r=="function"?0:r)+OL(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function UZ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>W0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=W0(t,e,n);else{const s=typeof e=="function"?ul(t,e,n.custom):e;r=Promise.all(DL(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function LL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const $Z=Y_.length;function jL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?jL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$Z;n++){const r=Y_[n],s=t.props[r];(rd(s)||s===!1)&&(e[r]=s)}return e}const BZ=[...Q_].reverse(),zZ=Q_.length;function WZ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>UZ(t,n,r)))}function HZ(t){let e=WZ(t),n=vI(),r=!0;const s=l=>(c,d)=>{var p;const h=ul(t,d,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:m,transitionEnd:T,...g}=h;c={...c,...g,...T}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=jL(t.parent)||{},h=[],p=new Set;let m={},T=1/0;for(let _=0;_<zZ;_++){const E=BZ[_],x=n[E],w=c[E]!==void 0?c[E]:d[E],A=rd(w),N=E===l?x.isActive:null;N===!1&&(T=_);let O=w===d[E]&&w!==c[E]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),x.protectedKeys={...m},!x.isActive&&N===null||!w&&!x.prevProp||Bm(w)||typeof w=="boolean")continue;const I=KZ(x.prevProp,w);let b=I||E===l&&x.isActive&&!O&&A||_>T&&A,C=!1;const P=Array.isArray(w)?w:[w];let M=P.reduce(s(E),{});N===!1&&(M={});const{prevResolvedValues:D={}}=x,k={...D,...M},K=J=>{b=!0,p.has(J)&&(C=!0,p.delete(J)),x.needsAnimating[J]=!0;const F=t.getValue(J);F&&(F.liveStyle=!1)};for(const J in k){const F=M[J],j=D[J];if(m.hasOwnProperty(J))continue;let G=!1;B0(F)&&B0(j)?G=!LL(F,j):G=F!==j,G?F!=null?K(J):p.add(J):F!==void 0&&p.has(J)?K(J):x.protectedKeys[J]=!0}x.prevProp=w,x.prevResolvedValues=M,x.isActive&&(m={...m,...M}),r&&t.blockInitialAnimation&&(b=!1);const ie=O&&I;b&&(!ie||C)&&h.push(...P.map(J=>{const F={type:E};if(typeof J=="string"&&r&&!ie&&t.manuallyAnimateOnMount&&t.parent){const{parent:j}=t,G=ul(j,J);if(j.enteringChildren&&G){const{delayChildren:ae}=G.transition||{};F.delay=OL(j.enteringChildren,t,ae)}}return{animation:J,options:F}}))}if(p.size){const _={};if(typeof c.initial!="boolean"){const E=ul(t,Array.isArray(c.initial)?c.initial[0]:c.initial);E&&E.transition&&(_.transition=E.transition)}p.forEach(E=>{const x=t.getBaseTarget(E),w=t.getValue(E);w&&(w.liveStyle=!0),_[E]=x??null}),h.push({animation:_})}let g=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=vI(),r=!0}}}function KZ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LL(e,t):!1}function po(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vI(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class ao{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qZ extends ao{constructor(e){super(e),e.animationState||(e.animationState=HZ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Bm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let GZ=0;class QZ extends ao{constructor(){super(...arguments),this.id=GZ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const YZ={animation:{Feature:qZ},exit:{Feature:QZ}};function id(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Dd(t){return{point:{x:t.pageX,y:t.pageY}}}const XZ=t=>e=>q_(e)&&t(e,Dd(e));function fu(t,e,n,r){return id(t,e,XZ(n),r)}const VL=1e-4,JZ=1-VL,ZZ=1+VL,FL=.01,eee=0-FL,tee=0+FL;function vn(t){return t.max-t.min}function nee(t,e,n){return Math.abs(t-e)<=n}function wI(t,e,n,r=.5){t.origin=r,t.originPoint=pt(e.min,e.max,t.origin),t.scale=vn(n)/vn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=JZ&&t.scale<=ZZ||isNaN(t.scale))&&(t.scale=1),(t.translate>=eee&&t.translate<=tee||isNaN(t.translate))&&(t.translate=0)}function pu(t,e,n,r){wI(t.x,e.x,n.x,r?r.originX:void 0),wI(t.y,e.y,n.y,r?r.originY:void 0)}function xI(t,e,n){t.min=n.min+e.min,t.max=t.min+vn(e)}function ree(t,e,n){xI(t.x,e.x,n.x),xI(t.y,e.y,n.y)}function _I(t,e,n){t.min=e.min-n.min,t.max=t.min+vn(e)}function mu(t,e,n){_I(t.x,e.x,n.x),_I(t.y,e.y,n.y)}function tr(t){return[t("x"),t("y")]}const UL=({current:t})=>t?t.ownerDocument.defaultView:null,EI=(t,e)=>Math.abs(t-e);function see(t,e){const n=EI(t.x,e.x),r=EI(t.y,e.y);return Math.sqrt(n**2+r**2)}class $L{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=wy(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,T=see(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!T)return;const{point:g}=p,{timestamp:_}=Kt;this.history.push({...g,timestamp:_});const{onStart:E,onMove:x}=this.handlers;m||(E&&E(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=vy(m,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:T,onSessionEnd:g,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=wy(p.type==="pointercancel"?this.lastMoveEventInfo:vy(m,this.transformPagePoint),this.history);this.startEvent&&T&&T(p,E),g&&g(p,E)},!q_(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Dd(e),l=vy(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=Kt;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,wy(l,this.history)),this.removeListeners=Nd(fu(this.contextWindow,"pointermove",this.handlePointerMove),fu(this.contextWindow,"pointerup",this.handlePointerUp),fu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qi(this.updatePoint)}}function vy(t,e){return e?{point:e(t.point)}:t}function TI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function wy({point:t},e){return{point:t,delta:TI(t,BL(e)),offset:TI(t,iee(e)),velocity:oee(e,.1)}}function iee(t){return t[0]}function BL(t){return t[t.length-1]}function oee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=BL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>cs(e)));)n--;if(!r)return{x:0,y:0};const i=us(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function aee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?pt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?pt(n,t,r.max):Math.min(t,n)),t}function SI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lee(t,{top:e,left:n,bottom:r,right:s}){return{x:SI(t.x,n,s),y:SI(t.y,e,r)}}function bI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cee(t,e){return{x:bI(t.x,e.x),y:bI(t.y,e.y)}}function uee(t,e){let n=.5;const r=vn(t),s=vn(e);return s>r?n=ed(e.min,e.max-r,t.min):r>s&&(n=ed(t.min,t.max-s,e.min)),Ws(0,1,n)}function dee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const H0=.35;function hee(t=H0){return t===!1?t=0:t===!0&&(t=H0),{x:II(t,"left","right"),y:II(t,"top","bottom")}}function II(t,e,n){return{min:CI(t,e),max:CI(t,n)}}function CI(t,e){return typeof t=="number"?t:t[e]||0}const fee=new WeakMap;class pee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Dd(h).point)},o=(h,p)=>{const{drag:m,dragPropagation:T,onDragStart:g}=this.getProps();if(m&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_J(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tr(E=>{let x=this.getAxisMotionValue(E).get()||0;if(ds.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const A=w.layout.layoutBox[E];A&&(x=vn(A)*(parseFloat(x)/100))}}this.originPoint[E]=x}),g&&ht.postRender(()=>g(h,p)),z0(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:T,onDirectionLock:g,onDrag:_}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:E}=p;if(T&&this.currentDirection===null){this.currentDirection=mee(E),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",p.point,E),this.updateAxis("y",p.point,E),this.visualElement.render(),_&&_(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>tr(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)==null?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new $L(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:UL(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ht.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Nh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=aee(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Ka(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=lee(r.layoutBox,e):this.constraints=!1,this.elastic=hee(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&tr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dee(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ka(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=gZ(r,s.root,this.visualElement.getTransformPagePoint());let o=cee(s.layout.layoutBox,i);if(n){const a=n(fZ(o));this.hasMutatedConstraints=!!a,a&&(o=bL(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=tr(d=>{if(!Nh(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,T={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,T)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return z0(this.visualElement,e),r.start(rE(e,r,0,n,this.visualElement,!1))}stopAnimation(){tr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){tr(n=>{const{drag:r}=this.getProps();if(!Nh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-pt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ka(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};tr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=uee({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tr(o=>{if(!Nh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(pt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;fee.set(this.visualElement,this);const e=this.visualElement.current,n=fu(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ka(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ht.read(r);const o=id(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(tr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=H0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Nh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mee(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gee extends ao{constructor(e){super(e),this.removeGroupControls=dr,this.removeListeners=dr,this.controls=new pee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const AI=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class yee extends ao{constructor(){super(...arguments),this.removePointerDownListener=dr}onPointerDown(e){this.session=new $L(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:AI(e),onStart:AI(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ht.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=fu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_e.test(t))t=parseFloat(t);else return t;const n=PI(t,e.target.x),r=PI(t,e.target.y);return`${n}% ${r}%`}},vee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Gi.parse(t);if(s.length>5)return r;const i=Gi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=pt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let xy=!1;class wee extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;$J(xee),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),xy&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),hf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,xy=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ht.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),K_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;xy=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zL(t){const[e,n]=dL(),r=y.useContext(b_);return f.jsx(wee,{...t,layoutGroup:r,switchLayoutGroup:y.useContext(TL),isPresent:e,safeToRemove:n})}const xee={borderRadius:{...Nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nc,borderTopRightRadius:Nc,borderBottomLeftRadius:Nc,borderBottomRightRadius:Nc,boxShadow:vee};function _ee(t,e,n){const r=hn(t)?t:Vl(t);return r.start(rE("",r,e,n)),r.animation}const Eee=(t,e)=>t.depth-e.depth;class Tee{constructor(){this.children=[],this.isDirty=!1}add(e){A_(this.children,e),this.isDirty=!0}remove(e){P_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Eee),this.isDirty=!1,this.children.forEach(e)}}function See(t,e){const n=kn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(qi(r),t(i-e))};return ht.setup(r,!0),()=>qi(r)}const WL=["TopLeft","TopRight","BottomLeft","BottomRight"],bee=WL.length,RI=t=>typeof t=="string"?parseFloat(t):t,NI=t=>typeof t=="number"||_e.test(t);function Iee(t,e,n,r,s,i){s?(t.opacity=pt(0,n.opacity??1,Cee(r)),t.opacityExit=pt(e.opacity??1,0,Aee(r))):i&&(t.opacity=pt(e.opacity??1,n.opacity??1,r));for(let o=0;o<bee;o++){const a=`border${WL[o]}Radius`;let l=kI(e,a),c=kI(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||NI(l)===NI(c)?(t[a]=Math.max(pt(RI(l),RI(c),r),0),(ds.test(c)||ds.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,r))}function kI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Cee=HL(0,.5,NO),Aee=HL(.5,.95,dr);function HL(t,e,n){return r=>r<t?0:r>e?1:n(ed(t,e,r))}function MI(t,e){t.min=e.min,t.max=e.max}function Zn(t,e){MI(t.x,e.x),MI(t.y,e.y)}function DI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function OI(t,e,n,r,s){return t-=e,t=bp(t,1/n,r),s!==void 0&&(t=bp(t,1/s,r)),t}function Pee(t,e=0,n=1,r=.5,s,i=t,o=t){if(ds.test(e)&&(e=parseFloat(e),e=pt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=pt(i.min,i.max,r);t===i&&(a-=e),t.min=OI(t.min,e,n,a,s),t.max=OI(t.max,e,n,a,s)}function LI(t,e,[n,r,s],i,o){Pee(t,e[n],e[r],e[s],e.scale,i,o)}const Ree=["x","scaleX","originX"],Nee=["y","scaleY","originY"];function jI(t,e,n,r){LI(t.x,e,Ree,n?n.x:void 0,r?r.x:void 0),LI(t.y,e,Nee,n?n.y:void 0,r?r.y:void 0)}function VI(t){return t.translate===0&&t.scale===1}function KL(t){return VI(t.x)&&VI(t.y)}function FI(t,e){return t.min===e.min&&t.max===e.max}function kee(t,e){return FI(t.x,e.x)&&FI(t.y,e.y)}function UI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qL(t,e){return UI(t.x,e.x)&&UI(t.y,e.y)}function $I(t){return vn(t.x)/vn(t.y)}function BI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Mee{constructor(){this.members=[]}add(e){A_(this.members,e),e.scheduleRender()}remove(e){if(P_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Dee(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:T}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),T&&(r+=`skewY(${T}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const _y=["","X","Y","Z"],Oee=1e3;let Lee=0;function Ey(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function GL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ML(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&GL(r)}function QL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Lee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Fee),this.nodes.forEach(zee),this.nodes.forEach(Wee),this.nodes.forEach(Uee)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tee)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new N_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=uL(o)&&!CJ(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const p=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{h=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,d&&d(),d=See(p,250),hf.hasAnimatedSinceResize&&(hf.hasAnimatedSinceResize=!1,this.nodes.forEach(HI)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||c.getDefaultTransition()||Qee,{onLayoutAnimationStart:g,onLayoutAnimationComplete:_}=c.getProps(),E=!this.targetLayout||!qL(this.targetLayout,m),x=!h&&p;if(this.options.layoutRoot||this.resumeFrom||x||h&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...W_(T,"layout"),onPlay:g,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,x)}else h||HI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(WI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Bee),this.nodes.forEach(jee),this.nodes.forEach(Vee)):this.nodes.forEach(WI),this.clearAllSnapshots();const a=kn.now();Kt.delta=Ws(0,1e3/60,a-Kt.timestamp),Kt.timestamp=a,Kt.isProcessing=!0,uy.update.process(Kt),uy.preRender.process(Kt),uy.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,K_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($ee),this.sharedNodes.forEach(Kee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!KL(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||vo(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Yee(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return St();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Xee))){const{scroll:d}=this.root;d&&(qa(a.x,d.offset.x),qa(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=St();if(Zn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Zn(a,o),qa(a.x,h.offset.x),qa(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=St();Zn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ga(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vo(d.latestValues)&&Ga(l,d.latestValues)}return vo(this.latestValues)&&Ga(l,this.latestValues),l}removeTransform(o){const a=St();Zn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!vo(c.latestValues))continue;F0(c.latestValues)&&c.updateSnapshot();const d=St(),h=c.measurePageBox();Zn(d,h),jI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return vo(this.latestValues)&&jI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),mu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ree(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),CL(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),mu(this.relativeTargetOrigin,this.target,m.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||F0(this.parent.latestValues)||IL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Zn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;mZ(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=St());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DI(this.prevProjectionDelta.x,this.projectionDelta.x),DI(this.prevProjectionDelta.y,this.projectionDelta.y)),pu(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!BI(this.projectionDelta.x,this.prevProjectionDelta.x)||!BI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qa(),this.projectionDelta=Qa(),this.projectionDeltaWithTransform=Qa()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=St(),m=l?l.source:void 0,T=this.layout?this.layout.source:void 0,g=m!==T,_=this.getStack(),E=!_||_.members.length<=1,x=!!(g&&!E&&this.options.crossfade===!0&&!this.path.some(Gee));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const N=A/1e3;KI(h.x,o.x,N),KI(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mu(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qee(this.relativeTarget,this.relativeTargetOrigin,p,N),w&&kee(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=St()),Zn(w,this.relativeTarget)),g&&(this.animationValues=d,Iee(d,c,this.latestValues,N,x,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{hf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vl(0)),this.currentAnimation=_ee(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Oee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&YL(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||St();const h=vn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=vn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Zn(a,l),Ga(a,d),pu(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Mee),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Ey("z",o,c,this.animationValues);for(let d=0;d<_y.length;d++)Ey(`rotate${_y[d]}`,o,c,this.animationValues),Ey(`skew${_y[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=df(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=df(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!vo(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=Dee(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const T in sd){if(d[T]===void 0)continue;const{correct:g,applyTo:_,isCSSVariable:E}=sd[T],x=h==="none"?d[T]:g(d[T],c);if(_){const w=_.length;for(let A=0;A<w;A++)o[_[A]]=x}else E?this.options.visualElement.renderState.vars[T]=x:o[T]=x}this.options.layoutId&&(o.pointerEvents=c===this?df(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(zI),this.root.sharedNodes.clear()}}}function jee(t){t.updateLayout()}function Vee(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?tr(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],m=vn(p);p.min=r[h].min,p.max=p.min+m}):YL(i,e.layoutBox,r)&&tr(h=>{const p=o?e.measuredBox[h]:e.layoutBox[h],m=vn(r[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Qa();pu(a,r,e.layoutBox);const l=Qa();o?pu(l,t.applyTransform(s,!0),e.measuredBox):pu(l,r,e.layoutBox);const c=!KL(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const T=St();mu(T,e.layoutBox,p.layoutBox);const g=St();mu(g,r,m.layoutBox),qL(T,g)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=T,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Fee(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Uee(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $ee(t){t.clearSnapshot()}function zI(t){t.clearMeasurements()}function WI(t){t.isLayoutDirty=!1}function Bee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function HI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zee(t){t.resolveTargetDelta()}function Wee(t){t.calcProjection()}function Hee(t){t.resetSkewAndRotation()}function Kee(t){t.removeLeadSnapshot()}function KI(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qI(t,e,n,r){t.min=pt(e.min,n.min,r),t.max=pt(e.max,n.max,r)}function qee(t,e,n,r){qI(t.x,e.x,n.x,r),qI(t.y,e.y,n.y,r)}function Gee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Qee={duration:.45,ease:[.4,0,.1,1]},GI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),QI=GI("applewebkit/")&&!GI("chrome/")?Math.round:dr;function YI(t){t.min=QI(t.min),t.max=QI(t.max)}function Yee(t){YI(t.x),YI(t.y)}function YL(t,e,n){return t==="position"||t==="preserve-aspect"&&!nee($I(e),$I(n),.2)}function Xee(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Jee=QL({attachResizeListener:(t,e)=>id(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ty={current:void 0},XL=QL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ty.current){const t=new Jee({});t.mount(window),t.setOptions({layoutScroll:!0}),Ty.current=t}return Ty.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Zee={pan:{Feature:yee},drag:{Feature:gee,ProjectionNode:XL,MeasureLayout:zL}};function XI(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ht.postRender(()=>i(e,Dd(e)))}class ete extends ao{mount(){const{current:e}=this.node;e&&(this.unmount=EJ(e,(n,r)=>(XI(this.node,r,"Start"),s=>XI(this.node,s,"End"))))}unmount(){}}class tte extends ao{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nd(id(this.node.current,"focus",()=>this.onFocus()),id(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JI(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ht.postRender(()=>i(e,Dd(e)))}class nte extends ao{mount(){const{current:e}=this.node;e&&(this.unmount=IJ(e,(n,r)=>(JI(this.node,r,"Start"),(s,{success:i})=>JI(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const K0=new WeakMap,Sy=new WeakMap,rte=t=>{const e=K0.get(t.target);e&&e(t)},ste=t=>{t.forEach(rte)};function ite({root:t,...e}){const n=t||document;Sy.has(n)||Sy.set(n,{});const r=Sy.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(ste,{root:t,...e})),r[s]}function ote(t,e,n){const r=ite(e);return K0.set(t,n),r.observe(t),()=>{K0.delete(t),r.unobserve(t)}}const ate={some:0,all:1};class lte extends ao{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:ate[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return ote(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(cte(e,n))&&this.startObserver()}unmount(){}}function cte({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ute={inView:{Feature:lte},tap:{Feature:nte},focus:{Feature:tte},hover:{Feature:ete}},dte={layout:{ProjectionNode:XL,MeasureLayout:zL}},hte={...YZ,...ute,...Zee,...dte},Pe=hZ(hte,bZ);var Wm="Tabs",[fte,ire]=Vr(Wm,[Rm]),JL=Rm(),[pte,sE]=fte(Wm),ZL=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=Am(a),[h,p]=Wo({prop:r,onChange:s,defaultProp:i??"",caller:Wm});return f.jsx(pte,{scope:n,baseId:ts(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:l,children:f.jsx(xe.div,{dir:d,"data-orientation":o,...c,ref:e})})});ZL.displayName=Wm;var ej="TabsList",tj=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=sE(ej,n),o=JL(n);return f.jsx(iM,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(xe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});tj.displayName=ej;var nj="TabsTrigger",rj=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=sE(nj,n),a=JL(n),l=oj(o.baseId,r),c=aj(o.baseId,r),d=r===o.value;return f.jsx(oM,{asChild:!0,...a,focusable:!s,active:d,children:f.jsx(xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ne(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ne(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ne(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});rj.displayName=nj;var sj="TabsContent",ij=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=sE(sj,n),l=oj(a.baseId,r),c=aj(a.baseId,r),d=r===a.value,h=y.useRef(d);return y.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),f.jsx(Fr,{present:s||d,children:({present:p})=>f.jsx(xe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});ij.displayName=sj;function oj(t,e){return`${t}-trigger-${e}`}function aj(t,e){return`${t}-content-${e}`}var mte=ZL,lj=tj,cj=rj,uj=ij;const gte=mte,dj=y.forwardRef(({className:t,...e},n)=>f.jsx(lj,{ref:n,className:Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));dj.displayName=lj.displayName;const q0=y.forwardRef(({className:t,...e},n)=>f.jsx(cj,{ref:n,className:Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));q0.displayName=cj.displayName;const G0=y.forwardRef(({className:t,...e},n)=>f.jsx(uj,{ref:n,className:Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));G0.displayName=uj.displayName;var yte="Separator",ZI="horizontal",vte=["horizontal","vertical"],hj=y.forwardRef((t,e)=>{const{decorative:n,orientation:r=ZI,...s}=t,i=wte(r)?r:ZI,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return f.jsx(xe.div,{"data-orientation":i,...a,...s,ref:e})});hj.displayName=yte;function wte(t){return vte.includes(t)}var fj=hj;const pj=y.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>f.jsx(fj,{ref:s,decorative:n,orientation:e,className:Ae("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));pj.displayName=fj.displayName;const mj="@firebase/installations",iE="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=1e4,yj=`w:${iE}`,vj="FIS_v2",xte="https://firebaseinstallations.googleapis.com/v1",_te=60*60*1e3,Ete="installations",Tte="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ea=new oa(Ete,Tte,Ste);function wj(t){return t instanceof gr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj({projectId:t}){return`${xte}/projects/${t}/installations`}function _j(t){return{token:t.token,requestStatus:2,expiresIn:Ite(t.expiresIn),creationTime:Date.now()}}async function Ej(t,e){const r=(await e.json()).error;return ea.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Tj({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function bte(t,{refreshToken:e}){const n=Tj(t);return n.append("Authorization",Cte(e)),n}async function Sj(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Ite(t){return Number(t.replace("s","000"))}function Cte(t){return`${vj} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ate({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=xj(t),s=Tj(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:vj,appId:t.appId,sdkVersion:yj},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Sj(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:_j(c.authToken)}}else throw await Ej("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pte(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rte=/^[cdef][\w-]{21}$/,Q0="";function Nte(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=kte(t);return Rte.test(n)?n:Q0}catch{return Q0}}function kte(t){return Pte(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new Map;function Cj(t,e){const n=Hm(t);Aj(n,e),Mte(n,e)}function Aj(t,e){const n=Ij.get(t);if(n)for(const r of n)r(e)}function Mte(t,e){const n=Dte();n&&n.postMessage({key:t,fid:e}),Ote()}let Io=null;function Dte(){return!Io&&"BroadcastChannel"in self&&(Io=new BroadcastChannel("[Firebase] FID Change"),Io.onmessage=t=>{Aj(t.data.key,t.data.fid)}),Io}function Ote(){Ij.size===0&&Io&&(Io.close(),Io=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte="firebase-installations-database",jte=1,ta="firebase-installations-store";let by=null;function oE(){return by||(by=SN(Lte,jte,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ta)}}})),by}async function Ip(t,e){const n=Hm(t),s=(await oE()).transaction(ta,"readwrite"),i=s.objectStore(ta),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&Cj(t,e.fid),e}async function Pj(t){const e=Hm(t),r=(await oE()).transaction(ta,"readwrite");await r.objectStore(ta).delete(e),await r.done}async function Km(t,e){const n=Hm(t),s=(await oE()).transaction(ta,"readwrite"),i=s.objectStore(ta),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&Cj(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aE(t){let e;const n=await Km(t.appConfig,r=>{const s=Vte(r),i=Fte(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Q0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Vte(t){const e=t||{fid:Nte(),registrationStatus:0};return Rj(e)}function Fte(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ea.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Ute(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$te(t)}:{installationEntry:e}}async function Ute(t,e){try{const n=await Ate(t,e);return Ip(t.appConfig,n)}catch(n){throw wj(n)&&n.customData.serverCode===409?await Pj(t.appConfig):await Ip(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $te(t){let e=await eC(t.appConfig);for(;e.registrationStatus===1;)await bj(100),e=await eC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await aE(t);return r||n}return e}function eC(t){return Km(t,e=>{if(!e)throw ea.create("installation-not-found");return Rj(e)})}function Rj(t){return Bte(t)?{fid:t.fid,registrationStatus:0}:t}function Bte(t){return t.registrationStatus===1&&t.registrationTime+gj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zte({appConfig:t,heartbeatServiceProvider:e},n){const r=Wte(t,n),s=bte(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:yj,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Sj(()=>fetch(r,a));if(l.ok){const c=await l.json();return _j(c)}else throw await Ej("Generate Auth Token",l)}function Wte(t,{fid:e}){return`${xj(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lE(t,e=!1){let n;const r=await Km(t.appConfig,i=>{if(!Nj(i))throw ea.create("not-registered");const o=i.authToken;if(!e&&qte(o))return i;if(o.requestStatus===1)return n=Hte(t,e),i;{if(!navigator.onLine)throw ea.create("app-offline");const a=Qte(i);return n=Kte(t,a),a}});return n?await n:r.authToken}async function Hte(t,e){let n=await tC(t.appConfig);for(;n.authToken.requestStatus===1;)await bj(100),n=await tC(t.appConfig);const r=n.authToken;return r.requestStatus===0?lE(t,e):r}function tC(t){return Km(t,e=>{if(!Nj(e))throw ea.create("not-registered");const n=e.authToken;return Yte(n)?{...e,authToken:{requestStatus:0}}:e})}async function Kte(t,e){try{const n=await zte(t,e),r={...e,authToken:n};return await Ip(t.appConfig,r),n}catch(n){if(wj(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Pj(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ip(t.appConfig,r)}throw n}}function Nj(t){return t!==void 0&&t.registrationStatus===2}function qte(t){return t.requestStatus===2&&!Gte(t)}function Gte(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_te}function Qte(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Yte(t){return t.requestStatus===1&&t.requestTime+gj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xte(t){const e=t,{installationEntry:n,registrationPromise:r}=await aE(e);return r?r.catch(console.error):lE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jte(t,e=!1){const n=t;return await Zte(n),(await lE(n,e)).token}async function Zte(t){const{registrationPromise:e}=await aE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ene(t){if(!t||!t.options)throw Iy("App Configuration");if(!t.name)throw Iy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Iy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Iy(t){return ea.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="installations",tne="installations-internal",nne=t=>{const e=t.getProvider("app").getImmediate(),n=ene(e),r=Jl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rne=t=>{const e=t.getProvider("app").getImmediate(),n=Jl(e,kj).getImmediate();return{getId:()=>Xte(n),getToken:s=>Jte(n,s)}};function sne(){Dr(new mr(kj,nne,"PUBLIC")),Dr(new mr(tne,rne,"PRIVATE"))}sne();Ln(mj,iE);Ln(mj,iE,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="analytics",ine="firebase_id",one="origin",ane=60*1e3,lne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new rm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cne={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},hr=new oa("analytics","Analytics",cne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function une(t){if(!t.startsWith(cE)){const e=hr.create("invalid-gtag-resource",{gtagURL:t});return jn.warn(e.message),""}return t}function Mj(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function dne(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function hne(t,e){const n=dne("firebase-js-sdk-policy",{createScriptURL:une}),r=document.createElement("script"),s=`${cE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function fne(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function pne(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await Mj(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){jn.error(a)}t("config",s,i)}async function mne(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await Mj(n);for(const l of o){const c=a.find(h=>h.measurementId===l),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){jn.error(i)}}function gne(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await mne(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await pne(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){jn.error(a)}}return s}function yne(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=gne(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function vne(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(cE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wne=30,xne=1e3;class _ne{constructor(e={},n=xne){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Dj=new _ne;function Ene(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Tne(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Ene(n)},s=lne.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw hr.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function Sne(t,e=Dj,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw hr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw hr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Cne;return setTimeout(async()=>{a.abort()},ane),Oj({appId:r,apiKey:s,measurementId:i},o,a,e)}async function Oj(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=Dj){var a;const{appId:i,measurementId:o}=t;try{await bne(r,e)}catch(l){if(o)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await Tne(t);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!Ine(c)){if(s.deleteThrottleMetadata(i),o)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const d=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?K1(n,s.intervalMillis,wne):K1(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(i,h),jn.debug(`Calling attemptFetch again in ${d} millis`),Oj(t,h,r,s)}}function bne(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(hr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ine(t){if(!(t instanceof gr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Cne{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ane(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pne(){if(xN())try{await _N()}catch(t){return jn.warn(hr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return jn.warn(hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Rne(t,e,n,r,s,i,o){const a=Sne(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>jn.error(p)),e.push(a);const l=Pne().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([a,l]);vne(i)||hne(i,c.measurementId),s("js",new Date);const h=(o==null?void 0:o.config)??{};return h[one]="firebase",h.update=!0,d!=null&&(h[ine]=d),s("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nne{constructor(e){this.app=e}_delete(){return delete gu[this.app.options.appId],Promise.resolve()}}let gu={},rC=[];const sC={};let Cy="dataLayer",kne="gtag",iC,Lj,oC=!1;function Mne(){const t=[];if(wN()&&t.push("This is a browser extension environment."),OB()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=hr.create("invalid-analytics-context",{errorInfo:e});jn.warn(n.message)}}function Dne(t,e,n){Mne();const r=t.options.appId;if(!r)throw hr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw hr.create("no-api-key");if(gu[r]!=null)throw hr.create("already-exists",{id:r});if(!oC){fne(Cy);const{wrappedGtag:i,gtagCore:o}=yne(gu,rC,sC,Cy,kne);Lj=i,iC=o,oC=!0}return gu[r]=Rne(t,rC,sC,e,iC,Cy,n),new Nne(t)}function One(t,e,n,r){t=yt(t),Ane(Lj,gu[t.app.options.appId],e,n,r).catch(s=>jn.error(s))}const aC="@firebase/analytics",lC="0.10.18";function Lne(){Dr(new mr(nC,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return Dne(r,s,n)},"PUBLIC")),Dr(new mr("analytics-internal",t,"PRIVATE")),Ln(aC,lC),Ln(aC,lC,"esm2020");function t(e){try{const n=e.getProvider(nC).getImmediate();return{logEvent:(r,s,i)=>One(n,r,s,i)}}catch(n){throw hr.create("interop-component-reg-failed",{reason:n})}}}Lne();const jne=()=>{const{user:t,profile:e,loading:n}=so(),{toast:r}=zl(),s=Xl(),[i,o]=y.useState("transfer"),[a,l]=y.useState(!1),[c,d]=y.useState(null),[h,p]=y.useState([]);y.useState(null),y.useState(null);const[m,T]=y.useState([]),[g,_]=y.useState("");y.useEffect(()=>{if(t){const L=localStorage.getItem(`cashy_selected_wallet_${t.uid}`);L&&_(L)}},[t]),y.useEffect(()=>{t&&g&&localStorage.setItem(`cashy_selected_wallet_${t.uid}`,g)},[t,g]);const[E,x]=y.useState(!1),[w,A]=y.useState(!1),[N,O]=y.useState(null),[I,b]=y.useState({provider:"",msisdn:"",name:"",monthlyTransferLimit:0,monthlyWithdrawLimit:0}),[C,P]=y.useState({senderMsisdn:"",receiverMsisdn:"",amount:"",note:"",walletId:""}),[M,D]=y.useState({senderMsisdn:"",receiverMsisdn:"",amount:"",note:"",walletId:""}),[k,K]=y.useState({transfers:0,withdrawals:0}),[ie,te]=y.useState({transfers:0,withdrawals:0}),J=async()=>{if(t)try{const L=new Promise((ce,he)=>setTimeout(()=>he(new Error("Timeout")),1e4)),$=or.getByMerchantId(t.uid),de=(await Promise.race([$,L])).filter(ce=>ce.isActive),pe=await Promise.all(de.map(async ce=>{try{const he=await er.syncWalletUsage(ce.id);return{...ce,transferUsage:(he==null?void 0:he.transferUsage)||0,withdrawUsage:(he==null?void 0:he.withdrawUsage)||0,monthlyTransferUsage:(he==null?void 0:he.transferUsage)||ce.monthlyTransferUsage||0,monthlyWithdrawUsage:(he==null?void 0:he.withdrawUsage)||ce.monthlyWithdrawUsage||0,monthlyTransferLimit:ce.monthlyTransferLimit||2e5,monthlyWithdrawLimit:ce.monthlyWithdrawLimit||2e5}}catch(he){return console.error(`Error loading usage for wallet ${ce.id}:`,he),{...ce,transferUsage:ce.transferUsage||0,withdrawUsage:ce.withdrawUsage||0,monthlyTransferUsage:ce.monthlyTransferUsage||0,monthlyWithdrawUsage:ce.monthlyWithdrawUsage||0,monthlyTransferLimit:ce.monthlyTransferLimit||2e5,monthlyWithdrawLimit:ce.monthlyWithdrawLimit||2e5}}}));if(T(pe),pe.length>0){const ce=localStorage.getItem(`cashy_selected_wallet_${t.uid}`),he=ce&&pe.find(Ee=>Ee.id===ce);let ge=null;he?ge=ce:ge=pe[0].id;const q=g&&pe.find(Ee=>Ee.id===g);(!g||!q)&&(_(ge),P(Ee=>({...Ee,walletId:ge})),D(Ee=>({...Ee,walletId:ge})),localStorage.setItem(`cashy_selected_wallet_${t.uid}`,ge))}else g&&_(null)}catch(L){console.error("Error loading wallets:",L);try{const $=`cashy_wallets_${t.uid}`,W=localStorage.getItem($);if(W){const de=JSON.parse(W),pe=de.filter((ge,q,Ee)=>q===Ee.findIndex(Ye=>Ye.id===ge.id||Ye.msisdn===ge.msisdn&&Ye.provider===ge.provider));pe.length!==de.length&&(localStorage.setItem($,JSON.stringify(pe)),console.log("      localStorage"));const he=pe.filter(ge=>ge.isActive).map(ge=>({...ge,transferUsage:ge.transferUsage||0,withdrawUsage:ge.withdrawUsage||0,monthlyTransferUsage:ge.monthlyTransferUsage||0,monthlyWithdrawUsage:ge.monthlyWithdrawUsage||0,monthlyTransferLimit:ge.monthlyTransferLimit||2e5,monthlyWithdrawLimit:ge.monthlyWithdrawLimit||2e5}));if(T(he),he.length>0){const ge=localStorage.getItem(`cashy_selected_wallet_${t.uid}`),q=ge&&he.find(me=>me.id===ge);let Ee=null;q?Ee=ge:Ee=he[0].id;const Ye=g&&he.find(me=>me.id===g);(!g||!Ye)&&(_(Ee),P(me=>({...me,walletId:Ee})),D(me=>({...me,walletId:Ee})),localStorage.setItem(`cashy_selected_wallet_${t.uid}`,Ee))}else g&&_(null)}}catch($){console.error("Error loading wallets from localStorage:",$)}m.length===0&&r({title:"",description:"   .     .",variant:"default"})}},F=async()=>{if(!N||!I.provider||!I.msisdn){r({title:"  ",description:"    ",variant:"destructive"});return}try{const L={...N,provider:I.provider,msisdn:I.msisdn,label:I.name||void 0,monthlyTransferLimit:I.monthlyTransferLimit||0,monthlyWithdrawLimit:I.monthlyWithdrawLimit||0};await or.update(N.id,L),T($=>$.map(W=>W.id===N.id?L:W)),A(!1),O(null),b({provider:"",msisdn:"",name:"",monthlyTransferLimit:0,monthlyWithdrawLimit:0}),r({title:" ",description:"   ",variant:"default"})}catch(L){console.error("Error updating wallet:",L),r({title:"  ",description:"   .   .",variant:"destructive"})}},j=L=>{_(L);const $=m.find(W=>W.id===L);$?(P(W=>({...W,walletId:L,senderMsisdn:$.msisdn})),D(W=>({...W,walletId:L,receiverMsisdn:$.msisdn}))):(P(W=>({...W,walletId:L})),D(W=>({...W,walletId:L})))},G=async()=>{if(console.log("    ..."),console.log("   :",I),console.log("  :",{uid:t==null?void 0:t.uid,email:t==null?void 0:t.email}),!I.provider||!I.msisdn){console.log(" :   "),r({title:"  ",description:"    ",variant:"destructive"});return}if(!(t!=null&&t.uid)){console.log(" :    "),r({title:"  ",description:"   ",variant:"destructive"});return}try{const L={merchantUserId:t.uid,provider:I.provider,msisdn:I.msisdn,label:I.name||`${I.provider} - ${I.msisdn}`,isActive:!0,dailyLimit:5e4,monthlyLimit:1e6,monthlyTransferLimit:I.monthlyTransferLimit||0,monthlyWithdrawLimit:I.monthlyWithdrawLimit||0};console.log("    Firebase:",L);const $=await or.create(L);console.log("     ID:",$);const W=`cashy_wallets_${t.uid}`,de=localStorage.getItem(W);let pe=[];if(de)try{pe=JSON.parse(de)}catch(ge){console.error("Error parsing saved wallets:",ge)}const ce={id:$,...L,dailyUsage:0,monthlyUsage:0};pe.findIndex(ge=>ge.id===$||ge.msisdn===ce.msisdn&&ge.provider===ce.provider)===-1?(pe.push(ce),localStorage.setItem(W,JSON.stringify(pe)),console.log("      localStorage")):console.log("        "),b({provider:"",msisdn:"",name:"",monthlyTransferLimit:0,monthlyWithdrawLimit:0}),x(!1),console.log("    ..."),J(),r({title:"  ",description:"      ."})}catch(L){console.error("     :",{error:L,message:L instanceof Error?L.message:"  ",stack:L instanceof Error?L.stack:void 0,code:L==null?void 0:L.code,details:L==null?void 0:L.details});let $="    ";L instanceof Error&&(L.message.includes("permission-denied")?$="    ":L.message.includes("network")?$="   ":L.message.includes("auth")?$="       ":$=`: ${L.message}`),r({title:"   ",description:$,variant:"destructive"})}},ae=L=>`${{vodafone_cash:" ",etisalat_cash:" ",orange_cash:" ",instapay:""}[L.provider]} - ${L.msisdn}${L.label?` (${L.label})`:""}`,ee=L=>{O(L),b({provider:L.provider,msisdn:L.msisdn,name:L.label||"",monthlyTransferLimit:L.monthlyTransferLimit||0,monthlyWithdrawLimit:L.monthlyWithdrawLimit||0}),A(!0)},le=async L=>{if(window.confirm(`     :
${ae(L)}

     .`))try{if(await or.delete(L.id),T(W=>W.filter(de=>de.id!==L.id)),t!=null&&t.uid){const W=`cashy_wallets_${t.uid}`,de=localStorage.getItem(W);if(de)try{const ce=JSON.parse(de).filter(he=>he.id!==L.id);localStorage.setItem(W,JSON.stringify(ce)),console.log("     localStorage")}catch(pe){console.error("Error updating localStorage:",pe)}}g===L.id&&(_(""),t!=null&&t.uid&&localStorage.removeItem(`cashy_selected_wallet_${t.uid}`)),r({title:" ",description:"   ",variant:"default"})}catch(W){console.error("Error deleting wallet:",W),r({title:"  ",description:"   .   .",variant:"destructive"})}},ue=L=>{const $=new Date,W=new Date($.getFullYear(),$.getMonth(),$.getDate()),de=new Date($.getFullYear(),$.getMonth(),1),pe=L.filter(q=>q.type==="transfer"&&new Date(q.createdAt)>=W).reduce((q,Ee)=>q+Ee.amount,0),ce=L.filter(q=>q.type==="withdraw"&&new Date(q.createdAt)>=W).reduce((q,Ee)=>q+Ee.amount,0),he=L.filter(q=>q.type==="transfer"&&new Date(q.createdAt)>=de).reduce((q,Ee)=>q+Ee.amount,0),ge=L.filter(q=>q.type==="withdraw"&&new Date(q.createdAt)>=de).reduce((q,Ee)=>q+Ee.amount,0);K({transfers:pe,withdrawals:ce}),te({transfers:he,withdrawals:ge})},Oe=async()=>{const L=localStorage.getItem("cashy_transactions");let $=[];if(L)try{$=JSON.parse(L),p($),ue($)}catch(W){console.error("Error parsing localStorage data:",W)}try{const W=new Promise((he,ge)=>setTimeout(()=>ge(new Error("Firestore timeout")),8e3)),de=(async()=>{const he=bm(Ki(ut,"transactions"),W2("createdAt","desc")),ge=await Cd(he),q=[];return ge.forEach(Ee=>{q.push({id:Ee.id,...Ee.data()})}),q})(),pe=await Promise.race([de,W]),ce=[...$];pe.forEach(he=>{if(!$.some(q=>q.id===he.id||q.sender_msisdn===he.sender_msisdn&&q.receiver_msisdn===he.receiver_msisdn&&q.amount===he.amount&&q.createdAt===he.createdAt)){const q=new Date(he.createdAt).getTime(),Ee=Date.now()-60*60*1e3;q>Ee&&ce.push(he)}}),ce.sort((he,ge)=>new Date(ge.createdAt).getTime()-new Date(he.createdAt).getTime()),p(ce),localStorage.setItem("cashy_transactions",JSON.stringify(ce)),ue(ce)}catch(W){console.warn("Firestore connection failed, using local data only:",W),$.length>0?(console.log("Using localStorage transactions only"),ue($)):(p([]),ue([]))}};if(y.useEffect(()=>{!n&&!t&&s("/auth")},[t,n,s]),y.useEffect(()=>{t&&(async()=>{try{l(!0);const $=Promise.allSettled([Oe(),J()]),W=new Promise(de=>setTimeout(()=>de("timeout"),15e3));await Promise.race([$,W])}catch($){console.error("Error loading dashboard data:",$)}finally{l(!1)}})()},[t]),y.useEffect(()=>{h.length>0&&localStorage.setItem("cashy_transactions",JSON.stringify(h))},[h]),n)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:" ..."})]})});if(!t)return null;const Le=L=>Math.round(L*.01*100)/100,Y=async()=>{var W,de,pe,ce,he,ge;if(!C.senderMsisdn||!C.receiverMsisdn||!C.amount||!C.walletId){r({title:"  ",description:"      ",variant:"destructive"});return}const L=parseFloat(C.amount);if(isNaN(L)||L<=0){r({title:"   ",description:"      ",variant:"destructive"});return}const $=/^01[0-9]{9}$/;if(!$.test(C.senderMsisdn)){r({title:"    ",description:"       01   11 ",variant:"destructive"});return}if(!$.test(C.receiverMsisdn)){r({title:"    ",description:"       01   11 ",variant:"destructive"});return}try{const q=await er.canPerformOperation(C.walletId,L,"transfer");if(!q.canPerform){r({title:"   ",description:q.message||"   ",variant:"destructive"});return}}catch(q){r({title:"     ",description:q.message||"      ",variant:"destructive"});return}l(!0);try{if(!!"AIzaSyBRYf_nDTQC-wzWZWjFyWjUKKWc5UHOe-I".includes("QZvQZvQ"))throw new Error("Firebase not configured - using local mode");const Ye=await HK(qK,"transferVodafoneCash")({from:C.senderMsisdn,to:C.receiverMsisdn,amount:Number(L),note:C.note||null});r({title:"   ",description:((W=Ye==null?void 0:Ye.data)==null?void 0:W.message)||"  "});const me={id:((de=Ye==null?void 0:Ye.data)==null?void 0:de.transactionId)||`TXN_${Date.now()}`,type:"transfer",sender_msisdn:C.senderMsisdn,receiver_msisdn:C.receiverMsisdn,amount:L,commission:((pe=Ye==null?void 0:Ye.data)==null?void 0:pe.commission)||Le(L),status:"completed",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),reference:((ce=Ye==null?void 0:Ye.data)==null?void 0:ce.reference)||`REF_${Date.now()}`,note:C.note||"",sender:C.senderMsisdn,receiver:C.receiverMsisdn,txnType:"transfer"};if(d(me),g)try{await er.updateUsage(g,L,"transfer");const ye=await er.syncWalletUsage(g);T(Xn=>{const ms=Xn.map($t=>$t.id===g?{...$t,transferUsage:(ye==null?void 0:ye.transferUsage)||0,withdrawUsage:(ye==null?void 0:ye.withdrawUsage)||0,monthlyTransferUsage:(ye==null?void 0:ye.transferUsage)||0,monthlyWithdrawUsage:(ye==null?void 0:ye.withdrawUsage)||0}:$t);if(t){const $t=`cashy_wallets_${t.uid}`;localStorage.setItem($t,JSON.stringify(ms)),console.log("       localStorage")}return ms})}catch(ye){console.error("Error updating wallet usage:",ye)}p(ye=>{const Xn=[me,...ye];return ue(Xn),Xn}),P({senderMsisdn:"",receiverMsisdn:"",amount:"",note:"",walletId:g})}catch(q){console.error("transfer error:",q);let Ee="   ";if((q==null?void 0:q.code)==="functions/internal"||(he=q==null?void 0:q.message)!=null&&he.includes("internal")||(ge=q==null?void 0:q.message)!=null&&ge.includes("Firebase not configured")){Ee="   .     .";const Ye={id:`TXN_${Date.now()}`,type:"transfer",sender_msisdn:C.senderMsisdn,receiver_msisdn:C.receiverMsisdn,amount:L,commission:Le(L),status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),reference:`REF_${Date.now()}`,note:C.note||"",sender:C.senderMsisdn,receiver:C.receiverMsisdn,txnType:"transfer"};if(g){const me=m.find(ye=>ye.id===g);if(me){const ye=(me.monthlyTransferUsage||0)+L,ms={...{...me,monthlyTransferUsage:ye},transferUsage:ye,monthlyTransferUsage:ye};T($t=>{const pa=$t.map(Fn=>Fn.id===g?ms:Fn);if(t){const Fn=`cashy_wallets_${t.uid}`;localStorage.setItem(Fn,JSON.stringify(pa)),console.log("       localStorage")}return pa});try{await or.update(g,{monthlyTransferUsage:ye})}catch($t){console.error("Error updating wallet usage in Firebase:",$t)}}}d(Ye),p(me=>{const ye=[Ye,...me];return ue(ye),ye}),r({title:"   ",description:"   .     .",variant:"default"}),P({senderMsisdn:"",receiverMsisdn:"",amount:"",note:""});return}else q!=null&&q.code?Ee=`  : ${q.code}`:q!=null&&q.message&&(Ee=q.message);r({title:"  ",description:Ee,variant:"destructive"})}finally{l(!1)}},je=async()=>{var L,$;try{if(r({title:"   ",description:"    ..."}),!M.senderMsisdn||!M.receiverMsisdn||!M.amount||!M.walletId){r({title:"  ",description:"      ",variant:"destructive"});return}const W=parseFloat(M.amount);if(isNaN(W)||W<=0){r({title:"   ",description:"      ",variant:"destructive"});return}const de=/^01[0-9]{9}$/;if(!de.test(M.senderMsisdn)){r({title:"    ",description:"       01   11 ",variant:"destructive"});return}if(!de.test(M.receiverMsisdn)){r({title:"    ",description:"       01   11 ",variant:"destructive"});return}try{const q=await er.canPerformOperation(M.walletId,W,"withdraw");if(!q.canPerform){r({title:"   ",description:q.message||"   ",variant:"destructive"});return}}catch(q){r({title:"     ",description:q.message||"      ",variant:"destructive"});return}l(!0);const pe=M.senderMsisdn,ce=M.receiverMsisdn,he=Le(W),ge={id:`WTH_${Date.now()}`,type:"withdraw",sender_msisdn:pe,receiver_msisdn:ce,amount:W,commission:he,status:"completed",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),reference:`REF_${Date.now()}`,note:M.note||"",sender:pe,receiver:ce,txnType:"withdraw"};d(ge);try{await a_(Ki(ut,"transactions"),ge),console.log("Withdraw transaction saved to Firestore successfully")}catch(q){console.error("Error saving withdraw to Firestore:",q)}if(await new Promise(q=>setTimeout(q,500)),g)try{await er.updateUsage(g,W,"withdraw");const q=await er.syncWalletUsage(g);T(Ee=>{const Ye=Ee.map(me=>me.id===g?{...me,transferUsage:(q==null?void 0:q.transferUsage)||0,withdrawUsage:(q==null?void 0:q.withdrawUsage)||0,monthlyTransferUsage:(q==null?void 0:q.transferUsage)||0,monthlyWithdrawUsage:(q==null?void 0:q.withdrawUsage)||0}:me);if(t){const me=`cashy_wallets_${t.uid}`;localStorage.setItem(me,JSON.stringify(Ye)),console.log("       localStorage")}return Ye})}catch(q){console.error("Error updating wallet usage:",q)}p(q=>{const Ee=[ge,...q];return ue(Ee),Ee});try{}catch{}r({title:"   ! ",description:`  ${W}   ${pe}  ${ce} - : ${he} `}),D({senderMsisdn:"",receiverMsisdn:"",amount:"",note:"",walletId:g})}catch(W){console.error("withdraw error:",W);let de="   ";(W==null?void 0:W.code)==="functions/internal"||(L=W==null?void 0:W.message)!=null&&L.includes("internal")?de="   .    .":($=W==null?void 0:W.code)!=null&&$.includes("firestore")?de="   .   .":W!=null&&W.message&&(de=W.message),r({title:"   ",description:de,variant:"destructive"})}finally{l(!1)}},Ve=async L=>{try{const W=Gt(ut,"transactions",L);await G2(W),console.log("Transaction deleted from Firestore successfully")}catch(W){console.error("Error deleting transaction from Firestore:",W)}const $=h.filter(W=>W.id!==L);p($),localStorage.setItem("cashy_transactions",JSON.stringify($)),ue($),r({title:" ",description:"   "})},Re=async()=>{if(g)try{const L=await er.resetWalletUsageManually(g);L&&T($=>$.map(W=>W.id===g?{...W,transferUsage:L.used_transfer,monthlyTransferUsage:L.used_transfer,withdrawUsage:L.used_withdraw,monthlyWithdrawUsage:L.used_withdraw}:W)),r({title:"  ",description:"     "})}catch(L){console.error("Error resetting transfer usage:",L),r({title:"",description:"     ",variant:"destructive"})}},Ne=async()=>{if(g)try{const L=await er.resetWalletUsageManually(g);L&&T($=>$.map(W=>W.id===g?{...W,transferUsage:L.used_transfer,monthlyTransferUsage:L.used_transfer,withdrawUsage:L.used_withdraw,monthlyWithdrawUsage:L.used_withdraw}:W)),r({title:"  ",description:"     "})}catch(L){console.error("Error resetting withdraw usage:",L),r({title:"",description:"     ",variant:"destructive"})}},Me=async()=>{if(g)try{const L=new Date,$=new Date(L.getFullYear(),L.getMonth(),L.getDate()),W=h.filter(pe=>new Date(pe.createdAt)<$||pe.walletId!==g);p(W),localStorage.setItem("cashy_transactions",JSON.stringify(W));const de=await er.resetWalletUsageManually(g);de&&(T(pe=>pe.map(ce=>ce.id===g?{...ce,transferUsage:de.used_transfer,monthlyTransferUsage:de.used_transfer,withdrawUsage:de.used_withdraw,monthlyWithdrawUsage:de.used_withdraw}:ce)),r({title:" ",description:"    "}))}catch(L){console.error("Error resetting daily usage:",L),r({title:"",description:"    ",variant:"destructive"})}},wt=async()=>{if(g)try{const L=new Date,$=new Date(L.getFullYear(),L.getMonth(),1),W=h.filter(pe=>new Date(pe.createdAt)<$||pe.walletId!==g);p(W),localStorage.setItem("cashy_transactions",JSON.stringify(W));const de=await er.resetWalletUsageManually(g);de&&(T(pe=>pe.map(ce=>ce.id===g?{...ce,transferUsage:de.used_transfer,monthlyTransferUsage:de.used_transfer,withdrawUsage:de.used_withdraw,monthlyWithdrawUsage:de.used_withdraw}:ce)),r({title:" ",description:"    "}))}catch(L){console.error("Error resetting monthly usage:",L),r({title:"",description:"    ",variant:"destructive"})}},jt=()=>{if(!c)return;const L=window.open("","_blank");if(L){const $=c.type==="transfer"?"":"",W=c.commission>0?`<div class="row">
          <span>:</span>
          <span>${c.commission} </span>
        </div>`:"";L.document.write(`
        <!DOCTYPE html>
        <html dir="rtl">
        <head>
          <title> </title>
          <style>
            body { font-family: Arial, sans-serif; direction: rtl; padding: 20px; }
            .receipt { max-width: 400px; margin: 0 auto; border: 2px solid #000; padding: 20px; }
            .header { text-align: center; margin-bottom: 20px; }
            .row { display: flex; justify-content: space-between; margin: 10px 0; }
            .total { font-weight: bold; border-top: 1px solid #000; padding-top: 10px; }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h2> </h2>
              <p> ${$}</p>
            </div>
            <div class="row">
              <span> :</span>
              <span>${c.id}</span>
            </div>
            <div class="row">
              <span>:</span>
              <span>${c.sender_msisdn}</span>
            </div>
            <div class="row">
              <span>:</span>
              <span>${c.receiver_msisdn}</span>
            </div>
            <div class="row">
              <span>:</span>
              <span>${c.amount} </span>
            </div>
            ${W}
            <div class="row total">
              <span>:</span>
              <span>${c.amount+c.commission} </span>
            </div>
            <div class="row">
              <span>:</span>
              <span>${new Date(c.createdAt).toLocaleString("ar-EG")}</span>
            </div>
          </div>
        </body>
        </html>
      `),L.document.close(),L.print()}};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 p-4",children:[a&&f.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-primary/10 backdrop-blur-sm",children:f.jsxs("div",{className:"flex items-center justify-center py-2",children:[f.jsx("div",{className:"h-4 w-4 animate-spin border-2 border-primary border-r-transparent rounded-full mr-2"}),f.jsx("span",{className:"text-sm text-primary font-medium font-body",children:"  ..."})]})}),f.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-6xl mx-auto",style:{marginTop:a?"60px":"0"},children:[f.jsxs(Pe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.5},className:"text-center mb-8",children:[f.jsx(Pe.div,{className:"inline-flex items-center gap-3 mb-4",animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:f.jsx(HU,{className:"h-8 w-8 text-red-600"})}),f.jsx("h1",{className:"text-4xl font-display font-bold bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent mb-2 tracking-tight",children:" "}),f.jsx("p",{className:"text-muted-foreground text-lg font-body",children:"    "})]}),f.jsx(Pe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"mb-4",children:f.jsx(ks,{className:"card-glass border-primary/20",children:f.jsx(Ms,{className:"p-3",children:f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:f.jsx(Vg,{className:"h-4 w-4 text-primary"})}),f.jsx("div",{children:f.jsx("h3",{className:"font-display font-medium text-sm",children:" "})})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx("div",{className:"flex-1 max-w-xs",children:m.length>0?f.jsxs(af,{value:g,onValueChange:j,children:[f.jsx(cu,{className:"w-full h-8 text-xs",children:f.jsx(lf,{placeholder:" "})}),f.jsx(uu,{children:m.map(L=>f.jsx(In,{value:L.id,children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Vg,{className:"h-3 w-3"}),f.jsx("span",{className:"text-xs",children:ae(L)})]})},L.id))})]}):f.jsx("div",{className:"text-center py-2 px-3 bg-gray-50 rounded-md border border-dashed border-gray-300",children:f.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})})}),g&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(be,{variant:"outline",size:"sm",className:"h-8 px-2 text-xs hover:bg-blue-100 hover:text-blue-700",onClick:()=>ee(m.find(L=>L.id===g)),title:"",children:f.jsx(Iv,{className:"h-3 w-3"})}),f.jsx(be,{variant:"outline",size:"sm",className:"h-8 px-2 text-xs hover:bg-red-100 hover:text-red-700",onClick:()=>le(m.find(L=>L.id===g)),title:"",children:f.jsx(Cv,{className:"h-3 w-3"})})]}),f.jsx("div",{className:"flex items-center gap-2",children:g&&(()=>{const L=m.find(ce=>ce.id===g),$=Math.max((L==null?void 0:L.transferUsage)||0,(L==null?void 0:L.monthlyTransferUsage)||0),W=Math.max((L==null?void 0:L.withdrawUsage)||0,(L==null?void 0:L.monthlyWithdrawUsage)||0),de=(L==null?void 0:L.monthlyTransferLimit)||2e5,pe=(L==null?void 0:L.monthlyWithdrawLimit)||2e5;return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-xs text-gray-600",children:":"}),f.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${Math.min($/de*100,100)}%`}})}),f.jsx("span",{className:"text-xs text-green-600 font-bold",children:$.toFixed(0)}),f.jsx(be,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-green-600 hover:text-green-700 hover:bg-green-50",onClick:Re,title:"   ",children:f.jsx(Ea,{className:"h-3 w-3"})})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-xs text-gray-600",children:":"}),f.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-red-500 transition-all duration-300",style:{width:`${Math.min(W/pe*100,100)}%`}})}),f.jsx("span",{className:"text-xs text-red-600 font-bold",children:W.toFixed(0)}),f.jsx(be,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:Ne,title:"   ",children:f.jsx(Ea,{className:"h-3 w-3"})})]})]})})()}),f.jsxs(be,{onClick:()=>x(!0),size:"sm",className:"h-8 px-3 text-xs flex items-center gap-1 whitespace-nowrap",children:[f.jsx(Kh,{className:"h-3 w-3"}),""]})]})]})})})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsx(Pe.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},className:"lg:col-span-2",children:f.jsxs(ks,{className:"card-glass",children:[f.jsx(Ll,{children:f.jsxs(jl,{className:"flex items-center gap-2",children:[f.jsx(NU,{className:"h-5 w-5"}),"  "]})}),f.jsx(Ms,{children:f.jsxs(gte,{value:i,onValueChange:o,className:"w-full",children:[f.jsxs(dj,{className:"grid w-full grid-cols-2 mb-6",children:[f.jsxs(q0,{value:"transfer",className:"flex items-center gap-2",children:[f.jsx(UU,{className:"h-4 w-4"}),f.jsx("span",{className:"text-green-600 font-semibold",children:" "})]}),f.jsxs(q0,{value:"withdraw",className:"flex items-center gap-2",children:[f.jsx(jg,{className:"h-4 w-4"}),f.jsx("span",{className:"text-red-600 font-semibold",children:" "})]})]}),f.jsxs(DJ,{mode:"wait",children:[f.jsx(G0,{value:"transfer",className:"space-y-4",children:f.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"sender-transfer",className:"font-body font-medium",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx(h1,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),f.jsx(Xe,{id:"sender-transfer",placeholder:"01xxxxxxxxx",value:C.senderMsisdn,onChange:L=>P({...C,senderMsisdn:L.target.value}),className:"pl-10"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"receiver-transfer",className:"font-body font-medium",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx(Av,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),f.jsx(Xe,{id:"receiver-transfer",placeholder:"01xxxxxxxxx",value:C.receiverMsisdn,onChange:L=>P({...C,receiverMsisdn:L.target.value}),className:"pl-10"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"amount-transfer",className:"font-body font-medium",children:" ()"}),f.jsxs("div",{className:"relative",children:[f.jsx(jg,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),f.jsx(Xe,{id:"amount-transfer",type:"number",placeholder:"0.00",value:C.amount,onChange:L=>P({...C,amount:L.target.value}),className:"pl-10"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"note-transfer",className:"font-body font-medium",children:" ()"}),f.jsx(Xe,{id:"note-transfer",placeholder:"  ",value:C.note,onChange:L=>P({...C,note:L.target.value})})]})]}),f.jsxs("div",{className:"flex gap-3",children:[!1,f.jsx(be,{onClick:Y,disabled:a,className:"w-full btn-primary font-body font-medium",children:a?f.jsxs(f.Fragment,{children:[f.jsx(Sv,{className:"mr-2 h-4 w-4 animate-spin"}),f.jsx("span",{className:"font-body",children:" ..."})]}):f.jsx("span",{className:"font-body",children:" "})})]})]},"transfer")}),f.jsx(G0,{value:"withdraw",className:"space-y-4",children:f.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"sender-withdraw",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx(h1,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),f.jsx(Xe,{id:"sender-withdraw",placeholder:"01xxxxxxxxx",value:M.senderMsisdn,onChange:L=>D({...M,senderMsisdn:L.target.value}),className:"pl-10"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"receiver-withdraw",children:" "}),f.jsxs("div",{className:"relative",children:[f.jsx(Av,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),f.jsx(Xe,{id:"receiver-withdraw",placeholder:"01xxxxxxxxx",value:M.receiverMsisdn,onChange:L=>D({...M,receiverMsisdn:L.target.value}),className:"pl-10"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"amount-withdraw",children:" ()"}),f.jsxs("div",{className:"relative",children:[f.jsx(jg,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),f.jsx(Xe,{id:"amount-withdraw",type:"number",placeholder:"0.00",value:M.amount,onChange:L=>D({...M,amount:L.target.value}),className:"pl-10"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"note-withdraw",children:" ()"}),f.jsx(Xe,{id:"note-withdraw",placeholder:"  ",value:M.note,onChange:L=>D({...M,note:L.target.value})})]})]}),M.amount&&f.jsxs(Pe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[f.jsx("h4",{className:"font-semibold text-sm",children:" :"}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{children:":"}),f.jsxs("span",{children:[M.amount," "]})]}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{children:" (10  ):"}),f.jsxs("span",{children:[Le(parseFloat(M.amount)||0)," "]})]}),f.jsx(pj,{}),f.jsxs("div",{className:"flex justify-between font-semibold",children:[f.jsx("span",{children:":"}),f.jsxs("span",{children:[(parseFloat(M.amount)||0)+Le(parseFloat(M.amount)||0)," "]})]})]}),f.jsx(be,{onClick:je,disabled:a,className:"w-full btn-primary",children:a?f.jsxs(f.Fragment,{children:[f.jsx(Sv,{className:"mr-2 h-4 w-4 animate-spin"})," ..."]}):" "})]},"withdraw")})]})]})})]})}),f.jsxs(Pe.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.4,duration:.6},className:"space-y-6",children:[f.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(Pe.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:""}),f.jsx("h3",{className:"text-lg font-display font-semibold text-gray-800 tracking-tight",children:" "})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[f.jsxs(Pe.div,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},transition:{type:"spring",stiffness:300,damping:20},className:"bg-gradient-to-br from-blue-50 via-blue-100 to-cyan-50 p-3 rounded-xl border border-blue-200 shadow-sm hover:shadow-md transition-all duration-300",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Pe.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:""}),f.jsx("h4",{className:"text-sm font-display font-semibold text-blue-800 tracking-tight",children:" "})]}),f.jsx(Pe.div,{whileHover:{rotate:180},transition:{duration:.3},children:f.jsx(be,{variant:"outline",size:"sm",className:"h-5 w-5 p-0 text-xs hover:bg-red-100 hover:text-red-700 border-red-200",onClick:()=>{const L=new Date,$=new Date(L.getFullYear(),L.getMonth(),L.getDate()),W=h.filter(de=>new Date(de.createdAt)<$);p(W),localStorage.setItem("cashy_transactions",JSON.stringify(W)),ue(W),r({title:" ",description:"    "})},title:"  ",children:f.jsx(Ea,{className:"h-2.5 w-2.5"})})})]}),f.jsxs("div",{className:"space-y-1.5 font-body",children:[f.jsxs(Pe.div,{className:"flex justify-between items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},children:[f.jsx("span",{className:"text-xs text-gray-600 font-medium",children:":"}),f.jsxs("span",{className:"text-sm font-display font-bold text-green-600 tabular-nums",children:[k.transfers.toFixed(2)," "]})]}),f.jsxs(Pe.div,{className:"flex justify-between items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},children:[f.jsx("span",{className:"text-xs text-gray-600 font-medium",children:":"}),f.jsxs("span",{className:"text-sm font-display font-bold text-red-600 tabular-nums",children:[k.withdrawals.toFixed(2)," "]})]}),f.jsxs(Pe.div,{className:"flex justify-between items-center pt-1.5 border-t border-blue-200",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3},children:[f.jsx("span",{className:"text-xs font-medium text-gray-700",children:":"}),f.jsxs(Pe.span,{className:`text-sm font-display font-bold tabular-nums ${k.transfers-k.withdrawals>=0?"text-green-600":"text-red-600"}`,animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0},children:[(k.transfers-k.withdrawals).toFixed(2)," "]})]})]})]}),f.jsxs(Pe.div,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},transition:{type:"spring",stiffness:300,damping:20},className:"bg-gradient-to-br from-purple-50 via-purple-100 to-pink-50 p-3 rounded-xl border border-purple-200 shadow-sm hover:shadow-md transition-all duration-300",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Pe.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,delay:.5},children:""}),f.jsx("h4",{className:"text-sm font-display font-semibold text-purple-800 tracking-tight",children:" "})]}),f.jsx(Pe.div,{whileHover:{rotate:180},transition:{duration:.3},children:f.jsx(be,{variant:"outline",size:"sm",className:"h-5 w-5 p-0 text-xs hover:bg-red-100 hover:text-red-700 border-red-200",onClick:()=>{const L=new Date,$=new Date(L.getFullYear(),L.getMonth(),1),W=h.filter(de=>new Date(de.createdAt)<$);p(W),localStorage.setItem("cashy_transactions",JSON.stringify(W)),ue(W),r({title:" ",description:"    "})},title:"  ",children:f.jsx(Ea,{className:"h-2.5 w-2.5"})})})]}),f.jsxs("div",{className:"space-y-1.5 font-body",children:[f.jsxs(Pe.div,{className:"flex justify-between items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},children:[f.jsx("span",{className:"text-xs text-gray-600 font-medium",children:":"}),f.jsxs("span",{className:"text-sm font-display font-bold text-green-600 tabular-nums",children:[ie.transfers.toFixed(2)," "]})]}),f.jsxs(Pe.div,{className:"flex justify-between items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},children:[f.jsx("span",{className:"text-xs text-gray-600 font-medium",children:":"}),f.jsxs("span",{className:"text-sm font-display font-bold text-red-600 tabular-nums",children:[ie.withdrawals.toFixed(2)," "]})]}),f.jsxs(Pe.div,{className:"flex justify-between items-center pt-1.5 border-t border-purple-200",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3},children:[f.jsx("span",{className:"text-xs font-medium text-gray-700",children:":"}),f.jsxs(Pe.span,{className:`text-sm font-display font-bold tabular-nums ${ie.transfers-ie.withdrawals>=0?"text-green-600":"text-red-600"}`,animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0,delay:.5},children:[(ie.transfers-ie.withdrawals).toFixed(2)," "]})]})]})]})]})]}),g&&(()=>{const L=m.find(ce=>ce.id===g),$=Math.max((L==null?void 0:L.transferUsage)||0,(L==null?void 0:L.monthlyTransferUsage)||0),W=Math.max((L==null?void 0:L.withdrawUsage)||0,(L==null?void 0:L.monthlyWithdrawUsage)||0),de=(L==null?void 0:L.monthlyTransferLimit)||2e5,pe=(L==null?void 0:L.monthlyWithdrawLimit)||2e5;return f.jsxs(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(Pe.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:""}),f.jsx("h3",{className:"text-lg font-display font-semibold text-gray-800 tracking-tight",children:"  "})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[f.jsxs(Pe.div,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},transition:{type:"spring",stiffness:300,damping:20},className:"bg-gradient-to-br from-green-50 via-green-100 to-emerald-50 p-3 rounded-xl border border-green-200 shadow-sm hover:shadow-md transition-all duration-300",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Pe.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:""}),f.jsx("h4",{className:"text-sm font-display font-semibold text-green-800 tracking-tight",children:" "})]}),f.jsx(Pe.div,{whileHover:{rotate:180},transition:{duration:.3},children:f.jsx(be,{variant:"outline",size:"sm",className:"h-5 w-5 p-0 text-xs hover:bg-red-100 hover:text-red-700 border-red-200",onClick:Me,title:"  ",children:f.jsx(Ea,{className:"h-2.5 w-2.5"})})})]}),f.jsxs("div",{className:"space-y-1.5 font-body",children:[f.jsxs(Pe.div,{className:"flex justify-between items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},children:[f.jsx("span",{className:"text-xs text-gray-600 font-medium",children:":"}),f.jsxs("span",{className:"text-sm font-display font-bold text-green-600 tabular-nums",children:[$.toFixed(0)," / ",de.toLocaleString()," "]})]}),f.jsxs(Pe.div,{className:"flex justify-between items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},children:[f.jsx("span",{className:"text-xs text-gray-600 font-medium",children:":"}),f.jsxs("span",{className:"text-sm font-display font-bold text-red-600 tabular-nums",children:[W.toFixed(0)," / ",pe.toLocaleString()," "]})]}),f.jsxs(Pe.div,{className:"flex justify-between items-center pt-1.5 border-t border-green-200",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3},children:[f.jsx("span",{className:"text-xs font-medium text-gray-700",children:" :"}),f.jsxs(Pe.span,{className:"text-sm font-display font-bold tabular-nums text-green-600",animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0},children:[Math.max(0,de-$).toLocaleString()," "]})]})]})]}),f.jsxs(Pe.div,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},transition:{type:"spring",stiffness:300,damping:20},className:"bg-gradient-to-br from-orange-50 via-orange-100 to-amber-50 p-3 rounded-xl border border-orange-200 shadow-sm hover:shadow-md transition-all duration-300",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Pe.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,delay:.5},children:""}),f.jsx("h4",{className:"text-sm font-display font-semibold text-orange-800 tracking-tight",children:" "})]}),f.jsx(Pe.div,{whileHover:{rotate:180},transition:{duration:.3},children:f.jsx(be,{variant:"outline",size:"sm",className:"h-5 w-5 p-0 text-xs hover:bg-red-100 hover:text-red-700 border-red-200",onClick:wt,title:"  ",children:f.jsx(Ea,{className:"h-2.5 w-2.5"})})})]}),f.jsxs("div",{className:"space-y-1.5 font-body",children:[f.jsxs(Pe.div,{className:"flex justify-between items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},children:[f.jsx("span",{className:"text-xs text-gray-600 font-medium",children:":"}),f.jsxs("span",{className:"text-sm font-display font-bold text-green-600 tabular-nums",children:[$.toFixed(0)," / ",de.toLocaleString()," "]})]}),f.jsxs(Pe.div,{className:"flex justify-between items-center",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},children:[f.jsx("span",{className:"text-xs text-gray-600 font-medium",children:":"}),f.jsxs("span",{className:"text-sm font-display font-bold text-red-600 tabular-nums",children:[W.toFixed(0)," / ",pe.toLocaleString()," "]})]}),f.jsxs(Pe.div,{className:"flex justify-between items-center pt-1.5 border-t border-orange-200",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3},children:[f.jsx("span",{className:"text-xs font-medium text-gray-700",children:" :"}),f.jsxs(Pe.span,{className:"text-sm font-display font-bold tabular-nums text-red-600",animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0,delay:.5},children:[Math.max(0,pe-W).toLocaleString()," "]})]})]})]})]})]})})(),f.jsxs(ks,{className:"card-glass",children:[f.jsxs(Ll,{children:[f.jsxs(jl,{className:"flex items-center justify-between font-display",children:["  (",h.length,")"]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsxs(be,{variant:i==="all"?"secondary":"outline",size:"sm",onClick:()=>o("all"),className:"font-body",children:[" (",h.length,")"]}),f.jsxs(be,{variant:i==="transfer"?"secondary":"outline",size:"sm",onClick:()=>o("transfer"),className:"font-body",children:[" (",h.filter(L=>L.type==="transfer").length,")"]}),f.jsxs(be,{variant:i==="withdraw"?"secondary":"outline",size:"sm",onClick:()=>o("withdraw"),className:"font-body",children:[" (",h.filter(L=>L.type==="withdraw").length,")"]})]})]}),f.jsx(Ms,{children:(()=>{const L=i==="all"?h:h.filter($=>$.type===i);return L.length===0?f.jsxs("p",{children:["   ",i==="all"?"":i==="transfer"?"":"","  "]}):f.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:L.map(($,W)=>f.jsxs(Pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:W*.1},className:"border rounded-lg p-3 space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(fp,{variant:$.type==="transfer"?"default":"secondary",children:$.type==="transfer"?"":""}),f.jsx("span",{className:"text-xs text-muted-foreground",children:new Date($.createdAt).toLocaleString("ar-EG")})]}),f.jsxs("div",{className:"space-y-1 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:":"}),f.jsx("span",{className:"font-mono",children:$.sender_msisdn})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:":"}),f.jsx("span",{className:"font-mono",children:$.receiver_msisdn})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:":"}),f.jsxs("span",{className:"font-semibold text-green-600",children:[$.amount," "]})]}),$.commission>0&&f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:":"}),f.jsxs("span",{className:"text-orange-600 font-semibold",children:[$.commission," "]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:" :"}),f.jsx("span",{className:"font-mono text-xs",children:$.id})]})]}),f.jsxs("div",{className:"flex items-center justify-between pt-2",children:[f.jsx(fp,{variant:"outline",className:"text-xs",children:""}),f.jsxs("div",{className:"flex gap-1",children:[f.jsxs(be,{size:"sm",variant:"ghost",onClick:()=>{d($),jt()},className:"h-6 px-2 text-xs",children:[f.jsx(FU,{className:"h-3 w-3 mr-1"}),""]}),f.jsx(be,{size:"sm",variant:"ghost",onClick:()=>Ve($.id),className:"h-6 px-2 text-xs text-red-600 hover:text-red-700 hover:bg-red-50",children:f.jsx(Cv,{className:"h-3 w-3"})})]})]})]},$.id))})})()})]})]})]})]}),f.jsx(b0,{open:E,onOpenChange:x,children:f.jsxs(yp,{className:"sm:max-w-md",children:[f.jsx(vp,{children:f.jsxs(wp,{className:"flex items-center gap-2",children:[f.jsx(Vg,{className:"h-5 w-5"}),"  "]})}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"provider",children:"  *"}),f.jsxs(af,{value:I.provider,onValueChange:L=>b($=>({...$,provider:L})),children:[f.jsx(cu,{children:f.jsx(lf,{placeholder:"  "})}),f.jsxs(uu,{children:[f.jsx(In,{value:"vodafone_cash",children:" "}),f.jsx(In,{value:"orange_cash",children:" "}),f.jsx(In,{value:"etisalat_cash",children:" "}),f.jsx(In,{value:"instapay",children:"WE Pay"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"msisdn",children:"  *"}),f.jsx(Xe,{id:"msisdn",placeholder:"01xxxxxxxxx",value:I.msisdn,onChange:L=>b($=>({...$,msisdn:L.target.value}))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"name",children:"  ()"}),f.jsx(Xe,{id:"name",placeholder:":  ",value:I.name,onChange:L=>b($=>({...$,name:L.target.value}))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"monthlyTransferLimit",children:"    ()"}),f.jsx(Xe,{id:"monthlyTransferLimit",type:"number",placeholder:": 50000",value:I.monthlyTransferLimit,onChange:L=>b($=>({...$,monthlyTransferLimit:Number(L.target.value)}))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"monthlyWithdrawLimit",children:"    ()"}),f.jsx(Xe,{id:"monthlyWithdrawLimit",type:"number",placeholder:": 30000",value:I.monthlyWithdrawLimit,onChange:L=>b($=>({...$,monthlyWithdrawLimit:Number(L.target.value)}))})]})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(be,{variant:"outline",onClick:()=>{x(!1),b({provider:"",msisdn:"",name:"",monthlyTransferLimit:0,monthlyWithdrawLimit:0})},children:""}),f.jsx(be,{onClick:G,disabled:!I.provider||!I.msisdn,children:" "})]})]})}),f.jsx(b0,{open:w,onOpenChange:A,children:f.jsxs(yp,{className:"sm:max-w-md",children:[f.jsx(vp,{children:f.jsxs(wp,{className:"flex items-center gap-2",children:[f.jsx(Iv,{className:"h-5 w-5"})," "]})}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"edit-provider",children:"  *"}),f.jsxs(af,{value:I.provider,onValueChange:L=>b($=>({...$,provider:L})),children:[f.jsx(cu,{children:f.jsx(lf,{placeholder:"  "})}),f.jsxs(uu,{children:[f.jsx(In,{value:"vodafone_cash",children:" "}),f.jsx(In,{value:"orange_cash",children:" "}),f.jsx(In,{value:"etisalat_cash",children:" "}),f.jsx(In,{value:"instapay",children:"WE Pay"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"edit-msisdn",children:"  *"}),f.jsx(Xe,{id:"edit-msisdn",placeholder:"01xxxxxxxxx",value:I.msisdn,onChange:L=>b($=>({...$,msisdn:L.target.value}))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"edit-name",children:"  ()"}),f.jsx(Xe,{id:"edit-name",placeholder:":  ",value:I.name,onChange:L=>b($=>({...$,name:L.target.value}))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"edit-monthlyTransferLimit",children:"    ()"}),f.jsx(Xe,{id:"edit-monthlyTransferLimit",type:"number",placeholder:": 50000",value:I.monthlyTransferLimit,onChange:L=>b($=>({...$,monthlyTransferLimit:Number(L.target.value)}))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(nt,{htmlFor:"edit-monthlyWithdrawLimit",children:"    ()"}),f.jsx(Xe,{id:"edit-monthlyWithdrawLimit",type:"number",placeholder:": 30000",value:I.monthlyWithdrawLimit,onChange:L=>b($=>({...$,monthlyWithdrawLimit:Number(L.target.value)}))})]})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(be,{variant:"outline",onClick:()=>{A(!1),O(null),b({provider:"",msisdn:"",name:"",monthlyTransferLimit:0,monthlyWithdrawLimit:0})},children:""}),f.jsx(be,{onClick:F,disabled:!I.provider||!I.msisdn,children:" "})]})]})})]})},Vne=()=>{const t=ia();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),f.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Fne=new p$,Une=()=>f.jsx(g$,{client:Fne,children:f.jsx(rq,{children:f.jsx(tq,{children:f.jsxs(W6,{children:[f.jsx(C5,{}),f.jsx(i3,{}),f.jsx(hB,{children:f.jsxs(dN,{children:[f.jsx(Wr,{path:"/",element:f.jsx(sq,{})}),f.jsx(Wr,{path:"/landing",element:f.jsx(lq,{})}),f.jsx(Wr,{path:"/auth",element:f.jsx(cq,{})}),f.jsx(Wr,{path:"/admin/login",element:f.jsx(uq,{})}),f.jsx(Wr,{path:"/merchant/*",element:f.jsx(DY,{})}),f.jsx(Wr,{path:"/dashboard",element:f.jsx(jne,{})}),f.jsx(Wr,{path:"*",element:f.jsx(Vne,{})})]})})]})})})});NP(document.getElementById("root")).render(f.jsx(Une,{}));
