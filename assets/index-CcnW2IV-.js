var q2=Object.defineProperty;var rw=t=>{throw TypeError(t)};var G2=(t,e,n)=>e in t?q2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sw=(t,e,n)=>G2(t,typeof e!="symbol"?e+"":e,n),Up=(t,e,n)=>e.has(t)||rw("Cannot "+n);var W=(t,e,n)=>(Up(t,e,"read from private field"),n?n.call(t):e.get(t)),He=(t,e,n)=>e.has(t)?rw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ae=(t,e,n,r)=>(Up(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Qt=(t,e,n)=>(Up(t,e,"access private method"),n);var rd=(t,e,n,r)=>({set _(s){Ae(t,e,s,n)},get _(){return W(t,e,r)}});function K2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function tb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nb={exports:{}},hf={},rb={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=Symbol.for("react.element"),Q2=Symbol.for("react.portal"),Y2=Symbol.for("react.fragment"),X2=Symbol.for("react.strict_mode"),J2=Symbol.for("react.profiler"),Z2=Symbol.for("react.provider"),ek=Symbol.for("react.context"),tk=Symbol.for("react.forward_ref"),nk=Symbol.for("react.suspense"),rk=Symbol.for("react.memo"),sk=Symbol.for("react.lazy"),iw=Symbol.iterator;function ik(t){return t===null||typeof t!="object"?null:(t=iw&&t[iw]||t["@@iterator"],typeof t=="function"?t:null)}var sb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ib=Object.assign,ob={};function xl(t,e,n){this.props=t,this.context=e,this.refs=ob,this.updater=n||sb}xl.prototype.isReactComponent={};xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ab(){}ab.prototype=xl.prototype;function Oy(t,e,n){this.props=t,this.context=e,this.refs=ob,this.updater=n||sb}var My=Oy.prototype=new ab;My.constructor=Oy;ib(My,xl.prototype);My.isPureReactComponent=!0;var ow=Array.isArray,lb=Object.prototype.hasOwnProperty,Ly={current:null},cb={key:!0,ref:!0,__self:!0,__source:!0};function ub(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)lb.call(e,r)&&!cb.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:vu,type:t,key:i,ref:o,props:s,_owner:Ly.current}}function ok(t,e){return{$$typeof:vu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vy(t){return typeof t=="object"&&t!==null&&t.$$typeof===vu}function ak(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aw=/\/+/g;function $p(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ak(""+t.key):e.toString(36)}function Md(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vu:case Q2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+$p(o,0):r,ow(s)?(n="",t!=null&&(n=t.replace(aw,"$&/")+"/"),Md(s,e,n,"",function(d){return d})):s!=null&&(Vy(s)&&(s=ok(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(aw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ow(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+$p(i,a);o+=Md(i,e,n,c,s)}else if(c=ik(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+$p(i,a++),o+=Md(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sd(t,e,n){if(t==null)return t;var r=[],s=0;return Md(t,r,"","",function(i){return e.call(n,i,s++)}),r}function lk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},Ld={transition:null},ck={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Ld,ReactCurrentOwner:Ly};function db(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:sd,forEach:function(t,e,n){sd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sd(t,function(){e++}),e},toArray:function(t){return sd(t,function(e){return e})||[]},only:function(t){if(!Vy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=xl;De.Fragment=Y2;De.Profiler=J2;De.PureComponent=Oy;De.StrictMode=X2;De.Suspense=nk;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ck;De.act=db;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ib({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ly.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)lb.call(e,c)&&!cb.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:vu,type:t.type,key:s,ref:i,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:ek,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Z2,_context:t},t.Consumer=t};De.createElement=ub;De.createFactory=function(t){var e=ub.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:tk,render:t}};De.isValidElement=Vy;De.lazy=function(t){return{$$typeof:sk,_payload:{_status:-1,_result:t},_init:lk}};De.memo=function(t,e){return{$$typeof:rk,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=Ld.transition;Ld.transition={};try{t()}finally{Ld.transition=e}};De.unstable_act=db;De.useCallback=function(t,e){return pn.current.useCallback(t,e)};De.useContext=function(t){return pn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};De.useEffect=function(t,e){return pn.current.useEffect(t,e)};De.useId=function(){return pn.current.useId()};De.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return pn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};De.useRef=function(t){return pn.current.useRef(t)};De.useState=function(t){return pn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return pn.current.useTransition()};De.version="18.3.1";rb.exports=De;var p=rb.exports;const J=tb(p),Fy=K2({__proto__:null,default:J},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uk=p,dk=Symbol.for("react.element"),hk=Symbol.for("react.fragment"),fk=Object.prototype.hasOwnProperty,pk=uk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mk={key:!0,ref:!0,__self:!0,__source:!0};function hb(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fk.call(e,r)&&!mk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:dk,type:t,key:i,ref:o,props:s,_owner:pk.current}}hf.Fragment=hk;hf.jsx=hb;hf.jsxs=hb;nb.exports=hf;var l=nb.exports,fb={exports:{}},$n={},pb={exports:{}},mb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,V){var Y=U.length;U.push(V);e:for(;0<Y;){var he=Y-1>>>1,te=U[he];if(0<s(te,V))U[he]=V,U[Y]=te,Y=he;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var V=U[0],Y=U.pop();if(Y!==V){U[0]=Y;e:for(var he=0,te=U.length,de=te>>>1;he<de;){var ye=2*(he+1)-1,Ne=U[ye],Ve=ye+1,K=U[Ve];if(0>s(Ne,Y))Ve<te&&0>s(K,Ne)?(U[he]=K,U[Ve]=Y,he=Ve):(U[he]=Ne,U[ye]=Y,he=ye);else if(Ve<te&&0>s(K,Y))U[he]=K,U[Ve]=Y,he=Ve;else break e}}return V}function s(U,V){var Y=U.sortIndex-V.sortIndex;return Y!==0?Y:U.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,m=3,y=!1,T=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=U)r(d),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(d)}}function A(U){if(v=!1,x(U),!T)if(n(c)!==null)T=!0,X(j);else{var V=n(d);V!==null&&ae(A,V.startTime-U)}}function j(U,V){T=!1,v&&(v=!1,E(S),S=-1),y=!0;var Y=m;try{for(x(V),f=n(c);f!==null&&(!(f.expirationTime>V)||U&&!D());){var he=f.callback;if(typeof he=="function"){f.callback=null,m=f.priorityLevel;var te=he(f.expirationTime<=V);V=t.unstable_now(),typeof te=="function"?f.callback=te:f===n(c)&&r(c),x(V)}else r(c);f=n(c)}if(f!==null)var de=!0;else{var ye=n(d);ye!==null&&ae(A,ye.startTime-V),de=!1}return de}finally{f=null,m=Y,y=!1}}var O=!1,N=null,S=-1,C=5,P=-1;function D(){return!(t.unstable_now()-P<C)}function R(){if(N!==null){var U=t.unstable_now();P=U;var V=!0;try{V=N(!0,U)}finally{V?k():(O=!1,N=null)}}else O=!1}var k;if(typeof w=="function")k=function(){w(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,se=B.port2;B.port1.onmessage=R,k=function(){se.postMessage(null)}}else k=function(){_(R,0)};function X(U){N=U,O||(O=!0,k())}function ae(U,V){S=_(function(){U(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,X(j))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var Y=m;m=V;try{return U()}finally{m=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=m;m=U;try{return V()}finally{m=Y}},t.unstable_scheduleCallback=function(U,V,Y){var he=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?he+Y:he):Y=he,U){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Y+te,U={id:h++,callback:V,priorityLevel:U,startTime:Y,expirationTime:te,sortIndex:-1},Y>he?(U.sortIndex=Y,e(d,U),n(c)===null&&U===n(d)&&(v?(E(S),S=-1):v=!0,ae(A,Y-he))):(U.sortIndex=te,e(c,U),T||y||(T=!0,X(j))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var V=m;return function(){var Y=m;m=V;try{return U.apply(this,arguments)}finally{m=Y}}}})(mb);pb.exports=mb;var gk=pb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk=p,Un=gk;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gb=new Set,Rc={};function Go(t,e){Za(t,e),Za(t+"Capture",e)}function Za(t,e){for(Rc[t]=e,t=0;t<e.length;t++)gb.add(e[t])}var ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bm=Object.prototype.hasOwnProperty,vk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lw={},cw={};function xk(t){return Bm.call(cw,t)?!0:Bm.call(lw,t)?!1:vk.test(t)?cw[t]=!0:(lw[t]=!0,!1)}function wk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _k(t,e,n,r){if(e===null||typeof e>"u"||wk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uy=/[\-:]([a-z])/g;function $y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uy,$y);zt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uy,$y);zt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uy,$y);zt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function By(t,e,n,r){var s=zt.hasOwnProperty(e)?zt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_k(e,n,s,r)&&(n=null),r||s===null?xk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bs=yk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,id=Symbol.for("react.element"),ya=Symbol.for("react.portal"),va=Symbol.for("react.fragment"),zy=Symbol.for("react.strict_mode"),zm=Symbol.for("react.profiler"),yb=Symbol.for("react.provider"),vb=Symbol.for("react.context"),Wy=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Hm=Symbol.for("react.suspense_list"),Hy=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),xb=Symbol.for("react.offscreen"),uw=Symbol.iterator;function Hl(t){return t===null||typeof t!="object"?null:(t=uw&&t[uw]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,Bp;function tc(t){if(Bp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bp=e&&e[1]||""}return`
`+Bp+t}var zp=!1;function Wp(t,e){if(!t||zp)return"";zp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{zp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tc(t):""}function Ek(t){switch(t.tag){case 5:return tc(t.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 2:case 15:return t=Wp(t.type,!1),t;case 11:return t=Wp(t.type.render,!1),t;case 1:return t=Wp(t.type,!0),t;default:return""}}function qm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case va:return"Fragment";case ya:return"Portal";case zm:return"Profiler";case zy:return"StrictMode";case Wm:return"Suspense";case Hm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vb:return(t.displayName||"Context")+".Consumer";case yb:return(t._context.displayName||"Context")+".Provider";case Wy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hy:return e=t.displayName||null,e!==null?e:qm(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return qm(t(e))}catch{}}return null}function bk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qm(e);case 8:return e===zy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Tk(t){var e=wb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function od(t){t._valueTracker||(t._valueTracker=Tk(t))}function _b(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ch(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gm(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Eb(t,e){e=e.checked,e!=null&&By(t,"checked",e,!1)}function Km(t,e){Eb(t,e);var n=Mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qm(t,e.type,Mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qm(t,e,n){(e!=="number"||ch(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nc=Array.isArray;function Pa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ym(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(nc(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mi(n)}}function bb(t,e){var n=Mi(e.value),r=Mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Tb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Tb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ad,Sb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ad=ad||document.createElement("div"),ad.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ad.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sk=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(t){Sk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pc[e]=pc[t]})});function Nb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pc.hasOwnProperty(t)&&pc[t]?(""+e).trim():e+"px"}function Ib(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Nk=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jm(t,e){if(e){if(Nk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Zm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=null;function qy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tg=null,Ra=null,ka=null;function mw(t){if(t=_u(t)){if(typeof tg!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=yf(e),tg(t.stateNode,t.type,e))}}function Cb(t){Ra?ka?ka.push(t):ka=[t]:Ra=t}function Ab(){if(Ra){var t=Ra,e=ka;if(ka=Ra=null,mw(t),e)for(t=0;t<e.length;t++)mw(e[t])}}function Pb(t,e){return t(e)}function Rb(){}var Hp=!1;function kb(t,e,n){if(Hp)return t(e,n);Hp=!0;try{return Pb(t,e,n)}finally{Hp=!1,(Ra!==null||ka!==null)&&(Rb(),Ab())}}function jc(t,e){var n=t.stateNode;if(n===null)return null;var r=yf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var ng=!1;if(ks)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){ng=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{ng=!1}function Ik(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var mc=!1,uh=null,dh=!1,rg=null,Ck={onError:function(t){mc=!0,uh=t}};function Ak(t,e,n,r,s,i,o,a,c){mc=!1,uh=null,Ik.apply(Ck,arguments)}function Pk(t,e,n,r,s,i,o,a,c){if(Ak.apply(this,arguments),mc){if(mc){var d=uh;mc=!1,uh=null}else throw Error(Q(198));dh||(dh=!0,rg=d)}}function Ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gw(t){if(Ko(t)!==t)throw Error(Q(188))}function Rk(t){var e=t.alternate;if(!e){if(e=Ko(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return gw(s),t;if(i===r)return gw(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function Db(t){return t=Rk(t),t!==null?Ob(t):null}function Ob(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ob(t);if(e!==null)return e;t=t.sibling}return null}var Mb=Un.unstable_scheduleCallback,yw=Un.unstable_cancelCallback,kk=Un.unstable_shouldYield,jk=Un.unstable_requestPaint,vt=Un.unstable_now,Dk=Un.unstable_getCurrentPriorityLevel,Gy=Un.unstable_ImmediatePriority,Lb=Un.unstable_UserBlockingPriority,hh=Un.unstable_NormalPriority,Ok=Un.unstable_LowPriority,Vb=Un.unstable_IdlePriority,ff=null,Kr=null;function Mk(t){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(ff,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:Fk,Lk=Math.log,Vk=Math.LN2;function Fk(t){return t>>>=0,t===0?32:31-(Lk(t)/Vk|0)|0}var ld=64,cd=4194304;function rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=rc(a):(i&=o,i!==0&&(r=rc(i)))}else o=n&~s,o!==0?r=rc(o):i!==0&&(r=rc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),s=1<<n,r|=t[n],e&=~s;return r}function Uk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $k(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xr(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=Uk(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function sg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fb(){var t=ld;return ld<<=1,!(ld&4194240)&&(ld=64),t}function qp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function Bk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ky(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ke=0;function Ub(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $b,Qy,Bb,zb,Wb,ig=!1,ud=[],Ei=null,bi=null,Ti=null,Dc=new Map,Oc=new Map,ai=[],zk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vw(t,e){switch(t){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(e.pointerId)}}function Gl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=_u(e),e!==null&&Qy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Wk(t,e,n,r,s){switch(e){case"focusin":return Ei=Gl(Ei,t,e,n,r,s),!0;case"dragenter":return bi=Gl(bi,t,e,n,r,s),!0;case"mouseover":return Ti=Gl(Ti,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dc.set(i,Gl(Dc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Oc.set(i,Gl(Oc.get(i)||null,t,e,n,r,s)),!0}return!1}function Hb(t){var e=fo(t.target);if(e!==null){var n=Ko(e);if(n!==null){if(e=n.tag,e===13){if(e=jb(n),e!==null){t.blockedOn=e,Wb(t.priority,function(){Bb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=og(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);eg=r,n.target.dispatchEvent(r),eg=null}else return e=_u(n),e!==null&&Qy(e),t.blockedOn=n,!1;e.shift()}return!0}function xw(t,e,n){Vd(t)&&n.delete(e)}function Hk(){ig=!1,Ei!==null&&Vd(Ei)&&(Ei=null),bi!==null&&Vd(bi)&&(bi=null),Ti!==null&&Vd(Ti)&&(Ti=null),Dc.forEach(xw),Oc.forEach(xw)}function Kl(t,e){t.blockedOn===e&&(t.blockedOn=null,ig||(ig=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,Hk)))}function Mc(t){function e(s){return Kl(s,t)}if(0<ud.length){Kl(ud[0],t);for(var n=1;n<ud.length;n++){var r=ud[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ei!==null&&Kl(Ei,t),bi!==null&&Kl(bi,t),Ti!==null&&Kl(Ti,t),Dc.forEach(e),Oc.forEach(e),n=0;n<ai.length;n++)r=ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ai.length&&(n=ai[0],n.blockedOn===null);)Hb(n),n.blockedOn===null&&ai.shift()}var ja=Bs.ReactCurrentBatchConfig,ph=!0;function qk(t,e,n,r){var s=Ke,i=ja.transition;ja.transition=null;try{Ke=1,Yy(t,e,n,r)}finally{Ke=s,ja.transition=i}}function Gk(t,e,n,r){var s=Ke,i=ja.transition;ja.transition=null;try{Ke=4,Yy(t,e,n,r)}finally{Ke=s,ja.transition=i}}function Yy(t,e,n,r){if(ph){var s=og(t,e,n,r);if(s===null)nm(t,e,r,mh,n),vw(t,r);else if(Wk(s,t,e,n,r))r.stopPropagation();else if(vw(t,r),e&4&&-1<zk.indexOf(t)){for(;s!==null;){var i=_u(s);if(i!==null&&$b(i),i=og(t,e,n,r),i===null&&nm(t,e,r,mh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else nm(t,e,r,null,n)}}var mh=null;function og(t,e,n,r){if(mh=null,t=qy(r),t=fo(t),t!==null)if(e=Ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mh=t,null}function qb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dk()){case Gy:return 1;case Lb:return 4;case hh:case Ok:return 16;case Vb:return 536870912;default:return 16}default:return 16}}var vi=null,Xy=null,Fd=null;function Gb(){if(Fd)return Fd;var t,e=Xy,n=e.length,r,s="value"in vi?vi.value:vi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Fd=s.slice(t,1<r?1-r:void 0)}function Ud(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dd(){return!0}function ww(){return!1}function Bn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dd:ww,this.isPropagationStopped=ww,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),e}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jy=Bn(wl),wu=dt({},wl,{view:0,detail:0}),Kk=Bn(wu),Gp,Kp,Ql,pf=dt({},wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ql&&(Ql&&t.type==="mousemove"?(Gp=t.screenX-Ql.screenX,Kp=t.screenY-Ql.screenY):Kp=Gp=0,Ql=t),Gp)},movementY:function(t){return"movementY"in t?t.movementY:Kp}}),_w=Bn(pf),Qk=dt({},pf,{dataTransfer:0}),Yk=Bn(Qk),Xk=dt({},wu,{relatedTarget:0}),Qp=Bn(Xk),Jk=dt({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),Zk=Bn(Jk),ej=dt({},wl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tj=Bn(ej),nj=dt({},wl,{data:0}),Ew=Bn(nj),rj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ij={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ij[t])?!!e[t]:!1}function Zy(){return oj}var aj=dt({},wu,{key:function(t){if(t.key){var e=rj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ud(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zy,charCode:function(t){return t.type==="keypress"?Ud(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ud(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lj=Bn(aj),cj=dt({},pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bw=Bn(cj),uj=dt({},wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zy}),dj=Bn(uj),hj=dt({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),fj=Bn(hj),pj=dt({},pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mj=Bn(pj),gj=[9,13,27,32],ev=ks&&"CompositionEvent"in window,gc=null;ks&&"documentMode"in document&&(gc=document.documentMode);var yj=ks&&"TextEvent"in window&&!gc,Kb=ks&&(!ev||gc&&8<gc&&11>=gc),Tw=" ",Sw=!1;function Qb(t,e){switch(t){case"keyup":return gj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function vj(t,e){switch(t){case"compositionend":return Yb(e);case"keypress":return e.which!==32?null:(Sw=!0,Tw);case"textInput":return t=e.data,t===Tw&&Sw?null:t;default:return null}}function xj(t,e){if(xa)return t==="compositionend"||!ev&&Qb(t,e)?(t=Gb(),Fd=Xy=vi=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kb&&e.locale!=="ko"?null:e.data;default:return null}}var wj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wj[t.type]:e==="textarea"}function Xb(t,e,n,r){Cb(r),e=gh(e,"onChange"),0<e.length&&(n=new Jy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yc=null,Lc=null;function _j(t){lT(t,0)}function mf(t){var e=Ea(t);if(_b(e))return t}function Ej(t,e){if(t==="change")return e}var Jb=!1;if(ks){var Yp;if(ks){var Xp="oninput"in document;if(!Xp){var Iw=document.createElement("div");Iw.setAttribute("oninput","return;"),Xp=typeof Iw.oninput=="function"}Yp=Xp}else Yp=!1;Jb=Yp&&(!document.documentMode||9<document.documentMode)}function Cw(){yc&&(yc.detachEvent("onpropertychange",Zb),Lc=yc=null)}function Zb(t){if(t.propertyName==="value"&&mf(Lc)){var e=[];Xb(e,Lc,t,qy(t)),kb(_j,e)}}function bj(t,e,n){t==="focusin"?(Cw(),yc=e,Lc=n,yc.attachEvent("onpropertychange",Zb)):t==="focusout"&&Cw()}function Tj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mf(Lc)}function Sj(t,e){if(t==="click")return mf(e)}function Nj(t,e){if(t==="input"||t==="change")return mf(e)}function Ij(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Er=typeof Object.is=="function"?Object.is:Ij;function Vc(t,e){if(Er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Bm.call(e,s)||!Er(t[s],e[s]))return!1}return!0}function Aw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pw(t,e){var n=Aw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Aw(n)}}function eT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tT(){for(var t=window,e=ch();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ch(t.document)}return e}function tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Cj(t){var e=tT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eT(n.ownerDocument.documentElement,n)){if(r!==null&&tv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Pw(n,i);var o=Pw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Aj=ks&&"documentMode"in document&&11>=document.documentMode,wa=null,ag=null,vc=null,lg=!1;function Rw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lg||wa==null||wa!==ch(r)||(r=wa,"selectionStart"in r&&tv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vc&&Vc(vc,r)||(vc=r,r=gh(ag,"onSelect"),0<r.length&&(e=new Jy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wa)))}function hd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _a={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},Jp={},nT={};ks&&(nT=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function gf(t){if(Jp[t])return Jp[t];if(!_a[t])return t;var e=_a[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nT)return Jp[t]=e[n];return t}var rT=gf("animationend"),sT=gf("animationiteration"),iT=gf("animationstart"),oT=gf("transitionend"),aT=new Map,kw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(t,e){aT.set(t,e),Go(e,[t])}for(var Zp=0;Zp<kw.length;Zp++){var em=kw[Zp],Pj=em.toLowerCase(),Rj=em[0].toUpperCase()+em.slice(1);Gi(Pj,"on"+Rj)}Gi(rT,"onAnimationEnd");Gi(sT,"onAnimationIteration");Gi(iT,"onAnimationStart");Gi("dblclick","onDoubleClick");Gi("focusin","onFocus");Gi("focusout","onBlur");Gi(oT,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Go("onBeforeInput",["compositionend","keypress","textInput","paste"]);Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kj=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function jw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pk(r,e,void 0,t),t.currentTarget=null}function lT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;jw(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;jw(s,a,d),i=c}}}if(dh)throw t=rg,dh=!1,rg=null,t}function rt(t,e){var n=e[fg];n===void 0&&(n=e[fg]=new Set);var r=t+"__bubble";n.has(r)||(cT(e,t,2,!1),n.add(r))}function tm(t,e,n){var r=0;e&&(r|=4),cT(n,t,r,e)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Fc(t){if(!t[fd]){t[fd]=!0,gb.forEach(function(n){n!=="selectionchange"&&(kj.has(n)||tm(n,!1,t),tm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fd]||(e[fd]=!0,tm("selectionchange",!1,e))}}function cT(t,e,n,r){switch(qb(e)){case 1:var s=qk;break;case 4:s=Gk;break;default:s=Yy}n=s.bind(null,e,n,t),s=void 0,!ng||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function nm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=fo(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}kb(function(){var d=i,h=qy(n),f=[];e:{var m=aT.get(t);if(m!==void 0){var y=Jy,T=t;switch(t){case"keypress":if(Ud(n)===0)break e;case"keydown":case"keyup":y=lj;break;case"focusin":T="focus",y=Qp;break;case"focusout":T="blur",y=Qp;break;case"beforeblur":case"afterblur":y=Qp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=_w;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Yk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=dj;break;case rT:case sT:case iT:y=Zk;break;case oT:y=fj;break;case"scroll":y=Kk;break;case"wheel":y=mj;break;case"copy":case"cut":case"paste":y=tj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=bw}var v=(e&4)!==0,_=!v&&t==="scroll",E=v?m!==null?m+"Capture":null:m;v=[];for(var w=d,x;w!==null;){x=w;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,E!==null&&(A=jc(w,E),A!=null&&v.push(Uc(w,A,x)))),_)break;w=w.return}0<v.length&&(m=new y(m,T,null,n,h),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==eg&&(T=n.relatedTarget||n.fromElement)&&(fo(T)||T[js]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=d,T=T?fo(T):null,T!==null&&(_=Ko(T),T!==_||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=d),y!==T)){if(v=_w,A="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=bw,A="onPointerLeave",E="onPointerEnter",w="pointer"),_=y==null?m:Ea(y),x=T==null?m:Ea(T),m=new v(A,w+"leave",y,n,h),m.target=_,m.relatedTarget=x,A=null,fo(h)===d&&(v=new v(E,w+"enter",T,n,h),v.target=x,v.relatedTarget=_,A=v),_=A,y&&T)t:{for(v=y,E=T,w=0,x=v;x;x=la(x))w++;for(x=0,A=E;A;A=la(A))x++;for(;0<w-x;)v=la(v),w--;for(;0<x-w;)E=la(E),x--;for(;w--;){if(v===E||E!==null&&v===E.alternate)break t;v=la(v),E=la(E)}v=null}else v=null;y!==null&&Dw(f,m,y,v,!1),T!==null&&_!==null&&Dw(f,_,T,v,!0)}}e:{if(m=d?Ea(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var j=Ej;else if(Nw(m))if(Jb)j=Nj;else{j=Tj;var O=bj}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=Sj);if(j&&(j=j(t,d))){Xb(f,j,n,h);break e}O&&O(t,m,d),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Qm(m,"number",m.value)}switch(O=d?Ea(d):window,t){case"focusin":(Nw(O)||O.contentEditable==="true")&&(wa=O,ag=d,vc=null);break;case"focusout":vc=ag=wa=null;break;case"mousedown":lg=!0;break;case"contextmenu":case"mouseup":case"dragend":lg=!1,Rw(f,n,h);break;case"selectionchange":if(Aj)break;case"keydown":case"keyup":Rw(f,n,h)}var N;if(ev)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xa?Qb(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Kb&&n.locale!=="ko"&&(xa||S!=="onCompositionStart"?S==="onCompositionEnd"&&xa&&(N=Gb()):(vi=h,Xy="value"in vi?vi.value:vi.textContent,xa=!0)),O=gh(d,S),0<O.length&&(S=new Ew(S,t,null,n,h),f.push({event:S,listeners:O}),N?S.data=N:(N=Yb(n),N!==null&&(S.data=N)))),(N=yj?vj(t,n):xj(t,n))&&(d=gh(d,"onBeforeInput"),0<d.length&&(h=new Ew("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=N))}lT(f,e)})}function Uc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jc(t,n),i!=null&&r.unshift(Uc(t,i,s)),i=jc(t,e),i!=null&&r.push(Uc(t,i,s))),t=t.return}return r}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=jc(n,i),c!=null&&o.unshift(Uc(n,c,a))):s||(c=jc(n,i),c!=null&&o.push(Uc(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jj=/\r\n?/g,Dj=/\u0000|\uFFFD/g;function Ow(t){return(typeof t=="string"?t:""+t).replace(jj,`
`).replace(Dj,"")}function pd(t,e,n){if(e=Ow(e),Ow(t)!==e&&n)throw Error(Q(425))}function yh(){}var cg=null,ug=null;function dg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hg=typeof setTimeout=="function"?setTimeout:void 0,Oj=typeof clearTimeout=="function"?clearTimeout:void 0,Mw=typeof Promise=="function"?Promise:void 0,Mj=typeof queueMicrotask=="function"?queueMicrotask:typeof Mw<"u"?function(t){return Mw.resolve(null).then(t).catch(Lj)}:hg;function Lj(t){setTimeout(function(){throw t})}function rm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Mc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Mc(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _l=Math.random().toString(36).slice(2),zr="__reactFiber$"+_l,$c="__reactProps$"+_l,js="__reactContainer$"+_l,fg="__reactEvents$"+_l,Vj="__reactListeners$"+_l,Fj="__reactHandles$"+_l;function fo(t){var e=t[zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[js]||n[zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lw(t);t!==null;){if(n=t[zr])return n;t=Lw(t)}return e}t=n,n=t.parentNode}return null}function _u(t){return t=t[zr]||t[js],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ea(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function yf(t){return t[$c]||null}var pg=[],ba=-1;function Ki(t){return{current:t}}function ot(t){0>ba||(t.current=pg[ba],pg[ba]=null,ba--)}function Ze(t,e){ba++,pg[ba]=t.current,t.current=e}var Li={},on=Ki(Li),Sn=Ki(!1),Ao=Li;function el(t,e){var n=t.type.contextTypes;if(!n)return Li;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Nn(t){return t=t.childContextTypes,t!=null}function vh(){ot(Sn),ot(on)}function Vw(t,e,n){if(on.current!==Li)throw Error(Q(168));Ze(on,e),Ze(Sn,n)}function uT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,bk(t)||"Unknown",s));return dt({},n,r)}function xh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Li,Ao=on.current,Ze(on,t),Ze(Sn,Sn.current),!0}function Fw(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=uT(t,e,Ao),r.__reactInternalMemoizedMergedChildContext=t,ot(Sn),ot(on),Ze(on,t)):ot(Sn),Ze(Sn,n)}var vs=null,vf=!1,sm=!1;function dT(t){vs===null?vs=[t]:vs.push(t)}function Uj(t){vf=!0,dT(t)}function Qi(){if(!sm&&vs!==null){sm=!0;var t=0,e=Ke;try{var n=vs;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vs=null,vf=!1}catch(s){throw vs!==null&&(vs=vs.slice(t+1)),Mb(Gy,Qi),s}finally{Ke=e,sm=!1}}return null}var Ta=[],Sa=0,wh=null,_h=0,Qn=[],Yn=0,Po=null,_s=1,Es="";function lo(t,e){Ta[Sa++]=_h,Ta[Sa++]=wh,wh=t,_h=e}function hT(t,e,n){Qn[Yn++]=_s,Qn[Yn++]=Es,Qn[Yn++]=Po,Po=t;var r=_s;t=Es;var s=32-xr(r)-1;r&=~(1<<s),n+=1;var i=32-xr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_s=1<<32-xr(e)+s|n<<s|r,Es=i+t}else _s=1<<i|n<<s|r,Es=t}function nv(t){t.return!==null&&(lo(t,1),hT(t,1,0))}function rv(t){for(;t===wh;)wh=Ta[--Sa],Ta[Sa]=null,_h=Ta[--Sa],Ta[Sa]=null;for(;t===Po;)Po=Qn[--Yn],Qn[Yn]=null,Es=Qn[--Yn],Qn[Yn]=null,_s=Qn[--Yn],Qn[Yn]=null}var Vn=null,Mn=null,lt=!1,gr=null;function fT(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Uw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vn=t,Mn=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vn=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Po!==null?{id:_s,overflow:Es}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vn=t,Mn=null,!0):!1;default:return!1}}function mg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gg(t){if(lt){var e=Mn;if(e){var n=e;if(!Uw(t,e)){if(mg(t))throw Error(Q(418));e=Si(n.nextSibling);var r=Vn;e&&Uw(t,e)?fT(r,n):(t.flags=t.flags&-4097|2,lt=!1,Vn=t)}}else{if(mg(t))throw Error(Q(418));t.flags=t.flags&-4097|2,lt=!1,Vn=t}}}function $w(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vn=t}function md(t){if(t!==Vn)return!1;if(!lt)return $w(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dg(t.type,t.memoizedProps)),e&&(e=Mn)){if(mg(t))throw pT(),Error(Q(418));for(;e;)fT(t,e),e=Si(e.nextSibling)}if($w(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=Vn?Si(t.stateNode.nextSibling):null;return!0}function pT(){for(var t=Mn;t;)t=Si(t.nextSibling)}function tl(){Mn=Vn=null,lt=!1}function sv(t){gr===null?gr=[t]:gr.push(t)}var $j=Bs.ReactCurrentBatchConfig;function Yl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function gd(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bw(t){var e=t._init;return e(t._payload)}function mT(t){function e(E,w){if(t){var x=E.deletions;x===null?(E.deletions=[w],E.flags|=16):x.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=Ai(E,w),E.index=0,E.sibling=null,E}function i(E,w,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<w?(E.flags|=2,w):x):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,x,A){return w===null||w.tag!==6?(w=dm(x,E.mode,A),w.return=E,w):(w=s(w,x),w.return=E,w)}function c(E,w,x,A){var j=x.type;return j===va?h(E,w,x.props.children,A,x.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ii&&Bw(j)===w.type)?(A=s(w,x.props),A.ref=Yl(E,w,x),A.return=E,A):(A=Gd(x.type,x.key,x.props,null,E.mode,A),A.ref=Yl(E,w,x),A.return=E,A)}function d(E,w,x,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=hm(x,E.mode,A),w.return=E,w):(w=s(w,x.children||[]),w.return=E,w)}function h(E,w,x,A,j){return w===null||w.tag!==7?(w=No(x,E.mode,A,j),w.return=E,w):(w=s(w,x),w.return=E,w)}function f(E,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=dm(""+w,E.mode,x),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case id:return x=Gd(w.type,w.key,w.props,null,E.mode,x),x.ref=Yl(E,null,w),x.return=E,x;case ya:return w=hm(w,E.mode,x),w.return=E,w;case ii:var A=w._init;return f(E,A(w._payload),x)}if(nc(w)||Hl(w))return w=No(w,E.mode,x,null),w.return=E,w;gd(E,w)}return null}function m(E,w,x,A){var j=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:a(E,w,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case id:return x.key===j?c(E,w,x,A):null;case ya:return x.key===j?d(E,w,x,A):null;case ii:return j=x._init,m(E,w,j(x._payload),A)}if(nc(x)||Hl(x))return j!==null?null:h(E,w,x,A,null);gd(E,x)}return null}function y(E,w,x,A,j){if(typeof A=="string"&&A!==""||typeof A=="number")return E=E.get(x)||null,a(w,E,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case id:return E=E.get(A.key===null?x:A.key)||null,c(w,E,A,j);case ya:return E=E.get(A.key===null?x:A.key)||null,d(w,E,A,j);case ii:var O=A._init;return y(E,w,x,O(A._payload),j)}if(nc(A)||Hl(A))return E=E.get(x)||null,h(w,E,A,j,null);gd(w,A)}return null}function T(E,w,x,A){for(var j=null,O=null,N=w,S=w=0,C=null;N!==null&&S<x.length;S++){N.index>S?(C=N,N=null):C=N.sibling;var P=m(E,N,x[S],A);if(P===null){N===null&&(N=C);break}t&&N&&P.alternate===null&&e(E,N),w=i(P,w,S),O===null?j=P:O.sibling=P,O=P,N=C}if(S===x.length)return n(E,N),lt&&lo(E,S),j;if(N===null){for(;S<x.length;S++)N=f(E,x[S],A),N!==null&&(w=i(N,w,S),O===null?j=N:O.sibling=N,O=N);return lt&&lo(E,S),j}for(N=r(E,N);S<x.length;S++)C=y(N,E,S,x[S],A),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?S:C.key),w=i(C,w,S),O===null?j=C:O.sibling=C,O=C);return t&&N.forEach(function(D){return e(E,D)}),lt&&lo(E,S),j}function v(E,w,x,A){var j=Hl(x);if(typeof j!="function")throw Error(Q(150));if(x=j.call(x),x==null)throw Error(Q(151));for(var O=j=null,N=w,S=w=0,C=null,P=x.next();N!==null&&!P.done;S++,P=x.next()){N.index>S?(C=N,N=null):C=N.sibling;var D=m(E,N,P.value,A);if(D===null){N===null&&(N=C);break}t&&N&&D.alternate===null&&e(E,N),w=i(D,w,S),O===null?j=D:O.sibling=D,O=D,N=C}if(P.done)return n(E,N),lt&&lo(E,S),j;if(N===null){for(;!P.done;S++,P=x.next())P=f(E,P.value,A),P!==null&&(w=i(P,w,S),O===null?j=P:O.sibling=P,O=P);return lt&&lo(E,S),j}for(N=r(E,N);!P.done;S++,P=x.next())P=y(N,E,S,P.value,A),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?S:P.key),w=i(P,w,S),O===null?j=P:O.sibling=P,O=P);return t&&N.forEach(function(R){return e(E,R)}),lt&&lo(E,S),j}function _(E,w,x,A){if(typeof x=="object"&&x!==null&&x.type===va&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case id:e:{for(var j=x.key,O=w;O!==null;){if(O.key===j){if(j=x.type,j===va){if(O.tag===7){n(E,O.sibling),w=s(O,x.props.children),w.return=E,E=w;break e}}else if(O.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ii&&Bw(j)===O.type){n(E,O.sibling),w=s(O,x.props),w.ref=Yl(E,O,x),w.return=E,E=w;break e}n(E,O);break}else e(E,O);O=O.sibling}x.type===va?(w=No(x.props.children,E.mode,A,x.key),w.return=E,E=w):(A=Gd(x.type,x.key,x.props,null,E.mode,A),A.ref=Yl(E,w,x),A.return=E,E=A)}return o(E);case ya:e:{for(O=x.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(E,w.sibling),w=s(w,x.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=hm(x,E.mode,A),w.return=E,E=w}return o(E);case ii:return O=x._init,_(E,w,O(x._payload),A)}if(nc(x))return T(E,w,x,A);if(Hl(x))return v(E,w,x,A);gd(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,x),w.return=E,E=w):(n(E,w),w=dm(x,E.mode,A),w.return=E,E=w),o(E)):n(E,w)}return _}var nl=mT(!0),gT=mT(!1),Eh=Ki(null),bh=null,Na=null,iv=null;function ov(){iv=Na=bh=null}function av(t){var e=Eh.current;ot(Eh),t._currentValue=e}function yg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Da(t,e){bh=t,iv=Na=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tn=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(iv!==t)if(t={context:t,memoizedValue:e,next:null},Na===null){if(bh===null)throw Error(Q(308));Na=t,bh.dependencies={lanes:0,firstContext:t}}else Na=Na.next=t;return e}var po=null;function lv(t){po===null?po=[t]:po.push(t)}function yT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,lv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ds(t,r)}function Ds(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oi=!1;function cv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ds(t,n)}return s=r.interleaved,s===null?(e.next=e,lv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ds(t,n)}function $d(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ky(t,n)}}function zw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Th(t,e,n,r){var s=t.updateQueue;oi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,v=a;switch(m=e,y=n,v.tag){case 1:if(T=v.payload,typeof T=="function"){f=T.call(y,f,m);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=v.payload,m=typeof T=="function"?T.call(y,f,m):T,m==null)break e;f=dt({},f,m);break e;case 2:oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=y,c=f):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ko|=o,t.lanes=o,t.memoizedState=f}}function Ww(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var Eu={},Qr=Ki(Eu),Bc=Ki(Eu),zc=Ki(Eu);function mo(t){if(t===Eu)throw Error(Q(174));return t}function uv(t,e){switch(Ze(zc,e),Ze(Bc,t),Ze(Qr,Eu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xm(e,t)}ot(Qr),Ze(Qr,e)}function rl(){ot(Qr),ot(Bc),ot(zc)}function xT(t){mo(zc.current);var e=mo(Qr.current),n=Xm(e,t.type);e!==n&&(Ze(Bc,t),Ze(Qr,n))}function dv(t){Bc.current===t&&(ot(Qr),ot(Bc))}var ct=Ki(0);function Sh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var im=[];function hv(){for(var t=0;t<im.length;t++)im[t]._workInProgressVersionPrimary=null;im.length=0}var Bd=Bs.ReactCurrentDispatcher,om=Bs.ReactCurrentBatchConfig,Ro=0,ut=null,Ct=null,kt=null,Nh=!1,xc=!1,Wc=0,Bj=0;function Yt(){throw Error(Q(321))}function fv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Er(t[n],e[n]))return!1;return!0}function pv(t,e,n,r,s,i){if(Ro=i,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bd.current=t===null||t.memoizedState===null?qj:Gj,t=n(r,s),xc){i=0;do{if(xc=!1,Wc=0,25<=i)throw Error(Q(301));i+=1,kt=Ct=null,e.updateQueue=null,Bd.current=Kj,t=n(r,s)}while(xc)}if(Bd.current=Ih,e=Ct!==null&&Ct.next!==null,Ro=0,kt=Ct=ut=null,Nh=!1,e)throw Error(Q(300));return t}function mv(){var t=Wc!==0;return Wc=0,t}function Vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ut.memoizedState=kt=t:kt=kt.next=t,kt}function rr(){if(Ct===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=kt===null?ut.memoizedState:kt.next;if(e!==null)kt=e,Ct=t;else{if(t===null)throw Error(Q(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},kt===null?ut.memoizedState=kt=t:kt=kt.next=t}return kt}function Hc(t,e){return typeof e=="function"?e(t):e}function am(t){var e=rr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((Ro&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,ut.lanes|=h,ko|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,Er(r,e.memoizedState)||(Tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ut.lanes|=i,ko|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lm(t){var e=rr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Er(i,e.memoizedState)||(Tn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function wT(){}function _T(t,e){var n=ut,r=rr(),s=e(),i=!Er(r.memoizedState,s);if(i&&(r.memoizedState=s,Tn=!0),r=r.queue,gv(TT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,qc(9,bT.bind(null,n,r,s,e),void 0,null),jt===null)throw Error(Q(349));Ro&30||ET(n,e,s)}return s}function ET(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bT(t,e,n,r){e.value=n,e.getSnapshot=r,ST(e)&&NT(t)}function TT(t,e,n){return n(function(){ST(e)&&NT(t)})}function ST(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Er(t,n)}catch{return!0}}function NT(t){var e=Ds(t,1);e!==null&&wr(e,t,1,-1)}function Hw(t){var e=Vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:t},e.queue=t,t=t.dispatch=Hj.bind(null,ut,t),[e.memoizedState,t]}function qc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function IT(){return rr().memoizedState}function zd(t,e,n,r){var s=Vr();ut.flags|=t,s.memoizedState=qc(1|e,n,void 0,r===void 0?null:r)}function xf(t,e,n,r){var s=rr();r=r===void 0?null:r;var i=void 0;if(Ct!==null){var o=Ct.memoizedState;if(i=o.destroy,r!==null&&fv(r,o.deps)){s.memoizedState=qc(e,n,i,r);return}}ut.flags|=t,s.memoizedState=qc(1|e,n,i,r)}function qw(t,e){return zd(8390656,8,t,e)}function gv(t,e){return xf(2048,8,t,e)}function CT(t,e){return xf(4,2,t,e)}function AT(t,e){return xf(4,4,t,e)}function PT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RT(t,e,n){return n=n!=null?n.concat([t]):null,xf(4,4,PT.bind(null,e,t),n)}function yv(){}function kT(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jT(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function DT(t,e,n){return Ro&21?(Er(n,e)||(n=Fb(),ut.lanes|=n,ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=n)}function zj(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=om.transition;om.transition={};try{t(!1),e()}finally{Ke=n,om.transition=r}}function OT(){return rr().memoizedState}function Wj(t,e,n){var r=Ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MT(t))LT(e,n);else if(n=yT(t,e,n,r),n!==null){var s=fn();wr(n,t,r,s),VT(n,e,r)}}function Hj(t,e,n){var r=Ci(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MT(t))LT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Er(a,o)){var c=e.interleaved;c===null?(s.next=s,lv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=yT(t,e,s,r),n!==null&&(s=fn(),wr(n,t,r,s),VT(n,e,r))}}function MT(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function LT(t,e){xc=Nh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function VT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ky(t,n)}}var Ih={readContext:nr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},qj={readContext:nr,useCallback:function(t,e){return Vr().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:qw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zd(4194308,4,PT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zd(4194308,4,t,e)},useInsertionEffect:function(t,e){return zd(4,2,t,e)},useMemo:function(t,e){var n=Vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Wj.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=Vr();return t={current:t},e.memoizedState=t},useState:Hw,useDebugValue:yv,useDeferredValue:function(t){return Vr().memoizedState=t},useTransition:function(){var t=Hw(!1),e=t[0];return t=zj.bind(null,t[1]),Vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,s=Vr();if(lt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),jt===null)throw Error(Q(349));Ro&30||ET(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,qw(TT.bind(null,r,i,t),[t]),r.flags|=2048,qc(9,bT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Vr(),e=jt.identifierPrefix;if(lt){var n=Es,r=_s;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gj={readContext:nr,useCallback:kT,useContext:nr,useEffect:gv,useImperativeHandle:RT,useInsertionEffect:CT,useLayoutEffect:AT,useMemo:jT,useReducer:am,useRef:IT,useState:function(){return am(Hc)},useDebugValue:yv,useDeferredValue:function(t){var e=rr();return DT(e,Ct.memoizedState,t)},useTransition:function(){var t=am(Hc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:wT,useSyncExternalStore:_T,useId:OT,unstable_isNewReconciler:!1},Kj={readContext:nr,useCallback:kT,useContext:nr,useEffect:gv,useImperativeHandle:RT,useInsertionEffect:CT,useLayoutEffect:AT,useMemo:jT,useReducer:lm,useRef:IT,useState:function(){return lm(Hc)},useDebugValue:yv,useDeferredValue:function(t){var e=rr();return Ct===null?e.memoizedState=t:DT(e,Ct.memoizedState,t)},useTransition:function(){var t=lm(Hc)[0],e=rr().memoizedState;return[t,e]},useMutableSource:wT,useSyncExternalStore:_T,useId:OT,unstable_isNewReconciler:!1};function dr(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wf={isMounted:function(t){return(t=t._reactInternals)?Ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fn(),s=Ci(t),i=Ns(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ni(t,i,s),e!==null&&(wr(e,t,s,r),$d(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fn(),s=Ci(t),i=Ns(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ni(t,i,s),e!==null&&(wr(e,t,s,r),$d(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fn(),r=Ci(t),s=Ns(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ni(t,s,r),e!==null&&(wr(e,t,r,n),$d(e,t,r))}};function Gw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Vc(n,r)||!Vc(s,i):!0}function FT(t,e,n){var r=!1,s=Li,i=e.contextType;return typeof i=="object"&&i!==null?i=nr(i):(s=Nn(e)?Ao:on.current,r=e.contextTypes,i=(r=r!=null)?el(t,s):Li),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Kw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wf.enqueueReplaceState(e,e.state,null)}function xg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},cv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nr(i):(i=Nn(e)?Ao:on.current,s.context=el(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wf.enqueueReplaceState(s,s.state,null),Th(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sl(t,e){try{var n="",r=e;do n+=Ek(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function cm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Qj=typeof WeakMap=="function"?WeakMap:Map;function UT(t,e,n){n=Ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ah||(Ah=!0,Pg=r),wg(t,e)},n}function $T(t,e,n){n=Ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){wg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wg(t,e),typeof r!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Qw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Qj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=cD.bind(null,t,e,n),e.then(t,t))}function Yw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ns(-1,1),e.tag=2,Ni(n,e,1))),n.lanes|=1),t)}var Yj=Bs.ReactCurrentOwner,Tn=!1;function dn(t,e,n,r){e.child=t===null?gT(e,null,n,r):nl(e,t.child,n,r)}function Jw(t,e,n,r,s){n=n.render;var i=e.ref;return Da(e,s),r=pv(t,e,n,r,i,s),n=mv(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Os(t,e,s)):(lt&&n&&nv(e),e.flags|=1,dn(t,e,r,s),e.child)}function Zw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Sv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,BT(t,e,i,r,s)):(t=Gd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vc,n(o,r)&&t.ref===e.ref)return Os(t,e,s)}return e.flags|=1,t=Ai(i,r),t.ref=e.ref,t.return=e,e.child=t}function BT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Vc(i,r)&&t.ref===e.ref)if(Tn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Tn=!0);else return e.lanes=t.lanes,Os(t,e,s)}return _g(t,e,n,r,s)}function zT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Ca,kn),kn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Ca,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze(Ca,kn),kn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ze(Ca,kn),kn|=r;return dn(t,e,s,n),e.child}function WT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _g(t,e,n,r,s){var i=Nn(n)?Ao:on.current;return i=el(e,i),Da(e,s),n=pv(t,e,n,r,i,s),r=mv(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Os(t,e,s)):(lt&&r&&nv(e),e.flags|=1,dn(t,e,n,s),e.child)}function e_(t,e,n,r,s){if(Nn(n)){var i=!0;xh(e)}else i=!1;if(Da(e,s),e.stateNode===null)Wd(t,e),FT(e,n,r),xg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=nr(d):(d=Nn(n)?Ao:on.current,d=el(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Kw(e,o,r,d),oi=!1;var m=e.memoizedState;o.state=m,Th(e,r,o,s),c=e.memoizedState,a!==r||m!==c||Sn.current||oi?(typeof h=="function"&&(vg(e,n,h,r),c=e.memoizedState),(a=oi||Gw(e,n,a,r,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,vT(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:dr(e.type,a),o.props=d,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=nr(c):(c=Nn(n)?Ao:on.current,c=el(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==c)&&Kw(e,o,r,c),oi=!1,m=e.memoizedState,o.state=m,Th(e,r,o,s);var T=e.memoizedState;a!==f||m!==T||Sn.current||oi?(typeof y=="function"&&(vg(e,n,y,r),T=e.memoizedState),(d=oi||Gw(e,n,d,r,m,T,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Eg(t,e,n,r,i,s)}function Eg(t,e,n,r,s,i){WT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Fw(e,n,!1),Os(t,e,i);r=e.stateNode,Yj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=nl(e,t.child,null,i),e.child=nl(e,null,a,i)):dn(t,e,a,i),e.memoizedState=r.state,s&&Fw(e,n,!0),e.child}function HT(t){var e=t.stateNode;e.pendingContext?Vw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vw(t,e.context,!1),uv(t,e.containerInfo)}function t_(t,e,n,r,s){return tl(),sv(s),e.flags|=256,dn(t,e,n,r),e.child}var bg={dehydrated:null,treeContext:null,retryLane:0};function Tg(t){return{baseLanes:t,cachePool:null,transitions:null}}function qT(t,e,n){var r=e.pendingProps,s=ct.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ze(ct,s&1),t===null)return gg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bf(o,r,0,null),t=No(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Tg(n),e.memoizedState=bg,t):vv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Xj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ai(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ai(a,i):(i=No(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Tg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=bg,r}return i=t.child,t=i.sibling,r=Ai(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vv(t,e){return e=bf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yd(t,e,n,r){return r!==null&&sv(r),nl(e,t.child,null,n),t=vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=cm(Error(Q(422))),yd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=bf({mode:"visible",children:r.children},s,0,null),i=No(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&nl(e,t.child,null,o),e.child.memoizedState=Tg(o),e.memoizedState=bg,i);if(!(e.mode&1))return yd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Q(419)),r=cm(i,r,void 0),yd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Tn||a){if(r=jt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ds(t,s),wr(r,t,s,-1))}return Tv(),r=cm(Error(Q(421))),yd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=uD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Mn=Si(s.nextSibling),Vn=e,lt=!0,gr=null,t!==null&&(Qn[Yn++]=_s,Qn[Yn++]=Es,Qn[Yn++]=Po,_s=t.id,Es=t.overflow,Po=e),e=vv(e,r.children),e.flags|=4096,e)}function n_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yg(t.return,e,n)}function um(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function GT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(dn(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,n,e);else if(t.tag===19)n_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ct,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Sh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),um(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Sh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}um(e,!0,n,null,i);break;case"together":um(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Os(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Jj(t,e,n){switch(e.tag){case 3:HT(e),tl();break;case 5:xT(e);break;case 1:Nn(e.type)&&xh(e);break;case 4:uv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ze(Eh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?qT(t,e,n):(Ze(ct,ct.current&1),t=Os(t,e,n),t!==null?t.sibling:null);Ze(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return GT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,zT(t,e,n)}return Os(t,e,n)}var KT,Sg,QT,YT;KT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sg=function(){};QT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,mo(Qr.current);var i=null;switch(n){case"input":s=Gm(t,s),r=Gm(t,r),i=[];break;case"select":s=dt({},s,{value:void 0}),r=dt({},r,{value:void 0}),i=[];break;case"textarea":s=Ym(t,s),r=Ym(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yh)}Jm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&rt("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};YT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xl(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zj(t,e,n){var r=e.pendingProps;switch(rv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(e),null;case 1:return Nn(e.type)&&vh(),Xt(e),null;case 3:return r=e.stateNode,rl(),ot(Sn),ot(on),hv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(md(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr!==null&&(jg(gr),gr=null))),Sg(t,e),Xt(e),null;case 5:dv(e);var s=mo(zc.current);if(n=e.type,t!==null&&e.stateNode!=null)QT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Xt(e),null}if(t=mo(Qr.current),md(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[zr]=e,r[$c]=i,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(s=0;s<sc.length;s++)rt(sc[s],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":dw(r,i),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},rt("invalid",r);break;case"textarea":fw(r,i),rt("invalid",r)}Jm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&pd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pd(r.textContent,a,t),s=["children",""+a]):Rc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rt("scroll",r)}switch(n){case"input":od(r),hw(r,i,!0);break;case"textarea":od(r),pw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Tb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[zr]=e,t[$c]=r,KT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zm(n,r),n){case"dialog":rt("cancel",t),rt("close",t),s=r;break;case"iframe":case"object":case"embed":rt("load",t),s=r;break;case"video":case"audio":for(s=0;s<sc.length;s++)rt(sc[s],t);s=r;break;case"source":rt("error",t),s=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),s=r;break;case"details":rt("toggle",t),s=r;break;case"input":dw(t,r),s=Gm(t,r),rt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=dt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":fw(t,r),s=Ym(t,r),rt("invalid",t);break;default:s=r}Jm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Ib(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Sb(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&kc(t,c):typeof c=="number"&&kc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rt("scroll",t):c!=null&&By(t,i,c,o))}switch(n){case"input":od(t),hw(t,r,!1);break;case"textarea":od(t),pw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=yh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xt(e),null;case 6:if(t&&e.stateNode!=null)YT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=mo(zc.current),mo(Qr.current),md(e)){if(r=e.stateNode,n=e.memoizedProps,r[zr]=e,(i=r.nodeValue!==n)&&(t=Vn,t!==null))switch(t.tag){case 3:pd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=e,e.stateNode=r}return Xt(e),null;case 13:if(ot(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Mn!==null&&e.mode&1&&!(e.flags&128))pT(),tl(),e.flags|=98560,i=!1;else if(i=md(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[zr]=e}else tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xt(e),i=!1}else gr!==null&&(jg(gr),gr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?At===0&&(At=3):Tv())),e.updateQueue!==null&&(e.flags|=4),Xt(e),null);case 4:return rl(),Sg(t,e),t===null&&Fc(e.stateNode.containerInfo),Xt(e),null;case 10:return av(e.type._context),Xt(e),null;case 17:return Nn(e.type)&&vh(),Xt(e),null;case 19:if(ot(ct),i=e.memoizedState,i===null)return Xt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Xl(i,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sh(t),o!==null){for(e.flags|=128,Xl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ct,ct.current&1|2),e.child}t=t.sibling}i.tail!==null&&vt()>il&&(e.flags|=128,r=!0,Xl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Sh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lt)return Xt(e),null}else 2*vt()-i.renderingStartTime>il&&n!==1073741824&&(e.flags|=128,r=!0,Xl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=vt(),e.sibling=null,n=ct.current,Ze(ct,r?n&1|2:n&1),e):(Xt(e),null);case 22:case 23:return bv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(Xt(e),e.subtreeFlags&6&&(e.flags|=8192)):Xt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function eD(t,e){switch(rv(e),e.tag){case 1:return Nn(e.type)&&vh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rl(),ot(Sn),ot(on),hv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dv(e),null;case 13:if(ot(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ct),null;case 4:return rl(),null;case 10:return av(e.type._context),null;case 22:case 23:return bv(),null;case 24:return null;default:return null}}var vd=!1,nn=!1,tD=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Ia(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mt(t,e,r)}else n.current=null}function Ng(t,e,n){try{n()}catch(r){mt(t,e,r)}}var r_=!1;function nD(t,e){if(cg=ph,t=tT(),tv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(c=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ug={focusedElem:t,selectionRange:n},ph=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var v=T.memoizedProps,_=T.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:dr(e.type,v),_);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(A){mt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return T=r_,r_=!1,T}function wc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ng(e,n,i)}s=s.next}while(s!==r)}}function _f(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ig(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XT(t){var e=t.alternate;e!==null&&(t.alternate=null,XT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[$c],delete e[fg],delete e[Vj],delete e[Fj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JT(t){return t.tag===5||t.tag===3||t.tag===4}function s_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yh));else if(r!==4&&(t=t.child,t!==null))for(Cg(t,e,n),t=t.sibling;t!==null;)Cg(t,e,n),t=t.sibling}function Ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ag(t,e,n),t=t.sibling;t!==null;)Ag(t,e,n),t=t.sibling}var Lt=null,mr=!1;function Js(t,e,n){for(n=n.child;n!==null;)ZT(t,e,n),n=n.sibling}function ZT(t,e,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(ff,n)}catch{}switch(n.tag){case 5:nn||Ia(n,e);case 6:var r=Lt,s=mr;Lt=null,Js(t,e,n),Lt=r,mr=s,Lt!==null&&(mr?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(mr?(t=Lt,n=n.stateNode,t.nodeType===8?rm(t.parentNode,n):t.nodeType===1&&rm(t,n),Mc(t)):rm(Lt,n.stateNode));break;case 4:r=Lt,s=mr,Lt=n.stateNode.containerInfo,mr=!0,Js(t,e,n),Lt=r,mr=s;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ng(n,e,o),s=s.next}while(s!==r)}Js(t,e,n);break;case 1:if(!nn&&(Ia(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){mt(n,e,a)}Js(t,e,n);break;case 21:Js(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,Js(t,e,n),nn=r):Js(t,e,n);break;default:Js(t,e,n)}}function i_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tD),e.forEach(function(r){var s=dD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,mr=!1;break e;case 3:Lt=a.stateNode.containerInfo,mr=!0;break e;case 4:Lt=a.stateNode.containerInfo,mr=!0;break e}a=a.return}if(Lt===null)throw Error(Q(160));ZT(i,o,s),Lt=null,mr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){mt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eS(e,t),e=e.sibling}function eS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),Lr(t),r&4){try{wc(3,t,t.return),_f(3,t)}catch(v){mt(t,t.return,v)}try{wc(5,t,t.return)}catch(v){mt(t,t.return,v)}}break;case 1:lr(e,t),Lr(t),r&512&&n!==null&&Ia(n,n.return);break;case 5:if(lr(e,t),Lr(t),r&512&&n!==null&&Ia(n,n.return),t.flags&32){var s=t.stateNode;try{kc(s,"")}catch(v){mt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Eb(s,i),Zm(a,o);var d=Zm(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?Ib(s,f):h==="dangerouslySetInnerHTML"?Sb(s,f):h==="children"?kc(s,f):By(s,h,f,d)}switch(a){case"input":Km(s,i);break;case"textarea":bb(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Pa(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Pa(s,!!i.multiple,i.defaultValue,!0):Pa(s,!!i.multiple,i.multiple?[]:"",!1))}s[$c]=i}catch(v){mt(t,t.return,v)}}break;case 6:if(lr(e,t),Lr(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){mt(t,t.return,v)}}break;case 3:if(lr(e,t),Lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mc(e.containerInfo)}catch(v){mt(t,t.return,v)}break;case 4:lr(e,t),Lr(t);break;case 13:lr(e,t),Lr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_v=vt())),r&4&&i_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(d=nn)||h,lr(e,t),nn=d):lr(e,t),Lr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(fe=t,h=t.child;h!==null;){for(f=fe=h;fe!==null;){switch(m=fe,y=m.child,m.tag){case 0:case 11:case 14:case 15:wc(4,m,m.return);break;case 1:Ia(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(v){mt(r,n,v)}}break;case 5:Ia(m,m.return);break;case 22:if(m.memoizedState!==null){a_(f);continue}}y!==null?(y.return=m,fe=y):a_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Nb("display",o))}catch(v){mt(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){mt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lr(e,t),Lr(t),r&4&&i_(t);break;case 21:break;default:lr(e,t),Lr(t)}}function Lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(JT(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kc(s,""),r.flags&=-33);var i=s_(t);Ag(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=s_(t);Cg(t,a,o);break;default:throw Error(Q(161))}}catch(c){mt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rD(t,e,n){fe=t,tS(t)}function tS(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vd;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||nn;a=vd;var d=nn;if(vd=o,(nn=c)&&!d)for(fe=s;fe!==null;)o=fe,c=o.child,o.tag===22&&o.memoizedState!==null?l_(s):c!==null?(c.return=o,fe=c):l_(s);for(;i!==null;)fe=i,tS(i),i=i.sibling;fe=s,vd=a,nn=d}o_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):o_(t)}}function o_(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||_f(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ww(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ww(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Mc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}nn||e.flags&512&&Ig(e)}catch(m){mt(e,e.return,m)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function a_(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function l_(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_f(4,e)}catch(c){mt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){mt(e,s,c)}}var i=e.return;try{Ig(e)}catch(c){mt(e,i,c)}break;case 5:var o=e.return;try{Ig(e)}catch(c){mt(e,o,c)}}}catch(c){mt(e,e.return,c)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var sD=Math.ceil,Ch=Bs.ReactCurrentDispatcher,xv=Bs.ReactCurrentOwner,Zn=Bs.ReactCurrentBatchConfig,ze=0,jt=null,St=null,Bt=0,kn=0,Ca=Ki(0),At=0,Gc=null,ko=0,Ef=0,wv=0,_c=null,En=null,_v=0,il=1/0,ys=null,Ah=!1,Pg=null,Ii=null,xd=!1,xi=null,Ph=0,Ec=0,Rg=null,Hd=-1,qd=0;function fn(){return ze&6?vt():Hd!==-1?Hd:Hd=vt()}function Ci(t){return t.mode&1?ze&2&&Bt!==0?Bt&-Bt:$j.transition!==null?(qd===0&&(qd=Fb()),qd):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:qb(t.type)),t):1}function wr(t,e,n,r){if(50<Ec)throw Ec=0,Rg=null,Error(Q(185));xu(t,n,r),(!(ze&2)||t!==jt)&&(t===jt&&(!(ze&2)&&(Ef|=n),At===4&&li(t,Bt)),In(t,r),n===1&&ze===0&&!(e.mode&1)&&(il=vt()+500,vf&&Qi()))}function In(t,e){var n=t.callbackNode;$k(t,e);var r=fh(t,t===jt?Bt:0);if(r===0)n!==null&&yw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yw(n),e===1)t.tag===0?Uj(c_.bind(null,t)):dT(c_.bind(null,t)),Mj(function(){!(ze&6)&&Qi()}),n=null;else{switch(Ub(r)){case 1:n=Gy;break;case 4:n=Lb;break;case 16:n=hh;break;case 536870912:n=Vb;break;default:n=hh}n=cS(n,nS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nS(t,e){if(Hd=-1,qd=0,ze&6)throw Error(Q(327));var n=t.callbackNode;if(Oa()&&t.callbackNode!==n)return null;var r=fh(t,t===jt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rh(t,r);else{e=r;var s=ze;ze|=2;var i=sS();(jt!==t||Bt!==e)&&(ys=null,il=vt()+500,So(t,e));do try{aD();break}catch(a){rS(t,a)}while(!0);ov(),Ch.current=i,ze=s,St!==null?e=0:(jt=null,Bt=0,e=At)}if(e!==0){if(e===2&&(s=sg(t),s!==0&&(r=s,e=kg(t,s))),e===1)throw n=Gc,So(t,0),li(t,r),In(t,vt()),n;if(e===6)li(t,r);else{if(s=t.current.alternate,!(r&30)&&!iD(s)&&(e=Rh(t,r),e===2&&(i=sg(t),i!==0&&(r=i,e=kg(t,i))),e===1))throw n=Gc,So(t,0),li(t,r),In(t,vt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:co(t,En,ys);break;case 3:if(li(t,r),(r&130023424)===r&&(e=_v+500-vt(),10<e)){if(fh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){fn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hg(co.bind(null,t,En,ys),e);break}co(t,En,ys);break;case 4:if(li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sD(r/1960))-r,10<r){t.timeoutHandle=hg(co.bind(null,t,En,ys),r);break}co(t,En,ys);break;case 5:co(t,En,ys);break;default:throw Error(Q(329))}}}return In(t,vt()),t.callbackNode===n?nS.bind(null,t):null}function kg(t,e){var n=_c;return t.current.memoizedState.isDehydrated&&(So(t,e).flags|=256),t=Rh(t,e),t!==2&&(e=En,En=n,e!==null&&jg(e)),t}function jg(t){En===null?En=t:En.push.apply(En,t)}function iD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Er(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function li(t,e){for(e&=~wv,e&=~Ef,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function c_(t){if(ze&6)throw Error(Q(327));Oa();var e=fh(t,0);if(!(e&1))return In(t,vt()),null;var n=Rh(t,e);if(t.tag!==0&&n===2){var r=sg(t);r!==0&&(e=r,n=kg(t,r))}if(n===1)throw n=Gc,So(t,0),li(t,e),In(t,vt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,co(t,En,ys),In(t,vt()),null}function Ev(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(il=vt()+500,vf&&Qi())}}function jo(t){xi!==null&&xi.tag===0&&!(ze&6)&&Oa();var e=ze;ze|=1;var n=Zn.transition,r=Ke;try{if(Zn.transition=null,Ke=1,t)return t()}finally{Ke=r,Zn.transition=n,ze=e,!(ze&6)&&Qi()}}function bv(){kn=Ca.current,ot(Ca)}function So(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Oj(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(rv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vh();break;case 3:rl(),ot(Sn),ot(on),hv();break;case 5:dv(r);break;case 4:rl();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:av(r.type._context);break;case 22:case 23:bv()}n=n.return}if(jt=t,St=t=Ai(t.current,null),Bt=kn=e,At=0,Gc=null,wv=Ef=ko=0,En=_c=null,po!==null){for(e=0;e<po.length;e++)if(n=po[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}po=null}return t}function rS(t,e){do{var n=St;try{if(ov(),Bd.current=Ih,Nh){for(var r=ut.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nh=!1}if(Ro=0,kt=Ct=ut=null,xc=!1,Wc=0,xv.current=null,n===null||n.return===null){At=1,Gc=e,St=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Bt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Yw(o);if(y!==null){y.flags&=-257,Xw(y,o,a,i,e),y.mode&1&&Qw(i,d,e),e=y,c=d;var T=e.updateQueue;if(T===null){var v=new Set;v.add(c),e.updateQueue=v}else T.add(c);break e}else{if(!(e&1)){Qw(i,d,e),Tv();break e}c=Error(Q(426))}}else if(lt&&a.mode&1){var _=Yw(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Xw(_,o,a,i,e),sv(sl(c,a));break e}}i=c=sl(c,a),At!==4&&(At=2),_c===null?_c=[i]:_c.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=UT(i,c,e);zw(i,E);break e;case 1:a=c;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ii===null||!Ii.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=$T(i,a,e);zw(i,A);break e}}i=i.return}while(i!==null)}oS(n)}catch(j){e=j,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function sS(){var t=Ch.current;return Ch.current=Ih,t===null?Ih:t}function Tv(){(At===0||At===3||At===2)&&(At=4),jt===null||!(ko&268435455)&&!(Ef&268435455)||li(jt,Bt)}function Rh(t,e){var n=ze;ze|=2;var r=sS();(jt!==t||Bt!==e)&&(ys=null,So(t,e));do try{oD();break}catch(s){rS(t,s)}while(!0);if(ov(),ze=n,Ch.current=r,St!==null)throw Error(Q(261));return jt=null,Bt=0,At}function oD(){for(;St!==null;)iS(St)}function aD(){for(;St!==null&&!kk();)iS(St)}function iS(t){var e=lS(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?oS(t):St=e,xv.current=null}function oS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eD(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,St=null;return}}else if(n=Zj(n,e,kn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);At===0&&(At=5)}function co(t,e,n){var r=Ke,s=Zn.transition;try{Zn.transition=null,Ke=1,lD(t,e,n,r)}finally{Zn.transition=s,Ke=r}return null}function lD(t,e,n,r){do Oa();while(xi!==null);if(ze&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Bk(t,i),t===jt&&(St=jt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xd||(xd=!0,cS(hh,function(){return Oa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Zn.transition,Zn.transition=null;var o=Ke;Ke=1;var a=ze;ze|=4,xv.current=null,nD(t,n),eS(n,t),Cj(ug),ph=!!cg,ug=cg=null,t.current=n,rD(n),jk(),ze=a,Ke=o,Zn.transition=i}else t.current=n;if(xd&&(xd=!1,xi=t,Ph=s),i=t.pendingLanes,i===0&&(Ii=null),Mk(n.stateNode),In(t,vt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ah)throw Ah=!1,t=Pg,Pg=null,t;return Ph&1&&t.tag!==0&&Oa(),i=t.pendingLanes,i&1?t===Rg?Ec++:(Ec=0,Rg=t):Ec=0,Qi(),null}function Oa(){if(xi!==null){var t=Ub(Ph),e=Zn.transition,n=Ke;try{if(Zn.transition=null,Ke=16>t?16:t,xi===null)var r=!1;else{if(t=xi,xi=null,Ph=0,ze&6)throw Error(Q(331));var s=ze;for(ze|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(fe=d;fe!==null;){var h=fe;switch(h.tag){case 0:case 11:case 15:wc(8,h,i)}var f=h.child;if(f!==null)f.return=h,fe=f;else for(;fe!==null;){h=fe;var m=h.sibling,y=h.return;if(XT(h),h===d){fe=null;break}if(m!==null){m.return=y,fe=m;break}fe=y}}}var T=i.alternate;if(T!==null){var v=T.child;if(v!==null){T.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wc(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,fe=E;break e}fe=i.return}}var w=t.current;for(fe=w;fe!==null;){o=fe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,fe=x;else e:for(o=w;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_f(9,a)}}catch(j){mt(a,a.return,j)}if(a===o){fe=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,fe=A;break e}fe=a.return}}if(ze=s,Qi(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(ff,t)}catch{}r=!0}return r}finally{Ke=n,Zn.transition=e}}return!1}function u_(t,e,n){e=sl(n,e),e=UT(t,e,1),t=Ni(t,e,1),e=fn(),t!==null&&(xu(t,1,e),In(t,e))}function mt(t,e,n){if(t.tag===3)u_(t,t,n);else for(;e!==null;){if(e.tag===3){u_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ii===null||!Ii.has(r))){t=sl(n,t),t=$T(e,t,1),e=Ni(e,t,1),t=fn(),e!==null&&(xu(e,1,t),In(e,t));break}}e=e.return}}function cD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&n,jt===t&&(Bt&n)===n&&(At===4||At===3&&(Bt&130023424)===Bt&&500>vt()-_v?So(t,0):wv|=n),In(t,e)}function aS(t,e){e===0&&(t.mode&1?(e=cd,cd<<=1,!(cd&130023424)&&(cd=4194304)):e=1);var n=fn();t=Ds(t,e),t!==null&&(xu(t,e,n),In(t,n))}function uD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aS(t,n)}function dD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),aS(t,n)}var lS;lS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)Tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tn=!1,Jj(t,e,n);Tn=!!(t.flags&131072)}else Tn=!1,lt&&e.flags&1048576&&hT(e,_h,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wd(t,e),t=e.pendingProps;var s=el(e,on.current);Da(e,n),s=pv(null,e,r,t,s,n);var i=mv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(r)?(i=!0,xh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cv(e),s.updater=wf,e.stateNode=s,s._reactInternals=e,xg(e,r,t,n),e=Eg(null,e,r,!0,i,n)):(e.tag=0,lt&&i&&nv(e),dn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=fD(r),t=dr(r,t),s){case 0:e=_g(null,e,r,t,n);break e;case 1:e=e_(null,e,r,t,n);break e;case 11:e=Jw(null,e,r,t,n);break e;case 14:e=Zw(null,e,r,dr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),_g(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),e_(t,e,r,s,n);case 3:e:{if(HT(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,vT(t,e),Th(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sl(Error(Q(423)),e),e=t_(t,e,r,n,s);break e}else if(r!==s){s=sl(Error(Q(424)),e),e=t_(t,e,r,n,s);break e}else for(Mn=Si(e.stateNode.containerInfo.firstChild),Vn=e,lt=!0,gr=null,n=gT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tl(),r===s){e=Os(t,e,n);break e}dn(t,e,r,n)}e=e.child}return e;case 5:return xT(e),t===null&&gg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,dg(r,s)?o=null:i!==null&&dg(r,i)&&(e.flags|=32),WT(t,e),dn(t,e,o,n),e.child;case 6:return t===null&&gg(e),null;case 13:return qT(t,e,n);case 4:return uv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nl(e,null,r,n):dn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),Jw(t,e,r,s,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ze(Eh,r._currentValue),r._currentValue=o,i!==null)if(Er(i.value,o)){if(i.children===s.children&&!Sn.current){e=Os(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ns(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),yg(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}dn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Da(e,n),s=nr(s),r=r(s),e.flags|=1,dn(t,e,r,n),e.child;case 14:return r=e.type,s=dr(r,e.pendingProps),s=dr(r.type,s),Zw(t,e,r,s,n);case 15:return BT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),Wd(t,e),e.tag=1,Nn(r)?(t=!0,xh(e)):t=!1,Da(e,n),FT(e,r,s),xg(e,r,s,n),Eg(null,e,r,!0,t,n);case 19:return GT(t,e,n);case 22:return zT(t,e,n)}throw Error(Q(156,e.tag))};function cS(t,e){return Mb(t,e)}function hD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,r){return new hD(t,e,n,r)}function Sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fD(t){if(typeof t=="function")return Sv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wy)return 11;if(t===Hy)return 14}return 2}function Ai(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Sv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case va:return No(n.children,s,i,e);case zy:o=8,s|=8;break;case zm:return t=Jn(12,n,e,s|2),t.elementType=zm,t.lanes=i,t;case Wm:return t=Jn(13,n,e,s),t.elementType=Wm,t.lanes=i,t;case Hm:return t=Jn(19,n,e,s),t.elementType=Hm,t.lanes=i,t;case xb:return bf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yb:o=10;break e;case vb:o=9;break e;case Wy:o=11;break e;case Hy:o=14;break e;case ii:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Jn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function No(t,e,n,r){return t=Jn(7,t,r,e),t.lanes=n,t}function bf(t,e,n,r){return t=Jn(22,t,r,e),t.elementType=xb,t.lanes=n,t.stateNode={isHidden:!1},t}function dm(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function hm(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qp(0),this.expirationTimes=qp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nv(t,e,n,r,s,i,o,a,c){return t=new pD(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Jn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(i),t}function mD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ya,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uS(t){if(!t)return Li;t=t._reactInternals;e:{if(Ko(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Nn(n))return uT(t,n,e)}return e}function dS(t,e,n,r,s,i,o,a,c){return t=Nv(n,r,!0,t,s,i,o,a,c),t.context=uS(null),n=t.current,r=fn(),s=Ci(n),i=Ns(r,s),i.callback=e??null,Ni(n,i,s),t.current.lanes=s,xu(t,s,r),In(t,r),t}function Tf(t,e,n,r){var s=e.current,i=fn(),o=Ci(s);return n=uS(n),e.context===null?e.context=n:e.pendingContext=n,e=Ns(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ni(s,e,o),t!==null&&(wr(t,s,o,i),$d(t,s,o)),o}function kh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Iv(t,e){d_(t,e),(t=t.alternate)&&d_(t,e)}function gD(){return null}var hS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cv(t){this._internalRoot=t}Sf.prototype.render=Cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Tf(t,e,null,null)};Sf.prototype.unmount=Cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jo(function(){Tf(null,t,null,null)}),e[js]=null}};function Sf(t){this._internalRoot=t}Sf.prototype.unstable_scheduleHydration=function(t){if(t){var e=zb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ai.length&&e!==0&&e<ai[n].priority;n++);ai.splice(n,0,t),n===0&&Hb(t)}};function Av(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h_(){}function yD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=kh(o);i.call(d)}}var o=dS(e,r,t,0,null,!1,!1,"",h_);return t._reactRootContainer=o,t[js]=o.current,Fc(t.nodeType===8?t.parentNode:t),jo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=kh(c);a.call(d)}}var c=Nv(t,0,!1,null,null,!1,!1,"",h_);return t._reactRootContainer=c,t[js]=c.current,Fc(t.nodeType===8?t.parentNode:t),jo(function(){Tf(e,c,n,r)}),c}function If(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=kh(o);a.call(c)}}Tf(e,o,t,s)}else o=yD(n,e,t,s,r);return kh(o)}$b=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rc(e.pendingLanes);n!==0&&(Ky(e,n|1),In(e,vt()),!(ze&6)&&(il=vt()+500,Qi()))}break;case 13:jo(function(){var r=Ds(t,1);if(r!==null){var s=fn();wr(r,t,1,s)}}),Iv(t,1)}};Qy=function(t){if(t.tag===13){var e=Ds(t,134217728);if(e!==null){var n=fn();wr(e,t,134217728,n)}Iv(t,134217728)}};Bb=function(t){if(t.tag===13){var e=Ci(t),n=Ds(t,e);if(n!==null){var r=fn();wr(n,t,e,r)}Iv(t,e)}};zb=function(){return Ke};Wb=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};tg=function(t,e,n){switch(e){case"input":if(Km(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=yf(r);if(!s)throw Error(Q(90));_b(r),Km(r,s)}}}break;case"textarea":bb(t,n);break;case"select":e=n.value,e!=null&&Pa(t,!!n.multiple,e,!1)}};Pb=Ev;Rb=jo;var vD={usingClientEntryPoint:!1,Events:[_u,Ea,yf,Cb,Ab,Ev]},Jl={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xD={bundleType:Jl.bundleType,version:Jl.version,rendererPackageName:Jl.rendererPackageName,rendererConfig:Jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Db(t),t===null?null:t.stateNode},findFiberByHostInstance:Jl.findFiberByHostInstance||gD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{ff=wd.inject(xD),Kr=wd}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vD;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Av(e))throw Error(Q(200));return mD(t,e,null,n)};$n.createRoot=function(t,e){if(!Av(t))throw Error(Q(299));var n=!1,r="",s=hS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Nv(t,1,!1,null,null,n,!1,r,s),t[js]=e.current,Fc(t.nodeType===8?t.parentNode:t),new Cv(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=Db(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return jo(t)};$n.hydrate=function(t,e,n){if(!Nf(e))throw Error(Q(200));return If(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!Av(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=hS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dS(e,null,t,1,n??null,s,!1,i,o),t[js]=e.current,Fc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Sf(e)};$n.render=function(t,e,n){if(!Nf(e))throw Error(Q(200));return If(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!Nf(t))throw Error(Q(40));return t._reactRootContainer?(jo(function(){If(null,null,t,!1,function(){t._reactRootContainer=null,t[js]=null})}),!0):!1};$n.unstable_batchedUpdates=Ev;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nf(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return If(t,e,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function fS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fS)}catch(t){console.error(t)}}fS(),fb.exports=$n;var Qo=fb.exports;const pS=tb(Qo);var mS,f_=Qo;mS=f_.createRoot,f_.hydrateRoot;const wD=1,_D=1e6;let fm=0;function ED(){return fm=(fm+1)%Number.MAX_SAFE_INTEGER,fm.toString()}const pm=new Map,p_=t=>{if(pm.has(t))return;const e=setTimeout(()=>{pm.delete(t),bc({type:"REMOVE_TOAST",toastId:t})},_D);pm.set(t,e)},bD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,wD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?p_(n):t.toasts.forEach(r=>{p_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Kd=[];let Qd={toasts:[]};function bc(t){Qd=bD(Qd,t),Kd.forEach(e=>{e(Qd)})}function TD({...t}){const e=ED(),n=s=>bc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>bc({type:"DISMISS_TOAST",toastId:e});return bc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Cr(){const[t,e]=p.useState(Qd);return p.useEffect(()=>(Kd.push(e),()=>{const n=Kd.indexOf(e);n>-1&&Kd.splice(n,1)}),[t]),{...t,toast:TD,dismiss:n=>bc({type:"DISMISS_TOAST",toastId:n})}}function re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function m_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Cf(...t){return e=>{let n=!1;const r=t.map(s=>{const i=m_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():m_(t[s],null)}}}}function qe(...t){return p.useCallback(Cf(...t),t)}function SD(t,e){const n=p.createContext(e),r=i=>{const{children:o,...a}=i,c=p.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ar(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),c=n.length;n=[...n,o];const d=f=>{var E;const{scope:m,children:y,...T}=f,v=((E=m==null?void 0:m[t])==null?void 0:E[c])||a,_=p.useMemo(()=>T,Object.values(T));return l.jsx(v.Provider,{value:_,children:y})};d.displayName=i+"Provider";function h(f,m){var v;const y=((v=m==null?void 0:m[t])==null?void 0:v[c])||a,T=p.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,ND(s,...e)]}function ND(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Do(t){const e=CD(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,a=p.Children.toArray(i),c=a.find(PD);if(c){const d=c.props.children,h=a.map(f=>f===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...o,ref:s,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var ID=Do("Slot");function CD(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=kD(s),a=RD(i,s.props);return s.type!==p.Fragment&&(a.ref=r?Cf(r,o):o),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gS=Symbol("radix.slottable");function AD(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=gS,e}function PD(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gS}function RD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function kD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Af(t){const e=t+"CollectionProvider",[n,r]=Ar(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:_,children:E}=v,w=J.useRef(null),x=J.useRef(new Map).current;return l.jsx(s,{scope:_,itemMap:x,collectionRef:w,children:E})};o.displayName=e;const a=t+"CollectionSlot",c=Do(a),d=J.forwardRef((v,_)=>{const{scope:E,children:w}=v,x=i(a,E),A=qe(_,x.collectionRef);return l.jsx(c,{ref:A,children:w})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Do(h),y=J.forwardRef((v,_)=>{const{scope:E,children:w,...x}=v,A=J.useRef(null),j=qe(_,A),O=i(h,E);return J.useEffect(()=>(O.itemMap.set(A,{ref:A,...x}),()=>void O.itemMap.delete(A))),l.jsx(m,{[f]:"",ref:j,children:w})});y.displayName=h;function T(v){const _=i(t+"CollectionConsumer",v);return J.useCallback(()=>{const w=_.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((O,N)=>x.indexOf(O.ref.current)-x.indexOf(N.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},T,r]}var jD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=jD.reduce((t,e)=>{const n=Do(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Pv(t,e){t&&Qo.flushSync(()=>t.dispatchEvent(e))}function Cn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function DD(t,e=globalThis==null?void 0:globalThis.document){const n=Cn(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var OD="DismissableLayer",Dg="dismissableLayer.update",MD="dismissableLayer.pointerDownOutside",LD="dismissableLayer.focusOutside",g_,yS=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),El=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=p.useContext(yS),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),T=qe(e,N=>f(N)),v=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(_),w=h?v.indexOf(h):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,A=w>=E,j=FD(N=>{const S=N.target,C=[...d.branches].some(P=>P.contains(S));!A||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},m),O=UD(N=>{const S=N.target;[...d.branches].some(P=>P.contains(S))||(i==null||i(N),o==null||o(N),N.defaultPrevented||a==null||a())},m);return DD(N=>{w===d.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},m),p.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(g_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),y_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=g_)}},[h,m,n,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),y_())},[h,d]),p.useEffect(()=>{const N=()=>y({});return document.addEventListener(Dg,N),()=>document.removeEventListener(Dg,N)},[]),l.jsx(_e.div,{...c,ref:T,style:{pointerEvents:x?A?"auto":"none":void 0,...t.style},onFocusCapture:re(t.onFocusCapture,O.onFocusCapture),onBlurCapture:re(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:re(t.onPointerDownCapture,j.onPointerDownCapture)})});El.displayName=OD;var VD="DismissableLayerBranch",vS=p.forwardRef((t,e)=>{const n=p.useContext(yS),r=p.useRef(null),s=qe(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(_e.div,{...t,ref:s})});vS.displayName=VD;function FD(t,e=globalThis==null?void 0:globalThis.document){const n=Cn(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){xS(MD,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function UD(t,e=globalThis==null?void 0:globalThis.document){const n=Cn(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&xS(LD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function y_(){const t=new CustomEvent(Dg);document.dispatchEvent(t)}function xS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Pv(s,i):s.dispatchEvent(i)}var $D=El,BD=vS,Wt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},zD="Portal",bu=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=p.useState(!1);Wt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?pS.createPortal(l.jsx(_e.div,{...r,ref:e}),o):null});bu.displayName=zD;function WD(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Pr=t=>{const{present:e,children:n}=t,r=HD(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=qe(r.ref,qD(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Pr.displayName="Presence";function HD(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,c]=WD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=_d(r.current);i.current=a==="mounted"?d:"none"},[a]),Wt(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,y=_d(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Wt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const v=_d(r.current).includes(y.animationName);if(y.target===e&&v&&(c("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},m=y=>{y.target===e&&(i.current=_d(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function _d(t){return(t==null?void 0:t.animationName)||"none"}function qD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var GD=Fy[" useInsertionEffect ".trim().toString()]||Wt;function Oo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=KD({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=p.useCallback(h=>{var f;if(a){const m=QD(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[c,d]}function KD({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return GD(()=>{i.current=e},[e]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function QD(t){return typeof t=="function"}var wS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YD="VisuallyHidden",Pf=p.forwardRef((t,e)=>l.jsx(_e.span,{...t,ref:e,style:{...wS,...t.style}}));Pf.displayName=YD;var XD=Pf,Rv="ToastProvider",[kv,JD,ZD]=Af("Toast"),[_S,IW]=Ar("Toast",[ZD]),[eO,Rf]=_S(Rv),ES=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=p.useState(null),[d,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Rv}\`. Expected non-empty \`string\`.`),l.jsx(kv.Provider,{scope:e,children:l.jsx(eO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:c,onToastAdd:p.useCallback(()=>h(y=>y+1),[]),onToastRemove:p.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};ES.displayName=Rv;var bS="ToastViewport",tO=["F8"],Og="toast.viewportPause",Mg="toast.viewportResume",TS=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=tO,label:s="Notifications ({hotkey})",...i}=t,o=Rf(bS,n),a=JD(n),c=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=qe(e,f,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;p.useEffect(()=>{const _=E=>{var x;r.length!==0&&r.every(A=>E[A]||E.code===A)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),p.useEffect(()=>{const _=c.current,E=f.current;if(T&&_&&E){const w=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(Og);E.dispatchEvent(O),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Mg);E.dispatchEvent(O),o.isClosePausedRef.current=!1}},A=O=>{!_.contains(O.relatedTarget)&&x()},j=()=>{_.contains(document.activeElement)||x()};return _.addEventListener("focusin",w),_.addEventListener("focusout",A),_.addEventListener("pointermove",w),_.addEventListener("pointerleave",j),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{_.removeEventListener("focusin",w),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",w),_.removeEventListener("pointerleave",j),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[T,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:_})=>{const w=a().map(x=>{const A=x.ref.current,j=[A,...pO(A)];return _==="forwards"?j:j.reverse()});return(_==="forwards"?w.reverse():w).flat()},[a]);return p.useEffect(()=>{const _=f.current;if(_){const E=w=>{var j,O,N;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const S=document.activeElement,C=w.shiftKey;if(w.target===_&&C){(j=d.current)==null||j.focus();return}const R=v({tabbingDirection:C?"backwards":"forwards"}),k=R.findIndex(B=>B===S);mm(R.slice(k+1))?w.preventDefault():C?(O=d.current)==null||O.focus():(N=h.current)==null||N.focus()}};return _.addEventListener("keydown",E),()=>_.removeEventListener("keydown",E)}},[a,v]),l.jsxs(BD,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&l.jsx(Lg,{ref:d,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});mm(_)}}),l.jsx(kv.Slot,{scope:n,children:l.jsx(_e.ol,{tabIndex:-1,...i,ref:m})}),T&&l.jsx(Lg,{ref:h,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});mm(_)}})]})});TS.displayName=bS;var SS="ToastFocusProxy",Lg=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Rf(SS,n);return l.jsx(Pf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});Lg.displayName=SS;var Tu="Toast",nO="toast.swipeStart",rO="toast.swipeMove",sO="toast.swipeCancel",iO="toast.swipeEnd",NS=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=Oo({prop:r,defaultProp:s??!0,onChange:i,caller:Tu});return l.jsx(Pr,{present:n||a,children:l.jsx(lO,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Cn(t.onPause),onResume:Cn(t.onResume),onSwipeStart:re(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:re(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});NS.displayName=Tu;var[oO,aO]=_S(Tu,{onClose(){}}),lO=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:y,...T}=t,v=Rf(Tu,n),[_,E]=p.useState(null),w=qe(e,B=>E(B)),x=p.useRef(null),A=p.useRef(null),j=s||v.duration,O=p.useRef(0),N=p.useRef(j),S=p.useRef(0),{onToastAdd:C,onToastRemove:P}=v,D=Cn(()=>{var se;(_==null?void 0:_.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),R=p.useCallback(B=>{!B||B===1/0||(window.clearTimeout(S.current),O.current=new Date().getTime(),S.current=window.setTimeout(D,B))},[D]);p.useEffect(()=>{const B=v.viewport;if(B){const se=()=>{R(N.current),d==null||d()},X=()=>{const ae=new Date().getTime()-O.current;N.current=N.current-ae,window.clearTimeout(S.current),c==null||c()};return B.addEventListener(Og,X),B.addEventListener(Mg,se),()=>{B.removeEventListener(Og,X),B.removeEventListener(Mg,se)}}},[v.viewport,j,c,d,R]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&R(j)},[i,j,v.isClosePausedRef,R]),p.useEffect(()=>(C(),()=>P()),[C,P]);const k=p.useMemo(()=>_?jS(_):null,[_]);return v.viewport?l.jsxs(l.Fragment,{children:[k&&l.jsx(cO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),l.jsx(oO,{scope:n,onClose:D,children:Qo.createPortal(l.jsx(kv.ItemSlot,{scope:n,children:l.jsx($D,{asChild:!0,onEscapeKeyDown:re(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...T,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:re(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:re(t.onPointerDown,B=>{B.button===0&&(x.current={x:B.clientX,y:B.clientY})}),onPointerMove:re(t.onPointerMove,B=>{if(!x.current)return;const se=B.clientX-x.current.x,X=B.clientY-x.current.y,ae=!!A.current,U=["left","right"].includes(v.swipeDirection),V=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Y=U?V(0,se):0,he=U?0:V(0,X),te=B.pointerType==="touch"?10:2,de={x:Y,y:he},ye={originalEvent:B,delta:de};ae?(A.current=de,Ed(rO,f,ye,{discrete:!1})):v_(de,v.swipeDirection,te)?(A.current=de,Ed(nO,h,ye,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(se)>te||Math.abs(X)>te)&&(x.current=null)}),onPointerUp:re(t.onPointerUp,B=>{const se=A.current,X=B.target;if(X.hasPointerCapture(B.pointerId)&&X.releasePointerCapture(B.pointerId),A.current=null,x.current=null,se){const ae=B.currentTarget,U={originalEvent:B,delta:se};v_(se,v.swipeDirection,v.swipeThreshold)?Ed(iO,y,U,{discrete:!0}):Ed(sO,m,U,{discrete:!0}),ae.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),cO=t=>{const{__scopeToast:e,children:n,...r}=t,s=Rf(Tu,e),[i,o]=p.useState(!1),[a,c]=p.useState(!1);return hO(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:l.jsx(bu,{asChild:!0,children:l.jsx(Pf,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},uO="ToastTitle",IS=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(_e.div,{...r,ref:e})});IS.displayName=uO;var dO="ToastDescription",CS=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(_e.div,{...r,ref:e})});CS.displayName=dO;var AS="ToastAction",PS=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(kS,{altText:n,asChild:!0,children:l.jsx(jv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${AS}\`. Expected non-empty \`string\`.`),null)});PS.displayName=AS;var RS="ToastClose",jv=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=aO(RS,n);return l.jsx(kS,{asChild:!0,children:l.jsx(_e.button,{type:"button",...r,ref:e,onClick:re(t.onClick,s.onClose)})})});jv.displayName=RS;var kS=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return l.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function jS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),fO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...jS(r))}}),e}function Ed(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Pv(s,i):s.dispatchEvent(i)}var v_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function hO(t=()=>{}){const e=Cn(t);Wt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function fO(t){return t.nodeType===t.ELEMENT_NODE}function pO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var mO=ES,DS=TS,OS=NS,MS=IS,LS=CS,VS=PS,FS=jv;function US(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=US(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $S(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=US(t))&&(r&&(r+=" "),r+=e);return r}const x_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,w_=$S,Su=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return w_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=x_(h)||x_(f);return s[d][m]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(T=>{let[v,_]=T;return Array.isArray(_)?_.includes({...i,...a}[v]):{...i,...a}[v]===_})?[...d,f,m]:d},[]);return w_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>p.createElement("svg",{ref:c,...yO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BS("lucide",s),...a},[...o.map(([d,h])=>p.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(vO,{ref:i,iconNode:e,className:BS(`lucide-${gO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=je("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=je("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=je("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=je("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=je("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=je("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=je("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=je("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=je("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=je("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=je("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vv="-",RO=t=>{const e=jO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Vv);return a[0]===""&&a.length!==1&&a.shift(),KS(a,e)||kO(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},KS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?KS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Vv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},E_=/^\[(.+)\]$/,kO=t=>{if(E_.test(t)){const e=E_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return OO(Object.entries(t.classGroups),n).forEach(([i,o])=>{Vg(o,r,i,e)}),r},Vg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:b_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(DO(s)){Vg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Vg(o,b_(e,i),n,r)})})},b_=(t,e)=>{let n=t;return e.split(Vv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},DO=t=>t.isThemeGetter,OO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,MO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},QS="!",LO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let d=0,h=0,f;for(let _=0;_<a.length;_++){let E=a[_];if(d===0){if(E===s&&(r||a.slice(_,_+i)===e)){c.push(a.slice(h,_)),h=_+i;continue}if(E==="/"){f=_;continue}}E==="["?d++:E==="]"&&d--}const m=c.length===0?a:a.substring(h),y=m.startsWith(QS),T=y?m.substring(1):m,v=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:T,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},VO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},FO=t=>({cache:MO(t.cacheSize),parseClassName:LO(t),...RO(t)}),UO=/\s+/,$O=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(UO);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}=n(d);let T=!!y,v=r(T?m.substring(0,y):m);if(!v){if(!T){a=d+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=d+(a.length>0?" "+a:a);continue}T=!1}const _=VO(h).join(":"),E=f?_+QS:_,w=E+v;if(i.includes(w))continue;i.push(w);const x=s(v,T);for(let A=0;A<x.length;++A){const j=x[A];i.push(E+j)}a=d+(a.length>0?" "+a:a)}return a};function BO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=YS(e))&&(r&&(r+=" "),r+=n);return r}const YS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=YS(t[r]))&&(n&&(n+=" "),n+=e);return n};function zO(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=FO(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const h=$O(c,n);return s(c,h),h}return function(){return i(BO.apply(null,arguments))}}const nt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},XS=/^\[(?:([a-z-]+):)?(.+)\]$/i,WO=/^\d+\/\d+$/,HO=new Set(["px","full","screen"]),qO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ms=t=>La(t)||HO.has(t)||WO.test(t),Zs=t=>bl(t,"length",sM),La=t=>!!t&&!Number.isNaN(Number(t)),ym=t=>bl(t,"number",La),Zl=t=>!!t&&Number.isInteger(Number(t)),XO=t=>t.endsWith("%")&&La(t.slice(0,-1)),Re=t=>XS.test(t),ei=t=>qO.test(t),JO=new Set(["length","size","percentage"]),ZO=t=>bl(t,JO,JS),eM=t=>bl(t,"position",JS),tM=new Set(["image","url"]),nM=t=>bl(t,tM,oM),rM=t=>bl(t,"",iM),ec=()=>!0,bl=(t,e,n)=>{const r=XS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},sM=t=>GO.test(t)&&!KO.test(t),JS=()=>!1,iM=t=>QO.test(t),oM=t=>YO.test(t),aM=()=>{const t=nt("colors"),e=nt("spacing"),n=nt("blur"),r=nt("brightness"),s=nt("borderColor"),i=nt("borderRadius"),o=nt("borderSpacing"),a=nt("borderWidth"),c=nt("contrast"),d=nt("grayscale"),h=nt("hueRotate"),f=nt("invert"),m=nt("gap"),y=nt("gradientColorStops"),T=nt("gradientColorStopPositions"),v=nt("inset"),_=nt("margin"),E=nt("opacity"),w=nt("padding"),x=nt("saturate"),A=nt("scale"),j=nt("sepia"),O=nt("skew"),N=nt("space"),S=nt("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Re,e],R=()=>[Re,e],k=()=>["",ms,Zs],B=()=>["auto",La,Re],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",Re],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>[La,Re];return{cacheSize:500,separator:":",theme:{colors:[ec],spacing:[ms,Zs],blur:["none","",ei,Re],brightness:he(),borderColor:[t],borderRadius:["none","","full",ei,Re],borderSpacing:R(),borderWidth:k(),contrast:he(),grayscale:V(),hueRotate:he(),invert:V(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[XO,Zs],inset:D(),margin:D(),opacity:he(),padding:R(),saturate:he(),scale:he(),sepia:V(),skew:he(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[ei]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),Re]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zl,Re]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Zl,Re]}],"grid-cols":[{"grid-cols":[ec]}],"col-start-end":[{col:["auto",{span:["full",Zl,Re]},Re]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[ec]}],"row-start-end":[{row:["auto",{span:[Zl,Re]},Re]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,e]}],"min-w":[{"min-w":[Re,e,"min","max","fit"]}],"max-w":[{"max-w":[Re,e,"none","full","min","max","fit","prose",{screen:[ei]},ei]}],h:[{h:[Re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ei,Zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ym]}],"font-family":[{font:[ec]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",La,ym]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ms,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ms,Zs]}],"underline-offset":[{"underline-offset":["auto",ms,Re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),eM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[ms,Re]}],"outline-w":[{outline:[ms,Zs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[ms,Zs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ei,rM]}],"shadow-color":[{shadow:[ec]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ei,Re]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Zl,Re]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ms,Zs,ym]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lM=zO(aM);function Ee(...t){return lM($S(t))}const cM=mO,ZS=p.forwardRef(({className:t,...e},n)=>l.jsx(DS,{ref:n,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ZS.displayName=DS.displayName;const uM=Su("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eN=p.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(OS,{ref:r,className:Ee(uM({variant:e}),t),...n}));eN.displayName=OS.displayName;const dM=p.forwardRef(({className:t,...e},n)=>l.jsx(VS,{ref:n,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));dM.displayName=VS.displayName;const tN=p.forwardRef(({className:t,...e},n)=>l.jsx(FS,{ref:n,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(GS,{className:"h-4 w-4"})}));tN.displayName=FS.displayName;const nN=p.forwardRef(({className:t,...e},n)=>l.jsx(MS,{ref:n,className:Ee("text-sm font-semibold",t),...e}));nN.displayName=MS.displayName;const rN=p.forwardRef(({className:t,...e},n)=>l.jsx(LS,{ref:n,className:Ee("text-sm opacity-90",t),...e}));rN.displayName=LS.displayName;function hM(){const{toasts:t}=Cr();return l.jsxs(cM,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return l.jsxs(eN,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(nN,{children:n}),r&&l.jsx(rN,{children:r})]}),s,l.jsx(tN,{})]},e)}),l.jsx(ZS,{})]})}var T_=["light","dark"],fM="(prefers-color-scheme: dark)",pM=p.createContext(void 0),mM={setTheme:t=>{},themes:[]},gM=()=>{var t;return(t=p.useContext(pM))!=null?t:mM};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?T_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(T,v=!1,_=!0)=>{let E=o?o[T]:T,w=v?T+"|| ''":`'${E}'`,x="";return s&&_&&!v&&T_.includes(T)&&(x+=`d.style.colorScheme = '${T}';`),n==="class"?v||E?x+=`c.add(${w})`:x+="null":E&&(x+=`d[s](n,${w})`),x},y=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${fM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})});var yM=t=>{switch(t){case"success":return wM;case"info":return EM;case"warning":return _M;case"error":return bM;default:return null}},vM=Array(12).fill(0),xM=({visible:t,className:e})=>J.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},J.createElement("div",{className:"sonner-spinner"},vM.map((n,r)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),wM=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_M=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EM=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bM=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),TM=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SM=()=>{let[t,e]=J.useState(document.hidden);return J.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Fg=1,NM=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Fg++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async d=>{if(o=["resolve",d],J.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(CM(d)&&!d.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(d):n.success,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var d;i&&(this.dismiss(r),r=void 0),(d=n.finally)==null||d.call(n)}),c=()=>new Promise((d,h)=>a.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Fg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},wn=new NM,IM=(t,e)=>{let n=(e==null?void 0:e.id)||Fg++;return wn.addToast({title:t,...e,id:n}),n},CM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",AM=IM,PM=()=>wn.toasts,RM=()=>wn.getActiveToasts(),ti=Object.assign(AM,{success:wn.success,info:wn.info,warning:wn.warning,error:wn.error,custom:wn.custom,message:wn.message,promise:wn.promise,dismiss:wn.dismiss,loading:wn.loading},{getHistory:PM,getToasts:RM});function kM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}kM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bd(t){return t.label!==void 0}var jM=3,DM="32px",OM="16px",S_=4e3,MM=356,LM=14,VM=20,FM=200;function cr(...t){return t.filter(Boolean).join(" ")}function UM(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var $M=t=>{var e,n,r,s,i,o,a,c,d,h,f;let{invert:m,toast:y,unstyled:T,interacting:v,setHeights:_,visibleToasts:E,heights:w,index:x,toasts:A,expanded:j,removeToast:O,defaultRichColors:N,closeButton:S,style:C,cancelButtonStyle:P,actionButtonStyle:D,className:R="",descriptionClassName:k="",duration:B,position:se,gap:X,loadingIcon:ae,expandByDefault:U,classNames:V,icons:Y,closeButtonAriaLabel:he="Close toast",pauseWhenPageIsHidden:te}=t,[de,ye]=J.useState(null),[Ne,Ve]=J.useState(null),[K,ke]=J.useState(!1),[Ie,be]=J.useState(!1),[Ce,ve]=J.useState(!1),[et,Et]=J.useState(!1),[Dt,ln]=J.useState(!1),[yn,qt]=J.useState(0),[An,zn]=J.useState(0),Wn=J.useRef(y.duration||B||S_),sr=J.useRef(null),bt=J.useRef(null),Hn=x===0,jr=x+1<=E,Fe=y.type,Be=y.dismissible!==!1,cn=y.className||"",ds=y.descriptionClassName||"",ir=J.useMemo(()=>w.findIndex(q=>q.toastId===y.id)||0,[w,y.id]),so=J.useMemo(()=>{var q;return(q=y.closeButton)!=null?q:S},[y.closeButton,S]),qn=J.useMemo(()=>y.duration||B||S_,[y.duration,B]),Dr=J.useRef(0),Pn=J.useRef(0),Or=J.useRef(0),Gn=J.useRef(null),[hs,or]=se.split("-"),L=J.useMemo(()=>w.reduce((q,oe,ce)=>ce>=ir?q:q+oe.height,0),[w,ir]),ie=SM(),M=y.invert||m,G=Fe==="loading";Pn.current=J.useMemo(()=>ir*X+L,[ir,L]),J.useEffect(()=>{Wn.current=qn},[qn]),J.useEffect(()=>{ke(!0)},[]),J.useEffect(()=>{let q=bt.current;if(q){let oe=q.getBoundingClientRect().height;return zn(oe),_(ce=>[{toastId:y.id,height:oe,position:y.position},...ce]),()=>_(ce=>ce.filter(me=>me.toastId!==y.id))}},[_,y.id]),J.useLayoutEffect(()=>{if(!K)return;let q=bt.current,oe=q.style.height;q.style.height="auto";let ce=q.getBoundingClientRect().height;q.style.height=oe,zn(ce),_(me=>me.find(Ue=>Ue.toastId===y.id)?me.map(Ue=>Ue.toastId===y.id?{...Ue,height:ce}:Ue):[{toastId:y.id,height:ce,position:y.position},...me])},[K,y.title,y.description,_,y.id]);let ne=J.useCallback(()=>{be(!0),qt(Pn.current),_(q=>q.filter(oe=>oe.toastId!==y.id)),setTimeout(()=>{O(y)},FM)},[y,O,_,Pn]);J.useEffect(()=>{if(y.promise&&Fe==="loading"||y.duration===1/0||y.type==="loading")return;let q;return j||v||te&&ie?(()=>{if(Or.current<Dr.current){let oe=new Date().getTime()-Dr.current;Wn.current=Wn.current-oe}Or.current=new Date().getTime()})():Wn.current!==1/0&&(Dr.current=new Date().getTime(),q=setTimeout(()=>{var oe;(oe=y.onAutoClose)==null||oe.call(y,y),ne()},Wn.current)),()=>clearTimeout(q)},[j,v,y,Fe,te,ie,ne]),J.useEffect(()=>{y.delete&&ne()},[ne,y.delete]);function pe(){var q,oe,ce;return Y!=null&&Y.loading?J.createElement("div",{className:cr(V==null?void 0:V.loader,(q=y==null?void 0:y.classNames)==null?void 0:q.loader,"sonner-loader"),"data-visible":Fe==="loading"},Y.loading):ae?J.createElement("div",{className:cr(V==null?void 0:V.loader,(oe=y==null?void 0:y.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":Fe==="loading"},ae):J.createElement(xM,{className:cr(V==null?void 0:V.loader,(ce=y==null?void 0:y.classNames)==null?void 0:ce.loader),visible:Fe==="loading"})}return J.createElement("li",{tabIndex:0,ref:bt,className:cr(R,cn,V==null?void 0:V.toast,(e=y==null?void 0:y.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[Fe],(n=y==null?void 0:y.classNames)==null?void 0:n[Fe]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:N,"data-styled":!(y.jsx||y.unstyled||T),"data-mounted":K,"data-promise":!!y.promise,"data-swiped":Dt,"data-removed":Ie,"data-visible":jr,"data-y-position":hs,"data-x-position":or,"data-index":x,"data-front":Hn,"data-swiping":Ce,"data-dismissible":Be,"data-type":Fe,"data-invert":M,"data-swipe-out":et,"data-swipe-direction":Ne,"data-expanded":!!(j||U&&K),style:{"--index":x,"--toasts-before":x,"--z-index":A.length-x,"--offset":`${Ie?yn:Pn.current}px`,"--initial-height":U?"auto":`${An}px`,...C,...y.style},onDragEnd:()=>{ve(!1),ye(null),Gn.current=null},onPointerDown:q=>{G||!Be||(sr.current=new Date,qt(Pn.current),q.target.setPointerCapture(q.pointerId),q.target.tagName!=="BUTTON"&&(ve(!0),Gn.current={x:q.clientX,y:q.clientY}))},onPointerUp:()=>{var q,oe,ce,me;if(et||!Be)return;Gn.current=null;let Ue=Number(((q=bt.current)==null?void 0:q.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),at=Number(((oe=bt.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Mr=new Date().getTime()-((ce=sr.current)==null?void 0:ce.getTime()),Ot=de==="x"?Ue:at,vn=Math.abs(Ot)/Mr;if(Math.abs(Ot)>=VM||vn>.11){qt(Pn.current),(me=y.onDismiss)==null||me.call(y,y),Ve(de==="x"?Ue>0?"right":"left":at>0?"down":"up"),ne(),Et(!0),ln(!1);return}ve(!1),ye(null)},onPointerMove:q=>{var oe,ce,me,Ue;if(!Gn.current||!Be||((oe=window.getSelection())==null?void 0:oe.toString().length)>0)return;let at=q.clientY-Gn.current.y,Mr=q.clientX-Gn.current.x,Ot=(ce=t.swipeDirections)!=null?ce:UM(se);!de&&(Math.abs(Mr)>1||Math.abs(at)>1)&&ye(Math.abs(Mr)>Math.abs(at)?"x":"y");let vn={x:0,y:0};de==="y"?(Ot.includes("top")||Ot.includes("bottom"))&&(Ot.includes("top")&&at<0||Ot.includes("bottom")&&at>0)&&(vn.y=at):de==="x"&&(Ot.includes("left")||Ot.includes("right"))&&(Ot.includes("left")&&Mr<0||Ot.includes("right")&&Mr>0)&&(vn.x=Mr),(Math.abs(vn.x)>0||Math.abs(vn.y)>0)&&ln(!0),(me=bt.current)==null||me.style.setProperty("--swipe-amount-x",`${vn.x}px`),(Ue=bt.current)==null||Ue.style.setProperty("--swipe-amount-y",`${vn.y}px`)}},so&&!y.jsx?J.createElement("button",{"aria-label":he,"data-disabled":G,"data-close-button":!0,onClick:G||!Be?()=>{}:()=>{var q;ne(),(q=y.onDismiss)==null||q.call(y,y)},className:cr(V==null?void 0:V.closeButton,(s=y==null?void 0:y.classNames)==null?void 0:s.closeButton)},(i=Y==null?void 0:Y.close)!=null?i:TM):null,y.jsx||p.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:J.createElement(J.Fragment,null,Fe||y.icon||y.promise?J.createElement("div",{"data-icon":"",className:cr(V==null?void 0:V.icon,(o=y==null?void 0:y.classNames)==null?void 0:o.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||pe():null,y.type!=="loading"?y.icon||(Y==null?void 0:Y[Fe])||yM(Fe):null):null,J.createElement("div",{"data-content":"",className:cr(V==null?void 0:V.content,(a=y==null?void 0:y.classNames)==null?void 0:a.content)},J.createElement("div",{"data-title":"",className:cr(V==null?void 0:V.title,(c=y==null?void 0:y.classNames)==null?void 0:c.title)},typeof y.title=="function"?y.title():y.title),y.description?J.createElement("div",{"data-description":"",className:cr(k,ds,V==null?void 0:V.description,(d=y==null?void 0:y.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),p.isValidElement(y.cancel)?y.cancel:y.cancel&&bd(y.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||P,onClick:q=>{var oe,ce;bd(y.cancel)&&Be&&((ce=(oe=y.cancel).onClick)==null||ce.call(oe,q),ne())},className:cr(V==null?void 0:V.cancelButton,(h=y==null?void 0:y.classNames)==null?void 0:h.cancelButton)},y.cancel.label):null,p.isValidElement(y.action)?y.action:y.action&&bd(y.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||D,onClick:q=>{var oe,ce;bd(y.action)&&((ce=(oe=y.action).onClick)==null||ce.call(oe,q),!q.defaultPrevented&&ne())},className:cr(V==null?void 0:V.actionButton,(f=y==null?void 0:y.classNames)==null?void 0:f.actionButton)},y.action.label):null))};function N_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function BM(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?OM:DM;function c(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=a:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(a)}),n}var zM=p.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:d,theme:h="light",richColors:f,duration:m,style:y,visibleToasts:T=jM,toastOptions:v,dir:_=N_(),gap:E=LM,loadingIcon:w,icons:x,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:j}=t,[O,N]=J.useState([]),S=J.useMemo(()=>Array.from(new Set([r].concat(O.filter(te=>te.position).map(te=>te.position)))),[O,r]),[C,P]=J.useState([]),[D,R]=J.useState(!1),[k,B]=J.useState(!1),[se,X]=J.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=J.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=J.useRef(null),Y=J.useRef(!1),he=J.useCallback(te=>{N(de=>{var ye;return(ye=de.find(Ne=>Ne.id===te.id))!=null&&ye.delete||wn.dismiss(te.id),de.filter(({id:Ne})=>Ne!==te.id)})},[]);return J.useEffect(()=>wn.subscribe(te=>{if(te.dismiss){N(de=>de.map(ye=>ye.id===te.id?{...ye,delete:!0}:ye));return}setTimeout(()=>{pS.flushSync(()=>{N(de=>{let ye=de.findIndex(Ne=>Ne.id===te.id);return ye!==-1?[...de.slice(0,ye),{...de[ye],...te},...de.slice(ye+1)]:[te,...de]})})})}),[]),J.useEffect(()=>{if(h!=="system"){X(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:de})=>{X(de?"dark":"light")})}catch{te.addListener(({matches:ye})=>{try{X(ye?"dark":"light")}catch(Ne){console.error(Ne)}})}},[h]),J.useEffect(()=>{O.length<=1&&R(!1)},[O]),J.useEffect(()=>{let te=de=>{var ye,Ne;s.every(Ve=>de[Ve]||de.code===Ve)&&(R(!0),(ye=ae.current)==null||ye.focus()),de.code==="Escape"&&(document.activeElement===ae.current||(Ne=ae.current)!=null&&Ne.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[s]),J.useEffect(()=>{if(ae.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,Y.current=!1)}},[ae.current]),J.createElement("section",{ref:e,"aria-label":`${A} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((te,de)=>{var ye;let[Ne,Ve]=te.split("-");return O.length?J.createElement("ol",{key:te,dir:_==="auto"?N_():_,tabIndex:-1,ref:ae,className:a,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":Ne,"data-lifted":D&&O.length>1&&!i,"data-x-position":Ve,style:{"--front-toast-height":`${((ye=C[0])==null?void 0:ye.height)||0}px`,"--width":`${MM}px`,"--gap":`${E}px`,...y,...BM(c,d)},onBlur:K=>{Y.current&&!K.currentTarget.contains(K.relatedTarget)&&(Y.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,V.current=K.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{k||R(!1)},onDragEnd:()=>R(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},O.filter(K=>!K.position&&de===0||K.position===te).map((K,ke)=>{var Ie,be;return J.createElement($M,{key:K.id,icons:x,index:ke,toast:K,defaultRichColors:f,duration:(Ie=v==null?void 0:v.duration)!=null?Ie:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:T,closeButton:(be=v==null?void 0:v.closeButton)!=null?be:o,interacting:k,position:te,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:he,toasts:O.filter(Ce=>Ce.position==K.position),heights:C.filter(Ce=>Ce.position==K.position),setHeights:P,expandByDefault:i,gap:E,loadingIcon:w,expanded:D,pauseWhenPageIsHidden:j,swipeDirections:t.swipeDirections})})):null}))});const WM=({...t})=>{const{theme:e="system"}=gM();return l.jsx(zM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var HM=Fy[" useId ".trim().toString()]||(()=>{}),qM=0;function Jr(t){const[e,n]=p.useState(HM());return Wt(()=>{t||n(r=>r??String(qM++))},[t]),t||(e?`radix-${e}`:"")}const GM=["top","right","bottom","left"],Vi=Math.min,jn=Math.max,jh=Math.round,Td=Math.floor,Zr=t=>({x:t,y:t}),KM={left:"right",right:"left",bottom:"top",top:"bottom"},QM={start:"end",end:"start"};function Ug(t,e,n){return jn(t,Vi(e,n))}function Ms(t,e){return typeof t=="function"?t(e):t}function Ls(t){return t.split("-")[0]}function Tl(t){return t.split("-")[1]}function Fv(t){return t==="x"?"y":"x"}function Uv(t){return t==="y"?"height":"width"}const YM=new Set(["top","bottom"]);function qr(t){return YM.has(Ls(t))?"y":"x"}function $v(t){return Fv(qr(t))}function XM(t,e,n){n===void 0&&(n=!1);const r=Tl(t),s=$v(t),i=Uv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Dh(o)),[o,Dh(o)]}function JM(t){const e=Dh(t);return[$g(t),e,$g(e)]}function $g(t){return t.replace(/start|end/g,e=>QM[e])}const I_=["left","right"],C_=["right","left"],ZM=["top","bottom"],eL=["bottom","top"];function tL(t,e,n){switch(t){case"top":case"bottom":return n?e?C_:I_:e?I_:C_;case"left":case"right":return e?ZM:eL;default:return[]}}function nL(t,e,n,r){const s=Tl(t);let i=tL(Ls(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map($g)))),i}function Dh(t){return t.replace(/left|right|bottom|top/g,e=>KM[e])}function rL(t){return{top:0,right:0,bottom:0,left:0,...t}}function sN(t){return typeof t!="number"?rL(t):{top:t,right:t,bottom:t,left:t}}function Oh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function A_(t,e,n){let{reference:r,floating:s}=t;const i=qr(e),o=$v(e),a=Uv(o),c=Ls(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(Tl(e)){case"start":y[o]-=m*(n&&d?-1:1);break;case"end":y[o]+=m*(n&&d?-1:1);break}return y}const sL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=A_(d,r,c),m=r,y={},T=0;for(let v=0;v<a.length;v++){const{name:_,fn:E}=a[v],{x:w,y:x,data:A,reset:j}=await E({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,f=x??f,y={...y,[_]:{...y[_],...A}},j&&T<=50&&(T++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:h,y:f}=A_(d,m,c)),v=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function Yc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=Ms(e,t),T=sN(y),_=a[m?f==="floating"?"reference":"floating":f],E=Oh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},j=Oh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:x,strategy:c}):w);return{top:(E.top-j.top+T.top)/A.y,bottom:(j.bottom-E.bottom+T.bottom)/A.y,left:(E.left-j.left+T.left)/A.x,right:(j.right-E.right+T.right)/A.x}}const iL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:h=0}=Ms(t,e)||{};if(d==null)return{};const f=sN(h),m={x:n,y:r},y=$v(s),T=Uv(y),v=await o.getDimensions(d),_=y==="y",E=_?"top":"left",w=_?"bottom":"right",x=_?"clientHeight":"clientWidth",A=i.reference[T]+i.reference[y]-m[y]-i.floating[T],j=m[y]-i.reference[y],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=O?O[x]:0;(!N||!await(o.isElement==null?void 0:o.isElement(O)))&&(N=a.floating[x]||i.floating[T]);const S=A/2-j/2,C=N/2-v[T]/2-1,P=Vi(f[E],C),D=Vi(f[w],C),R=P,k=N-v[T]-D,B=N/2-v[T]/2+S,se=Ug(R,B,k),X=!c.arrow&&Tl(s)!=null&&B!==se&&i.reference[T]/2-(B<R?P:D)-v[T]/2<0,ae=X?B<R?B-R:B-k:0;return{[y]:m[y]+ae,data:{[y]:se,centerOffset:B-se-ae,...X&&{alignmentOffset:ae}},reset:X}}}),oL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:v=!0,..._}=Ms(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Ls(s),w=qr(a),x=Ls(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=m||(x||!v?[Dh(a)]:JM(a)),O=T!=="none";!m&&O&&j.push(...nL(a,v,T,A));const N=[a,...j],S=await Yc(e,_),C=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(S[E]),f){const B=XM(s,o,A);C.push(S[B[0]],S[B[1]])}if(P=[...P,{placement:s,overflows:C}],!C.every(B=>B<=0)){var D,R;const B=(((D=i.flip)==null?void 0:D.index)||0)+1,se=N[B];if(se&&(!(f==="alignment"?w!==qr(se):!1)||P.every(U=>U.overflows[0]>0&&qr(U.placement)===w)))return{data:{index:B,overflows:P},reset:{placement:se}};let X=(R=P.filter(ae=>ae.overflows[0]<=0).sort((ae,U)=>ae.overflows[1]-U.overflows[1])[0])==null?void 0:R.placement;if(!X)switch(y){case"bestFit":{var k;const ae=(k=P.filter(U=>{if(O){const V=qr(U.placement);return V===w||V==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(V=>V>0).reduce((V,Y)=>V+Y,0)]).sort((U,V)=>U[1]-V[1])[0])==null?void 0:k[0];ae&&(X=ae);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function P_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function R_(t){return GM.some(e=>t[e]>=0)}const aL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ms(t,e);switch(r){case"referenceHidden":{const i=await Yc(e,{...s,elementContext:"reference"}),o=P_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:R_(o)}}}case"escaped":{const i=await Yc(e,{...s,altBoundary:!0}),o=P_(i,n.floating);return{data:{escapedOffsets:o,escaped:R_(o)}}}default:return{}}}}},iN=new Set(["left","top"]);async function lL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ls(n),a=Tl(n),c=qr(n)==="y",d=iN.has(o)?-1:1,h=i&&c?-1:1,f=Ms(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(y=a==="end"?T*-1:T),c?{x:y*h,y:m*d}:{x:m*d,y:y*h}}const cL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await lL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},uL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:E,y:w}=_;return{x:E,y:w}}},...c}=Ms(t,e),d={x:n,y:r},h=await Yc(e,c),f=qr(Ls(s)),m=Fv(f);let y=d[m],T=d[f];if(i){const _=m==="y"?"top":"left",E=m==="y"?"bottom":"right",w=y+h[_],x=y-h[E];y=Ug(w,y,x)}if(o){const _=f==="y"?"top":"left",E=f==="y"?"bottom":"right",w=T+h[_],x=T-h[E];T=Ug(w,T,x)}const v=a.fn({...e,[m]:y,[f]:T});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:o}}}}}},dL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=Ms(t,e),h={x:n,y:r},f=qr(s),m=Fv(f);let y=h[m],T=h[f];const v=Ms(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const x=m==="y"?"height":"width",A=i.reference[m]-i.floating[x]+_.mainAxis,j=i.reference[m]+i.reference[x]-_.mainAxis;y<A?y=A:y>j&&(y=j)}if(d){var E,w;const x=m==="y"?"width":"height",A=iN.has(Ls(s)),j=i.reference[f]-i.floating[x]+(A&&((E=o.offset)==null?void 0:E[f])||0)+(A?0:_.crossAxis),O=i.reference[f]+i.reference[x]+(A?0:((w=o.offset)==null?void 0:w[f])||0)-(A?_.crossAxis:0);T<j?T=j:T>O&&(T=O)}return{[m]:y,[f]:T}}}},hL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=Ms(t,e),h=await Yc(e,d),f=Ls(s),m=Tl(s),y=qr(s)==="y",{width:T,height:v}=i.floating;let _,E;f==="top"||f==="bottom"?(_=f,E=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,_=m==="end"?"top":"bottom");const w=v-h.top-h.bottom,x=T-h.left-h.right,A=Vi(v-h[_],w),j=Vi(T-h[E],x),O=!e.middlewareData.shift;let N=A,S=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=w),O&&!m){const P=jn(h.left,0),D=jn(h.right,0),R=jn(h.top,0),k=jn(h.bottom,0);y?S=T-2*(P!==0||D!==0?P+D:jn(h.left,h.right)):N=v-2*(R!==0||k!==0?R+k:jn(h.top,h.bottom))}await c({...e,availableWidth:S,availableHeight:N});const C=await o.getDimensions(a.floating);return T!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function jf(){return typeof window<"u"}function Sl(t){return oN(t)?(t.nodeName||"").toLowerCase():"#document"}function Fn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function cs(t){var e;return(e=(oN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function oN(t){return jf()?t instanceof Node||t instanceof Fn(t).Node:!1}function br(t){return jf()?t instanceof Element||t instanceof Fn(t).Element:!1}function as(t){return jf()?t instanceof HTMLElement||t instanceof Fn(t).HTMLElement:!1}function k_(t){return!jf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fn(t).ShadowRoot}const fL=new Set(["inline","contents"]);function Iu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Tr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!fL.has(s)}const pL=new Set(["table","td","th"]);function mL(t){return pL.has(Sl(t))}const gL=[":popover-open",":modal"];function Df(t){return gL.some(e=>{try{return t.matches(e)}catch{return!1}})}const yL=["transform","translate","scale","rotate","perspective"],vL=["transform","translate","scale","rotate","perspective","filter"],xL=["paint","layout","strict","content"];function Bv(t){const e=zv(),n=br(t)?Tr(t):t;return yL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||vL.some(r=>(n.willChange||"").includes(r))||xL.some(r=>(n.contain||"").includes(r))}function wL(t){let e=Fi(t);for(;as(e)&&!cl(e);){if(Bv(e))return e;if(Df(e))return null;e=Fi(e)}return null}function zv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _L=new Set(["html","body","#document"]);function cl(t){return _L.has(Sl(t))}function Tr(t){return Fn(t).getComputedStyle(t)}function Of(t){return br(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fi(t){if(Sl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||k_(t)&&t.host||cs(t);return k_(e)?e.host:e}function aN(t){const e=Fi(t);return cl(e)?t.ownerDocument?t.ownerDocument.body:t.body:as(e)&&Iu(e)?e:aN(e)}function Xc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=aN(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Fn(s);if(i){const a=Bg(o);return e.concat(o,o.visualViewport||[],Iu(s)?s:[],a&&n?Xc(a):[])}return e.concat(s,Xc(s,[],n))}function Bg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lN(t){const e=Tr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=as(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=jh(n)!==i||jh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Wv(t){return br(t)?t:t.contextElement}function Va(t){const e=Wv(t);if(!as(e))return Zr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=lN(e);let o=(i?jh(n.width):n.width)/r,a=(i?jh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const EL=Zr(0);function cN(t){const e=Fn(t);return!zv()||!e.visualViewport?EL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Fn(t)?!1:e}function Lo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Wv(t);let o=Zr(1);e&&(r?br(r)&&(o=Va(r)):o=Va(t));const a=bL(i,n,r)?cN(i):Zr(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=Fn(i),y=r&&br(r)?Fn(r):r;let T=m,v=Bg(T);for(;v&&r&&y!==T;){const _=Va(v),E=v.getBoundingClientRect(),w=Tr(v),x=E.left+(v.clientLeft+parseFloat(w.paddingLeft))*_.x,A=E.top+(v.clientTop+parseFloat(w.paddingTop))*_.y;c*=_.x,d*=_.y,h*=_.x,f*=_.y,c+=x,d+=A,T=Fn(v),v=Bg(T)}}return Oh({width:h,height:f,x:c,y:d})}function Hv(t,e){const n=Of(t).scrollLeft;return e?e.left+n:Lo(cs(t)).left+n}function uN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Hv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function TL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=cs(r),a=e?Df(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Zr(1);const h=Zr(0),f=as(r);if((f||!f&&!i)&&((Sl(r)!=="body"||Iu(o))&&(c=Of(r)),as(r))){const y=Lo(r);d=Va(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const m=o&&!f&&!i?uN(o,c,!0):Zr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-c.scrollTop*d.y+h.y+m.y}}function SL(t){return Array.from(t.getClientRects())}function NL(t){const e=cs(t),n=Of(t),r=t.ownerDocument.body,s=jn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=jn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Hv(t);const a=-n.scrollTop;return Tr(r).direction==="rtl"&&(o+=jn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function IL(t,e){const n=Fn(t),r=cs(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=zv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const CL=new Set(["absolute","fixed"]);function AL(t,e){const n=Lo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=as(t)?Va(t):Zr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function j_(t,e,n){let r;if(e==="viewport")r=IL(t,n);else if(e==="document")r=NL(cs(t));else if(br(e))r=AL(e,n);else{const s=cN(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Oh(r)}function dN(t,e){const n=Fi(t);return n===e||!br(n)||cl(n)?!1:Tr(n).position==="fixed"||dN(n,e)}function PL(t,e){const n=e.get(t);if(n)return n;let r=Xc(t,[],!1).filter(a=>br(a)&&Sl(a)!=="body"),s=null;const i=Tr(t).position==="fixed";let o=i?Fi(t):t;for(;br(o)&&!cl(o);){const a=Tr(o),c=Bv(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&CL.has(s.position)||Iu(o)&&!c&&dN(t,o))?r=r.filter(h=>h!==o):s=a,o=Fi(o)}return e.set(t,r),r}function RL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Df(e)?[]:PL(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,h)=>{const f=j_(e,h,s);return d.top=jn(f.top,d.top),d.right=Vi(f.right,d.right),d.bottom=Vi(f.bottom,d.bottom),d.left=jn(f.left,d.left),d},j_(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kL(t){const{width:e,height:n}=lN(t);return{width:e,height:n}}function jL(t,e,n){const r=as(e),s=cs(e),i=n==="fixed",o=Lo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Zr(0);function d(){c.x=Hv(s)}if(r||!r&&!i)if((Sl(e)!=="body"||Iu(s))&&(a=Of(e)),r){const y=Lo(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?uN(s,a):Zr(0),f=o.left+a.scrollLeft-c.x-h.x,m=o.top+a.scrollTop-c.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function vm(t){return Tr(t).position==="static"}function D_(t,e){if(!as(t)||Tr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return cs(t)===n&&(n=n.ownerDocument.body),n}function hN(t,e){const n=Fn(t);if(Df(t))return n;if(!as(t)){let s=Fi(t);for(;s&&!cl(s);){if(br(s)&&!vm(s))return s;s=Fi(s)}return n}let r=D_(t,e);for(;r&&mL(r)&&vm(r);)r=D_(r,e);return r&&cl(r)&&vm(r)&&!Bv(r)?n:r||wL(t)||n}const DL=async function(t){const e=this.getOffsetParent||hN,n=this.getDimensions,r=await n(t.floating);return{reference:jL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OL(t){return Tr(t).direction==="rtl"}const ML={convertOffsetParentRelativeRectToViewportRelativeRect:TL,getDocumentElement:cs,getClippingRect:RL,getOffsetParent:hN,getElementRects:DL,getClientRects:SL,getDimensions:kL,getScale:Va,isElement:br,isRTL:OL};function fN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function LL(t,e){let n=null,r;const s=cs(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=d;if(a||e(),!m||!y)return;const T=Td(f),v=Td(s.clientWidth-(h+m)),_=Td(s.clientHeight-(f+y)),E=Td(h),x={rootMargin:-T+"px "+-v+"px "+-_+"px "+-E+"px",threshold:jn(0,Vi(1,c))||1};let A=!0;function j(O){const N=O[0].intersectionRatio;if(N!==c){if(!A)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!fN(d,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(j,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,x)}n.observe(t)}return o(!0),i}function VL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Wv(t),h=s||i?[...d?Xc(d):[],...Xc(e)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=d&&a?LL(d,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(E=>{let[w]=E;w&&w.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=y)==null||x.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let T,v=c?Lo(t):null;c&&_();function _(){const E=Lo(t);v&&!fN(v,E)&&n(),v=E,T=requestAnimationFrame(_)}return n(),()=>{var E;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(E=y)==null||E.disconnect(),y=null,c&&cancelAnimationFrame(T)}}const FL=cL,UL=uL,$L=oL,BL=hL,zL=aL,O_=iL,WL=dL,HL=(t,e,n)=>{const r=new Map,s={platform:ML,...n},i={...s.platform,_c:r};return sL(t,e,{...s,platform:i})};var qL=typeof document<"u",GL=function(){},Yd=qL?p.useLayoutEffect:GL;function Mh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Mh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Mh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function pN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function M_(t,e){const n=pN(t);return Math.round(e*n)/n}function xm(t){const e=p.useRef(t);return Yd(()=>{e.current=t}),e}function KL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=p.useState(r);Mh(m,r)||y(r);const[T,v]=p.useState(null),[_,E]=p.useState(null),w=p.useCallback(U=>{U!==O.current&&(O.current=U,v(U))},[]),x=p.useCallback(U=>{U!==N.current&&(N.current=U,E(U))},[]),A=i||T,j=o||_,O=p.useRef(null),N=p.useRef(null),S=p.useRef(h),C=c!=null,P=xm(c),D=xm(s),R=xm(d),k=p.useCallback(()=>{if(!O.current||!N.current)return;const U={placement:e,strategy:n,middleware:m};D.current&&(U.platform=D.current),HL(O.current,N.current,U).then(V=>{const Y={...V,isPositioned:R.current!==!1};B.current&&!Mh(S.current,Y)&&(S.current=Y,Qo.flushSync(()=>{f(Y)}))})},[m,e,n,D,R]);Yd(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[d]);const B=p.useRef(!1);Yd(()=>(B.current=!0,()=>{B.current=!1}),[]),Yd(()=>{if(A&&(O.current=A),j&&(N.current=j),A&&j){if(P.current)return P.current(A,j,k);k()}},[A,j,k,P,C]);const se=p.useMemo(()=>({reference:O,floating:N,setReference:w,setFloating:x}),[w,x]),X=p.useMemo(()=>({reference:A,floating:j}),[A,j]),ae=p.useMemo(()=>{const U={position:n,left:0,top:0};if(!X.floating)return U;const V=M_(X.floating,h.x),Y=M_(X.floating,h.y);return a?{...U,transform:"translate("+V+"px, "+Y+"px)",...pN(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:Y}},[n,a,X.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:k,refs:se,elements:X,floatingStyles:ae}),[h,k,se,X,ae])}const QL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?O_({element:r.current,padding:s}).fn(n):{}:r?O_({element:r,padding:s}).fn(n):{}}}},YL=(t,e)=>({...FL(t),options:[t,e]}),XL=(t,e)=>({...UL(t),options:[t,e]}),JL=(t,e)=>({...WL(t),options:[t,e]}),ZL=(t,e)=>({...$L(t),options:[t,e]}),e4=(t,e)=>({...BL(t),options:[t,e]}),t4=(t,e)=>({...zL(t),options:[t,e]}),n4=(t,e)=>({...QL(t),options:[t,e]});var r4="Arrow",mN=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(_e.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});mN.displayName=r4;var s4=mN;function i4(t){const[e,n]=p.useState(void 0);return Wt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var qv="Popper",[gN,Nl]=Ar(qv),[o4,yN]=gN(qv),vN=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return l.jsx(o4,{scope:e,anchor:r,onAnchorChange:s,children:n})};vN.displayName=qv;var xN="PopperAnchor",wN=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=yN(xN,n),o=p.useRef(null),a=qe(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(_e.div,{...s,ref:a})});wN.displayName=xN;var Gv="PopperContent",[a4,l4]=gN(Gv),_N=p.forwardRef((t,e)=>{var K,ke,Ie,be,Ce,ve;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:T,...v}=t,_=yN(Gv,n),[E,w]=p.useState(null),x=qe(e,et=>w(et)),[A,j]=p.useState(null),O=i4(A),N=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,C=r+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(d)?d:[d],R=D.length>0,k={padding:P,boundary:D.filter(u4),altBoundary:R},{refs:B,floatingStyles:se,placement:X,isPositioned:ae,middlewareData:U}=KL({strategy:"fixed",placement:C,whileElementsMounted:(...et)=>VL(...et,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[YL({mainAxis:s+S,alignmentAxis:o}),c&&XL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?JL():void 0,...k}),c&&ZL({...k}),e4({...k,apply:({elements:et,rects:Et,availableWidth:Dt,availableHeight:ln})=>{const{width:yn,height:qt}=Et.reference,An=et.floating.style;An.setProperty("--radix-popper-available-width",`${Dt}px`),An.setProperty("--radix-popper-available-height",`${ln}px`),An.setProperty("--radix-popper-anchor-width",`${yn}px`),An.setProperty("--radix-popper-anchor-height",`${qt}px`)}}),A&&n4({element:A,padding:a}),d4({arrowWidth:N,arrowHeight:S}),m&&t4({strategy:"referenceHidden",...k})]}),[V,Y]=TN(X),he=Cn(T);Wt(()=>{ae&&(he==null||he())},[ae,he]);const te=(K=U.arrow)==null?void 0:K.x,de=(ke=U.arrow)==null?void 0:ke.y,ye=((Ie=U.arrow)==null?void 0:Ie.centerOffset)!==0,[Ne,Ve]=p.useState();return Wt(()=>{E&&Ve(window.getComputedStyle(E).zIndex)},[E]),l.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:ae?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(be=U.transformOrigin)==null?void 0:be.x,(Ce=U.transformOrigin)==null?void 0:Ce.y].join(" "),...((ve=U.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(a4,{scope:n,placedSide:V,onArrowChange:j,arrowX:te,arrowY:de,shouldHideArrow:ye,children:l.jsx(_e.div,{"data-side":V,"data-align":Y,...v,ref:x,style:{...v.style,animation:ae?void 0:"none"}})})})});_N.displayName=Gv;var EN="PopperArrow",c4={top:"bottom",right:"left",bottom:"top",left:"right"},bN=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=l4(EN,r),o=c4[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(s4,{...s,ref:n,style:{...s.style,display:"block"}})})});bN.displayName=EN;function u4(t){return t!==null}var d4=t=>({name:"transformOrigin",options:t,fn(e){var _,E,w;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=TN(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,y=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let T="",v="";return d==="bottom"?(T=o?f:`${m}px`,v=`${-c}px`):d==="top"?(T=o?f:`${m}px`,v=`${r.floating.height+c}px`):d==="right"?(T=`${-c}px`,v=o?f:`${y}px`):d==="left"&&(T=`${r.floating.width+c}px`,v=o?f:`${y}px`),{data:{x:T,y:v}}}});function TN(t){const[e,n="center"]=t.split("-");return[e,n]}var SN=vN,Kv=wN,Qv=_N,Yv=bN,[Mf,AW]=Ar("Tooltip",[Nl]),Xv=Nl(),NN="TooltipProvider",h4=700,L_="tooltip.open",[f4,IN]=Mf(NN),CN=t=>{const{__scopeTooltip:e,delayDuration:n=h4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),a=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),l.jsx(f4,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:p.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:i})};CN.displayName=NN;var AN="Tooltip",[PW,Lf]=Mf(AN),zg="TooltipTrigger",p4=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Lf(zg,n),i=IN(zg,n),o=Xv(n),a=p.useRef(null),c=qe(e,a,s.onTriggerChange),d=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Kv,{asChild:!0,...o,children:l.jsx(_e.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:re(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:re(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:re(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:re(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:re(t.onBlur,s.onClose),onClick:re(t.onClick,s.onClose)})})});p4.displayName=zg;var m4="TooltipPortal",[RW,g4]=Mf(m4,{forceMount:void 0}),ul="TooltipContent",PN=p.forwardRef((t,e)=>{const n=g4(ul,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Lf(ul,t.__scopeTooltip);return l.jsx(Pr,{present:r||o.open,children:o.disableHoverableContent?l.jsx(RN,{side:s,...i,ref:e}):l.jsx(y4,{side:s,...i,ref:e})})}),y4=p.forwardRef((t,e)=>{const n=Lf(ul,t.__scopeTooltip),r=IN(ul,t.__scopeTooltip),s=p.useRef(null),i=qe(e,s),[o,a]=p.useState(null),{trigger:c,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{a(null),f(!1)},[f]),y=p.useCallback((T,v)=>{const _=T.currentTarget,E={x:T.clientX,y:T.clientY},w=E4(E,_.getBoundingClientRect()),x=b4(E,w),A=T4(v.getBoundingClientRect()),j=N4([...x,...A]);a(j),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&h){const T=_=>y(_,h),v=_=>y(_,c);return c.addEventListener("pointerleave",T),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",v)}}},[c,h,y,m]),p.useEffect(()=>{if(o){const T=v=>{const _=v.target,E={x:v.clientX,y:v.clientY},w=(c==null?void 0:c.contains(_))||(h==null?void 0:h.contains(_)),x=!S4(E,o);w?m():x&&(m(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[c,h,o,d,m]),l.jsx(RN,{...t,ref:i})}),[v4,x4]=Mf(AN,{isInside:!1}),w4=AD("TooltipContent"),RN=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Lf(ul,n),d=Xv(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(L_,h),()=>document.removeEventListener(L_,h)),[h]),p.useEffect(()=>{if(c.trigger){const f=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),l.jsx(El,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:l.jsxs(Qv,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(w4,{children:r}),l.jsx(v4,{scope:n,isInside:!0,children:l.jsx(XD,{id:c.contentId,role:"tooltip",children:s||r})})]})})});PN.displayName=ul;var kN="TooltipArrow",_4=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Xv(n);return x4(kN,n).isInside?null:l.jsx(Yv,{...s,...r,ref:e})});_4.displayName=kN;function E4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function b4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function T4(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function S4(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],d=a.x,h=a.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-d)*(r-h)/(m-h)+d&&(s=!s)}return s}function N4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),I4(e)}function I4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var C4=CN,jN=PN;const A4=C4,P4=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(jN,{ref:r,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));P4.displayName=jN.displayName;var Vf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ff=typeof window>"u"||"Deno"in globalThis;function hr(){}function R4(t,e){return typeof t=="function"?t(e):t}function k4(t){return typeof t=="number"&&t>=0&&t!==1/0}function j4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wg(t,e){return typeof t=="function"?t(e):t}function D4(t,e){return typeof t=="function"?t(e):t}function V_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Jv(o,e.options))return!1}else if(!Zc(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function F_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Jc(e.options.mutationKey)!==Jc(i))return!1}else if(!Zc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Jv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jc)(t)}function Jc(t){return JSON.stringify(t,(e,n)=>Hg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Zc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Zc(t[n],e[n])):!1}function DN(t,e){if(t===e)return t;const n=U_(t)&&U_(e);if(n||Hg(t)&&Hg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let d=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,d++):(a[f]=DN(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&d++)}return s===o&&d===s?t:a}return e}function U_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hg(t){if(!$_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $_(t){return Object.prototype.toString.call(t)==="[object Object]"}function O4(t){return new Promise(e=>{setTimeout(e,t)})}function M4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?DN(t,e):e}function L4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function V4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Zv=Symbol();function ON(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Zv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var xo,fi,Ha,GE,F4=(GE=class extends Vf{constructor(){super();He(this,xo);He(this,fi);He(this,Ha);Ae(this,Ha,e=>{if(!Ff&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,fi)||this.setEventListener(W(this,Ha))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,fi))==null||e.call(this),Ae(this,fi,void 0))}setEventListener(e){var n;Ae(this,Ha,e),(n=W(this,fi))==null||n.call(this),Ae(this,fi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){W(this,xo)!==e&&(Ae(this,xo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof W(this,xo)=="boolean"?W(this,xo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xo=new WeakMap,fi=new WeakMap,Ha=new WeakMap,GE),MN=new F4,qa,pi,Ga,KE,U4=(KE=class extends Vf{constructor(){super();He(this,qa,!0);He(this,pi);He(this,Ga);Ae(this,Ga,e=>{if(!Ff&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,pi)||this.setEventListener(W(this,Ga))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,pi))==null||e.call(this),Ae(this,pi,void 0))}setEventListener(e){var n;Ae(this,Ga,e),(n=W(this,pi))==null||n.call(this),Ae(this,pi,e(this.setOnline.bind(this)))}setOnline(e){W(this,qa)!==e&&(Ae(this,qa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return W(this,qa)}},qa=new WeakMap,pi=new WeakMap,Ga=new WeakMap,KE),Lh=new U4;function $4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function B4(t){return Math.min(1e3*2**t,3e4)}function LN(t){return(t??"online")==="online"?Lh.isOnline():!0}var VN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function wm(t){return t instanceof VN}function FN(t){let e=!1,n=0,r=!1,s;const i=$4(),o=v=>{var _;r||(m(new VN(v)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},c=()=>{e=!1},d=()=>MN.isFocused()&&(t.networkMode==="always"||Lh.isOnline())&&t.canRun(),h=()=>LN(t.networkMode)&&t.canRun(),f=v=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,v),s==null||s(),i.reject(v))},y=()=>new Promise(v=>{var _;s=E=>{(r||d())&&v(E)},(_=t.onPause)==null||_.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),T=()=>{if(r)return;let v;const _=n===0?t.initialPromise:void 0;try{v=_??t.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(f).catch(E=>{var O;if(r)return;const w=t.retry??(Ff?0:3),x=t.retryDelay??B4,A=typeof x=="function"?x(n,E):x,j=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,E);if(e||!j){m(E);return}n++,(O=t.onFail)==null||O.call(t,n,E),O4(A).then(()=>d()?void 0:y()).then(()=>{e?m(E):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?T():y().then(T),i)}}var z4=t=>setTimeout(t,0);function W4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=z4;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var hn=W4(),wo,QE,UN=(QE=class{constructor(){He(this,wo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k4(this.gcTime)&&Ae(this,wo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ff?1/0:5*60*1e3))}clearGcTimeout(){W(this,wo)&&(clearTimeout(W(this,wo)),Ae(this,wo,void 0))}},wo=new WeakMap,QE),Ka,_o,Kn,Eo,Zt,gu,bo,fr,gs,YE,H4=(YE=class extends UN{constructor(n){super();He(this,fr);He(this,Ka);He(this,_o);He(this,Kn);He(this,Eo);He(this,Zt);He(this,gu);He(this,bo);Ae(this,bo,!1),Ae(this,gu,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ae(this,Eo,n.client),Ae(this,Kn,W(this,Eo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ae(this,Ka,G4(this.options)),this.state=n.state??W(this,Ka),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=W(this,Zt))==null?void 0:n.promise}setOptions(n){this.options={...W(this,gu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Kn).remove(this)}setData(n,r){const s=M4(this.state.data,n,this.options);return Qt(this,fr,gs).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Qt(this,fr,gs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=W(this,Zt))==null?void 0:s.promise;return(i=W(this,Zt))==null||i.cancel(n),r?r.then(hr).catch(hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Ka))}isActive(){return this.observers.some(n=>D4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Wg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!j4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=W(this,Zt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=W(this,Zt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),W(this,Kn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(W(this,Zt)&&(W(this,bo)?W(this,Zt).cancel({revert:!0}):W(this,Zt).cancelRetry()),this.scheduleGc()),W(this,Kn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qt(this,fr,gs).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,Zt))return W(this,Zt).continueRetry(),W(this,Zt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const y=this.observers.find(T=>T.options.queryFn);y&&this.setOptions(y.options)}const s=new AbortController,i=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(Ae(this,bo,!0),s.signal)})},o=()=>{const y=ON(this.options,r),v=(()=>{const _={client:W(this,Eo),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return Ae(this,bo,!1),this.options.persister?this.options.persister(y,v,this):y(v)},c=(()=>{const y={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:W(this,Eo),state:this.state,fetchFn:o};return i(y),y})();(h=this.options.behavior)==null||h.onFetch(c,this),Ae(this,_o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Qt(this,fr,gs).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const d=y=>{var T,v,_,E;wm(y)&&y.silent||Qt(this,fr,gs).call(this,{type:"error",error:y}),wm(y)||((v=(T=W(this,Kn).config).onError)==null||v.call(T,y,this),(E=(_=W(this,Kn).config).onSettled)==null||E.call(_,this.state.data,y,this)),this.scheduleGc()};return Ae(this,Zt,FN({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:y=>{var T,v,_,E;if(y===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(w){d(w);return}(v=(T=W(this,Kn).config).onSuccess)==null||v.call(T,y,this),(E=(_=W(this,Kn).config).onSettled)==null||E.call(_,y,this.state.error,this),this.scheduleGc()},onError:d,onFail:(y,T)=>{Qt(this,fr,gs).call(this,{type:"failed",failureCount:y,error:T})},onPause:()=>{Qt(this,fr,gs).call(this,{type:"pause"})},onContinue:()=>{Qt(this,fr,gs).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),W(this,Zt).start()}},Ka=new WeakMap,_o=new WeakMap,Kn=new WeakMap,Eo=new WeakMap,Zt=new WeakMap,gu=new WeakMap,bo=new WeakMap,fr=new WeakSet,gs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...q4(s.data,this.options),fetchMeta:n.meta??null};case"success":return Ae(this,_o,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return wm(i)&&i.revert&&W(this,_o)?{...W(this,_o),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),hn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),W(this,Kn).notify({query:this,type:"updated",action:n})})},YE);function q4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function G4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ur,XE,K4=(XE=class extends Vf{constructor(e={}){super();He(this,Ur);this.config=e,Ae(this,Ur,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Jv(s,n);let o=this.get(i);return o||(o=new H4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){W(this,Ur).has(e.queryHash)||(W(this,Ur).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=W(this,Ur).get(e.queryHash);n&&(e.destroy(),n===e&&W(this,Ur).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,Ur).get(e)}getAll(){return[...W(this,Ur).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>V_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>V_(e,r)):n}notify(e){hn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ur=new WeakMap,XE),$r,un,To,Br,ri,JE,Q4=(JE=class extends UN{constructor(n){super();He(this,Br);He(this,$r);He(this,un);He(this,To);this.mutationId=n.mutationId,Ae(this,un,n.mutationCache),Ae(this,$r,[]),this.state=n.state||Y4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){W(this,$r).includes(n)||(W(this,$r).push(n),this.clearGcTimeout(),W(this,un).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ae(this,$r,W(this,$r).filter(r=>r!==n)),this.scheduleGc(),W(this,un).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){W(this,$r).length||(this.state.status==="pending"?this.scheduleGc():W(this,un).remove(this))}continue(){var n;return((n=W(this,To))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,d,h,f,m,y,T,v,_,E,w,x,A,j,O,N,S,C;const r=()=>{Qt(this,Br,ri).call(this,{type:"continue"})};Ae(this,To,FN({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,D)=>{Qt(this,Br,ri).call(this,{type:"failed",failureCount:P,error:D})},onPause:()=>{Qt(this,Br,ri).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,un).canRun(this)}));const s=this.state.status==="pending",i=!W(this,To).canStart();try{if(s)r();else{Qt(this,Br,ri).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=W(this,un).config).onMutate)==null?void 0:a.call(o,n,this));const D=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n));D!==this.state.context&&Qt(this,Br,ri).call(this,{type:"pending",context:D,variables:n,isPaused:i})}const P=await W(this,To).start();return await((f=(h=W(this,un).config).onSuccess)==null?void 0:f.call(h,P,n,this.state.context,this)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,P,n,this.state.context)),await((v=(T=W(this,un).config).onSettled)==null?void 0:v.call(T,P,null,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,P,null,n,this.state.context)),Qt(this,Br,ri).call(this,{type:"success",data:P}),P}catch(P){try{throw await((x=(w=W(this,un).config).onError)==null?void 0:x.call(w,P,n,this.state.context,this)),await((j=(A=this.options).onError)==null?void 0:j.call(A,P,n,this.state.context)),await((N=(O=W(this,un).config).onSettled)==null?void 0:N.call(O,void 0,P,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,P,n,this.state.context)),P}finally{Qt(this,Br,ri).call(this,{type:"error",error:P})}}finally{W(this,un).runNext(this)}}},$r=new WeakMap,un=new WeakMap,To=new WeakMap,Br=new WeakSet,ri=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),hn.batch(()=>{W(this,$r).forEach(s=>{s.onMutationUpdate(n)}),W(this,un).notify({mutation:this,type:"updated",action:n})})},JE);function Y4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xs,pr,yu,ZE,X4=(ZE=class extends Vf{constructor(e={}){super();He(this,xs);He(this,pr);He(this,yu);this.config=e,Ae(this,xs,new Set),Ae(this,pr,new Map),Ae(this,yu,0)}build(e,n,r){const s=new Q4({mutationCache:this,mutationId:++rd(this,yu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){W(this,xs).add(e);const n=Sd(e);if(typeof n=="string"){const r=W(this,pr).get(n);r?r.push(e):W(this,pr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(W(this,xs).delete(e)){const n=Sd(e);if(typeof n=="string"){const r=W(this,pr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&W(this,pr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Sd(e);if(typeof n=="string"){const r=W(this,pr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Sd(e);if(typeof n=="string"){const s=(r=W(this,pr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){hn.batch(()=>{W(this,xs).forEach(e=>{this.notify({type:"removed",mutation:e})}),W(this,xs).clear(),W(this,pr).clear()})}getAll(){return Array.from(W(this,xs))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>F_(n,r))}findAll(e={}){return this.getAll().filter(n=>F_(e,n))}notify(e){hn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return hn.batch(()=>Promise.all(e.map(n=>n.continue().catch(hr))))}},xs=new WeakMap,pr=new WeakMap,yu=new WeakMap,ZE);function Sd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function B_(t){return{onFetch:(e,n)=>{var h,f,m,y,T;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const _=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=ON(e.options,e.fetchOptions),w=async(x,A,j)=>{if(v)return Promise.reject();if(A==null&&x.pages.length)return Promise.resolve(x);const N=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:A,direction:j?"backward":"forward",meta:e.options.meta};return _(D),D})(),S=await E(N),{maxPages:C}=e.options,P=j?V4:L4;return{pages:P(x.pages,S,C),pageParams:P(x.pageParams,A,C)}};if(s&&i.length){const x=s==="backward",A=x?J4:z_,j={pages:i,pageParams:o},O=A(r,j);a=await w(j,O,x)}else{const x=t??i.length;do{const A=c===0?o[0]??r.initialPageParam:z_(r,a);if(c>0&&A==null)break;a=await w(a,A),c++}while(c<x)}return a};e.options.persister?e.fetchFn=()=>{var v,_;return(_=(v=e.options).persister)==null?void 0:_.call(v,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function z_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function J4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var pt,mi,gi,Qa,Ya,yi,Xa,Ja,eb,Z4=(eb=class{constructor(t={}){He(this,pt);He(this,mi);He(this,gi);He(this,Qa);He(this,Ya);He(this,yi);He(this,Xa);He(this,Ja);Ae(this,pt,t.queryCache||new K4),Ae(this,mi,t.mutationCache||new X4),Ae(this,gi,t.defaultOptions||{}),Ae(this,Qa,new Map),Ae(this,Ya,new Map),Ae(this,yi,0)}mount(){rd(this,yi)._++,W(this,yi)===1&&(Ae(this,Xa,MN.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,pt).onFocus())})),Ae(this,Ja,Lh.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,pt).onOnline())})))}unmount(){var t,e;rd(this,yi)._--,W(this,yi)===0&&((t=W(this,Xa))==null||t.call(this),Ae(this,Xa,void 0),(e=W(this,Ja))==null||e.call(this),Ae(this,Ja,void 0))}isFetching(t){return W(this,pt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,mi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,pt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=W(this,pt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Wg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return W(this,pt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=W(this,pt).get(r.queryHash),i=s==null?void 0:s.state.data,o=R4(e,i);if(o!==void 0)return W(this,pt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return hn.batch(()=>W(this,pt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,pt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=W(this,pt);hn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=W(this,pt);return hn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=hn.batch(()=>W(this,pt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(hr).catch(hr)}invalidateQueries(t,e={}){return hn.batch(()=>(W(this,pt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=hn.batch(()=>W(this,pt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(hr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=W(this,pt).build(this,e);return n.isStaleByTime(Wg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hr).catch(hr)}fetchInfiniteQuery(t){return t.behavior=B_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hr).catch(hr)}ensureInfiniteQueryData(t){return t.behavior=B_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lh.isOnline()?W(this,mi).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,pt)}getMutationCache(){return W(this,mi)}getDefaultOptions(){return W(this,gi)}setDefaultOptions(t){Ae(this,gi,t)}setQueryDefaults(t,e){W(this,Qa).set(Jc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,Qa).values()],n={};return e.forEach(r=>{Zc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){W(this,Ya).set(Jc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,Ya).values()],n={};return e.forEach(r=>{Zc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,gi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Jv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Zv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,gi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,pt).clear(),W(this,mi).clear()}},pt=new WeakMap,mi=new WeakMap,gi=new WeakMap,Qa=new WeakMap,Ya=new WeakMap,yi=new WeakMap,Xa=new WeakMap,Ja=new WeakMap,eb),eV=p.createContext(void 0),tV=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(eV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}var wi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wi||(wi={}));const W_="popstate";function nV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return qg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vh(s)}return sV(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $N(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rV(){return Math.random().toString(36).substr(2,8)}function H_(t,e){return{usr:t.state,key:t.key,idx:e}}function qg(t,e,n,r){return n===void 0&&(n=null),eu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Il(e):e,{state:n,key:e&&e.key||r||rV()})}function Vh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=wi.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(eu({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=wi.Pop;let _=h(),E=_==null?null:_-d;d=_,c&&c({action:a,location:v.location,delta:E})}function m(_,E){a=wi.Push;let w=qg(v.location,_,E);d=h()+1;let x=H_(w,d),A=v.createHref(w);try{o.pushState(x,"",A)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(A)}i&&c&&c({action:a,location:v.location,delta:1})}function y(_,E){a=wi.Replace;let w=qg(v.location,_,E);d=h();let x=H_(w,d),A=v.createHref(w);o.replaceState(x,"",A),i&&c&&c({action:a,location:v.location,delta:0})}function T(_){let E=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof _=="string"?_:Vh(_);return w=w.replace(/ $/,"%20"),wt(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let v={get action(){return a},get location(){return t(s,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(W_,f),c=_,()=>{s.removeEventListener(W_,f),c=null}},createHref(_){return e(s,_)},createURL:T,encodeLocation(_){let E=T(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:y,go(_){return o.go(_)}};return v}var q_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(q_||(q_={}));function iV(t,e,n){return n===void 0&&(n="/"),oV(t,e,n,!1)}function oV(t,e,n,r){let s=typeof e=="string"?Il(e):e,i=e0(s.pathname||"/",n);if(i==null)return null;let o=BN(t);aV(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=vV(i);a=gV(o[c],d,r)}return a}function BN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(wt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Ri([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),BN(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:pV(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of zN(i.path))s(i,o,c)}),e}function zN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zN(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function aV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lV=/^:[\w-]+$/,cV=3,uV=2,dV=1,hV=10,fV=-2,G_=t=>t==="*";function pV(t,e){let n=t.split("/"),r=n.length;return n.some(G_)&&(r+=fV),e&&(r+=uV),n.filter(s=>!G_(s)).reduce((s,i)=>s+(lV.test(i)?cV:i===""?dV:hV),r)}function mV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function gV(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=K_({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=K_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ri([i,f.pathname]),pathnameBase:EV(Ri([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Ri([i,f.pathnameBase]))}return o}function K_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const T=a[f];return y&&!T?d[m]=void 0:d[m]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function yV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$N(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function vV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $N(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function e0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Il(t):t;return{pathname:n?n.startsWith("/")?n:wV(n,e):e,search:bV(r),hash:TV(s)}}function wV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _m(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _V(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function t0(t,e){let n=_V(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function n0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Il(t):(s=eu({},t),wt(!s.pathname||!s.pathname.includes("?"),_m("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),_m("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),_m("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let c=xV(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Ri=t=>t.join("/").replace(/\/\/+/g,"/"),EV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const WN=["post","put","patch","delete"];new Set(WN);const NV=["get",...WN];new Set(NV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}const r0=p.createContext(null),IV=p.createContext(null),Yi=p.createContext(null),Uf=p.createContext(null),Xi=p.createContext({outlet:null,matches:[],isDataRoute:!1}),HN=p.createContext(null);function CV(t,e){let{relative:n}=e===void 0?{}:e;Cl()||wt(!1);let{basename:r,navigator:s}=p.useContext(Yi),{hash:i,pathname:o,search:a}=GN(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ri([r,o])),s.createHref({pathname:c,search:a,hash:i})}function Cl(){return p.useContext(Uf)!=null}function Yo(){return Cl()||wt(!1),p.useContext(Uf).location}function qN(t){p.useContext(Yi).static||p.useLayoutEffect(t)}function zs(){let{isDataRoute:t}=p.useContext(Xi);return t?$V():AV()}function AV(){Cl()||wt(!1);let t=p.useContext(r0),{basename:e,future:n,navigator:r}=p.useContext(Yi),{matches:s}=p.useContext(Xi),{pathname:i}=Yo(),o=JSON.stringify(t0(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return qN(()=>{a.current=!0}),p.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let f=n0(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ri([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function GN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Yi),{matches:s}=p.useContext(Xi),{pathname:i}=Yo(),o=JSON.stringify(t0(s,r.v7_relativeSplatPath));return p.useMemo(()=>n0(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function PV(t,e){return RV(t,e)}function RV(t,e,n,r){Cl()||wt(!1);let{navigator:s}=p.useContext(Yi),{matches:i}=p.useContext(Xi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Yo(),h;if(e){var f;let _=typeof e=="string"?Il(e):e;c==="/"||(f=_.pathname)!=null&&f.startsWith(c)||wt(!1),h=_}else h=d;let m=h.pathname||"/",y=m;if(c!=="/"){let _=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let T=iV(t,{pathname:y}),v=MV(T&&T.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Ri([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Ri([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&v?p.createElement(Uf.Provider,{value:{location:tu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:wi.Pop}},v):v}function kV(){let t=UV(),e=SV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const jV=p.createElement(kV,null);class DV extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Xi.Provider,{value:this.props.routeContext},p.createElement(HN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OV(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(r0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Xi.Provider,{value:e},r)}function MV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||wt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:y}=n,T=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||T){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let y,T=!1,v=null,_=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||jV,c&&(d<0&&m===0?(T=!0,_=null):d===m&&(T=!0,_=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,m+1)),w=()=>{let x;return y?x=v:T?x=_:f.route.Component?x=p.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,p.createElement(OV,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(DV,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var KN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KN||{}),Fh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fh||{});function LV(t){let e=p.useContext(r0);return e||wt(!1),e}function VV(t){let e=p.useContext(IV);return e||wt(!1),e}function FV(t){let e=p.useContext(Xi);return e||wt(!1),e}function QN(t){let e=FV(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function UV(){var t;let e=p.useContext(HN),n=VV(Fh.UseRouteError),r=QN(Fh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $V(){let{router:t}=LV(KN.UseNavigateStable),e=QN(Fh.UseNavigateStable),n=p.useRef(!1);return qN(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,tu({fromRouteId:e},i)))},[t,e])}function BV(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function YN(t){let{to:e,replace:n,state:r,relative:s}=t;Cl()||wt(!1);let{future:i,static:o}=p.useContext(Yi),{matches:a}=p.useContext(Xi),{pathname:c}=Yo(),d=zs(),h=n0(e,t0(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return p.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function xn(t){wt(!1)}function zV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=wi.Pop,navigator:i,static:o=!1,future:a}=t;Cl()&&wt(!1);let c=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:i,static:o,future:tu({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Il(r));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:T="default"}=r,v=p.useMemo(()=>{let _=e0(h,c);return _==null?null:{location:{pathname:_,search:f,hash:m,state:y,key:T},navigationType:s}},[c,h,f,m,y,T,s]);return v==null?null:p.createElement(Yi.Provider,{value:d},p.createElement(Uf.Provider,{children:n,value:v}))}function XN(t){let{children:e,location:n}=t;return PV(Gg(e),n)}new Promise(()=>{});function Gg(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,Gg(r.props.children,i));return}r.type!==xn&&wt(!1),!r.props.index||!r.props.children||wt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Gg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function WV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function HV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qV(t,e){return t.button===0&&(!e||e==="_self")&&!HV(t)}function Qg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function GV(t,e){let n=Qg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const KV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QV="6";try{window.__reactRouterVersion=QV}catch{}const YV="startTransition",Q_=Fy[YV];function XV(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=nV({window:s,v5Compat:!0}));let o=i.current,[a,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=p.useCallback(f=>{d&&Q_?Q_(()=>c(f)):c(f)},[c,d]);return p.useLayoutEffect(()=>o.listen(h),[o,h]),p.useEffect(()=>BV(r),[r]),p.createElement(zV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const JV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wr=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,m=WV(e,KV),{basename:y}=p.useContext(Yi),T,v=!1;if(typeof d=="string"&&ZV.test(d)&&(T=d,JV))try{let x=new URL(window.location.href),A=d.startsWith("//")?new URL(x.protocol+d):new URL(d),j=e0(A.pathname,y);A.origin===x.origin&&j!=null?d=j+A.search+A.hash:v=!0}catch{}let _=CV(d,{relative:s}),E=eF(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function w(x){r&&r(x),x.defaultPrevented||E(x)}return p.createElement("a",Kg({},m,{href:T||_,onClick:v||i?r:w,ref:n,target:c}))});var Y_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Y_||(Y_={}));var X_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(X_||(X_={}));function eF(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=zs(),d=Yo(),h=GN(t,{relative:o});return p.useCallback(f=>{if(qV(f,n)){f.preventDefault();let m=r!==void 0?r:Vh(d)===Vh(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,c,h,r,s,n,t,i,o,a])}function tF(t){let e=p.useRef(Qg(t)),n=p.useRef(!1),r=Yo(),s=p.useMemo(()=>GV(r.search,n.current?null:e.current),[r.search]),i=zs(),o=p.useCallback((a,c)=>{const d=Qg(typeof a=="function"?a(s):a);n.current=!0,i("?"+d,c)},[i,s]);return[s,o]}const nF=()=>{};var J_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ZN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,y=d&63;c||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new sF;const m=i<<2|a>>4;if(r.push(m),d!==64){const y=a<<4&240|d>>2;if(r.push(y),f!==64){const T=d<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iF=function(t){const e=JN(t);return ZN.encodeByteArray(e,!0)},Uh=function(t){return iF(t).replace(/\./g,"")},eI=function(t){try{return ZN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=()=>oF().__FIREBASE_DEFAULTS__,lF=()=>{if(typeof process>"u"||typeof J_>"u")return;const t=J_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eI(t[1]);return e&&JSON.parse(e)},$f=()=>{try{return nF()||aF()||lF()||cF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tI=t=>{var e,n;return(n=(e=$f())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},nI=t=>{const e=tI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rI=()=>{var t;return(t=$f())==null?void 0:t.config},sI=t=>{var e;return(e=$f())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uh(JSON.stringify(n)),Uh(JSON.stringify(o)),""].join(".")}const Tc={};function hF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tc))Tc[e]?t.emulator.push(e):t.prod.push(e);return t}function fF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Z_=!1;function i0(t,e){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||Tc[t]===e||Tc[t]||Z_)return;Tc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=hF().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Z_=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=fF(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),v=n("learnmore"),_=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),w=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const x=m.element;a(x),h(_,v);const A=d();c(w,E),x.append(w,T,_,A),document.body.appendChild(x)}i?(T.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function mF(){var e;const t=(e=$f())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xF(){const t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wF(){return!mF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _F(){try{return typeof indexedDB=="object"}catch{return!1}}function EF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="FirebaseError";class Ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bF,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?TF(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ws(s,a,r)}}function TF(t,e){return t.replace(SF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const SF=/\{\$([^}]+)}/g;function NF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(e1(i)&&e1(o)){if(!Vo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function e1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IF(t,e){const n=new CF(t,e);return n.subscribe.bind(n)}class CF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Em),s.error===void 0&&(s.error=Em),s.complete===void 0&&(s.complete=Em);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class Ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kF(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RF(t){return t===uo?void 0:t}function kF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const DF={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},OF=Oe.INFO,MF={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},LF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=MF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o0{constructor(e){this.name=e,this._logLevel=OF,this._logHandler=LF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const VF=(t,e)=>e.some(n=>t instanceof n);let t1,n1;function FF(){return t1||(t1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UF(){return n1||(n1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iI=new WeakMap,Yg=new WeakMap,oI=new WeakMap,bm=new WeakMap,a0=new WeakMap;function $F(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ki(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iI.set(n,t)}).catch(()=>{}),a0.set(e,t),e}function BF(t){if(Yg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Yg.set(t,e)}let Xg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zF(t){Xg=t(Xg)}function WF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tm(this),e,...n);return oI.set(r,e.sort?e.sort():[e]),ki(r)}:UF().includes(t)?function(...e){return t.apply(Tm(this),e),ki(iI.get(this))}:function(...e){return ki(t.apply(Tm(this),e))}}function HF(t){return typeof t=="function"?WF(t):(t instanceof IDBTransaction&&BF(t),VF(t,FF())?new Proxy(t,Xg):t)}function ki(t){if(t instanceof IDBRequest)return $F(t);if(bm.has(t))return bm.get(t);const e=HF(t);return e!==t&&(bm.set(t,e),a0.set(e,t)),e}const Tm=t=>a0.get(t);function qF(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ki(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ki(o.result),c.oldVersion,c.newVersion,ki(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const GF=["get","getKey","getAll","getAllKeys","count"],KF=["put","add","delete","clear"],Sm=new Map;function r1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=KF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||GF.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return Sm.set(e,i),i}zF(t=>({...t,get:(e,n,r)=>r1(e,n)||t.get(e,n,r),has:(e,n)=>!!r1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jg="@firebase/app",s1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new o0("@firebase/app"),XF="@firebase/app-compat",JF="@firebase/analytics-compat",ZF="@firebase/analytics",e5="@firebase/app-check-compat",t5="@firebase/app-check",n5="@firebase/auth",r5="@firebase/auth-compat",s5="@firebase/database",i5="@firebase/data-connect",o5="@firebase/database-compat",a5="@firebase/functions",l5="@firebase/functions-compat",c5="@firebase/installations",u5="@firebase/installations-compat",d5="@firebase/messaging",h5="@firebase/messaging-compat",f5="@firebase/performance",p5="@firebase/performance-compat",m5="@firebase/remote-config",g5="@firebase/remote-config-compat",y5="@firebase/storage",v5="@firebase/storage-compat",x5="@firebase/firestore",w5="@firebase/ai",_5="@firebase/firestore-compat",E5="firebase",b5="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="[DEFAULT]",T5={[Jg]:"fire-core",[XF]:"fire-core-compat",[ZF]:"fire-analytics",[JF]:"fire-analytics-compat",[t5]:"fire-app-check",[e5]:"fire-app-check-compat",[n5]:"fire-auth",[r5]:"fire-auth-compat",[s5]:"fire-rtdb",[i5]:"fire-data-connect",[o5]:"fire-rtdb-compat",[a5]:"fire-fn",[l5]:"fire-fn-compat",[c5]:"fire-iid",[u5]:"fire-iid-compat",[d5]:"fire-fcm",[h5]:"fire-fcm-compat",[f5]:"fire-perf",[p5]:"fire-perf-compat",[m5]:"fire-rc",[g5]:"fire-rc-compat",[y5]:"fire-gcs",[v5]:"fire-gcs-compat",[x5]:"fire-fst",[_5]:"fire-fst-compat",[w5]:"fire-vertex","fire-js":"fire-js",[E5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=new Map,S5=new Map,ey=new Map;function i1(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fo(t){const e=t.name;if(ey.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;ey.set(e,t);for(const n of nu.values())i1(n,t);for(const n of S5.values())i1(n,t);return!0}function Bf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new Cu("app","Firebase",N5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=b5;function aI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Zg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ji.create("bad-app-name",{appName:String(s)});if(n||(n=rI()),!n)throw ji.create("no-options");const i=nu.get(s);if(i){if(Vo(n,i.options)&&Vo(r,i.config))return i;throw ji.create("duplicate-app",{appName:s})}const o=new jF(s);for(const c of ey.values())o.addComponent(c);const a=new I5(n,r,o);return nu.set(s,a),a}function l0(t=Zg){const e=nu.get(t);if(!e&&t===Zg&&rI())return aI();if(!e)throw ji.create("no-app",{appName:t});return e}function o1(){return Array.from(nu.values())}function es(t,e,n){let r=T5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(o.join(" "));return}Fo(new Ui(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="firebase-heartbeat-database",A5=1,ru="firebase-heartbeat-store";let Nm=null;function lI(){return Nm||(Nm=qF(C5,A5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(t=>{throw ji.create("idb-open",{originalErrorMessage:t.message})})),Nm}async function P5(t){try{const n=(await lI()).transaction(ru),r=await n.objectStore(ru).get(cI(t));return await n.done,r}catch(e){if(e instanceof Ws)Vs.warn(e.message);else{const n=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vs.warn(n.message)}}}async function a1(t,e){try{const r=(await lI()).transaction(ru,"readwrite");await r.objectStore(ru).put(e,cI(t)),await r.done}catch(n){if(n instanceof Ws)Vs.warn(n.message);else{const r=ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vs.warn(r.message)}}}function cI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=1024,k5=30;class j5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=l1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>k5){const o=M5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l1(),{heartbeatsToSend:r,unsentEntries:s}=D5(this._heartbeatsCache.heartbeats),i=Uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Vs.warn(n),""}}}function l1(){return new Date().toISOString().substring(0,10)}function D5(t,e=R5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),c1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),c1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _F()?EF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function c1(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}function M5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){Fo(new Ui("platform-logger",e=>new QF(e),"PRIVATE")),Fo(new Ui("heartbeat",e=>new j5(e),"PRIVATE")),es(Jg,s1,t),es(Jg,s1,"esm2020"),es("fire-js","")}L5("");var V5="firebase",F5="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(V5,F5,"app");function uI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U5=uI,dI=new Cu("auth","Firebase",uI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new o0("@firebase/auth");function $5(t,...e){$h.logLevel<=Oe.WARN&&$h.warn(`Auth (${Al}): ${t}`,...e)}function Xd(t,...e){$h.logLevel<=Oe.ERROR&&$h.error(`Auth (${Al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,...e){throw c0(t,...e)}function ts(t,...e){return c0(t,...e)}function hI(t,e,n){const r={...U5(),[e]:n};return new Cu("auth","Firebase",r).create(e,{appName:t.name})}function Ps(t){return hI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dI.create(t,...e)}function xe(t,e,...n){if(!t)throw c0(e,...n)}function Ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xd(e),new Error(e)}function Fs(t,e){t||Ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function B5(){return u1()==="http:"||u1()==="https:"}function u1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B5()||yF()||"connection"in navigator)?navigator.onLine:!0}function W5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=pF()||vF()}get(){return z5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G5=new Pu(3e4,6e4);function Hs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function us(t,e,n,r,s={}){return pI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Au({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return gF()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Xo(t.emulatorConfig.host)&&(d.credentials="include"),fI.fetch()(await mI(t,t.config.apiHost,n,a),d)})}async function pI(t,e,n){t._canInitEmulator=!1;const r={...H5,...e};try{const s=new Q5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Nd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Nd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Nd(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw hI(t,h,d);Sr(t,h)}}catch(s){if(s instanceof Ws)throw s;Sr(t,"network-request-failed",{message:String(s)})}}async function Ru(t,e,n,r,s={}){const i=await us(t,e,n,r,s);return"mfaPendingCredential"in i&&Sr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function mI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?u0(t.config,s):`${t.config.apiScheme}://${s}`;return q5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function K5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ts(this.auth,"network-request-failed")),G5.get())})}}function Nd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ts(t,e,r);return s.customData._tokenResponse=n,s}function d1(t){return t!==void 0&&t.enterprise!==void 0}class Y5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return K5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X5(t,e){return us(t,"GET","/v2/recaptchaConfig",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e){return us(t,"POST","/v1/accounts:delete",e)}async function Bh(t,e){return us(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z5(t,e=!1){const n=_t(t),r=await n.getIdToken(e),s=d0(r);xe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Sc(Im(s.auth_time)),issuedAtTime:Sc(Im(s.iat)),expirationTime:Sc(Im(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Im(t){return Number(t)*1e3}function d0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xd("JWT malformed, contained fewer than 3 sections"),null;try{const s=eI(n);return s?JSON.parse(s):(Xd("Failed to decode base64 JWT payload"),null)}catch(s){return Xd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function h1(t){const e=d0(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ws&&e3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await dl(t,Bh(e,{idToken:n}));xe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?gI(s.providerUserInfo):[],o=r3(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ny(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function n3(t){const e=_t(t);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function gI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e){const n=await pI(t,{},async()=>{const r=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await mI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Xo(t.emulatorConfig.host)&&(c.credentials="include"),fI.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i3(t,e){return us(t,"POST","/v2/accounts:revokeToken",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=h1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await s3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Fa;return r&&(xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(xe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(xe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new t3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ny(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await dl(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z5(this,e)}reload(){return n3(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Ps(this.auth));const e=await this.getIdToken();return await dl(this,J5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:y,providerData:T,stsTokenManager:v}=n;xe(f&&v,e,"internal-error");const _=Fa.fromJSON(this.name,v);xe(typeof f=="string",e,"internal-error"),ni(r,e.name),ni(s,e.name),xe(typeof m=="boolean",e,"internal-error"),xe(typeof y=="boolean",e,"internal-error"),ni(i,e.name),ni(o,e.name),ni(a,e.name),ni(c,e.name),ni(d,e.name),ni(h,e.name);const E=new vr({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:_,createdAt:d,lastLoginAt:h});return T&&Array.isArray(T)&&(E.providerData=T.map(w=>({...w}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Fa;s.updateFromServerResponse(n);const i=new vr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];xe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?gI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Fa;a.updateFromIdToken(r);const c=new vr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ny(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=new Map;function Ss(t){Fs(t instanceof Function,"Expected a class definition");let e=f1.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yI.type="NONE";const p1=yI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ua{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Jd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Jd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bh(this.auth,{idToken:e}).catch(()=>{});return n?vr._fromGetAccountInfoResponse(this.auth,n,e):null}return vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ua(Ss(p1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ss(p1);const o=Jd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await Bh(e,{idToken:h}).catch(()=>{});if(!m)break;f=await vr._fromGetAccountInfoResponse(e,m,h)}else f=vr._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Ua(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ua(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_I(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bI(e))return"Blackberry";if(TI(e))return"Webos";if(xI(e))return"Safari";if((e.includes("chrome/")||wI(e))&&!e.includes("edge/"))return"Chrome";if(EI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vI(t=an()){return/firefox\//i.test(t)}function xI(t=an()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wI(t=an()){return/crios\//i.test(t)}function _I(t=an()){return/iemobile/i.test(t)}function EI(t=an()){return/android/i.test(t)}function bI(t=an()){return/blackberry/i.test(t)}function TI(t=an()){return/webos/i.test(t)}function h0(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o3(t=an()){var e;return h0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function a3(){return xF()&&document.documentMode===10}function SI(t=an()){return h0(t)||EI(t)||TI(t)||bI(t)||/windows phone/i.test(t)||_I(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e=[]){let n;switch(t){case"Browser":n=m1(an());break;case"Worker":n=`${m1(an())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e={}){return us(t,"GET","/v2/passwordPolicy",Hs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=6;class d3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??u3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g1(this),this.idTokenSubscription=new g1(this),this.beforeStateQueue=new l3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bh(this,{idToken:e}),r=await vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(On(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(Ps(this));const n=e?_t(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c3(this),n=new d3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&$5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ji(t){return _t(t)}class g1{constructor(e){this.auth=e,this.observer=null,this.addObserver=IF(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f3(t){zf=t}function II(t){return zf.loadJS(t)}function p3(){return zf.recaptchaEnterpriseScript}function m3(){return zf.gapiScript}function g3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class y3{constructor(){this.enterprise=new v3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const x3="recaptcha-enterprise",CI="NO_RECAPTCHA";class w3{constructor(e){this.type=x3,this.auth=Ji(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{X5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new Y5(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;d1(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(CI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y3().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&d1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=p3();c.length!==0&&(c+=a),II(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function y1(t,e,n,r=!1,s=!1){const i=new w3(t);let o;if(s)o=CI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wh(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await y1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await y1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t,e){const n=Bf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Vo(i,e??{}))return s;Sr(s,"already-initialized")}return n.initialize({options:e})}function E3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function b3(t,e,n){const r=Ji(t);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=AI(e),{host:o,port:a}=T3(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Vo(d,r.config.emulator)&&Vo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Xo(o)?(s0(`${i}//${o}${c}`),i0("Auth",!0)):S3()}function AI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function T3(t){const e=AI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:v1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:v1(o)}}}function v1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,n){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function N3(t,e){return us(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t,e){return Ru(t,"POST","/v1/accounts:signInWithPassword",Hs(t,e))}async function C3(t,e){return us(t,"POST","/v1/accounts:sendOobCode",Hs(t,e))}async function A3(t,e){return C3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}async function R3(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends f0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wh(e,n,"signInWithPassword",I3);case"emailLink":return P3(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wh(e,r,"signUpPassword",N3);case"emailLink":return R3(e,{idToken:n,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t,e){return Ru(t,"POST","/v1/accounts:signInWithIdp",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="http://localhost";class Uo extends f0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Uo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $a(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$a(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$a(e,n)}buildRequest(){const e={requestUri:k3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D3(t){const e=ic(oc(t)).link,n=e?ic(oc(e)).deep_link_id:null,r=ic(oc(t)).deep_link_id;return(r?ic(oc(r)).link:null)||r||n||e||t}class p0{constructor(e){const n=ic(oc(e)),r=n.apiKey??null,s=n.oobCode??null,i=j3(n.mode??null);xe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=D3(e);try{return new p0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.providerId=Pl.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=p0.parseLink(n);return xe(r,"argument-error"),su._fromEmailAndCode(e,r.code,r.tenantId)}}Pl.PROVIDER_ID="password";Pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends PI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends ku{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uo._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends ku{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends ku{constructor(){super("twitter.com")}static credential(e,n){return Uo._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e){return Ru(t,"POST","/v1/accounts:signUp",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await vr._fromIdTokenResponse(e,r,s),o=x1(r);return new $o({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=x1(r);return new $o({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function x1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends Ws{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Hh(e,n,r,s)}}function RI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(t,i,e,r):i})}async function M3(t,e,n=!1){const r=await dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(t,e,n=!1){const{auth:r}=t;if(On(r.app))return Promise.reject(Ps(r));const s="reauthenticate";try{const i=await dl(t,RI(r,s,e,t),n);xe(i.idToken,r,"internal-error");const o=d0(i.idToken);xe(o,r,"internal-error");const{sub:a}=o;return xe(t.uid===a,r,"user-mismatch"),$o._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Sr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(t,e,n=!1){if(On(t.app))return Promise.reject(Ps(t));const r="signIn",s=await RI(t,r,e),i=await $o._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function V3(t,e){return kI(Ji(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t){const e=Ji(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F3(t,e,n){const r=Ji(t);await Wh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",A3)}async function DI(t,e,n){if(On(t.app))return Promise.reject(Ps(t));const r=Ji(t),o=await Wh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O3).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&jI(t),c}),a=await $o._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function OI(t,e,n){return On(t.app)?Promise.reject(Ps(t)):V3(_t(t),Pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(t,e){return us(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=_t(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await dl(r,U3(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function $3(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function B3(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function MI(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}function LI(t){return _t(t).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=1e3,W3=10;class FI extends VI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);a3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,W3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FI.type="LOCAL";const H3=FI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI extends VI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UI.type="SESSION";const $I=UI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await q3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=m0("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(){return window}function K3(t){ns().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return typeof ns().WorkerGlobalScope<"u"&&typeof ns().importScripts=="function"}async function Q3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function X3(){return BI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="firebaseLocalStorageDb",J3=1,Gh="firebaseLocalStorage",WI="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hf(t,e){return t.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function Z3(){const t=indexedDB.deleteDatabase(zI);return new ju(t).toPromise()}function ry(){const t=indexedDB.open(zI,J3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gh,{keyPath:WI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gh)?e(r):(r.close(),await Z3(),e(await ry()))})})}async function _1(t,e,n){const r=Hf(t,!0).put({[WI]:e,value:n});return new ju(r).toPromise()}async function e6(t,e){const n=Hf(t,!1).get(e),r=await new ju(n).toPromise();return r===void 0?null:r.value}function E1(t,e){const n=Hf(t,!0).delete(e);return new ju(n).toPromise()}const t6=800,n6=3;class HI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ry(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>n6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(X3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Q3(),!this.activeServiceWorker)return;this.sender=new G3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ry();return await _1(e,qh,"1"),await E1(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>e6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Hf(s,!1).getAll();return new ju(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HI.type="LOCAL";const r6=HI;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t,e){return e?Ss(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends f0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i6(t){return kI(t.auth,new g0(t),t.bypassAuthState)}function o6(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),L3(n,new g0(t),t.bypassAuthState)}async function a6(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),M3(n,new g0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i6;case"linkViaPopup":case"linkViaRedirect":return a6;case"reauthViaPopup":case"reauthViaRedirect":return o6;default:Sr(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=new Pu(2e3,1e4);class Aa extends qI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Aa.currentPopupAction&&Aa.currentPopupAction.cancel(),Aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=m0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l6.get())};e()}}Aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="pendingRedirect",Zd=new Map;class u6 extends qI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zd.get(this.auth._key());if(!e){try{const r=await d6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zd.set(this.auth._key(),e)}return this.bypassAuthState||Zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d6(t,e){const n=p6(e),r=f6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function h6(t,e){Zd.set(t._key(),e)}function f6(t){return Ss(t._redirectPersistence)}function p6(t){return Jd(c6,t.config.apiKey,t.name)}async function m6(t,e,n=!1){if(On(t.app))return Promise.reject(Ps(t));const r=Ji(t),s=s6(r,e),o=await new u6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=10*60*1e3;class y6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ts(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g6&&this.cachedEventUids.clear(),this.cachedEventUids.has(b1(e))}saveEventToCache(e){this.cachedEventUids.add(b1(e)),this.lastProcessedEventTime=Date.now()}}function b1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function v6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e={}){return us(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_6=/^https?/;async function E6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x6(t);for(const n of e)try{if(b6(n))return}catch{}Sr(t,"unauthorized-domain")}function b6(t){const e=ty(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_6.test(n))return!1;if(w6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new Pu(3e4,6e4);function T1(){const t=ns().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S6(t){return new Promise((e,n)=>{var s,i,o;function r(){T1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T1(),n(ts(t,"network-request-failed"))},timeout:T6.get()})}if((i=(s=ns().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=ns().gapi)!=null&&o.load)r();else{const a=g3("iframefcb");return ns()[a]=()=>{gapi.load?r():n(ts(t,"network-request-failed"))},II(`${m3()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw eh=null,e})}let eh=null;function N6(t){return eh=eh||S6(t),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new Pu(5e3,15e3),C6="__/auth/iframe",A6="emulator/auth/iframe",P6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k6(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?u0(e,A6):`https://${t.config.authDomain}/${C6}`,r={apiKey:e.apiKey,appName:t.name,v:Al},s=R6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Au(r).slice(1)}`}async function j6(t){const e=await N6(t),n=ns().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:k6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ts(t,"network-request-failed"),a=ns().setTimeout(()=>{i(o)},I6.get());function c(){ns().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O6=500,M6=600,L6="_blank",V6="http://localhost";class S1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F6(t,e,n,r=O6,s=M6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...D6,width:r.toString(),height:s.toString(),top:i,left:o},d=an().toLowerCase();n&&(a=wI(d)?L6:n),vI(d)&&(e=e||V6,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(o3(d)&&a!=="_self")return U6(e||"",a),new S1(null);const f=window.open(e||"",a,h);xe(f,t,"popup-blocked");try{f.focus()}catch{}return new S1(f)}function U6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="__/auth/handler",B6="emulator/auth/handler",z6=encodeURIComponent("fac");async function N1(t,e,n,r,s,i){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Al,eventId:s};if(e instanceof PI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof ku){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${z6}=${encodeURIComponent(c)}`:"";return`${W6(t)}?${Au(a).slice(1)}${d}`}function W6({config:t}){return t.emulator?u0(t,B6):`https://${t.authDomain}/${$6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="webStorageSupport";class H6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$I,this._completeRedirectFn=m6,this._overrideRedirectResult=h6}async _openPopup(e,n,r,s){var o;Fs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await N1(e,n,r,ty(),s);return F6(e,i,m0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await N1(e,n,r,ty(),s);return K3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Fs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await j6(e),r=new y6(e);return n.register("authEvent",s=>(xe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cm,{type:Cm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Cm];i!==void 0&&n(!!i),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SI()||xI()||h0()}}const q6=H6;var I1="@firebase/auth",C1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q6(t){Fo(new Ui("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NI(t)},d=new h3(r,s,i,c);return E3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new Ui("auth-internal",e=>{const n=Ji(e.getProvider("auth").getImmediate());return(r=>new G6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(I1,C1,K6(t)),es(I1,C1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=5*60,X6=sI("authIdTokenMaxAge")||Y6;let A1=null;const J6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X6)return;const s=n==null?void 0:n.token;A1!==s&&(A1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Z6(t=l0()){const e=Bf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_3(t,{popupRedirectResolver:q6,persistence:[r6,H3,$I]}),r=sI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=J6(i.toString());B3(n,o,()=>o(n.currentUser)),$3(n,a=>o(a))}}const s=tI("auth");return s&&b3(n,`http://${s}`),n}function eU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}f3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ts("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",eU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q6("Browser");var P1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,KI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function C(){}C.prototype=S.prototype,N.D=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(P,D,R){for(var k=Array(arguments.length-2),B=2;B<arguments.length;B++)k[B-2]=arguments[B];return S.prototype[D].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,S,C){C||(C=0);var P=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)P[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;16>D;++D)P[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],D=N.g[2];var R=N.g[3],k=S+(R^C&(D^R))+P[0]+3614090360&4294967295;S=C+(k<<7&4294967295|k>>>25),k=R+(D^S&(C^D))+P[1]+3905402710&4294967295,R=S+(k<<12&4294967295|k>>>20),k=D+(C^R&(S^C))+P[2]+606105819&4294967295,D=R+(k<<17&4294967295|k>>>15),k=C+(S^D&(R^S))+P[3]+3250441966&4294967295,C=D+(k<<22&4294967295|k>>>10),k=S+(R^C&(D^R))+P[4]+4118548399&4294967295,S=C+(k<<7&4294967295|k>>>25),k=R+(D^S&(C^D))+P[5]+1200080426&4294967295,R=S+(k<<12&4294967295|k>>>20),k=D+(C^R&(S^C))+P[6]+2821735955&4294967295,D=R+(k<<17&4294967295|k>>>15),k=C+(S^D&(R^S))+P[7]+4249261313&4294967295,C=D+(k<<22&4294967295|k>>>10),k=S+(R^C&(D^R))+P[8]+1770035416&4294967295,S=C+(k<<7&4294967295|k>>>25),k=R+(D^S&(C^D))+P[9]+2336552879&4294967295,R=S+(k<<12&4294967295|k>>>20),k=D+(C^R&(S^C))+P[10]+4294925233&4294967295,D=R+(k<<17&4294967295|k>>>15),k=C+(S^D&(R^S))+P[11]+2304563134&4294967295,C=D+(k<<22&4294967295|k>>>10),k=S+(R^C&(D^R))+P[12]+1804603682&4294967295,S=C+(k<<7&4294967295|k>>>25),k=R+(D^S&(C^D))+P[13]+4254626195&4294967295,R=S+(k<<12&4294967295|k>>>20),k=D+(C^R&(S^C))+P[14]+2792965006&4294967295,D=R+(k<<17&4294967295|k>>>15),k=C+(S^D&(R^S))+P[15]+1236535329&4294967295,C=D+(k<<22&4294967295|k>>>10),k=S+(D^R&(C^D))+P[1]+4129170786&4294967295,S=C+(k<<5&4294967295|k>>>27),k=R+(C^D&(S^C))+P[6]+3225465664&4294967295,R=S+(k<<9&4294967295|k>>>23),k=D+(S^C&(R^S))+P[11]+643717713&4294967295,D=R+(k<<14&4294967295|k>>>18),k=C+(R^S&(D^R))+P[0]+3921069994&4294967295,C=D+(k<<20&4294967295|k>>>12),k=S+(D^R&(C^D))+P[5]+3593408605&4294967295,S=C+(k<<5&4294967295|k>>>27),k=R+(C^D&(S^C))+P[10]+38016083&4294967295,R=S+(k<<9&4294967295|k>>>23),k=D+(S^C&(R^S))+P[15]+3634488961&4294967295,D=R+(k<<14&4294967295|k>>>18),k=C+(R^S&(D^R))+P[4]+3889429448&4294967295,C=D+(k<<20&4294967295|k>>>12),k=S+(D^R&(C^D))+P[9]+568446438&4294967295,S=C+(k<<5&4294967295|k>>>27),k=R+(C^D&(S^C))+P[14]+3275163606&4294967295,R=S+(k<<9&4294967295|k>>>23),k=D+(S^C&(R^S))+P[3]+4107603335&4294967295,D=R+(k<<14&4294967295|k>>>18),k=C+(R^S&(D^R))+P[8]+1163531501&4294967295,C=D+(k<<20&4294967295|k>>>12),k=S+(D^R&(C^D))+P[13]+2850285829&4294967295,S=C+(k<<5&4294967295|k>>>27),k=R+(C^D&(S^C))+P[2]+4243563512&4294967295,R=S+(k<<9&4294967295|k>>>23),k=D+(S^C&(R^S))+P[7]+1735328473&4294967295,D=R+(k<<14&4294967295|k>>>18),k=C+(R^S&(D^R))+P[12]+2368359562&4294967295,C=D+(k<<20&4294967295|k>>>12),k=S+(C^D^R)+P[5]+4294588738&4294967295,S=C+(k<<4&4294967295|k>>>28),k=R+(S^C^D)+P[8]+2272392833&4294967295,R=S+(k<<11&4294967295|k>>>21),k=D+(R^S^C)+P[11]+1839030562&4294967295,D=R+(k<<16&4294967295|k>>>16),k=C+(D^R^S)+P[14]+4259657740&4294967295,C=D+(k<<23&4294967295|k>>>9),k=S+(C^D^R)+P[1]+2763975236&4294967295,S=C+(k<<4&4294967295|k>>>28),k=R+(S^C^D)+P[4]+1272893353&4294967295,R=S+(k<<11&4294967295|k>>>21),k=D+(R^S^C)+P[7]+4139469664&4294967295,D=R+(k<<16&4294967295|k>>>16),k=C+(D^R^S)+P[10]+3200236656&4294967295,C=D+(k<<23&4294967295|k>>>9),k=S+(C^D^R)+P[13]+681279174&4294967295,S=C+(k<<4&4294967295|k>>>28),k=R+(S^C^D)+P[0]+3936430074&4294967295,R=S+(k<<11&4294967295|k>>>21),k=D+(R^S^C)+P[3]+3572445317&4294967295,D=R+(k<<16&4294967295|k>>>16),k=C+(D^R^S)+P[6]+76029189&4294967295,C=D+(k<<23&4294967295|k>>>9),k=S+(C^D^R)+P[9]+3654602809&4294967295,S=C+(k<<4&4294967295|k>>>28),k=R+(S^C^D)+P[12]+3873151461&4294967295,R=S+(k<<11&4294967295|k>>>21),k=D+(R^S^C)+P[15]+530742520&4294967295,D=R+(k<<16&4294967295|k>>>16),k=C+(D^R^S)+P[2]+3299628645&4294967295,C=D+(k<<23&4294967295|k>>>9),k=S+(D^(C|~R))+P[0]+4096336452&4294967295,S=C+(k<<6&4294967295|k>>>26),k=R+(C^(S|~D))+P[7]+1126891415&4294967295,R=S+(k<<10&4294967295|k>>>22),k=D+(S^(R|~C))+P[14]+2878612391&4294967295,D=R+(k<<15&4294967295|k>>>17),k=C+(R^(D|~S))+P[5]+4237533241&4294967295,C=D+(k<<21&4294967295|k>>>11),k=S+(D^(C|~R))+P[12]+1700485571&4294967295,S=C+(k<<6&4294967295|k>>>26),k=R+(C^(S|~D))+P[3]+2399980690&4294967295,R=S+(k<<10&4294967295|k>>>22),k=D+(S^(R|~C))+P[10]+4293915773&4294967295,D=R+(k<<15&4294967295|k>>>17),k=C+(R^(D|~S))+P[1]+2240044497&4294967295,C=D+(k<<21&4294967295|k>>>11),k=S+(D^(C|~R))+P[8]+1873313359&4294967295,S=C+(k<<6&4294967295|k>>>26),k=R+(C^(S|~D))+P[15]+4264355552&4294967295,R=S+(k<<10&4294967295|k>>>22),k=D+(S^(R|~C))+P[6]+2734768916&4294967295,D=R+(k<<15&4294967295|k>>>17),k=C+(R^(D|~S))+P[13]+1309151649&4294967295,C=D+(k<<21&4294967295|k>>>11),k=S+(D^(C|~R))+P[4]+4149444226&4294967295,S=C+(k<<6&4294967295|k>>>26),k=R+(C^(S|~D))+P[11]+3174756917&4294967295,R=S+(k<<10&4294967295|k>>>22),k=D+(S^(R|~C))+P[2]+718787259&4294967295,D=R+(k<<15&4294967295|k>>>17),k=C+(R^(D|~S))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+R&4294967295}r.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var C=S-this.blockSize,P=this.B,D=this.h,R=0;R<S;){if(D==0)for(;R<=C;)s(this,N,R),R+=this.blockSize;if(typeof N=="string"){for(;R<S;)if(P[D++]=N.charCodeAt(R++),D==this.blockSize){s(this,P),D=0;break}}else for(;R<S;)if(P[D++]=N[R++],D==this.blockSize){s(this,P),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var C=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=C&255,C/=256;for(this.u(N),N=Array(16),S=C=0;4>S;++S)for(var P=0;32>P;P+=8)N[C++]=this.g[S]>>>P&255;return N};function i(N,S){var C=a;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function o(N,S){this.h=S;for(var C=[],P=!0,D=N.length-1;0<=D;D--){var R=N[D]|0;P&&R==S||(C[D]=R,P=!1)}this.g=C}var a={};function c(N){return-128<=N&&128>N?i(N,function(S){return new o([S|0],0>S?-1:0)}):new o([N|0],0>N?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return f;if(0>N)return _(d(-N));for(var S=[],C=1,P=0;N>=C;P++)S[P]=N/C|0,C*=4294967296;return new o(S,0)}function h(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return _(h(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(S,8)),P=f,D=0;D<N.length;D+=8){var R=Math.min(8,N.length-D),k=parseInt(N.substring(D,D+R),S);8>R?(R=d(Math.pow(S,R)),P=P.j(R).add(d(k))):(P=P.j(C),P=P.add(d(k)))}return P}var f=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(v(this))return-_(this).m();for(var N=0,S=1,C=0;C<this.g.length;C++){var P=this.i(C);N+=(0<=P?P:4294967296+P)*S,S*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(v(this))return"-"+_(this).toString(N);for(var S=d(Math.pow(N,6)),C=this,P="";;){var D=A(C,S).g;C=E(C,D.j(S));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=D,T(C))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function v(N){return N.h==-1}t.l=function(N){return N=E(this,N),v(N)?-1:T(N)?0:1};function _(N){for(var S=N.g.length,C=[],P=0;P<S;P++)C[P]=~N.g[P];return new o(C,~N.h).add(m)}t.abs=function(){return v(this)?_(this):this},t.add=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],P=0,D=0;D<=S;D++){var R=P+(this.i(D)&65535)+(N.i(D)&65535),k=(R>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);P=k>>>16,R&=65535,k&=65535,C[D]=k<<16|R}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(N,S){return N.add(_(S))}t.j=function(N){if(T(this)||T(N))return f;if(v(this))return v(N)?_(this).j(_(N)):_(_(this).j(N));if(v(N))return _(this.j(_(N)));if(0>this.l(y)&&0>N.l(y))return d(this.m()*N.m());for(var S=this.g.length+N.g.length,C=[],P=0;P<2*S;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<N.g.length;D++){var R=this.i(P)>>>16,k=this.i(P)&65535,B=N.i(D)>>>16,se=N.i(D)&65535;C[2*P+2*D]+=k*se,w(C,2*P+2*D),C[2*P+2*D+1]+=R*se,w(C,2*P+2*D+1),C[2*P+2*D+1]+=k*B,w(C,2*P+2*D+1),C[2*P+2*D+2]+=R*B,w(C,2*P+2*D+2)}for(P=0;P<S;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=S;P<2*S;P++)C[P]=0;return new o(C,0)};function w(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function x(N,S){this.g=N,this.h=S}function A(N,S){if(T(S))throw Error("division by zero");if(T(N))return new x(f,f);if(v(N))return S=A(_(N),S),new x(_(S.g),_(S.h));if(v(S))return S=A(N,_(S)),new x(_(S.g),S.h);if(30<N.g.length){if(v(N)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var C=m,P=S;0>=P.l(N);)C=j(C),P=j(P);var D=O(C,1),R=O(P,1);for(P=O(P,2),C=O(C,2);!T(P);){var k=R.add(P);0>=k.l(N)&&(D=D.add(C),R=k),P=O(P,1),C=O(C,1)}return S=E(N,D.j(S)),new x(D,S)}for(D=f;0<=N.l(S);){for(C=Math.max(1,Math.floor(N.m()/S.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=d(C),k=R.j(S);v(k)||0<k.l(N);)C-=P,R=d(C),k=R.j(S);T(R)&&(R=m),D=D.add(R),N=E(N,k)}return new x(D,N)}t.A=function(N){return A(this,N).h},t.and=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)&N.i(P);return new o(C,this.h&N.h)},t.or=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)|N.i(P);return new o(C,this.h|N.h)},t.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)^N.i(P);return new o(C,this.h^N.h)};function j(N){for(var S=N.g.length+1,C=[],P=0;P<S;P++)C[P]=N.i(P)<<1|N.i(P-1)>>>31;return new o(C,N.h)}function O(N,S){var C=S>>5;S%=32;for(var P=N.g.length-C,D=[],R=0;R<P;R++)D[R]=0<S?N.i(R+C)>>>S|N.i(R+C+1)<<32-S:N.i(R+C);return new o(D,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Di=o}).apply(typeof P1<"u"?P1:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QI,ac,YI,th,sy,XI,JI,ZI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,b){return u==Array.prototype||u==Object.prototype||(u[g]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var g=0;g<u.length;++g){var b=u[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var b=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var F=u[I];if(!(F in b))break e;b=b[F]}u=u[u.length-1],I=b[u],g=g(I),g!=I&&g!=null&&e(b,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var b=0,I=!1,F={next:function(){if(!I&&b<u.length){var $=b++;return{value:g($,u[$]),done:!1}}return I=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function d(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,b){return u.call.apply(u.bind,arguments)}function f(u,g,b){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,I),u.apply(g,F)}}return function(){return u.apply(g,arguments)}}function m(u,g,b){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(u,g){var b=Array.prototype.slice.call(arguments,1);return function(){var I=b.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function T(u,g){function b(){}b.prototype=g.prototype,u.aa=g.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(I,F,$){for(var ee=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ee[Ye-2]=arguments[Ye];return g.prototype[F].apply(I,ee)}}function v(u){const g=u.length;if(0<g){const b=Array(g);for(let I=0;I<g;I++)b[I]=u[I];return b}return[]}function _(u,g){for(let b=1;b<arguments.length;b++){const I=arguments[b];if(c(I)){const F=u.length||0,$=I.length||0;u.length=F+$;for(let ee=0;ee<$;ee++)u[F+ee]=I[ee]}else u.push(I)}}class E{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var j=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function O(u,g,b){for(const I in u)g.call(b,u[I],I,u)}function N(u,g){for(const b in u)g.call(void 0,u[b],b,u)}function S(u){const g={};for(const b in u)g[b]=u[b];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,g){let b,I;for(let F=1;F<arguments.length;F++){I=arguments[F];for(b in I)u[b]=I[b];for(let $=0;$<C.length;$++)b=C[$],Object.prototype.hasOwnProperty.call(I,b)&&(u[b]=I[b])}}function D(u){var g=1;u=u.split(":");const b=[];for(;0<g&&u.length;)b.push(u.shift()),g--;return u.length&&b.push(u.join(":")),b}function R(u){a.setTimeout(()=>{throw u},0)}function k(){var u=V;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class B{constructor(){this.h=this.g=null}add(g,b){const I=se.get();I.set(g,b),this.h?this.h.next=I:this.g=I,this.h=I}}var se=new E(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,U=!1,V=new B,Y=()=>{const u=a.Promise.resolve(void 0);ae=()=>{u.then(he)}};var he=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(b){R(b)}var g=se;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}U=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,g),a.removeEventListener("test",b,g)}catch{}return u}();function Ne(u,g){if(de.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(j){e:{try{A(g.nodeName);var F=!0;break e}catch{}F=!1}F||(g=null)}}else b=="mouseover"?g=u.fromElement:b=="mouseout"&&(g=u.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ne.aa.h.call(this)}}T(Ne,de);var Ve={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Ie(u,g,b,I,F){this.listener=u,this.proxy=null,this.src=g,this.type=b,this.capture=!!I,this.ha=F,this.key=++ke,this.da=this.fa=!1}function be(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ce(u){this.src=u,this.g={},this.h=0}Ce.prototype.add=function(u,g,b,I,F){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ee=et(u,g,I,F);return-1<ee?(g=u[ee],b||(g.fa=!1)):(g=new Ie(g,this.src,$,!!I,F),g.fa=b,u.push(g)),g};function ve(u,g){var b=g.type;if(b in u.g){var I=u.g[b],F=Array.prototype.indexOf.call(I,g,void 0),$;($=0<=F)&&Array.prototype.splice.call(I,F,1),$&&(be(g),u.g[b].length==0&&(delete u.g[b],u.h--))}}function et(u,g,b,I){for(var F=0;F<u.length;++F){var $=u[F];if(!$.da&&$.listener==g&&$.capture==!!b&&$.ha==I)return F}return-1}var Et="closure_lm_"+(1e6*Math.random()|0),Dt={};function ln(u,g,b,I,F){if(Array.isArray(g)){for(var $=0;$<g.length;$++)ln(u,g[$],b,I,F);return null}return b=jr(b),u&&u[K]?u.K(g,b,d(I)?!!I.capture:!!I,F):yn(u,g,b,!1,I,F)}function yn(u,g,b,I,F,$){if(!g)throw Error("Invalid event type");var ee=d(F)?!!F.capture:!!F,Ye=bt(u);if(Ye||(u[Et]=Ye=new Ce(u)),b=Ye.add(g,b,I,ee,$),b.proxy)return b;if(I=qt(),b.proxy=I,I.src=u,I.listener=b,u.addEventListener)ye||(F=ee),F===void 0&&(F=!1),u.addEventListener(g.toString(),I,F);else if(u.attachEvent)u.attachEvent(Wn(g.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return b}function qt(){function u(b){return g.call(u.src,u.listener,b)}const g=sr;return u}function An(u,g,b,I,F){if(Array.isArray(g))for(var $=0;$<g.length;$++)An(u,g[$],b,I,F);else I=d(I)?!!I.capture:!!I,b=jr(b),u&&u[K]?(u=u.i,g=String(g).toString(),g in u.g&&($=u.g[g],b=et($,b,I,F),-1<b&&(be($[b]),Array.prototype.splice.call($,b,1),$.length==0&&(delete u.g[g],u.h--)))):u&&(u=bt(u))&&(g=u.g[g.toString()],u=-1,g&&(u=et(g,b,I,F)),(b=-1<u?g[u]:null)&&zn(b))}function zn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[K])ve(g.i,u);else{var b=u.type,I=u.proxy;g.removeEventListener?g.removeEventListener(b,I,u.capture):g.detachEvent?g.detachEvent(Wn(b),I):g.addListener&&g.removeListener&&g.removeListener(I),(b=bt(g))?(ve(b,u),b.h==0&&(b.src=null,g[Et]=null)):be(u)}}}function Wn(u){return u in Dt?Dt[u]:Dt[u]="on"+u}function sr(u,g){if(u.da)u=!0;else{g=new Ne(g,this);var b=u.listener,I=u.ha||u.src;u.fa&&zn(u),u=b.call(I,g)}return u}function bt(u){return u=u[Et],u instanceof Ce?u:null}var Hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function jr(u){return typeof u=="function"?u:(u[Hn]||(u[Hn]=function(g){return u.handleEvent(g)}),u[Hn])}function Fe(){te.call(this),this.i=new Ce(this),this.M=this,this.F=null}T(Fe,te),Fe.prototype[K]=!0,Fe.prototype.removeEventListener=function(u,g,b,I){An(this,u,g,b,I)};function Be(u,g){var b,I=u.F;if(I)for(b=[];I;I=I.F)b.push(I);if(u=u.M,I=g.type||g,typeof g=="string")g=new de(g,u);else if(g instanceof de)g.target=g.target||u;else{var F=g;g=new de(I,u),P(g,F)}if(F=!0,b)for(var $=b.length-1;0<=$;$--){var ee=g.g=b[$];F=cn(ee,I,!0,g)&&F}if(ee=g.g=u,F=cn(ee,I,!0,g)&&F,F=cn(ee,I,!1,g)&&F,b)for($=0;$<b.length;$++)ee=g.g=b[$],F=cn(ee,I,!1,g)&&F}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var b=u.g[g],I=0;I<b.length;I++)be(b[I]);delete u.g[g],u.h--}}this.F=null},Fe.prototype.K=function(u,g,b,I){return this.i.add(String(u),g,!1,b,I)},Fe.prototype.L=function(u,g,b,I){return this.i.add(String(u),g,!0,b,I)};function cn(u,g,b,I){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var F=!0,$=0;$<g.length;++$){var ee=g[$];if(ee&&!ee.da&&ee.capture==b){var Ye=ee.listener,Mt=ee.ha||ee.src;ee.fa&&ve(u.i,ee),F=Ye.call(Mt,I)!==!1&&F}}return F&&!I.defaultPrevented}function ds(u,g,b){if(typeof u=="function")b&&(u=m(u,b));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function ir(u){u.g=ds(()=>{u.g=null,u.i&&(u.i=!1,ir(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class so extends te{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ir(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qn(u){te.call(this),this.h=u,this.g={}}T(qn,te);var Dr=[];function Pn(u){O(u.g,function(g,b){this.g.hasOwnProperty(b)&&zn(g)},u),u.g={}}qn.prototype.N=function(){qn.aa.N.call(this),Pn(this)},qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Or=a.JSON.stringify,Gn=a.JSON.parse,hs=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function or(){}or.prototype.h=null;function L(u){return u.h||(u.h=u.i())}function ie(){}var M={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function G(){de.call(this,"d")}T(G,de);function ne(){de.call(this,"c")}T(ne,de);var pe={},q=null;function oe(){return q=q||new Fe}pe.La="serverreachability";function ce(u){de.call(this,pe.La,u)}T(ce,de);function me(u){const g=oe();Be(g,new ce(g))}pe.STAT_EVENT="statevent";function Ue(u,g){de.call(this,pe.STAT_EVENT,u),this.stat=g}T(Ue,de);function at(u){const g=oe();Be(g,new Ue(g,u))}pe.Ma="timingevent";function Mr(u,g){de.call(this,pe.Ma,u),this.size=g}T(Mr,de);function Ot(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function b2(u,g,b,I,F,$){u.info(function(){if(u.g)if($)for(var ee="",Ye=$.split("&"),Mt=0;Mt<Ye.length;Mt++){var We=Ye[Mt].split("=");if(1<We.length){var Gt=We[0];We=We[1];var Kt=Gt.split("_");ee=2<=Kt.length&&Kt[1]=="type"?ee+(Gt+"="+We+"&"):ee+(Gt+"=redacted&")}}else ee=null;else ee=$;return"XMLHTTP REQ ("+I+") [attempt "+F+"]: "+g+`
`+b+`
`+ee})}function T2(u,g,b,I,F,$,ee){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+F+"]: "+g+`
`+b+`
`+$+" "+ee})}function sa(u,g,b,I){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+N2(u,b)+(I?" "+I:"")})}function S2(u,g){u.info(function(){return"TIMEOUT: "+g})}vn.prototype.info=function(){};function N2(u,g){if(!u.g)return g;if(!g)return null;try{var b=JSON.parse(g);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var I=b[u];if(!(2>I.length)){var F=I[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var ee=1;ee<F.length;ee++)F[ee]=""}}}}return Or(b)}catch{return g}}var zu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cp;function Wu(){}T(Wu,or),Wu.prototype.g=function(){return new XMLHttpRequest},Wu.prototype.i=function(){return{}},Cp=new Wu;function Qs(u,g,b,I){this.j=u,this.i=g,this.l=b,this.R=I||1,this.U=new qn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xx}function xx(){this.i=null,this.g="",this.h=!1}var wx={},Ap={};function Pp(u,g,b){u.L=1,u.v=Ku(fs(g)),u.m=b,u.P=!0,_x(u,null)}function _x(u,g){u.F=Date.now(),Hu(u),u.A=fs(u.v);var b=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Ox(b.i,"t",I),u.C=0,b=u.j.J,u.h=new xx,u.g=Zx(u.j,b?g:null,!u.m),0<u.O&&(u.M=new so(m(u.Y,u,u.g),u.O)),g=u.U,b=u.g,I=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(Dr[0]=F.toString()),F=Dr);for(var $=0;$<F.length;$++){var ee=ln(b,F[$],I||g.handleEvent,!1,g.h||g);if(!ee)break;g.g[ee.key]=ee}g=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),me(),b2(u.i,u.u,u.A,u.l,u.R,u.m)}Qs.prototype.ca=function(u){u=u.target;const g=this.M;g&&ps(u)==3?g.j():this.Y(u)},Qs.prototype.Y=function(u){try{if(u==this.g)e:{const Kt=ps(this.g);var g=this.g.Ba();const aa=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Bx(this.g)))){this.J||Kt!=4||g==7||(g==8||0>=aa?me(3):me(2)),Rp(this);var b=this.g.Z();this.X=b;t:if(Ex(this)){var I=Bx(this.g);u="";var F=I.length,$=ps(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){io(this),Ll(this);var ee="";break t}this.h.i=new a.TextDecoder}for(g=0;g<F;g++)this.h.h=!0,u+=this.h.i.decode(I[g],{stream:!($&&g==F-1)});I.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=b==200,T2(this.i,this.u,this.A,this.l,this.R,Kt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Mt=this.g;if((Ye=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ye)){var We=Ye;break t}}We=null}if(b=We)sa(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kp(this,b);else{this.o=!1,this.s=3,at(12),io(this),Ll(this);break e}}if(this.P){b=!0;let ar;for(;!this.J&&this.C<ee.length;)if(ar=I2(this,ee),ar==Ap){Kt==4&&(this.s=4,at(14),b=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==wx){this.s=4,at(15),sa(this.i,this.l,ee,"[Invalid Chunk]"),b=!1;break}else sa(this.i,this.l,ar,null),kp(this,ar);if(Ex(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ee.length!=0||this.h.h||(this.s=1,at(16),b=!1),this.o=this.o&&b,!b)sa(this.i,this.l,ee,"[Invalid Chunked Response]"),io(this),Ll(this);else if(0<ee.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Vp(Gt),Gt.M=!0,at(11))}}else sa(this.i,this.l,ee,null),kp(this,ee);Kt==4&&io(this),this.o&&!this.J&&(Kt==4?Qx(this.j,this):(this.o=!1,Hu(this)))}else W2(this.g),b==400&&0<ee.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),io(this),Ll(this)}}}catch{}finally{}};function Ex(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function I2(u,g){var b=u.C,I=g.indexOf(`
`,b);return I==-1?Ap:(b=Number(g.substring(b,I)),isNaN(b)?wx:(I+=1,I+b>g.length?Ap:(g=g.slice(I,I+b),u.C=I+b,g)))}Qs.prototype.cancel=function(){this.J=!0,io(this)};function Hu(u){u.S=Date.now()+u.I,bx(u,u.I)}function bx(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ot(m(u.ba,u),g)}function Rp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Qs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(S2(this.i,this.A),this.L!=2&&(me(),at(17)),io(this),this.s=2,Ll(this)):bx(this,this.S-u)};function Ll(u){u.j.G==0||u.J||Qx(u.j,u)}function io(u){Rp(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Pn(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function kp(u,g){try{var b=u.j;if(b.G!=0&&(b.g==u||jp(b.h,u))){if(!u.K&&jp(b.h,u)&&b.G==3){try{var I=b.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var F=I;if(F[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)ed(b),Ju(b);else break e;Lp(b),at(18)}}else b.za=F[1],0<b.za-b.T&&37500>F[2]&&b.F&&b.v==0&&!b.C&&(b.C=Ot(m(b.Za,b),6e3));if(1>=Nx(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ao(b,11)}else if((u.K||b.g==u)&&ed(b),!w(g))for(F=b.Da.g.parse(g),g=0;g<F.length;g++){let We=F[g];if(b.T=We[0],We=We[1],b.G==2)if(We[0]=="c"){b.K=We[1],b.ia=We[2];const Gt=We[3];Gt!=null&&(b.la=Gt,b.j.info("VER="+b.la));const Kt=We[4];Kt!=null&&(b.Aa=Kt,b.j.info("SVER="+b.Aa));const aa=We[5];aa!=null&&typeof aa=="number"&&0<aa&&(I=1.5*aa,b.L=I,b.j.info("backChannelRequestTimeoutMs_="+I)),I=b;const ar=u.g;if(ar){const nd=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nd){var $=I.h;$.g||nd.indexOf("spdy")==-1&&nd.indexOf("quic")==-1&&nd.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Dp($,$.h),$.h=null))}if(I.D){const Fp=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Fp&&(I.ya=Fp,tt(I.I,I.D,Fp))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),I=b;var ee=u;if(I.qa=Jx(I,I.J?I.ia:null,I.W),ee.K){Ix(I.h,ee);var Ye=ee,Mt=I.L;Mt&&(Ye.I=Mt),Ye.B&&(Rp(Ye),Hu(Ye)),I.g=ee}else Gx(I);0<b.i.length&&Zu(b)}else We[0]!="stop"&&We[0]!="close"||ao(b,7);else b.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?ao(b,7):Mp(b):We[0]!="noop"&&b.l&&b.l.ta(We),b.v=0)}}me(4)}catch{}}var C2=class{constructor(u,g){this.g=u,this.map=g}};function Tx(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sx(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Nx(u){return u.h?1:u.g?u.g.size:0}function jp(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Dp(u,g){u.g?u.g.add(g):u.h=g}function Ix(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Tx.prototype.cancel=function(){if(this.i=Cx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Cx(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const b of u.g.values())g=g.concat(b.D);return g}return v(u.i)}function A2(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var g=[],b=u.length,I=0;I<b;I++)g.push(u[I]);return g}g=[],b=0;for(I in u)g[b++]=u[I];return g}function P2(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var g=[];u=u.length;for(var b=0;b<u;b++)g.push(b);return g}g=[],b=0;for(const I in u)g[b++]=I;return g}}}function Ax(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var b=P2(u),I=A2(u),F=I.length,$=0;$<F;$++)g.call(void 0,I[$],b&&b[$],u)}var Px=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function R2(u,g){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var I=u[b].indexOf("="),F=null;if(0<=I){var $=u[b].substring(0,I);F=u[b].substring(I+1)}else $=u[b];g($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function oo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof oo){this.h=u.h,qu(this,u.j),this.o=u.o,this.g=u.g,Gu(this,u.s),this.l=u.l;var g=u.i,b=new Ul;b.i=g.i,g.g&&(b.g=new Map(g.g),b.h=g.h),Rx(this,b),this.m=u.m}else u&&(g=String(u).match(Px))?(this.h=!1,qu(this,g[1]||"",!0),this.o=Vl(g[2]||""),this.g=Vl(g[3]||"",!0),Gu(this,g[4]),this.l=Vl(g[5]||"",!0),Rx(this,g[6]||"",!0),this.m=Vl(g[7]||"")):(this.h=!1,this.i=new Ul(null,this.h))}oo.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Fl(g,kx,!0),":");var b=this.g;return(b||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Fl(g,kx,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Fl(b,b.charAt(0)=="/"?D2:j2,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Fl(b,M2)),u.join("")};function fs(u){return new oo(u)}function qu(u,g,b){u.j=b?Vl(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Gu(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Rx(u,g,b){g instanceof Ul?(u.i=g,L2(u.i,u.h)):(b||(g=Fl(g,O2)),u.i=new Ul(g,u.h))}function tt(u,g,b){u.i.set(g,b)}function Ku(u){return tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Vl(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fl(u,g,b){return typeof u=="string"?(u=encodeURI(u).replace(g,k2),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function k2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var kx=/[#\/\?@]/g,j2=/[#\?:]/g,D2=/[#\?]/g,O2=/[#\?@]/g,M2=/#/g;function Ul(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ys(u){u.g||(u.g=new Map,u.h=0,u.i&&R2(u.i,function(g,b){u.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}t=Ul.prototype,t.add=function(u,g){Ys(this),this.i=null,u=ia(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(g),this.h+=1,this};function jx(u,g){Ys(u),g=ia(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Dx(u,g){return Ys(u),g=ia(u,g),u.g.has(g)}t.forEach=function(u,g){Ys(this),this.g.forEach(function(b,I){b.forEach(function(F){u.call(g,F,I,this)},this)},this)},t.na=function(){Ys(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),b=[];for(let I=0;I<g.length;I++){const F=u[I];for(let $=0;$<F.length;$++)b.push(g[I])}return b},t.V=function(u){Ys(this);let g=[];if(typeof u=="string")Dx(this,u)&&(g=g.concat(this.g.get(ia(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)g=g.concat(u[b])}return g},t.set=function(u,g){return Ys(this),this.i=null,u=ia(this,u),Dx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Ox(u,g,b){jx(u,g),0<b.length&&(u.i=null,u.g.set(ia(u,g),v(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var b=0;b<g.length;b++){var I=g[b];const $=encodeURIComponent(String(I)),ee=this.V(I);for(I=0;I<ee.length;I++){var F=$;ee[I]!==""&&(F+="="+encodeURIComponent(String(ee[I]))),u.push(F)}}return this.i=u.join("&")};function ia(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function L2(u,g){g&&!u.j&&(Ys(u),u.i=null,u.g.forEach(function(b,I){var F=I.toLowerCase();I!=F&&(jx(this,I),Ox(this,F,b))},u)),u.j=g}function V2(u,g){const b=new vn;if(a.Image){const I=new Image;I.onload=y(Xs,b,"TestLoadImage: loaded",!0,g,I),I.onerror=y(Xs,b,"TestLoadImage: error",!1,g,I),I.onabort=y(Xs,b,"TestLoadImage: abort",!1,g,I),I.ontimeout=y(Xs,b,"TestLoadImage: timeout",!1,g,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else g(!1)}function F2(u,g){const b=new vn,I=new AbortController,F=setTimeout(()=>{I.abort(),Xs(b,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:I.signal}).then($=>{clearTimeout(F),$.ok?Xs(b,"TestPingServer: ok",!0,g):Xs(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(F),Xs(b,"TestPingServer: error",!1,g)})}function Xs(u,g,b,I,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),I(b)}catch{}}function U2(){this.g=new hs}function $2(u,g,b){const I=b||"";try{Ax(u,function(F,$){let ee=F;d(F)&&(ee=Or(F)),g.push(I+$+"="+encodeURIComponent(ee))})}catch(F){throw g.push(I+"type="+encodeURIComponent("_badmap")),F}}function Qu(u){this.l=u.Ub||null,this.j=u.eb||!1}T(Qu,or),Qu.prototype.g=function(){return new Yu(this.l,this.j)},Qu.prototype.i=function(u){return function(){return u}}({});function Yu(u,g){Fe.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Yu,Fe),t=Yu.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Bl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$l(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bl(this)),this.g&&(this.readyState=3,Bl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mx(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mx(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?$l(this):Bl(this),this.readyState==3&&Mx(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,$l(this))},t.Qa=function(u){this.g&&(this.response=u,$l(this))},t.ga=function(){this.g&&$l(this)};function $l(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Bl(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=g.next();return u.join(`\r
`)};function Bl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Lx(u){let g="";return O(u,function(b,I){g+=I,g+=":",g+=b,g+=`\r
`}),g}function Op(u,g,b){e:{for(I in b){var I=!1;break e}I=!0}I||(b=Lx(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):tt(u,g,b))}function ft(u){Fe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(ft,Fe);var B2=/^https?$/i,z2=["POST","PUT"];t=ft.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,b,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cp.g(),this.v=this.o?L(this.o):L(Cp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch($){Vx(this,$);return}if(u=b||"",b=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var F in I)b.set(F,I[F]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const $ of I.keys())b.set($,I.get($));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),F=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(z2,g,void 0))||I||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ee]of b)this.g.setRequestHeader($,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$x(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Vx(this,$)}};function Vx(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Fx(u),Xu(u)}function Fx(u){u.A||(u.A=!0,Be(u,"complete"),Be(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Be(this,"complete"),Be(this,"abort"),Xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xu(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ux(this):this.bb())},t.bb=function(){Ux(this)};function Ux(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ps(u)!=4||u.Z()!=2)){if(u.u&&ps(u)==4)ds(u.Ea,0,u);else if(Be(u,"readystatechange"),ps(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var I;if(I=ee===0){var F=String(u.D).match(Px)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),I=!B2.test(F?F.toLowerCase():"")}b=I}if(b)Be(u,"complete"),Be(u,"success");else{u.m=6;try{var $=2<ps(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Fx(u)}}finally{Xu(u)}}}}function Xu(u,g){if(u.g){$x(u);const b=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Be(u,"ready");try{b.onreadystatechange=I}catch{}}}function $x(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ps(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ps(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Gn(g)}};function Bx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function W2(u){const g={};u=(u.g&&2<=ps(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(w(u[I]))continue;var b=D(u[I]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=g[F]||[];g[F]=$,$.push(b)}N(g,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zl(u,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||g}function zx(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zl("baseRetryDelayMs",5e3,u),this.cb=zl("retryDelaySeedMs",1e4,u),this.Wa=zl("forwardChannelMaxRetries",2,u),this.wa=zl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Tx(u&&u.concurrentRequestLimit),this.Da=new U2,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zx.prototype,t.la=8,t.G=1,t.connect=function(u,g,b,I){at(0),this.W=u,this.H=g||{},b&&I!==void 0&&(this.H.OSID=b,this.H.OAID=I),this.F=this.X,this.I=Jx(this,null,this.W),Zu(this)};function Mp(u){if(Wx(u),u.G==3){var g=u.U++,b=fs(u.I);if(tt(b,"SID",u.K),tt(b,"RID",g),tt(b,"TYPE","terminate"),Wl(u,b),g=new Qs(u,u.j,g),g.L=2,g.v=Ku(fs(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=g.v,b=!0),b||(g.g=Zx(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Hu(g)}Xx(u)}function Ju(u){u.g&&(Vp(u),u.g.cancel(),u.g=null)}function Wx(u){Ju(u),u.u&&(a.clearTimeout(u.u),u.u=null),ed(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Zu(u){if(!Sx(u.h)&&!u.s){u.s=!0;var g=u.Ga;ae||Y(),U||(ae(),U=!0),V.add(g,u),u.B=0}}function H2(u,g){return Nx(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ot(m(u.Ga,u,g),Yx(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Qs(this,this.j,u);let $=this.o;if(this.S&&($?($=S($),P($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var I=this.i[b];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=qx(this,F,g),b=fs(this.I),tt(b,"RID",u),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Wl(this,b),$&&(this.O?g="headers="+encodeURIComponent(String(Lx($)))+"&"+g:this.m&&Op(b,this.m,$)),Dp(this.h,F),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",g),tt(b,"SID","null"),F.T=!0,Pp(F,b,null)):Pp(F,b,g),this.G=2}}else this.G==3&&(u?Hx(this,u):this.i.length==0||Sx(this.h)||Hx(this))};function Hx(u,g){var b;g?b=g.l:b=u.U++;const I=fs(u.I);tt(I,"SID",u.K),tt(I,"RID",b),tt(I,"AID",u.T),Wl(u,I),u.m&&u.o&&Op(I,u.m,u.o),b=new Qs(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),g&&(u.i=g.D.concat(u.i)),g=qx(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Dp(u.h,b),Pp(b,I,g)}function Wl(u,g){u.H&&O(u.H,function(b,I){tt(g,I,b)}),u.l&&Ax({},function(b,I){tt(g,I,b)})}function qx(u,g,b){b=Math.min(u.i.length,b);var I=u.l?m(u.l.Na,u.l,u):null;e:{var F=u.i;let $=-1;for(;;){const ee=["count="+b];$==-1?0<b?($=F[0].g,ee.push("ofs="+$)):$=0:ee.push("ofs="+$);let Ye=!0;for(let Mt=0;Mt<b;Mt++){let We=F[Mt].g;const Gt=F[Mt].map;if(We-=$,0>We)$=Math.max(0,F[Mt].g-100),Ye=!1;else try{$2(Gt,ee,"req"+We+"_")}catch{I&&I(Gt)}}if(Ye){I=ee.join("&");break e}}}return u=u.i.splice(0,b),g.D=u,I}function Gx(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ae||Y(),U||(ae(),U=!0),V.add(g,u),u.v=0}}function Lp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ot(m(u.Fa,u),Yx(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Kx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ot(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Ju(this),Kx(this))};function Vp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Kx(u){u.g=new Qs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=fs(u.qa);tt(g,"RID","rpc"),tt(g,"SID",u.K),tt(g,"AID",u.T),tt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&tt(g,"TO",u.ja),tt(g,"TYPE","xmlhttp"),Wl(u,g),u.m&&u.o&&Op(g,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=Ku(fs(g)),b.m=null,b.P=!0,_x(b,u)}t.Za=function(){this.C!=null&&(this.C=null,Ju(this),Lp(this),at(19))};function ed(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Qx(u,g){var b=null;if(u.g==g){ed(u),Vp(u),u.g=null;var I=2}else if(jp(u.h,g))b=g.D,Ix(u.h,g),I=1;else return;if(u.G!=0){if(g.o)if(I==1){b=g.m?g.m.length:0,g=Date.now()-g.F;var F=u.B;I=oe(),Be(I,new Mr(I,b)),Zu(u)}else Gx(u);else if(F=g.s,F==3||F==0&&0<g.X||!(I==1&&H2(u,g)||I==2&&Lp(u)))switch(b&&0<b.length&&(g=u.h,g.i=g.i.concat(b)),F){case 1:ao(u,5);break;case 4:ao(u,10);break;case 3:ao(u,6);break;default:ao(u,2)}}}function Yx(u,g){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*g}function ao(u,g){if(u.j.info("Error code "+g),g==2){var b=m(u.fb,u),I=u.Xa;const F=!I;I=new oo(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qu(I,"https"),Ku(I),F?V2(I.toString(),b):F2(I.toString(),b)}else at(2);u.G=0,u.l&&u.l.sa(g),Xx(u),Wx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Xx(u){if(u.G=0,u.ka=[],u.l){const g=Cx(u.h);(g.length!=0||u.i.length!=0)&&(_(u.ka,g),_(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function Jx(u,g,b){var I=b instanceof oo?fs(b):new oo(b);if(I.g!="")g&&(I.g=g+"."+I.g),Gu(I,I.s);else{var F=a.location;I=F.protocol,g=g?g+"."+F.hostname:F.hostname,F=+F.port;var $=new oo(null);I&&qu($,I),g&&($.g=g),F&&Gu($,F),b&&($.l=b),I=$}return b=u.D,g=u.ya,b&&g&&tt(I,b,g),tt(I,"VER",u.la),Wl(u,I),I}function Zx(u,g,b){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new ft(new Qu({eb:b})):new ft(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ew(){}t=ew.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function td(){}td.prototype.g=function(u,g){return new Rn(u,g)};function Rn(u,g){Fe.call(this),this.g=new zx(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!w(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new oa(this)}T(Rn,Fe),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){Mp(this.g)},Rn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=Or(u),u=b);g.i.push(new C2(g.Ya++,u)),g.G==3&&Zu(g)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Mp(this.g),delete this.g,Rn.aa.N.call(this)};function tw(u){G.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const b in g){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}T(tw,G);function nw(){ne.call(this),this.status=1}T(nw,ne);function oa(u){this.g=u}T(oa,ew),oa.prototype.ua=function(){Be(this.g,"a")},oa.prototype.ta=function(u){Be(this.g,new tw(u))},oa.prototype.sa=function(u){Be(this.g,new nw)},oa.prototype.ra=function(){Be(this.g,"b")},td.prototype.createWebChannel=td.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,ZI=function(){return new td},JI=function(){return oe()},XI=pe,sy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zu.NO_ERROR=0,zu.TIMEOUT=8,zu.HTTP_ERROR=6,th=zu,vx.COMPLETE="complete",YI=vx,ie.EventType=M,M.OPEN="a",M.CLOSE="b",M.ERROR="c",M.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,ac=ie,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,QI=ft}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});const R1="@firebase/firestore",k1="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new o0("@firebase/firestore");function ha(){return Bo.logLevel}function ue(t,...e){if(Bo.logLevel<=Oe.DEBUG){const n=e.map(y0);Bo.debug(`Firestore (${Rl}): ${t}`,...n)}}function Us(t,...e){if(Bo.logLevel<=Oe.ERROR){const n=e.map(y0);Bo.error(`Firestore (${Rl}): ${t}`,...n)}}function hl(t,...e){if(Bo.logLevel<=Oe.WARN){const n=e.map(y0);Bo.warn(`Firestore (${Rl}): ${t}`,...n)}}function y0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eC(t,r,n)}function eC(t,e,n){let r=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Us(r),new Error(r)}function Ge(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||eC(e,s,r)}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class nU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rU{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Rs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Rs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new tC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class sU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const r=i=>{i.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new j1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=aU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function iy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Am(s)===Am(i)?Me(s,i):Am(s)?1:-1}return Me(t.length,e.length)}const lU=55296,cU=57343;function Am(t){const e=t.charCodeAt(0);return e>=lU&&e<=cU}function fl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="__name__";class Fr{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&we(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Fr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Me(e.length,n.length)}static compareSegments(e,n){const r=Fr.isNumericId(e),s=Fr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Fr.extractNumericId(e).compare(Fr.extractNumericId(n)):iy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class Je extends Fr{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const uU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Fr{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return uU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D1}static keyField(){return new Ft([D1])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new le(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new le(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new le(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new le(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Je.fromString(e))}static fromName(e){return new ge(Je.fromString(e).popFirst(5))}static empty(){return new ge(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e,n){if(!n)throw new le(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dU(t,e,n,r){if(e===!0&&r===!0)throw new le(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function O1(t){if(!ge.isDocumentKey(t))throw new le(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function M1(t){if(ge.isDocumentKey(t))throw new le(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function Nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qf(t);throw new le(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t,e){const n={typeString:t};return e&&(n.value=e),n}function Du(t,e){if(!rC(t))throw new le(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new le(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=-62135596800,V1=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*V1);return new Xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<L1)throw new le(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V1}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Du(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:It("string",Xe._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Xe(0,0))}static max(){return new Te(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function hU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Te.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new $i(s,ge.empty(),e)}function fU(t){return new $i(t.readTime,t.key,iu)}class $i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $i(Te.min(),ge.empty(),iu)}static max(){return new $i(Te.max(),ge.empty(),iu)}}function pU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==mU)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function yU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=-1;function Kf(t){return t==null}function Kh(t){return t===0&&1/t==-1/0}function vU(t){return typeof t=="number"&&Number.isInteger(t)&&!Kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="";function xU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=F1(e)),e=wU(t.get(n),e);return F1(e)}function wU(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case sC:n+="";break;default:n+=i}}return n}function F1(t){return t+sC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cd(this.root,e,this.comparator,!0)}}class Cd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=s??Vt.EMPTY,this.right=i??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Vt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $1(this.data.getIterator())}getIteratorFrom(e){return new $1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class $1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Pt(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new oC("Invalid base64 string: "+i):i}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const _U=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(Ge(!!t,39018),typeof t=="string"){let e=0;const n=_U.exec(t);if(Ge(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="server_timestamp",lC="__type__",cC="__previous_value__",uC="__local_write_time__";function w0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[lC])==null?void 0:r.stringValue)===aC}function Qf(t){const e=t.mapValue.fields[cC];return w0(e)?Qf(e):e}function ou(t){const e=Bi(t.mapValue.fields[uC].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n,r,s,i,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Qh="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||Qh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="__type__",hC="__max__",Ad={mapValue:{fields:{__type__:{stringValue:hC}}}},fC="__vector__",Yh="value";function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?w0(t)?4:TU(t)?9007199254740991:bU(t)?10:11:we(28295,{value:t})}function ls(t,e){if(t===e)return!0;const n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ou(t).isEqual(ou(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Bi(s.timestampValue),a=Bi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return zi(s.bytesValue).isEqual(zi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return gt(s.geoPointValue.latitude)===gt(i.geoPointValue.latitude)&&gt(s.geoPointValue.longitude)===gt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return gt(s.integerValue)===gt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=gt(s.doubleValue),a=gt(i.doubleValue);return o===a?Kh(o)===Kh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(U1(o)!==U1(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ls(o[c],a[c])))return!1;return!0}(t,e);default:return we(52216,{left:t})}}function lu(t,e){return(t.values||[]).find(n=>ls(n,e))!==void 0}function pl(t,e){if(t===e)return 0;const n=Wi(t),r=Wi(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=gt(i.integerValue||i.doubleValue),c=gt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return B1(t.timestampValue,e.timestampValue);case 4:return B1(ou(t),ou(e));case 5:return iy(t.stringValue,e.stringValue);case 6:return function(i,o){const a=zi(i),c=zi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Me(a[d],c[d]);if(h!==0)return h}return Me(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Me(gt(i.latitude),gt(o.latitude));return a!==0?a:Me(gt(i.longitude),gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return z1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,y,T,v;const a=i.fields||{},c=o.fields||{},d=(m=a[Yh])==null?void 0:m.arrayValue,h=(y=c[Yh])==null?void 0:y.arrayValue,f=Me(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return f!==0?f:z1(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ad.mapValue&&o===Ad.mapValue)return 0;if(i===Ad.mapValue)return 1;if(o===Ad.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=iy(c[f],h[f]);if(m!==0)return m;const y=pl(a[c[f]],d[h[f]]);if(y!==0)return y}return Me(c.length,h.length)}(t.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function B1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Bi(t),r=Bi(e),s=Me(n.seconds,r.seconds);return s!==0?s:Me(n.nanos,r.nanos)}function z1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=pl(n[s],r[s]);if(i)return i}return Me(n.length,r.length)}function ml(t){return oy(t)}function oy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=oy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${oy(n.fields[o])}`;return s+"}"}(t.mapValue):we(61005,{value:t})}function nh(t){switch(Wi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qf(t);return e?16+nh(e):16;case 5:return 2*t.stringValue.length;case 6:return zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+nh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Zi(r.fields,(i,o)=>{s+=i.length+nh(o)}),s}(t.mapValue);default:throw we(13486,{value:t})}}function W1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ay(t){return!!t&&"integerValue"in t}function _0(t){return!!t&&"arrayValue"in t}function H1(t){return!!t&&"nullValue"in t}function q1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rh(t){return!!t&&"mapValue"in t}function bU(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[dC])==null?void 0:r.stringValue)===fC}function Nc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nc(t.arrayValue.values[n]);return e}return{...t}}function TU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(n)}setAll(e){let n=Ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Nc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];rh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Zi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new bn(Nc(this.value))}}function pC(t){const e=[];return Zi(t.fields,(n,r)=>{const s=new Ft([n]);if(rh(r)){const i=pC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new rn(e,0,Te.min(),Te.min(),Te.min(),bn.empty(),0)}static newFoundDocument(e,n,r,s){return new rn(e,1,n,Te.min(),r,s,0)}static newNoDocument(e,n){return new rn(e,2,n,Te.min(),Te.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Te.min(),Te.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.position=e,this.inclusive=n}}function G1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ge.comparator(ge.fromName(o.referenceValue),n.key):r=pl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function K1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function SU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{}class Nt extends mC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IU(e,n,r):n==="array-contains"?new PU(e,r):n==="in"?new RU(e,r):n==="not-in"?new kU(e,r):n==="array-contains-any"?new jU(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CU(e,r):new AU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pl(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends mC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ir(e,n)}matches(e){return gC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gC(t){return t.op==="and"}function yC(t){return NU(t)&&gC(t)}function NU(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function ly(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+ml(t.value);if(yC(t))return t.filters.map(e=>ly(e)).join(",");{const e=t.filters.map(n=>ly(n)).join(",");return`${t.op}(${e})`}}function vC(t,e){return t instanceof Nt?function(r,s){return s instanceof Nt&&r.op===s.op&&r.field.isEqual(s.field)&&ls(r.value,s.value)}(t,e):t instanceof Ir?function(r,s){return s instanceof Ir&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&vC(o,s.filters[a]),!0):!1}(t,e):void we(19439)}function xC(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`}(t):t instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map(xC).join(" ,")+"}"}(t):"Filter"}class IU extends Nt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class CU extends Nt{constructor(e,n){super(e,"in",n),this.keys=wC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AU extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=wC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class PU extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _0(n)&&lu(n.arrayValue,this.value)}}class RU extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class kU extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class jU extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Q1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new DU(t,e,n,r,s,i,o)}function E0(t){const e=Se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ly(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Kf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ml(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ml(r)).join(",")),e.Te=n}return e.Te}function b0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K1(t.startAt,e.startAt)&&K1(t.endAt,e.endAt)}function cy(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OU(t,e,n,r,s,i,o,a){return new Dl(t,e,n,r,s,i,o,a)}function T0(t){return new Dl(t)}function Y1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _C(t){return t.collectionGroup!==null}function Ic(t){const e=Se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pt(Ft.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new cu(i,r))}),n.has(Ft.keyField().canonicalString())||e.Ie.push(new cu(Ft.keyField(),r))}return e.Ie}function rs(t){const e=Se(t);return e.Ee||(e.Ee=MU(e,Ic(t))),e.Ee}function MU(t,e){if(t.limitType==="F")return Q1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new cu(s.field,i)});const n=t.endAt?new Xh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xh(t.startAt.position,t.startAt.inclusive):null;return Q1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uy(t,e){const n=t.filters.concat([e]);return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dy(t,e,n){return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yf(t,e){return b0(rs(t),rs(e))&&t.limitType===e.limitType}function EC(t){return`${E0(rs(t))}|lt:${t.limitType}`}function fa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>xC(s)).join(", ")}]`),Kf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ml(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ml(s)).join(",")),`Target(${r})`}(rs(t))}; limitType=${t.limitType})`}function Xf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ge.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ic(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=G1(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,Ic(r),s)||r.endAt&&!function(o,a,c){const d=G1(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,Ic(r),s))}(t,e)}function LU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bC(t){return(e,n)=>{let r=!1;for(const s of Ic(t)){const i=VU(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function VU(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?pl(c,d):we(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return iC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new ht(ge.comparator);function $s(){return FU}const TC=new ht(ge.comparator);function lc(...t){let e=TC;for(const n of t)e=e.insert(n.key,n);return e}function SC(t){let e=TC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function go(){return Cc()}function NC(){return Cc()}function Cc(){return new Jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const UU=new ht(ge.comparator),$U=new Pt(ge.comparator);function Le(...t){let e=$U;for(const n of t)e=e.add(n);return e}const BU=new Pt(Me);function zU(){return BU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function IC(t){return{integerValue:""+t}}function WU(t,e){return vU(e)?IC(e):S0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this._=void 0}}function HU(t,e,n){return t instanceof uu?function(s,i){const o={fields:{[lC]:{stringValue:aC},[uC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&w0(i)&&(i=Qf(i)),i&&(o.fields[cC]=i),{mapValue:o}}(n,e):t instanceof du?AC(t,e):t instanceof hu?PC(t,e):function(s,i){const o=CC(s,i),a=X1(o)+X1(s.Ae);return ay(o)&&ay(s.Ae)?IC(a):S0(s.serializer,a)}(t,e)}function qU(t,e,n){return t instanceof du?AC(t,e):t instanceof hu?PC(t,e):n}function CC(t,e){return t instanceof Jh?function(r){return ay(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class uu extends Jf{}class du extends Jf{constructor(e){super(),this.elements=e}}function AC(t,e){const n=RC(e);for(const r of t.elements)n.some(s=>ls(s,r))||n.push(r);return{arrayValue:{values:n}}}class hu extends Jf{constructor(e){super(),this.elements=e}}function PC(t,e){let n=RC(e);for(const r of t.elements)n=n.filter(s=>!ls(s,r));return{arrayValue:{values:n}}}class Jh extends Jf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function X1(t){return gt(t.integerValue||t.doubleValue)}function RC(t){return _0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n){this.field=e,this.transform=n}}function KU(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof du&&s instanceof du||r instanceof hu&&s instanceof hu?fl(r.elements,s.elements,ls):r instanceof Jh&&s instanceof Jh?ls(r.Ae,s.Ae):r instanceof uu&&s instanceof uu}(t.transform,e.transform)}class QU{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zf{}function kC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new N0(t.key,er.none()):new Ou(t.key,t.data,er.none());{const n=t.data,r=bn.empty();let s=new Pt(Ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new eo(t.key,r,new Ln(s.toArray()),er.none())}}function YU(t,e,n){t instanceof Ou?function(s,i,o){const a=s.value.clone(),c=Z1(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof eo?function(s,i,o){if(!sh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Z1(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(jC(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ac(t,e,n,r){return t instanceof Ou?function(i,o,a,c){if(!sh(i.precondition,o))return a;const d=i.value.clone(),h=eE(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof eo?function(i,o,a,c){if(!sh(i.precondition,o))return a;const d=eE(i.fieldTransforms,c,o),h=o.data;return h.setAll(jC(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return sh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function XU(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=CC(r.transform,s||null);i!=null&&(n===null&&(n=bn.empty()),n.set(r.field,i))}return n||null}function J1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&fl(r,s,(i,o)=>KU(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends Zf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class eo extends Zf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Z1(t,e,n){const r=new Map;Ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,qU(o,a,n[s]))}return r}function eE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,HU(i,o,e))}return r}class N0 extends Zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JU extends Zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&YU(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=kC(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(n,r)=>J1(n,r))&&fl(this.baseMutations,e.baseMutations,(n,r)=>J1(n,r))}}class I0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return UU}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new I0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e$=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,$e;function n$(t){switch(t){case z.OK:return we(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function DC(t){if(t===void 0)return Us("GRPC error has no .code"),z.UNKNOWN;switch(t){case Tt.OK:return z.OK;case Tt.CANCELLED:return z.CANCELLED;case Tt.UNKNOWN:return z.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return z.INTERNAL;case Tt.UNAVAILABLE:return z.UNAVAILABLE;case Tt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Tt.NOT_FOUND:return z.NOT_FOUND;case Tt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Tt.ABORTED:return z.ABORTED;case Tt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Tt.DATA_LOSS:return z.DATA_LOSS;default:return we(39323,{code:t})}}($e=Tt||(Tt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=new Di([4294967295,4294967295],0);function tE(t){const e=r$().encode(t),n=new KI;return n.update(e),new Uint8Array(n.digest())}function nE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Di([n,r],0),new Di([s,i],0)]}class C0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cc(`Invalid padding: ${n}`);if(r<0)throw new cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Di.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Di.fromNumber(r)));return s.compare(s$)===1&&(s=new Di([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tE(e),[r,s]=nE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new C0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=tE(e),[r,s]=nE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ep(Te.min(),s,new ht(Me),$s(),Le())}}class Mu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mu(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class OC{constructor(e,n){this.targetId=e,this.Ce=n}}class MC{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class rE{constructor(){this.ve=0,this.Fe=sE(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:we(38017,{changeType:i})}}),new Mu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=sE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i${constructor(e){this.Ge=e,this.ze=new Map,this.je=$s(),this.Je=Pd(),this.He=Pd(),this.Ye=new ht(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(cy(i))if(r===0){const o=new ge(i.path);this.et(n,o,rn.newNoDocument(o,Te.min()))}else Ge(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=zi(r).toUint8Array()}catch(c){if(c instanceof oC)return hl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new C0(o,s,i)}catch(c){return hl(c instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&cy(a.target)){const c=new ge(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,rn.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Le();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new ep(e,n,this.Ye,this.je,r);return this.je=$s(),this.Je=Pd(),this.He=Pd(),this.Ye=new ht(Me),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pd(){return new ht(ge.comparator)}function sE(){return new ht(ge.comparator)}const o$={asc:"ASCENDING",desc:"DESCENDING"},a$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l$={and:"AND",or:"OR"};class c${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hy(t,e){return t.useProto3Json||Kf(e)?e:{value:e}}function Zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u$(t,e){return Zh(t,e.toTimestamp())}function ss(t){return Ge(!!t,49232),Te.fromTimestamp(function(n){const r=Bi(n);return new Xe(r.seconds,r.nanos)}(t))}function A0(t,e){return fy(t,e).canonicalString()}function fy(t,e){const n=function(s){return new Je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VC(t){const e=Je.fromString(t);return Ge(zC(e),10190,{key:e.toString()}),e}function py(t,e){return A0(t.databaseId,e.path)}function Pm(t,e){const n=VC(e);if(n.get(1)!==t.databaseId.projectId)throw new le(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(UC(n))}function FC(t,e){return A0(t.databaseId,e)}function d$(t){const e=VC(t);return e.length===4?Je.emptyPath():UC(e)}function my(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UC(t){return Ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function iE(t,e,n){return{name:py(t,e),fields:n.value.mapValue.fields}}function h$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:we(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ge(h===void 0||typeof h=="string",58123),Ht.fromBase64String(h||"")):(Ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?z.UNKNOWN:DC(d.code);return new le(h,d.message||"")}(o);n=new MC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Pm(t,r.document.name),i=ss(r.document.updateTime),o=r.document.createTime?ss(r.document.createTime):Te.min(),a=new bn({mapValue:{fields:r.document.fields}}),c=rn.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new ih(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Pm(t,r.document),i=r.readTime?ss(r.readTime):Te.min(),o=rn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ih([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Pm(t,r.document),i=r.removedTargetIds||[];n=new ih([],i,s,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new t$(s,i),a=r.targetId;n=new OC(a,o)}}return n}function f$(t,e){let n;if(e instanceof Ou)n={update:iE(t,e.key,e.value)};else if(e instanceof N0)n={delete:py(t,e.key)};else if(e instanceof eo)n={update:iE(t,e.key,e.data),updateMask:E$(e.fieldMask)};else{if(!(e instanceof JU))return we(16599,{Vt:e.type});n={verify:py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof uu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof du)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw we(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:u$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:we(27497)}(t,e.precondition)),n}function p$(t,e){return t&&t.length>0?(Ge(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ss(s.updateTime):ss(i);return o.isEqual(Te.min())&&(o=ss(i)),new QU(o,s.transformResults||[])}(n,e))):[]}function m$(t,e){return{documents:[FC(t,e.path)]}}function g$(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FC(t,s);const i=function(d){if(d.length!==0)return BC(Ir.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:pa(m.field),direction:x$(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function y$(t){let e=d$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ge(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=$C(f);return m instanceof Ir&&yC(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(T){return new cu(ma(T.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Kf(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,y=f.values||[];return new Xh(y,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,y=f.values||[];return new Xh(y,m)}(n.endAt)),OU(e,s,o,i,a,"F",c,d)}function v$(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $C(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ma(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ma(n.unaryFilter.field);return Nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ma(n.unaryFilter.field);return Nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ma(n.unaryFilter.field);return Nt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(ma(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(r=>$C(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(n.compositeFilter.op))}(t):we(30097,{filter:t})}function x$(t){return o$[t]}function w$(t){return a$[t]}function _$(t){return l$[t]}function pa(t){return{fieldPath:t.canonicalString()}}function ma(t){return Ft.fromServerFormat(t.fieldPath)}function BC(t){return t instanceof Nt?function(n){if(n.op==="=="){if(q1(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NAN"}};if(H1(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q1(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NAN"}};if(H1(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(n.field),op:w$(n.op),value:n.value}}}(t):t instanceof Ir?function(n){const r=n.getFilters().map(s=>BC(s));return r.length===1?r[0]:{compositeFilter:{op:_$(n.op),filters:r}}}(t):we(54877,{filter:t})}function E$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,r,s,i=Te.min(),o=Te.min(),a=Ht.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e){this.yt=e}}function T$(t){const e=y$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(){this.Cn=new N$}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve($i.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class N${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Pt(Je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Pt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WC=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(WC,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="LruGarbageCollector",I$=1048576;function lE([t,e],[n,r]){const s=Me(t,n);return s===0?Me(e,r):s}class C${constructor(e){this.Ir=e,this.buffer=new Pt(lE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(aE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jl(n)?ue(aE,"Ignoring IndexedDB error during garbage collection: ",n):await kl(n)}await this.Vr(3e5)})}}class P${constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Gf.ce);const r=new C$(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(oE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),ha()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function R$(t,e){return new P$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(){this.changes=new Jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ac(r.mutation,s,Ln.empty(),Xe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const s=go();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=lc();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=go();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=$s();const o=Cc(),a=function(){return Cc()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof eo)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Ac(h.mutation,d,h.mutation.getFieldMask(),Xe.now())):o.set(d.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new j$(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Cc();let s=new ht((o,a)=>o-a),i=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Ln.empty();h=a.applyToLocalView(d,h),r.set(c,h);const f=(s.get(a.batchId)||Le()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=NC();h.forEach(m=>{if(!i.has(m)){const y=kC(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_C(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(go());let a=iu,c=i;return o.next(d=>H.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Le())).next(h=>({batchId:a,changes:SC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let s=lc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=lc();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,c=>{const d=function(f,m){return new Dl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,rn.newInvalidDocument(h)))});let a=lc();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Ac(h.mutation,d,Ln.empty(),Xe.now()),Xf(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ss(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:T$(s.bundledQuery),readTime:ss(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(){this.overlays=new ht(ge.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=go();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=go(),i=n.length+1,o=new ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ht((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=go(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=go(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return H.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new e$(n,r));let i=this.qr.get(n);i===void 0&&(i=Le(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this.Qr=new Pt(Rt.$r),this.Ur=new Pt(Rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Rt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ge(new Je([])),r=new Rt(n,e),s=new Rt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new Je([])),r=new Rt(n,e),s=new Rt(n,e+1);let i=Le();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Rt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Rt.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZU(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Rt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?x0:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),s=new Rt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Me);return n.forEach(s=>{const i=new Rt(s,0),o=new Rt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ge.isDocumentKey(i)||(i=i.child(""));const o=new Rt(new ge(i),0);let a=new Pt(Me);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Yr)),!0)},o),H.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,s=>{const i=new Rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Rt(n,0),s=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.ri=e,this.docs=function(){return new ht(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=$s();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():rn.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=$s();const o=n.path,a=new ge(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||pU(fU(h),r)<=0||(s.has(h.key)||Xf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){we(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new U$(this)}getSize(e){return H.resolve(this.size)}}class U$ extends k${constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.persistence=e,this.si=new Jo(n=>E0(n),b0),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new P0,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gf(0),this.li=!1,this.li=!0,this.hi=new L$,this.referenceDelegate=e(this),this.Pi=new $$(this),this.indexManager=new S$,this.remoteDocumentCache=function(s){return new F$(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new b$(n),this.Ii=new O$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new V$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const s=new B$(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class B$ extends gU{constructor(e){super(),this.currentSequenceNumber=e}}class R0{constructor(e){this.persistence=e,this.Ri=new P0,this.Vi=null}static mi(e){return new R0(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const s=ge.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ef{constructor(e,n){this.persistence=e,this.pi=new Jo(r=>xU(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=R$(this,n)}static mi(e,n){return new ef(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?H.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Te.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Le(),s=Le();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new k0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return wF()?8:yU(an())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new z$;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ha()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(ha()<=Oe.DEBUG&&ue("QueryEngine","Query:",fa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ha()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(n))):H.resolve())}ys(e,n){if(Y1(n))return H.resolve(null);let r=rs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=dy(n,null,"F"),r=rs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Le(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,dy(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return Y1(n)||s.isEqual(Te.min())?H.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?H.resolve(null):(ha()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fa(n)),this.vs(e,o,n,hU(s,iu)).next(a=>a))})}Ds(e,n){let r=new Pt(bC(e));return n.forEach((s,i)=>{Xf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ha()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",fa(n)),this.ps.getDocumentsMatchingQuery(e,n,$i.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="LocalStore",H$=3e8;class q${constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ht(Me),this.xs=new Jo(i=>E0(i),b0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D$(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function G$(t,e,n,r){return new q$(t,e,n,r)}async function qC(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Le();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function K$(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,m=f.keys();let y=H.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(c,T)).next(v=>{const _=d.docVersions.get(T);Ge(_!==null,48541),v.version.compareTo(_)<0&&(f.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Le();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function GC(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Q$(t,e){const n=Se(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Ht.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(v,_,E){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=H$?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,y,h)&&a.push(n.Pi.updateTargetData(i,y))});let c=$s(),d=Le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(Y$(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(Te.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function Y$(t,e,n){let r=Le(),s=Le();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=$s();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(Te.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ue(j0,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function X$(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=x0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function J$(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new _i(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function gy(t,e,n){const r=Se(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!jl(o))throw o;ue(j0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function cE(t,e,n){const r=Se(t);let s=Te.min(),i=Le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=Se(c),m=f.xs.get(h);return m!==void 0?H.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,rs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Te.min(),n?i:Le())).next(a=>(Z$(r,LU(e),a),{documents:a,Qs:i})))}function Z$(t,e,n){let r=t.Os.get(e)||Te.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class uE{constructor(){this.activeTargetIds=zU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e9{constructor(){this.Mo=new uE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="ConnectivityMonitor";class hE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(dE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(dE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd=null;function yy(){return Rd===null?Rd=function(){return 268435456+Math.round(2147483648*Math.random())}():Rd++,"0x"+Rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",n9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Qh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=yy(),a=this.zo(e,n.toUriEncodedString());ue(Rm,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(a),h=Xo(d);return this.Jo(e,a,c,r,h).then(f=>(ue(Rm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw hl(Rm,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=n9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class i9 extends r9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=yy();return new Promise((a,c)=>{const d=new QI;d.setWithCredentials(!0),d.listenOnce(YI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case th.NO_ERROR:const f=d.getResponseJson();ue(Jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case th.TIMEOUT:ue(Jt,`RPC '${e}' ${o} timed out`),c(new le(z.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const m=d.getStatus();if(ue(Jt,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const T=y==null?void 0:y.error;if(T&&T.status&&T.message){const v=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(T.status);c(new le(v,T.message))}else c(new le(z.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new le(z.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ue(Jt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);ue(Jt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=yy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZI(),a=JI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");ue(Jt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,y=!1;const T=new s9({Yo:_=>{y?ue(Jt,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(m||(ue(Jt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),ue(Jt,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Zo:()=>f.close()}),v=(_,E,w)=>{_.listen(E,x=>{try{w(x)}catch(A){setTimeout(()=>{throw A},0)}})};return v(f,ac.EventType.OPEN,()=>{y||(ue(Jt,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),v(f,ac.EventType.CLOSE,()=>{y||(y=!0,ue(Jt,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(f))}),v(f,ac.EventType.ERROR,_=>{y||(y=!0,hl(Jt,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),T.a_(new le(z.UNAVAILABLE,"The operation could not be completed")))}),v(f,ac.EventType.MESSAGE,_=>{var E;if(!y){const w=_.data[0];Ge(!!w,16349);const x=w,A=(x==null?void 0:x.error)||((E=x[0])==null?void 0:E.error);if(A){ue(Jt,`RPC '${e}' stream ${s} received error:`,A);const j=A.status;let O=function(C){const P=Tt[C];if(P!==void 0)return DC(P)}(j),N=A.message;O===void 0&&(O=z.INTERNAL,N="Unknown error status: "+j+" with message "+A.message),y=!0,T.a_(new le(O,N)),f.close()}else ue(Jt,`RPC '${e}' stream ${s} received:`,w),T.u_(w)}}),v(a,XI.STAT_EVENT,_=>{_.stat===sy.PROXY?ue(Jt,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===sy.NOPROXY&&ue(Jt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t){return new c$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="PersistentStream";class QC{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new le(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(fE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ue(fE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o9 extends QC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=h$(this.serializer,e),r=function(i){if(!("targetChange"in i))return Te.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Te.min():o.readTime?ss(o.readTime):Te.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=my(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=cy(c)?{documents:m$(i,c)}:{query:g$(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=LC(i,o.resumeToken);const d=hy(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Te.min())>0){a.readTime=Zh(i,o.snapshotVersion.toTimestamp());const d=hy(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=v$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=my(this.serializer),n.removeTarget=e,this.q_(n)}}class a9 extends QC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=p$(e.writeResults,e.commitTime),r=ss(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=my(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>f$(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{}class c9 extends l9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new le(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,fy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new le(z.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,fy(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class u9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="RemoteStore";class d9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Zo(this)&&(ue(zo,"Restarting streams for network reachability change."),await async function(c){const d=Se(c);d.Ea.add(4),await Lu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await np(d)}(this))})}),this.Ra=new u9(r,s)}}async function np(t){if(Zo(t))for(const e of t.da)await e(!0)}async function Lu(t){for(const e of t.da)await e(!1)}function YC(t,e){const n=Se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),L0(n)?M0(n):Ol(n).O_()&&O0(n,e))}function D0(t,e){const n=Se(t),r=Ol(n);n.Ia.delete(e),r.O_()&&XC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Zo(n)&&n.Ra.set("Unknown"))}function O0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ol(t).Y_(e)}function XC(t,e){t.Va.Ue(e),Ol(t).Z_(e)}function M0(t){t.Va=new i$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ol(t).start(),t.Ra.ua()}function L0(t){return Zo(t)&&!Ol(t).x_()&&t.Ia.size>0}function Zo(t){return Se(t).Ea.size===0}function JC(t){t.Va=void 0}async function h9(t){t.Ra.set("Online")}async function f9(t){t.Ia.forEach((e,n)=>{O0(t,e)})}async function p9(t,e){JC(t),L0(t)?(t.Ra.ha(e),M0(t)):t.Ra.set("Unknown")}async function m9(t,e,n){if(t.Ra.set("Online"),e instanceof MC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){ue(zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tf(t,r)}else if(e instanceof ih?t.Va.Ze(e):e instanceof OC?t.Va.st(e):t.Va.tt(e),!n.isEqual(Te.min()))try{const r=await GC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Ht.EMPTY_BYTE_STRING,h.snapshotVersion)),XC(i,c);const f=new _i(h.target,c,d,h.sequenceNumber);O0(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue(zo,"Failed to raise snapshot:",r),await tf(t,r)}}async function tf(t,e,n){if(!jl(e))throw e;t.Ea.add(1),await Lu(t),t.Ra.set("Offline"),n||(n=()=>GC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue(zo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await np(t)})}function ZC(t,e){return e().catch(n=>tf(t,n,e))}async function rp(t){const e=Se(t),n=Hi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:x0;for(;g9(e);)try{const s=await X$(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,y9(e,s)}catch(s){await tf(e,s)}eA(e)&&tA(e)}function g9(t){return Zo(t)&&t.Ta.length<10}function y9(t,e){t.Ta.push(e);const n=Hi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function eA(t){return Zo(t)&&!Hi(t).x_()&&t.Ta.length>0}function tA(t){Hi(t).start()}async function v9(t){Hi(t).ra()}async function x9(t){const e=Hi(t);for(const n of t.Ta)e.ea(n.mutations)}async function w9(t,e,n){const r=t.Ta.shift(),s=I0.from(r,e,n);await ZC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await rp(t)}async function _9(t,e){e&&Hi(t).X_&&await async function(r,s){if(function(o){return n$(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();Hi(r).B_(),await ZC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await rp(r)}}(t,e),eA(t)&&tA(t)}async function pE(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),ue(zo,"RemoteStore received new credentials");const r=Zo(n);n.Ea.add(3),await Lu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await np(n)}async function E9(t,e){const n=Se(t);e?(n.Ea.delete(2),await np(n)):e||(n.Ea.add(2),await Lu(n),n.Ra.set("Unknown"))}function Ol(t){return t.ma||(t.ma=function(n,r,s){const i=Se(n);return i.sa(),new o9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:h9.bind(null,t),t_:f9.bind(null,t),r_:p9.bind(null,t),H_:m9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),L0(t)?M0(t):t.Ra.set("Unknown")):(await t.ma.stop(),JC(t))})),t.ma}function Hi(t){return t.fa||(t.fa=function(n,r,s){const i=Se(n);return i.sa(),new a9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:v9.bind(null,t),r_:_9.bind(null,t),ta:x9.bind(null,t),na:w9.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await rp(t)):(await t.fa.stop(),t.Ta.length>0&&(ue(zo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new V0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F0(t,e){if(Us("AsyncQueue",`${e}: ${t}`),jl(t))return new le(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static emptySet(e){return new Ba(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=lc(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.ga=new ht(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class yl{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new yl(e,n,Ba.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class T9{constructor(){this.queries=gE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Se(n),i=s.queries;s.queries=gE(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new le(z.ABORTED,"Firestore shutting down"))}}function gE(){return new Jo(t=>EC(t),Yf)}async function nA(t,e){const n=Se(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new b9,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=F0(o,`Initialization of query '${fa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&U0(n)}async function rA(t,e){const n=Se(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S9(t,e){const n=Se(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&U0(n)}function N9(t,e,n){const r=Se(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function U0(t){t.Ca.forEach(e=>{e.next()})}var vy,yE;(yE=vy||(vy={})).Ma="default",yE.Cache="cache";class sA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.key=e}}class oA{constructor(e){this.key=e}}class I9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=bC(e),this.tu=new Ba(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new mE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=Xf(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;m&&y?m.data.isEqual(y.data)?T!==v&&(r.track({type:3,doc:y}),_=!0):this.su(m,y)||(r.track({type:2,doc:y}),_=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),_=!0):m&&!y&&(r.track({type:1,doc:m}),_=!0,(c||d)&&(a=!0)),_&&(y?(o=o.add(y),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,T){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:_})}};return v(y)-v(T)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new yl(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new oA(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new iA(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $0="SyncEngine";class C9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A9{constructor(e){this.key=e,this.hu=!1}}class P9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Jo(a=>EC(a),Yf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ge.comparator),this.Au=new Map,this.Ru=new P0,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R9(t,e,n=!0){const r=hA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await aA(r,e,n,!0),s}async function k9(t,e){const n=hA(t);await aA(n,e,!0,!1)}async function aA(t,e,n,r){const s=await J$(t.localStore,rs(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await j9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&YC(t.remoteStore,s),a}async function j9(t,e,n,r,s){t.pu=(f,m,y)=>async function(v,_,E,w){let x=_.view.ru(E);x.Cs&&(x=await cE(v.localStore,_.query,!1).then(({documents:N})=>_.view.ru(N,x)));const A=w&&w.targetChanges.get(_.targetId),j=w&&w.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(x,v.isPrimaryClient,A,j);return xE(v,_.targetId,O.au),O.snapshot}(t,f,m,y);const i=await cE(t.localStore,e,!0),o=new I9(e,i.Qs),a=o.ru(i.documents),c=Mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);xE(t,n,d.au);const h=new C9(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function D9(t,e,n){const r=Se(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Yf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&D0(r.remoteStore,s.targetId),xy(r,s.targetId)}).catch(kl)):(xy(r,s.targetId),await gy(r.localStore,s.targetId,!0))}async function O9(t,e){const n=Se(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),D0(n.remoteStore,r.targetId))}async function M9(t,e,n){const r=z9(t);try{const s=await function(o,a){const c=Se(o),d=Xe.now(),h=a.reduce((y,T)=>y.add(T.key),Le());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=$s(),v=Le();return c.Ns.getEntries(y,h).next(_=>{T=_,T.forEach((E,w)=>{w.isValidDocument()||(v=v.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,T)).next(_=>{f=_;const E=[];for(const w of a){const x=XU(w,f.get(w.key).overlayedDocument);x!=null&&E.push(new eo(w.key,x,pC(x.value.mapValue),er.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,E,a)}).next(_=>{m=_;const E=_.applyToLocalDocumentSet(f,v);return c.documentOverlayCache.saveOverlays(y,_.batchId,E)})}).then(()=>({batchId:m.batchId,changes:SC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new ht(Me)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Vu(r,s.changes),await rp(r.remoteStore)}catch(s){const i=F0(s,"Failed to persist write");n.reject(i)}}async function lA(t,e){const n=Se(t);try{const r=await Q$(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ge(o.hu,14607):s.removedDocuments.size>0&&(Ge(o.hu,42227),o.hu=!1))}),await Vu(n,r,e)}catch(r){await kl(r)}}function vE(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=Se(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(d=!0)}),d&&U0(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L9(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ht(ge.comparator);o=o.insert(i,rn.newNoDocument(i,Te.min()));const a=Le().add(i),c=new ep(Te.min(),new Map,new ht(Me),o,a);await lA(r,c),r.du=r.du.remove(i),r.Au.delete(e),B0(r)}else await gy(r.localStore,e,!1).then(()=>xy(r,e,n)).catch(kl)}async function V9(t,e){const n=Se(t),r=e.batch.batchId;try{const s=await K$(n.localStore,e);uA(n,r,null),cA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vu(n,s)}catch(s){await kl(s)}}async function F9(t,e,n){const r=Se(t);try{const s=await function(o,a){const c=Se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(Ge(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);uA(r,e,n),cA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vu(r,s)}catch(s){await kl(s)}}function cA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function uA(t,e,n){const r=Se(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function xy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||dA(t,r)})}function dA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(D0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),B0(t))}function xE(t,e,n){for(const r of n)r instanceof iA?(t.Ru.addReference(r.key,e),U9(t,r)):r instanceof oA?(ue($0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||dA(t,r.key)):we(19791,{wu:r})}function U9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ue($0,"New document in limbo: "+n),t.Eu.add(r),B0(t))}function B0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(Je.fromString(e)),r=t.fu.next();t.Au.set(r,new A9(n)),t.du=t.du.insert(n,r),YC(t.remoteStore,new _i(rs(T0(n.path)),r,"TargetPurposeLimboResolution",Gf.ce))}}async function Vu(t,e,n){const r=Se(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=k0.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=Se(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(d,m=>H.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>H.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!jl(f))throw f;ue(j0,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const y=h.Ms.get(m),T=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(T);h.Ms=h.Ms.insert(m,v)}}}(r.localStore,i))}async function $9(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){ue($0,"User change. New user:",e.toKey());const r=await qC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new le(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vu(n,r.Ls)}}function B9(t,e){const n=Se(t),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let s=Le();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function hA(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L9.bind(null,e),e.Pu.H_=S9.bind(null,e.eventManager),e.Pu.yu=N9.bind(null,e.eventManager),e}function z9(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F9.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return G$(this.persistence,new W$,e.initialUser,this.serializer)}Cu(e){return new HC(R0.mi,this.serializer)}Du(e){return new e9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class W9 extends nf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof ef,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new A$(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new HC(r=>ef.mi(r,n),this.serializer)}}class wy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$9.bind(null,this.syncEngine),await E9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T9}()}createDatastore(e){const n=tp(e.databaseInfo.databaseId),r=function(i){return new i9(i)}(e.databaseInfo);return function(i,o,a,c){return new c9(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new d9(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>vE(this.syncEngine,n,0),function(){return hE.v()?new hE:new t9}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const f=new P9(s,i,o,a,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Se(s);ue(zo,"RemoteStore shutting down."),i.Ea.add(5),await Lu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}wy.provider={build:()=>new wy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="FirestoreClient";class H9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=en.UNAUTHENTICATED,this.clientId=v0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ue(qi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ue(qi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=F0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jm(t,e){t.asyncQueue.verifyOperationInProgress(),ue(qi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await qC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q9(t);ue(qi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>pE(e.remoteStore,s)),t._onlineComponents=e}async function q9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(qi,"Using user provided OfflineComponentProvider");try{await jm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;hl("Error using user provided cache. Falling back to memory cache: "+n),await jm(t,new nf)}}else ue(qi,"Using default OfflineComponentProvider"),await jm(t,new W9(void 0));return t._offlineComponents}async function pA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(qi,"Using user provided OnlineComponentProvider"),await wE(t,t._uninitializedComponentsProvider._online)):(ue(qi,"Using default OnlineComponentProvider"),await wE(t,new wy))),t._onlineComponents}function G9(t){return pA(t).then(e=>e.syncEngine)}async function mA(t){const e=await pA(t),n=e.eventManager;return n.onListen=R9.bind(null,e.syncEngine),n.onUnlisten=D9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O9.bind(null,e.syncEngine),n}function K9(t,e,n={}){const r=new Rs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new fA({next:m=>{h.Nu(),o.enqueueAndForget(()=>rA(i,f));const y=m.docs.has(a);!y&&m.fromCache?d.reject(new le(z.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?d.reject(new le(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new sA(T0(a.path),h,{includeMetadataChanges:!0,qa:!0});return nA(i,f)}(await mA(t),t.asyncQueue,e,n,r)),r.promise}function Q9(t,e,n={}){const r=new Rs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new fA({next:m=>{h.Nu(),o.enqueueAndForget(()=>rA(i,f)),m.fromCache&&c.source==="server"?d.reject(new le(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new sA(a,h,{includeMetadataChanges:!0,qa:!0});return nA(i,f)}(await mA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firestore.googleapis.com",EE=!0;class bE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yA,this.ssl=EE}else this.host=e.host,this.ssl=e.ssl??EE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I$)throw new le(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new le(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new le(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new le(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tU;switch(r.type){case"firstParty":return new iU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_E.get(n);r&&(ue("ComponentProvider","Removing Datastore"),_E.delete(n),r.terminate())}(this),Promise.resolve()}}function Y9(t,e,n,r={}){var d;t=Nr(t,sp);const s=Xo(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(s0(`https://${a}`),i0("Firestore",!0)),i.host!==yA&&i.host!==a&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Vo(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=en.MOCK_USER;else{h=dF(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new le(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new en(m)}t._authCredentials=new nU(new tC(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Du(n,xt._jsonSchema))return new xt(e,r||null,new ge(Je.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:It("string",xt._jsonSchemaVersion),referencePath:It("string")};class Oi extends ea{constructor(e,n,r){super(e,n,T0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ge(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function vl(t,e,...n){if(t=_t(t),nC("collection","path",e),t instanceof sp){const r=Je.fromString(e,...n);return M1(r),new Oi(t,null,r)}{if(!(t instanceof xt||t instanceof Oi))throw new le(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return M1(r),new Oi(t.firestore,null,r)}}function sn(t,e,...n){if(t=_t(t),arguments.length===1&&(e=v0.newId()),nC("doc","path",e),t instanceof sp){const r=Je.fromString(e,...n);return O1(r),new xt(t,null,new ge(r))}{if(!(t instanceof xt||t instanceof Oi))throw new le(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return O1(r),new xt(t.firestore,t instanceof Oi?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="AsyncQueue";class SE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KC(this,"async_queue_retry"),this._c=()=>{const r=km();r&&ue(TE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Rs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jl(e))throw e;ue(TE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",NE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=V0.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&we(47125,{Pc:NE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function NE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ta extends sp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new SE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SE(e),this._firestoreClient=void 0,await e}}}function X9(t,e){const n=typeof t=="object"?t:l0(),r=typeof t=="string"?t:Qh,s=Bf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=nI("firestore");i&&Y9(s,...i)}return s}function z0(t){if(t._terminated)throw new le(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J9(t),t._firestoreClient}function J9(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,d,h){return new EU(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,gA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new H9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Ht.fromBase64String(e))}catch(n){throw new le(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Du(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:It("string",Xn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(e){if(Du(e,is._jsonSchema))return new is(e.latitude,e.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:It("string",is._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:os._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Du(e,os._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new os(e.vectorValues);throw new le(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}os._jsonSchemaVersion="firestore/vectorValue/1.0",os._jsonSchema={type:It("string",os._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=/^__.*__$/;class eB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class vA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:t})}}class W0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new W0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xA(this.Ac)&&Z9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tp(e)}Cc(e,n,r,s=!1){return new W0({Ac:e,methodName:n,Dc:r,path:Ft.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ap(t){const e=t._freezeSettings(),n=tp(t._databaseId);return new tB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wA(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);q0("Data must be an object, but it was:",o,r);const a=_A(r,o);let c,d;if(i.merge)c=new Ln(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=_y(e,f,n);if(!o.contains(m))throw new le(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);bA(h,m)||h.push(m)}c=new Ln(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new eB(new bn(a),c,d)}class lp extends op{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}class H0 extends op{_toFieldTransform(e){return new GU(e.path,new uu)}isEqual(e){return e instanceof H0}}function nB(t,e,n,r){const s=t.Cc(1,e,n);q0("Data must be an object, but it was:",s,r);const i=[],o=bn.empty();Zi(r,(c,d)=>{const h=G0(e,c,n);d=_t(d);const f=s.yc(h);if(d instanceof lp)i.push(h);else{const m=Fu(d,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new Ln(i);return new vA(o,a,s.fieldTransforms)}function rB(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[_y(e,r,n)],c=[s];if(i.length%2!=0)throw new le(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(_y(e,i[m])),c.push(i[m+1]);const d=[],h=bn.empty();for(let m=a.length-1;m>=0;--m)if(!bA(d,a[m])){const y=a[m];let T=c[m];T=_t(T);const v=o.yc(y);if(T instanceof lp)d.push(y);else{const _=Fu(T,v);_!=null&&(d.push(y),h.set(y,_))}}const f=new Ln(d);return new vA(h,f,o.fieldTransforms)}function sB(t,e,n,r=!1){return Fu(n,t.Cc(r?4:3,e))}function Fu(t,e){if(EA(t=_t(t)))return q0("Unsupported field value:",e,t),_A(t,e);if(t instanceof op)return function(r,s){if(!xA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Fu(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Xe.fromDate(r);return{timestampValue:Zh(s.serializer,i)}}if(r instanceof Xe){const i=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(s.serializer,i)}}if(r instanceof is)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:LC(s.serializer,r._byteString)};if(r instanceof xt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:A0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof os)return function(o,a){return{mapValue:{fields:{[dC]:{stringValue:fC},[Yh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return S0(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${qf(r)}`)}(t,e)}function _A(t,e){const n={};return iC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(t,(r,s)=>{const i=Fu(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function EA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof is||t instanceof Xn||t instanceof xt||t instanceof op||t instanceof os)}function q0(t,e,n){if(!EA(n)||!rC(n)){const r=qf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function _y(t,e,n){if((e=_t(e))instanceof ip)return e._internalPath;if(typeof e=="string")return G0(t,e);throw rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const iB=new RegExp("[~\\*/\\[\\]]");function G0(t,e,n){if(e.search(iB)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ip(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new le(z.INVALID_ARGUMENT,a+t+c)}function bA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oB extends TA{data(){return super.data()}}function cp(t,e){return typeof e=="string"?G0(t,e):e instanceof ip?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K0{}class SA extends K0{}function Q0(t,e,...n){let r=[];e instanceof K0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Y0).length,a=i.filter(c=>c instanceof up).length;if(o>1||o>0&&a>0)throw new le(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class up extends SA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new up(e,n,r)}_apply(e){const n=this._parse(e);return NA(e._query,n),new ea(e.firestore,e.converter,uy(e._query,n))}_parse(e){const n=ap(e.firestore);return function(i,o,a,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new le(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){CE(f,h);const T=[];for(const v of f)T.push(IE(c,i,v));m={arrayValue:{values:T}}}else m=IE(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||CE(f,h),m=sB(a,o,f,h==="in"||h==="not-in");return Nt.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sf(t,e,n){const r=e,s=cp("where",t);return up._create(s,r,n)}class Y0 extends K0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Y0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)NA(o,c),o=uy(o,c)}(e._query,n),new ea(e.firestore,e.converter,uy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class X0 extends SA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new X0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new le(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new le(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(i,o)}(e._query,this._field,this._direction);return new ea(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Dl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function lB(t,e="asc"){const n=e,r=cp("orderBy",t);return X0._create(r,n)}function IE(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new le(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_C(e)&&n.indexOf("/")!==-1)throw new le(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!ge.isDocumentKey(r))throw new le(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return W1(t,new ge(r))}if(n instanceof xt)return W1(t,n._key);throw new le(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qf(n)}.`)}function CE(t,e){if(!Array.isArray(t)||t.length===0)throw new le(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cB{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Yh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>gt(o.doubleValue));return new os(n)}convertGeoPoint(e){return new is(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);Ge(zC(r),9688,{name:e});const s=new au(r.get(1),r.get(3)),i=new ge(r.popFirst(5));return s.isEqual(n)||Us(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Io extends TA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Io._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Io._jsonSchemaVersion="firestore/documentSnapshot/1.0",Io._jsonSchema={type:It("string",Io._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class oh extends Io{data(e={}){return super.data(e)}}class za{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new uc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new oh(this._firestore,this._userDataWriter,r.key,r,new uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new oh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new uc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new oh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new uc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:uB(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=v0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){t=Nr(t,xt);const e=Nr(t.firestore,ta);return K9(z0(e),t._key).then(n=>hB(e,t,n))}za._jsonSchemaVersion="firestore/querySnapshot/1.0",za._jsonSchema={type:It("string",za._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class CA extends cB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function dp(t){t=Nr(t,ea);const e=Nr(t.firestore,ta),n=z0(e),r=new CA(e);return aB(t._query),Q9(n,t._query).then(s=>new za(e,r,t,s))}function ga(t,e,n){t=Nr(t,xt);const r=Nr(t.firestore,ta),s=IA(t.converter,e,n);return hp(r,[wA(ap(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,er.none())])}function of(t,e,n,...r){t=Nr(t,xt);const s=Nr(t.firestore,ta),i=ap(s);let o;return o=typeof(e=_t(e))=="string"||e instanceof ip?rB(i,"updateDoc",t._key,e,n,r):nB(i,"updateDoc",t._key,e),hp(s,[o.toMutation(t._key,er.exists(!0))])}function dB(t){return hp(Nr(t.firestore,ta),[new N0(t._key,er.none())])}function AA(t,e){const n=Nr(t.firestore,ta),r=sn(t),s=IA(t.converter,e);return hp(n,[wA(ap(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function hp(t,e){return function(r,s){const i=new Rs;return r.asyncQueue.enqueueAndForget(async()=>M9(await G9(r),s,i)),i.promise}(z0(t),e)}function hB(t,e,n){const r=n.docs.get(e._key),s=new CA(t);return new Io(t,s,e._key,r,new uc(n.hasPendingWrites,n.fromCache),e.converter)}function tn(){return new H0("serverTimestamp")}(function(e,n=!0){(function(s){Rl=s})(Al),Fo(new Ui("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ta(new rU(r.getProvider("auth-internal")),new oU(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new le(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),es(R1,k1,e),es(R1,k1,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,On(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s==null||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="us-central1";class pB{constructor(e,n,r,s,i=Ey,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new fB(e,n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Ey}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function mB(t,e,n){const r=Xo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(s0(t.emulatorOrigin+"/backends"),i0("Functions",!0))}const AE="@firebase/functions",PE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="auth-internal",yB="app-check-internal",vB="messaging-internal";function xB(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),i=n.getProvider(gB),o=n.getProvider(vB),a=n.getProvider(yB);return new pB(s,i,o,a,r)};Fo(new Ui(PA,e,"PUBLIC").setMultipleInstances(!0)),es(AE,PE,t),es(AE,PE,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t=l0(),e=Ey){const r=Bf(_t(t),PA).getImmediate({identifier:e}),s=nI("functions");return s&&_B(r,...s),r}function _B(t,e,n){mB(_t(t),e,n)}xB();const EB={apiKey:"AIzaSyBRYf_nDTQC-wzWZWjFyWjUKKWc5UHOe-I",authDomain:"voda-45a7f.firebaseapp.com",projectId:"voda-45a7f",storageBucket:"voda-45a7f.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:abcdef123456",measurementId:"G-DUMMY"},J0=o1().length?o1()[0]:aI(EB),ws=Z6(J0),yt=X9(J0);wB(J0,"us-central1");console.log("Using Firebase Production Environment");const bB="modulepreload",TB=function(t){return"/"+t},RE={},SB=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=TB(c),c in RE)return;RE[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":bB,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Gr=t=>t&&t.toDate?t.toDate():new Date,yo={async create(t){await ga(sn(yt,"profiles",t.userId),{userId:t.userId,shopId:t.shopId,role:t.role,fullName:t.fullName,phone:t.phone,createdAt:tn()})},async getById(t){const e=sn(yt,"profiles",t),n=await fu(e);if(n.exists()){const r=n.data();return{userId:n.id,...r,createdAt:Gr(r.createdAt)}}return null},async update(t,e){const n=sn(yt,"profiles",t);await of(n,{...e,updatedAt:tn()})},async getByShopId(t){const e=Q0(vl(yt,"profiles"),sf("shopId","==",t));return(await dp(e)).docs.map(r=>{const s=r.data();return{userId:r.id,...s,createdAt:Gr(s.createdAt)}})}},NB={async create(t){return(await AA(vl(yt,"shops"),{...t,createdAt:tn(),updatedAt:tn()})).id},async getAll(){try{console.log("Getting all shops...");const t=await dp(vl(yt,"shops"));console.log("Shops snapshot size:",t.size);const e=t.docs.map(n=>{const r=n.data();return console.log("Shop data:",{id:n.id,...r}),{id:n.id,...r,createdAt:Gr(r.createdAt),updatedAt:Gr(r.updatedAt)}});return console.log("Returning shops:",e),e}catch(t){throw console.error("Error in shopService.getAll:",t),t}},async getById(t){const e=sn(yt,"shops",t),n=await fu(e);if(n.exists()){const r=n.data();return{id:n.id,...r,createdAt:Gr(r.createdAt),updatedAt:Gr(r.updatedAt)}}return null},async update(t,e){const n=sn(yt,"shops",t);await of(n,{...e,updatedAt:tn()})}},Co={async create(t){return(await AA(vl(yt,"merchantWallets"),{...t,transferLimit:t.transferLimit||2e5,withdrawLimit:t.withdrawLimit||2e5,transferUsage:t.transferUsage||0,withdrawUsage:t.withdrawUsage||0,createdAt:tn(),updatedAt:tn()})).id},async getByMerchantId(t){const e=Q0(vl(yt,"merchantWallets"),sf("merchantUserId","==",t),lB("createdAt","desc"));return(await dp(e)).docs.map(r=>{const s=r.data();return{id:r.id,...s,transferLimit:s.transferLimit||2e5,withdrawLimit:s.withdrawLimit||2e5,transferUsage:s.transferUsage||0,withdrawUsage:s.withdrawUsage||0,createdAt:Gr(s.createdAt),updatedAt:Gr(s.updatedAt)}})},async getById(t){const e=sn(yt,"merchantWallets",t),n=await fu(e);if(n.exists()){const r=n.data();return{id:n.id,...r,transferLimit:r.transferLimit||2e5,withdrawLimit:r.withdrawLimit||2e5,transferUsage:r.transferUsage||0,withdrawUsage:r.withdrawUsage||0,createdAt:Gr(r.createdAt),updatedAt:Gr(r.updatedAt)}}return null},async update(t,e){const n=sn(yt,"merchantWallets",t);await of(n,{...e,updatedAt:tn()})},async updateUsage(t,e,n){const r=sn(yt,"merchantWallets",t),s={updatedAt:tn()};e!==void 0&&(s.transferUsage=e),n!==void 0&&(s.withdrawUsage=n),await of(r,s)},async resetDailyUsage(t){const n=(await this.getByMerchantId(t)).map(r=>this.updateUsage(r.id,0,0));await Promise.all(n)},async delete(t){const e=sn(yt,"merchantWallets",t);await dB(e)}},IB=Object.freeze(Object.defineProperty({__proto__:null,merchantWalletService:Co,profileService:yo,shopService:NB},Symbol.toStringTag,{value:"Module"})),CB=p.createContext(void 0);function AB({children:t}){const[e,n]=p.useState(null),[r,s]=p.useState(null),[i,o]=p.useState(!0),a=async y=>{try{o(!0);const T=await yo.getById(y);T?s(T):console.error("No profile found for user")}catch(T){console.error("Error fetching profile:",T)}finally{o(!1)}},c=async()=>{e&&await a(e.uid)};p.useEffect(()=>{const y=MI(ws,async T=>{n(T),T?await a(T.uid):s(null),o(!1)});return()=>y()},[]);const m={user:e,profile:r,loading:i,signUp:async(y,T,v)=>{try{const _=await DI(ws,y,T);return _.user&&await yo.create({userId:_.user.uid,role:"merchant",fullName:(v==null?void 0:v.fullName)||null,phone:(v==null?void 0:v.phone)||null,shopId:""}),{error:null}}catch(_){return console.error("Error during sign up:",_),{error:_}}},signIn:async(y,T)=>{try{return await OI(ws,y,T),{error:null}}catch(v){return console.error("Error during sign in:",v),{error:v}}},signOut:async()=>{try{await LI(ws)}catch(y){console.error("Error during sign out:",y)}},refreshProfile:c};return l.jsx(CB.Provider,{value:m,children:t})}const RA=p.createContext(void 0);function PB(){const t=p.useContext(RA);if(t===void 0)throw new Error("useFirebaseAuth must be used within a FirebaseAuthProvider");return t}const Rr=PB,RB=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(null),[i,o]=p.useState(!0),a=async _=>{try{const E=await yo.getById(_);E?s(E):await c(_)}catch(E){console.error("Error fetching profile:",E),await c(_)}},c=async _=>{try{console.log("Creating default profile for user:",_);const E={userId:_,shopId:"admin-shop",role:"admin",fullName:"مدير النظام",phone:null,createdAt:new Date,updatedAt:new Date};s(E),console.log("Created temporary profile:",E);try{const{shopService:w}=await SB(async()=>{const{shopService:j}=await Promise.resolve().then(()=>IB);return{shopService:j}},void 0);let x="admin-shop";try{console.log("Attempting to get shops");const j=await w.getAll();console.log("Shops retrieved:",j),j.length>0?(x=j[0].id,console.log("Using existing shop:",x)):(console.log("No shops found, creating default shop"),x=await w.create({name:"المحل الافتراضي",logoUrl:null}))}catch(j){console.error("Error getting/creating shop:",j),x="admin-shop"}await yo.create({userId:_,shopId:x,role:"admin",fullName:"مدير النظام",phone:null});const A=await yo.getById(_);A&&(s(A),console.log("Updated with Firebase profile:",A))}catch{console.log("Using local profile - Firebase unavailable")}}catch(E){console.error("Error creating default profile:",E)}};p.useEffect(()=>{console.log("Setting up auth state listener");const _=MI(ws,async E=>{if(console.log("Auth state changed:",E==null?void 0:E.uid),n(E),E){console.log("User authenticated, fetching profile for:",E.uid);const w=new Promise((x,A)=>setTimeout(()=>A(new Error("Profile fetch timeout")),5e3));try{await Promise.race([a(E.uid),w]),console.log("Profile fetched successfully")}catch(x){console.error("Error fetching profile:",x),console.log("Attempting to create default profile");try{await Promise.race([c(E.uid),w])}catch(A){console.error("Error creating default profile:",A),s({userId:E.uid,shopId:"temp-shop",role:"admin",fullName:"مستخدم مؤقت",phone:null,createdAt:new Date,updatedAt:new Date})}}}else console.log("No user authenticated, setting profile to null"),s(null);console.log("Setting loading to false"),o(!1)});return()=>{console.log("Cleaning up auth state listener"),_()}},[]);const v={user:e,profile:r,loading:i,signUp:async(_,E,w)=>{try{const x=await DI(ws,_,E);return w!=null&&w.fullName&&await w1(x.user,{displayName:w.fullName}),await c(x.user.uid),{error:null}}catch(x){return console.error("Sign up error:",x),{error:x}}},signIn:async(_,E)=>{try{return await OI(ws,_,E),{error:null}}catch(w){console.error("Sign in error:",w);let x="حدث خطأ أثناء تسجيل الدخول";return w.code==="auth/invalid-credential"?x="البريد الإلكتروني أو كلمة المرور غير صحيحة":w.code==="auth/user-not-found"?x="لا يوجد حساب بهذا البريد الإلكتروني":w.code==="auth/wrong-password"?x="كلمة المرور غير صحيحة":w.code==="auth/too-many-requests"&&(x="تم تجاوز عدد المحاولات المسموح، حاول لاحقاً"),{error:{...w,message:x}}}},signOut:async()=>{try{await LI(ws),window.location.href="/admin/login"}catch(_){console.error("Sign out error:",_)}},resetPassword:async _=>{try{return await F3(ws,_),{error:null}}catch(E){console.error("Password reset error:",E);let w="حدث خطأ أثناء إرسال رابط إعادة تعيين كلمة المرور";return E.code==="auth/user-not-found"?w="لا يوجد حساب بهذا البريد الإلكتروني":E.code==="auth/invalid-email"?w="البريد الإلكتروني غير صحيح":E.code==="auth/too-many-requests"&&(w="تم تجاوز عدد المحاولات المسموح، حاول لاحقاً"),{error:{...E,message:w}}}},updateUserProfile:async _=>{if(!(!e||!r))try{_.fullName&&await w1(e,{displayName:_.fullName}),await yo.update(e.uid,{fullName:_.fullName||r.fullName,phone:_.phone||r.phone}),s({...r,fullName:_.fullName||r.fullName,phone:_.phone||r.phone})}catch(E){console.error("Error updating profile:",E)}},refreshProfile:async()=>{if(e)try{console.log("Refreshing profile for user:",e.uid),await a(e.uid)}catch(_){console.error("Error refreshing profile:",_)}}};return l.jsx(RA.Provider,{value:v,children:t})},kB=()=>{const{user:t,profile:e,loading:n}=Rr(),r=zs();return p.useEffect(()=>{console.log("Index: useEffect triggered",{loading:n,user:t==null?void 0:t.uid,profile:e==null?void 0:e.role}),n||(t?e?(console.log("Index: Profile found, navigating based on role:",e.role),e.role==="merchant"?r("/merchant"):(r("/landing"),console.log("User role not supported:",e.role))):console.log("Index: User exists but no profile yet, waiting..."):(console.log("Index: No user, navigating to landing"),r("/landing")))},[t,e,n,r]),n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"جاري التحميل..."})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"جاري إعداد الحساب..."})]})})},jB=Su("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ID:"button";return l.jsx(o,{className:Ee(jB({variant:e,size:n,className:t})),ref:i,...s})});Z.displayName="Button";const st=p.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));st.displayName="Card";const Ut=p.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ee("flex flex-col space-y-1.5 p-6",t),...e}));Ut.displayName="CardHeader";const $t=p.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));$t.displayName="CardTitle";const kA=p.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));kA.displayName="CardDescription";const it=p.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ee("p-6 pt-0",t),...e}));it.displayName="CardContent";const DB=p.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ee("flex items-center p-6 pt-0",t),...e}));DB.displayName="CardFooter";function OB(){const t=[{icon:Ma,title:"إدارة الخطوط والمحافظ",description:"تحكم كامل في خطوط المحل ومحافظ التجار مع تتبع الحدود اليومية والشهرية"},{icon:AO,title:"نظام عمولة مرن",description:"احسب العمولة تلقائياً حسب قواعد قابلة للتخصيص لكل مزود وتاجر"},{icon:Qc,title:"أمان متقدم",description:"حماية البيانات مع صلاحيات متدرجة وسجل مراجعة شامل"},{icon:_O,title:"تقارير تفصيلية",description:"تقارير يومية وشهرية قابلة للتصدير مع رسوم بيانية تفاعلية"}],e=[{name:"Vodafone Cash",color:"provider-vodafone"},{name:"Etisalat Cash",color:"provider-etisalat"},{name:"Orange Cash",color:"provider-orange"},{name:"InstaPay",color:"provider-instapay"}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-background",children:[l.jsx("header",{className:"container mx-auto px-4 py-6",children:l.jsxs("nav",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 gradient-primary rounded-lg flex items-center justify-center",children:l.jsx(Ma,{className:"h-5 w-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold",children:"CashyLink"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Wr,{to:"/auth",children:l.jsx(Z,{variant:"ghost",children:"تسجيل الدخول"})}),l.jsx(Wr,{to:"/auth?mode=signup",children:l.jsxs(Z,{className:"btn-primary",children:["تسجيل تاجر جديد",l.jsx(gm,{className:"mr-2 h-4 w-4"})]})})]})]})}),l.jsx("section",{className:"container mx-auto px-4 py-20 text-center",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-5xl font-bold mb-6 gradient-hero bg-clip-text text-transparent",children:"منصة إدارة شاملة لمحلات الموبايل"}),l.jsx("p",{className:"text-xl text-muted-foreground mb-8 leading-relaxed",children:"أدر معاملات الأموال الإلكترونية بكفاءة وأمان مع تتبع دقيق للحدود والعمولات"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:e.map(n=>l.jsx("div",{className:`px-4 py-2 ${n.color} text-white rounded-full text-sm font-medium shadow-lg`,children:n.name},n.name))}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Wr,{to:"/auth?mode=signup",children:l.jsxs(Z,{size:"lg",className:"btn-primary shadow-elegant",children:["ابدأ مجاناً الآن",l.jsx(gm,{className:"mr-2 h-5 w-5"})]})}),l.jsx(Wr,{to:"/auth",children:l.jsx(Z,{size:"lg",variant:"outline",className:"border-primary text-primary hover:bg-primary/10",children:"تسجيل الدخول"})})]})]})}),l.jsxs("section",{className:"container mx-auto px-4 py-20",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"مميزات المنصة"}),l.jsx("p",{className:"text-muted-foreground text-lg",children:"كل ما تحتاجه لإدارة عمليات التحويل بكفاءة"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((n,r)=>l.jsx(st,{className:"card-glass hover:shadow-elegant transition-smooth group",children:l.jsxs(it,{className:"p-6 text-center",children:[l.jsx("div",{className:"h-12 w-12 gradient-primary rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:animate-pulse-glow transition-smooth",children:l.jsx(n.icon,{className:"h-6 w-6 text-white"})}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:n.title}),l.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})]})},r))})]}),l.jsx("section",{className:"container mx-auto px-4 py-20 bg-muted/30 rounded-3xl my-20",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold mb-6",children:"لماذا CashyLink؟"}),l.jsx("div",{className:"space-y-4",children:["تتبع دقيق للحدود اليومية والشهرية","تنبيهات تلقائية عند اقتراب الحدود","حساب عمولة ذكي ومرن","تقارير شاملة قابلة للتصدير","واجهات منفصلة للإدارة والتجار","أمان متقدم مع صلاحيات متدرجة"].map((n,r)=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ol,{className:"h-5 w-5 text-success flex-shrink-0"}),l.jsx("span",{className:"text-foreground",children:n})]},r))})]}),l.jsx("div",{className:"relative",children:l.jsx("div",{className:"gradient-primary rounded-2xl p-8 shadow-elegant",children:l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 text-white",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"ابدأ في دقائق"}),l.jsx("p",{className:"text-white/80 mb-6",children:"سجل حسابك، أضف محافظك، وابدأ في إجراء المعاملات فوراً"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-2 w-2 bg-white rounded-full animate-pulse"}),l.jsx("div",{className:"h-2 w-2 bg-white/60 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),l.jsx("div",{className:"h-2 w-2 bg-white/40 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})})})]})}),l.jsx("section",{className:"container mx-auto px-4 py-20 text-center",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:"جاهز للبدء؟"}),l.jsx("p",{className:"text-muted-foreground text-lg mb-8",children:"انضم إلى مئات التجار الذين يثقون في منصتنا لإدارة معاملاتهم المالية"}),l.jsx(Wr,{to:"/auth?mode=signup",children:l.jsxs(Z,{size:"lg",className:"btn-primary shadow-elegant",children:["إنشاء حساب مجاني",l.jsx(gm,{className:"mr-2 h-5 w-5"})]})})]})}),l.jsx("footer",{className:"border-t border-border bg-card/50 py-8",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("div",{className:"h-6 w-6 gradient-primary rounded flex items-center justify-center",children:l.jsx(Ma,{className:"h-4 w-4 text-white"})}),l.jsx("span",{className:"font-semibold",children:"CashyLink"})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"© 2024 CashyLink. جميع الحقوق محفوظة."})]})})]})}const Pe=p.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Pe.displayName="Input";function MB(){const[t]=tF(),e=t.get("mode")||"signin",[n,r]=p.useState(e==="signup"),[s,i]=p.useState(!1),[o,a]=p.useState({email:"admin@example.com",password:"password123",fullName:"",phone:""}),{signIn:c,signUp:d,user:h}=Rr(),{toast:f}=Cr();if(h)return l.jsx(YN,{to:"/",replace:!0});const m=async y=>{y.preventDefault(),i(!0);try{if(n){const{error:T}=await d(o.email,o.password,{full_name:o.fullName,phone:o.phone});if(T)throw T;f({title:"تم إنشاء الحساب بنجاح!",description:"تحقق من بريدك الإلكتروني لتفعيل الحساب"})}else{const{error:T}=await c(o.email,o.password);if(T)throw T;f({title:"مرحباً بك!",description:"تم تسجيل الدخول بنجاح، جاري إعداد حسابك..."})}}catch(T){f({title:"خطأ",description:T.message||"حدث خطأ أثناء المعالجة",variant:"destructive"})}finally{i(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-secondary/10 flex items-center justify-center p-4",children:l.jsxs(st,{className:"w-full max-w-md",children:[l.jsxs(Ut,{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("div",{className:"h-8 w-8 gradient-primary rounded-lg flex items-center justify-center",children:l.jsx(Ma,{className:"h-5 w-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold",children:"CashyLink"})]}),l.jsx($t,{children:n?"إنشاء حساب جديد":"تسجيل الدخول"})]}),l.jsxs(it,{children:[l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n&&l.jsxs(l.Fragment,{children:[l.jsx(Pe,{placeholder:"الاسم الكامل",value:o.fullName,onChange:y=>a({...o,fullName:y.target.value}),required:!0}),l.jsx(Pe,{placeholder:"رقم الهاتف",value:o.phone,onChange:y=>a({...o,phone:y.target.value})})]}),l.jsx(Pe,{type:"email",placeholder:"البريد الإلكتروني",value:o.email,onChange:y=>a({...o,email:y.target.value}),required:!0}),l.jsx(Pe,{type:"password",placeholder:"كلمة المرور",value:o.password,onChange:y=>a({...o,password:y.target.value}),required:!0}),l.jsx(Z,{type:"submit",className:"w-full btn-primary",disabled:s,children:s?"جاري المعالجة...":n?"إنشاء الحساب":"تسجيل الدخول"}),l.jsx(Z,{type:"button",variant:"secondary",className:"w-full mt-2",onClick:()=>{a({email:"admin@example.com",password:"password123",fullName:"",phone:""}),setTimeout(()=>{const y=document.querySelector("form");y&&y.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},100)},children:"تسجيل دخول كمدير"})]}),l.jsxs("div",{className:"text-center mt-6",children:[l.jsx("span",{className:"text-muted-foreground",children:n?"لديك حساب؟":"ليس لديك حساب؟"}),l.jsx(Z,{variant:"link",onClick:()=>r(!n),className:"text-primary",children:n?"تسجيل الدخول":"إنشاء حساب"})]}),l.jsx("div",{className:"text-center mt-4",children:l.jsx(Wr,{to:"/",children:l.jsx(Z,{variant:"ghost",className:"text-muted-foreground",children:"العودة للصفحة الرئيسية"})})})]})]})})}function LB(){const t=zs(),{user:e,signIn:n,signOut:r}=Rr(),{toast:s}=Cr(),[i,o]=p.useState(!1),[a,c]=p.useState({email:"admin@example.com",password:"password123"}),d=async f=>{f.preventDefault(),o(!0);try{const{error:m}=await n(a.email,a.password);if(m)throw m;s({title:"مرحباً بك في لوحة التحكم!",description:"تم تسجيل الدخول بنجاح"}),t("/")}catch(m){console.error("Login error:",m),s({title:"خطأ في تسجيل الدخول",description:m.message||"تحقق من البريد الإلكتروني وكلمة المرور",variant:"destructive"})}finally{o(!1)}},h=()=>{c({email:"admin@example.com",password:"password123"}),setTimeout(()=>{const f=document.querySelector("form");f&&f.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},100)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-background to-indigo-50 flex items-center justify-center p-4",children:l.jsxs(st,{className:"w-full max-w-md shadow-lg",children:[l.jsxs(Ut,{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:l.jsx(Qc,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ma,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"text-xl font-bold text-primary",children:"CashyLink"})]})]}),l.jsx($t,{className:"text-2xl font-bold text-gray-800",children:"لوحة تحكم الأدمن"}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"تسجيل الدخول للوصول إلى لوحة التحكم"})]}),l.jsxs(it,{children:[e?l.jsxs("div",{className:"space-y-4 text-center",children:[l.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsx("p",{className:"text-green-800 font-medium mb-2",children:"أنت مسجل دخول بالفعل"}),l.jsx("p",{className:"text-green-600 text-sm",children:e.email})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Z,{onClick:()=>t("/"),className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:"الانتقال للصفحة الرئيسية"}),l.jsx(Z,{variant:"outline",onClick:async()=>{await r(),s({title:"تم تسجيل الخروج بنجاح"})},className:"flex-1 border-red-200 text-red-600 hover:bg-red-50",children:"تسجيل خروج"})]})]}):l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"البريد الإلكتروني"}),l.jsx(Pe,{id:"email",type:"email",placeholder:"admin@example.com",value:a.email,onChange:f=>c(m=>({...m,email:f.target.value})),required:!0,className:"h-11"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"كلمة المرور"}),l.jsx(Pe,{id:"password",type:"password",placeholder:"••••••••",value:a.password,onChange:f=>c(m=>({...m,password:f.target.value})),required:!0,className:"h-11"})]}),l.jsx(Z,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",disabled:i,children:i?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري تسجيل الدخول..."]}):"تسجيل الدخول"}),l.jsxs(Z,{type:"button",variant:"outline",className:"w-full h-11 border-blue-200 text-blue-600 hover:bg-blue-50",onClick:h,disabled:i,children:[l.jsx(Qc,{className:"w-4 h-4 mr-2"}),"تسجيل دخول سريع (أدمن)"]})]}),l.jsx("div",{className:"text-center mt-6 pt-4 border-t",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"صفحة مخصصة لمديري النظام فقط"})})]})]})})}var VB="Label",jA=p.forwardRef((t,e)=>l.jsx(_e.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));jA.displayName=VB;var DA=jA;const FB=Su("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=p.forwardRef(({className:t,...e},n)=>l.jsx(DA,{ref:n,className:Ee(FB(),t),...e}));Qe.displayName=DA.displayName;const UB=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[o,a]=p.useState(!1),[c,d]=p.useState(!1),{signIn:h,resetPassword:f}=Rr(),m=zs(),y=async v=>{if(v.preventDefault(),!t||!n){ti.error("يرجى ملء جميع الحقول");return}a(!0);try{const{error:_}=await h(t,n);_?ti.error(_.message||"حدث خطأ أثناء تسجيل الدخول"):(ti.success("تم تسجيل الدخول بنجاح"),m("/user/dashboard"))}catch{ti.error("حدث خطأ غير متوقع")}finally{a(!1)}},T=async()=>{if(!t){ti.error("يرجى إدخال البريد الإلكتروني أولاً");return}d(!0);try{const{error:v}=await f(t);v?ti.error(v.message||"حدث خطأ أثناء إرسال رابط إعادة تعيين كلمة المرور"):ti.success("تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني")}catch{ti.error("حدث خطأ غير متوقع")}finally{d(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l.jsxs(st,{className:"w-full max-w-md",children:[l.jsxs(Ut,{className:"space-y-1 text-center",children:[l.jsx($t,{className:"text-2xl font-bold text-gray-900",children:"تسجيل دخول المستخدم"}),l.jsx(kA,{className:"text-gray-600",children:"أدخل بياناتك لتسجيل الدخول إلى حسابك"})]}),l.jsxs(it,{children:[l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"email",className:"text-right block",children:"البريد الإلكتروني"}),l.jsx(Pe,{id:"email",type:"email",placeholder:"أدخل بريدك الإلكتروني",value:t,onChange:v=>e(v.target.value),className:"text-right",dir:"rtl",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"password",className:"text-right block",children:"كلمة المرور"}),l.jsxs("div",{className:"relative",children:[l.jsx(Pe,{id:"password",type:s?"text":"password",placeholder:"أدخل كلمة المرور",value:n,onChange:v=>r(v.target.value),className:"text-right pr-10",dir:"rtl",required:!0}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:s?l.jsx(Yr,{size:20}):l.jsx(Xr,{size:20})})]})]}),l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs(Z,{type:"button",variant:"ghost",size:"sm",onClick:T,disabled:c,className:"text-blue-600 hover:text-blue-800 p-0 h-auto font-normal",children:[l.jsx(qS,{className:"w-4 h-4 ml-1"}),c?"جاري الإرسال...":"نسيت كلمة المرور؟"]})}),l.jsxs(Z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:[o?"جاري تسجيل الدخول...":"تسجيل الدخول",l.jsx(zS,{className:"mr-2 h-4 w-4"})]})]}),l.jsxs("div",{className:"mt-6 text-center space-y-2",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["ليس لديك حساب؟"," ",l.jsx(Wr,{to:"/auth",className:"text-blue-600 hover:text-blue-800 font-medium",children:"إنشاء حساب جديد"})]}),l.jsx("p",{className:"text-sm",children:l.jsx(Wr,{to:"/",className:"text-gray-500 hover:text-gray-700",children:"العودة إلى الصفحة الرئيسية"})})]})]})]})})},$B=Su("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),OA=p.forwardRef(({className:t,variant:e,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:Ee($B({variant:e}),t),...n}));OA.displayName="Alert";const BB=p.forwardRef(({className:t,...e},n)=>l.jsx("h5",{ref:n,className:Ee("mb-1 font-medium leading-none tracking-tight",t),...e}));BB.displayName="AlertTitle";const MA=p.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Ee("text-sm [&_p]:leading-relaxed",t),...e}));MA.displayName="AlertDescription";const zB=()=>{const[t,e]=p.useState({name:"",email:"",password:"",confirmPassword:""}),[n,r]=p.useState(!1),[s,i]=p.useState(!1),[o,a]=p.useState(!1),[c,d]=p.useState(""),{signUp:h}=Rr(),{toast:f}=Cr(),m=zs(),y=(_,E)=>{e(w=>({...w,[_]:E}))},T=()=>!t.name||!t.email||!t.password||!t.confirmPassword?(d("يرجى ملء جميع الحقول"),!1):t.name.length<2?(d("يجب أن يكون الاسم أكثر من حرفين"),!1):t.password.length<6?(d("يجب أن تكون كلمة المرور 6 أحرف على الأقل"),!1):t.password!==t.confirmPassword?(d("كلمات المرور غير متطابقة"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)?!0:(d("البريد الإلكتروني غير صالح"),!1),v=async _=>{if(_.preventDefault(),d(""),!!T()){a(!0);try{await h(t.email,t.password,t.name),f({title:"تم إنشاء الحساب بنجاح",description:"مرحباً بك في نظام إدارة المحافظ الإلكترونية"}),m("/user/dashboard")}catch(E){console.error("Registration error:",E);let w="حدث خطأ أثناء إنشاء الحساب";E.code==="auth/email-already-in-use"?w="البريد الإلكتروني مستخدم بالفعل":E.code==="auth/invalid-email"?w="البريد الإلكتروني غير صالح":E.code==="auth/weak-password"?w="كلمة المرور ضعيفة جداً":E.code==="auth/operation-not-allowed"&&(w="إنشاء الحسابات غير مفعل حالياً"),d(w),f({title:"خطأ في إنشاء الحساب",description:w,variant:"destructive"})}finally{a(!1)}}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8 fade-in-up",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full mb-4 shadow-lg",children:l.jsx(As,{className:"h-8 w-8 text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"كاشي لينك"}),l.jsx("p",{className:"text-gray-600",children:"نظام إدارة المحافظ الإلكترونية"})]}),l.jsxs(st,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm card-glow fade-in-up",children:[l.jsxs(Ut,{className:"text-center pb-4",children:[l.jsxs($t,{className:"text-2xl font-bold text-gray-900 flex items-center justify-center gap-2",children:[l.jsx(PO,{className:"h-6 w-6 text-green-600"}),"إنشاء حساب جديد"]}),l.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"أدخل بياناتك لإنشاء حساب جديد"})]}),l.jsxs(it,{className:"space-y-6",children:[c&&l.jsx(OA,{variant:"destructive",className:"fade-in-up",children:l.jsx(MA,{children:c})}),l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2 fade-in-up",children:[l.jsx(Qe,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"الاسم الكامل"}),l.jsxs("div",{className:"relative",children:[l.jsx(Lv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Pe,{id:"name",type:"text",value:t.name,onChange:_=>y("name",_.target.value),placeholder:"أدخل اسمك الكامل",className:"pl-10 h-12 text-sm transition-all duration-300 hover:border-green-400 focus:border-green-500 bg-white/50",disabled:o})]})]}),l.jsxs("div",{className:"space-y-2 fade-in-up",children:[l.jsx(Qe,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"البريد الإلكتروني"}),l.jsxs("div",{className:"relative",children:[l.jsx(qS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Pe,{id:"email",type:"email",value:t.email,onChange:_=>y("email",_.target.value),placeholder:"أدخل بريدك الإلكتروني",className:"pl-10 h-12 text-sm transition-all duration-300 hover:border-green-400 focus:border-green-500 bg-white/50",disabled:o})]})]}),l.jsxs("div",{className:"space-y-2 fade-in-up",children:[l.jsx(Qe,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"كلمة المرور"}),l.jsxs("div",{className:"relative",children:[l.jsx(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Pe,{id:"password",type:n?"text":"password",value:t.password,onChange:_=>y("password",_.target.value),placeholder:"أدخل كلمة المرور (6 أحرف على الأقل)",className:"pl-10 pr-10 h-12 text-sm transition-all duration-300 hover:border-green-400 focus:border-green-500 bg-white/50",disabled:o}),l.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:o,children:n?l.jsx(Yr,{className:"h-4 w-4"}):l.jsx(Xr,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2 fade-in-up",children:[l.jsx(Qe,{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"تأكيد كلمة المرور"}),l.jsxs("div",{className:"relative",children:[l.jsx(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Pe,{id:"confirmPassword",type:s?"text":"password",value:t.confirmPassword,onChange:_=>y("confirmPassword",_.target.value),placeholder:"أعد إدخال كلمة المرور",className:"pl-10 pr-10 h-12 text-sm transition-all duration-300 hover:border-green-400 focus:border-green-500 bg-white/50",disabled:o}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:o,children:s?l.jsx(Yr,{className:"h-4 w-4"}):l.jsx(Xr,{className:"h-4 w-4"})})]})]}),l.jsx(Z,{type:"submit",disabled:o||!t.name||!t.email||!t.password||!t.confirmPassword,className:"w-full h-12 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-medium transition-all duration-300 btn-bounce hover-glow fade-in-up",children:o?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري إنشاء الحساب..."]}):l.jsxs("div",{className:"flex items-center gap-2",children:["إنشاء حساب جديد",l.jsx(zS,{className:"h-4 w-4"})]})})]}),l.jsx("div",{className:"text-center pt-4 border-t border-gray-200 fade-in-up",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["لديك حساب بالفعل؟"," ",l.jsx(Wr,{to:"/user/login",className:"text-green-600 hover:text-green-700 font-medium transition-colors hover:underline",children:"تسجيل الدخول"})]})}),l.jsx("div",{className:"text-center pt-2 fade-in-up",children:l.jsxs("p",{className:"text-xs text-gray-500",children:["هل أنت مدير؟"," ",l.jsx(Wr,{to:"/admin/login",className:"text-indigo-600 hover:text-indigo-700 font-medium transition-colors hover:underline",children:"تسجيل دخول المدير"})]})})]})]}),l.jsx("div",{className:"text-center mt-8 fade-in-up",children:l.jsx("p",{className:"text-xs text-gray-500",children:"© 2024 كاشي لينك. جميع الحقوق محفوظة."})})]})})},WB=()=>{const t=zs(),{toast:e}=Cr(),[n,r]=p.useState({username:"",password:""}),[s,i]=p.useState(!1),[o,a]=p.useState(!1),c=f=>{const{name:m,value:y}=f.target;r(T=>({...T,[m]:y}))},d=async f=>{f.preventDefault(),a(!0);try{if(n.username==="admin"&&n.password==="admin123")localStorage.setItem("dashboardAuth","true"),localStorage.setItem("dashboardUser",JSON.stringify({username:n.username,loginTime:new Date().toISOString()})),e({title:"مرحباً بك في لوحة التحكم!",description:"تم تسجيل الدخول بنجاح"}),t("/dashboard");else throw new Error("اسم المستخدم أو كلمة المرور غير صحيحة")}catch(m){console.error("Login error:",m),e({title:"خطأ في تسجيل الدخول",description:m.message||"تحقق من اسم المستخدم وكلمة المرور",variant:"destructive"})}finally{a(!1)}},h=()=>{r({username:"admin",password:"admin123"})};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-background to-indigo-50 flex items-center justify-center p-4",children:l.jsxs(st,{className:"w-full max-w-md shadow-lg",children:[l.jsxs(Ut,{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-sm",children:"ك"})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ma,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"text-xl font-bold text-primary",children:"كاشي لينك"})]})]}),l.jsx($t,{className:"text-2xl font-bold text-gray-800",children:"لوحة التحكم"}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"تسجيل الدخول للوصول إلى لوحة التحكم"})]}),l.jsxs(it,{children:[l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"اسم المستخدم"}),l.jsxs("div",{className:"relative",children:[l.jsx(Lv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Pe,{name:"username",type:"text",value:n.username,onChange:c,placeholder:"أدخل اسم المستخدم",className:"pl-10",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"كلمة المرور"}),l.jsxs("div",{className:"relative",children:[l.jsx(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Pe,{name:"password",type:s?"text":"password",value:n.password,onChange:c,placeholder:"أدخل كلمة المرور",className:"pl-10 pr-10",required:!0}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?l.jsx(Yr,{className:"h-4 w-4"}):l.jsx(Xr,{className:"h-4 w-4"})})]})]}),l.jsx(Z,{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:o?"جاري تسجيل الدخول...":"تسجيل الدخول"})]}),l.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"للتجربة السريعة:"}),l.jsxs(Z,{onClick:h,variant:"outline",className:"w-full text-sm",children:[l.jsx(Qc,{className:"h-4 w-4 mr-2"}),"تسجيل دخول تجريبي"]}),l.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"اسم المستخدم: admin | كلمة المرور: admin123"})]})}),l.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Qc,{className:"h-4 w-4 text-blue-600 mt-0.5"}),l.jsxs("div",{className:"text-xs text-blue-700",children:[l.jsx("p",{className:"font-medium mb-1",children:"ملاحظة أمنية:"}),l.jsx("p",{children:"تأكد من أنك تستخدم اتصال آمن وموثوق للوصول إلى لوحة التحكم."})]})]})})]})]})})},HB=Su("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Dn({className:t,variant:e,...n}){return l.jsx("div",{className:Ee(HB({variant:e}),t),...n})}var qB=p.createContext(void 0);function fp(t){const e=p.useContext(qB);return t||e||"ltr"}var Dm="rovingFocusGroup.onEntryFocus",GB={bubbles:!1,cancelable:!0},Uu="RovingFocusGroup",[by,LA,KB]=Af(Uu),[QB,pp]=Ar(Uu,[KB]),[YB,XB]=QB(Uu),VA=p.forwardRef((t,e)=>l.jsx(by.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(by.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(JB,{...t,ref:e})})}));VA.displayName=Uu;var JB=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,m=p.useRef(null),y=qe(e,m),T=fp(i),[v,_]=Oo({prop:o,defaultProp:a??null,onChange:c,caller:Uu}),[E,w]=p.useState(!1),x=Cn(d),A=LA(n),j=p.useRef(!1),[O,N]=p.useState(0);return p.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Dm,x),()=>S.removeEventListener(Dm,x)},[x]),l.jsx(YB,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(S=>_(S),[_]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(S=>S+1),[]),onFocusableItemRemove:p.useCallback(()=>N(S=>S-1),[]),children:l.jsx(_e.div,{tabIndex:E||O===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:re(t.onMouseDown,()=>{j.current=!0}),onFocus:re(t.onFocus,S=>{const C=!j.current;if(S.target===S.currentTarget&&C&&!E){const P=new CustomEvent(Dm,GB);if(S.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=A().filter(X=>X.focusable),R=D.find(X=>X.active),k=D.find(X=>X.id===v),se=[R,k,...D].filter(Boolean).map(X=>X.ref.current);$A(se,h)}}j.current=!1}),onBlur:re(t.onBlur,()=>w(!1))})})}),FA="RovingFocusGroupItem",UA=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=Jr(),d=i||c,h=XB(FA,n),f=h.currentTabStopId===d,m=LA(n),{onFocusableItemAdd:y,onFocusableItemRemove:T,currentTabStopId:v}=h;return p.useEffect(()=>{if(r)return y(),()=>T()},[r,y,T]),l.jsx(by.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:l.jsx(_e.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:re(t.onMouseDown,_=>{r?h.onItemFocus(d):_.preventDefault()}),onFocus:re(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:re(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){h.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const E=t7(_,h.orientation,h.dir);if(E!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let x=m().filter(A=>A.focusable).map(A=>A.ref.current);if(E==="last")x.reverse();else if(E==="prev"||E==="next"){E==="prev"&&x.reverse();const A=x.indexOf(_.currentTarget);x=h.loop?n7(x,A+1):x.slice(A+1)}setTimeout(()=>$A(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});UA.displayName=FA;var ZB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function t7(t,e,n){const r=e7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ZB[r]}function $A(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function n7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var BA=VA,zA=UA,mp="Tabs",[r7,MW]=Ar(mp,[pp]),WA=pp(),[s7,Z0]=r7(mp),HA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,h=fp(a),[f,m]=Oo({prop:r,onChange:s,defaultProp:i??"",caller:mp});return l.jsx(s7,{scope:n,baseId:Jr(),value:f,onValueChange:m,orientation:o,dir:h,activationMode:c,children:l.jsx(_e.div,{dir:h,"data-orientation":o,...d,ref:e})})});HA.displayName=mp;var qA="TabsList",GA=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Z0(qA,n),o=WA(n);return l.jsx(BA,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(_e.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});GA.displayName=qA;var KA="TabsTrigger",QA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Z0(KA,n),a=WA(n),c=JA(o.baseId,r),d=ZA(o.baseId,r),h=r===o.value;return l.jsx(zA,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(_e.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:re(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:re(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:re(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});QA.displayName=KA;var YA="TabsContent",XA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Z0(YA,n),c=JA(a.baseId,r),d=ZA(a.baseId,r),h=r===a.value,f=p.useRef(h);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(Pr,{present:s||h,children:({present:m})=>l.jsx(_e.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});XA.displayName=YA;function JA(t,e){return`${t}-trigger-${e}`}function ZA(t,e){return`${t}-content-${e}`}var i7=HA,eP=GA,tP=QA,nP=XA;const rP=i7,ex=p.forwardRef(({className:t,...e},n)=>l.jsx(eP,{ref:n,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ex.displayName=eP.displayName;const yr=p.forwardRef(({className:t,...e},n)=>l.jsx(tP,{ref:n,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));yr.displayName=tP.displayName;const ho=p.forwardRef(({className:t,...e},n)=>l.jsx(nP,{ref:n,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ho.displayName=nP.displayName;function kE(t,[e,n]){return Math.min(n,Math.max(e,t))}var Om=0;function tx(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??jE()),document.body.insertAdjacentElement("beforeend",t[1]??jE()),Om++,()=>{Om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Om--}},[])}function jE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Mm="focusScope.autoFocusOnMount",Lm="focusScope.autoFocusOnUnmount",DE={bubbles:!1,cancelable:!0},o7="FocusScope",gp=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=p.useState(null),d=Cn(s),h=Cn(i),f=p.useRef(null),m=qe(e,v=>c(v)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(x){if(y.paused||!a)return;const A=x.target;a.contains(A)?f.current=A:si(f.current,{select:!0})},_=function(x){if(y.paused||!a)return;const A=x.relatedTarget;A!==null&&(a.contains(A)||si(f.current,{select:!0}))},E=function(x){if(document.activeElement===document.body)for(const j of x)j.removedNodes.length>0&&si(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),w.disconnect()}}},[r,a,y.paused]),p.useEffect(()=>{if(a){ME.add(y);const v=document.activeElement;if(!a.contains(v)){const E=new CustomEvent(Mm,DE);a.addEventListener(Mm,d),a.dispatchEvent(E),E.defaultPrevented||(a7(h7(sP(a)),{select:!0}),document.activeElement===v&&si(a))}return()=>{a.removeEventListener(Mm,d),setTimeout(()=>{const E=new CustomEvent(Lm,DE);a.addEventListener(Lm,h),a.dispatchEvent(E),E.defaultPrevented||si(v??document.body,{select:!0}),a.removeEventListener(Lm,h),ME.remove(y)},0)}}},[a,d,h,y]);const T=p.useCallback(v=>{if(!n&&!r||y.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(_&&E){const w=v.currentTarget,[x,A]=l7(w);x&&A?!v.shiftKey&&E===A?(v.preventDefault(),n&&si(x,{select:!0})):v.shiftKey&&E===x&&(v.preventDefault(),n&&si(A,{select:!0})):E===w&&v.preventDefault()}},[n,r,y.paused]);return l.jsx(_e.div,{tabIndex:-1,...o,ref:m,onKeyDown:T})});gp.displayName=o7;function a7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(si(r,{select:e}),document.activeElement!==n)return}function l7(t){const e=sP(t),n=OE(e,t),r=OE(e.reverse(),t);return[n,r]}function sP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function OE(t,e){for(const n of t)if(!c7(n,{upTo:e}))return n}function c7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function u7(t){return t instanceof HTMLInputElement&&"select"in t}function si(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&u7(t)&&e&&t.select()}}var ME=d7();function d7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=LE(t,e),t.unshift(e)},remove(e){var n;t=LE(t,e),(n=t[0])==null||n.resume()}}}function LE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function h7(t){return t.filter(e=>e.tagName!=="A")}function f7(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var p7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ca=new WeakMap,kd=new WeakMap,jd={},Vm=0,iP=function(t){return t&&(t.host||iP(t.parentNode))},m7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=iP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},g7=function(t,e,n,r){var s=m7(e,Array.isArray(t)?t:[t]);jd[n]||(jd[n]=new WeakMap);var i=jd[n],o=[],a=new Set,c=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var y=m.getAttribute(r),T=y!==null&&y!=="false",v=(ca.get(m)||0)+1,_=(i.get(m)||0)+1;ca.set(m,v),i.set(m,_),o.push(m),v===1&&T&&kd.set(m,!0),_===1&&m.setAttribute(n,"true"),T||m.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return h(e),a.clear(),Vm++,function(){o.forEach(function(f){var m=ca.get(f)-1,y=i.get(f)-1;ca.set(f,m),i.set(f,y),m||(kd.has(f)||f.removeAttribute(r),kd.delete(f)),y||f.removeAttribute(n)}),Vm--,Vm||(ca=new WeakMap,ca=new WeakMap,kd=new WeakMap,jd={})}},nx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=p7(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),g7(r,s,n,"aria-hidden")):function(){return null}},Hr=function(){return Hr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hr.apply(this,arguments)};function oP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function y7(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var ah="right-scroll-bar-position",lh="width-before-scroll-bar",v7="with-scroll-bars-hidden",x7="--removed-body-scroll-bar-size";function Fm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function w7(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var _7=typeof window<"u"?p.useLayoutEffect:p.useEffect,VE=new WeakMap;function E7(t,e){var n=w7(null,function(r){return t.forEach(function(s){return Fm(s,r)})});return _7(function(){var r=VE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Fm(a,null)}),i.forEach(function(a){s.has(a)||Fm(a,o)})}VE.set(n,t)},[t]),n}function b7(t){return t}function T7(t,e){e===void 0&&(e=b7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function S7(t){t===void 0&&(t={});var e=T7(null);return e.options=Hr({async:!0,ssr:!1},t),e}var aP=function(t){var e=t.sideCar,n=oP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Hr({},n))};aP.isSideCarExport=!0;function N7(t,e){return t.useMedium(e),aP}var lP=S7(),Um=function(){},yp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Um,onWheelCapture:Um,onTouchMoveCapture:Um}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,y=t.noRelative,T=t.noIsolation,v=t.inert,_=t.allowPinchZoom,E=t.as,w=E===void 0?"div":E,x=t.gapMode,A=oP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,O=E7([n,e]),N=Hr(Hr({},A),s);return p.createElement(p.Fragment,null,h&&p.createElement(j,{sideCar:lP,removeScrollBar:d,shards:f,noRelative:y,noIsolation:T,inert:v,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:x}),o?p.cloneElement(p.Children.only(a),Hr(Hr({},N),{ref:O})):p.createElement(w,Hr({},N,{className:c,ref:O}),a))});yp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yp.classNames={fullWidth:lh,zeroRight:ah};var I7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function C7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=I7();return e&&t.setAttribute("nonce",e),t}function A7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function P7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var R7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=C7())&&(A7(e,n),P7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},k7=function(){var t=R7();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},cP=function(){var t=k7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},j7={left:0,top:0,right:0,gap:0},$m=function(t){return parseInt(t||"",10)||0},D7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[$m(n),$m(r),$m(s)]},O7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return j7;var e=D7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},M7=cP(),Wa="data-scroll-locked",L7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(v7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Wa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ah,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ah," .").concat(ah,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lh," .").concat(lh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wa,`] {
    `).concat(x7,": ").concat(a,`px;
  }
`)},FE=function(){var t=parseInt(document.body.getAttribute(Wa)||"0",10);return isFinite(t)?t:0},V7=function(){p.useEffect(function(){return document.body.setAttribute(Wa,(FE()+1).toString()),function(){var t=FE()-1;t<=0?document.body.removeAttribute(Wa):document.body.setAttribute(Wa,t.toString())}},[])},F7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;V7();var i=p.useMemo(function(){return O7(s)},[s]);return p.createElement(M7,{styles:L7(i,!e,s,n?"":"!important")})},Ty=!1;if(typeof window<"u")try{var Dd=Object.defineProperty({},"passive",{get:function(){return Ty=!0,!0}});window.addEventListener("test",Dd,Dd),window.removeEventListener("test",Dd,Dd)}catch{Ty=!1}var ua=Ty?{passive:!1}:!1,U7=function(t){return t.tagName==="TEXTAREA"},uP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!U7(t)&&n[e]==="visible")},$7=function(t){return uP(t,"overflowY")},B7=function(t){return uP(t,"overflowX")},UE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=dP(t,r);if(s){var i=hP(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},z7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},W7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},dP=function(t,e){return t==="v"?$7(e):B7(e)},hP=function(t,e){return t==="v"?z7(e):W7(e)},H7=function(t,e){return t==="h"&&e==="rtl"?-1:1},q7=function(t,e,n,r,s){var i=H7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,f=0,m=0;do{if(!a)break;var y=hP(t,a),T=y[0],v=y[1],_=y[2],E=v-_-i*T;(T||E)&&dP(t,a)&&(f+=E,m+=T);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(d=!0),d},Od=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$E=function(t){return[t.deltaX,t.deltaY]},BE=function(t){return t&&"current"in t?t.current:t},G7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},K7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Q7=0,da=[];function Y7(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(Q7++)[0],i=p.useState(cP)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=y7([t.lockRef.current],(t.shards||[]).map(BE),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var E=Od(v),w=n.current,x="deltaX"in v?v.deltaX:w[0]-E[0],A="deltaY"in v?v.deltaY:w[1]-E[1],j,O=v.target,N=Math.abs(x)>Math.abs(A)?"h":"v";if("touches"in v&&N==="h"&&O.type==="range")return!1;var S=UE(N,O);if(!S)return!0;if(S?j=N:(j=N==="v"?"h":"v",S=UE(N,O)),!S)return!1;if(!r.current&&"changedTouches"in v&&(x||A)&&(r.current=j),!j)return!0;var C=r.current||j;return q7(C,_,v,C==="h"?x:A,!0)},[]),c=p.useCallback(function(v){var _=v;if(!(!da.length||da[da.length-1]!==i)){var E="deltaY"in _?$E(_):Od(_),w=e.current.filter(function(j){return j.name===_.type&&(j.target===_.target||_.target===j.shadowParent)&&G7(j.delta,E)})[0];if(w&&w.should){_.cancelable&&_.preventDefault();return}if(!w){var x=(o.current.shards||[]).map(BE).filter(Boolean).filter(function(j){return j.contains(_.target)}),A=x.length>0?a(_,x[0]):!o.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),d=p.useCallback(function(v,_,E,w){var x={name:v,delta:_,target:E,should:w,shadowParent:X7(E)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(A){return A!==x})},1)},[]),h=p.useCallback(function(v){n.current=Od(v),r.current=void 0},[]),f=p.useCallback(function(v){d(v.type,$E(v),v.target,a(v,t.lockRef.current))},[]),m=p.useCallback(function(v){d(v.type,Od(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return da.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ua),document.addEventListener("touchmove",c,ua),document.addEventListener("touchstart",h,ua),function(){da=da.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,ua),document.removeEventListener("touchmove",c,ua),document.removeEventListener("touchstart",h,ua)}},[]);var y=t.removeScrollBar,T=t.inert;return p.createElement(p.Fragment,null,T?p.createElement(i,{styles:K7(s)}):null,y?p.createElement(F7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function X7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const J7=N7(lP,Y7);var vp=p.forwardRef(function(t,e){return p.createElement(yp,Hr({},t,{ref:e,sideCar:J7}))});vp.classNames=yp.classNames;var Z7=[" ","Enter","ArrowUp","ArrowDown"],ez=[" ","Enter"],Wo="Select",[xp,wp,tz]=Af(Wo),[Ml,LW]=Ar(Wo,[tz,Nl]),_p=Nl(),[nz,to]=Ml(Wo),[rz,sz]=Ml(Wo),fP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:m,required:y,form:T}=t,v=_p(e),[_,E]=p.useState(null),[w,x]=p.useState(null),[A,j]=p.useState(!1),O=fp(d),[N,S]=Oo({prop:r,defaultProp:s??!1,onChange:i,caller:Wo}),[C,P]=Oo({prop:o,defaultProp:a,onChange:c,caller:Wo}),D=p.useRef(null),R=_?T||!!_.closest("form"):!0,[k,B]=p.useState(new Set),se=Array.from(k).map(X=>X.props.value).join(";");return l.jsx(SN,{...v,children:l.jsxs(nz,{required:y,scope:e,trigger:_,onTriggerChange:E,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:A,onValueNodeHasChildrenChange:j,contentId:Jr(),value:C,onValueChange:P,open:N,onOpenChange:S,dir:O,triggerPointerDownPosRef:D,disabled:m,children:[l.jsx(xp.Provider,{scope:e,children:l.jsx(rz,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(X=>{B(ae=>new Set(ae).add(X))},[]),onNativeOptionRemove:p.useCallback(X=>{B(ae=>{const U=new Set(ae);return U.delete(X),U})},[]),children:n})}),R?l.jsxs(LP,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:X=>P(X.target.value),disabled:m,form:T,children:[C===void 0?l.jsx("option",{value:""}):null,Array.from(k)]},se):null]})})};fP.displayName=Wo;var pP="SelectTrigger",mP=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=_p(n),o=to(pP,n),a=o.disabled||r,c=qe(e,o.onTriggerChange),d=wp(n),h=p.useRef("touch"),[f,m,y]=FP(v=>{const _=d().filter(x=>!x.disabled),E=_.find(x=>x.value===o.value),w=UP(_,v,E);w!==void 0&&o.onValueChange(w.value)}),T=v=>{a||(o.onOpenChange(!0),y()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(Kv,{asChild:!0,...i,children:l.jsx(_e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":VP(o.value)?"":void 0,...s,ref:c,onClick:re(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&T(v)}),onPointerDown:re(s.onPointerDown,v=>{h.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(T(v),v.preventDefault())}),onKeyDown:re(s.onKeyDown,v=>{const _=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(_&&v.key===" ")&&Z7.includes(v.key)&&(T(),v.preventDefault())})})})});mP.displayName=pP;var gP="SelectValue",yP=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=to(gP,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=qe(e,c.onValueNodeChange);return Wt(()=>{d(h)},[d,h]),l.jsx(_e.span,{...a,ref:f,style:{pointerEvents:"none"},children:VP(c.value)?l.jsx(l.Fragment,{children:o}):i})});yP.displayName=gP;var iz="SelectIcon",vP=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(_e.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});vP.displayName=iz;var oz="SelectPortal",xP=t=>l.jsx(bu,{asChild:!0,...t});xP.displayName=oz;var Ho="SelectContent",wP=p.forwardRef((t,e)=>{const n=to(Ho,t.__scopeSelect),[r,s]=p.useState();if(Wt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Qo.createPortal(l.jsx(_P,{scope:t.__scopeSelect,children:l.jsx(xp.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(EP,{...t,ref:e})});wP.displayName=Ho;var ur=10,[_P,no]=Ml(Ho),az="SelectContentImpl",lz=Do("SelectContent.RemoveScroll"),EP=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:T,hideWhenDetached:v,avoidCollisions:_,...E}=t,w=to(Ho,n),[x,A]=p.useState(null),[j,O]=p.useState(null),N=qe(e,K=>A(K)),[S,C]=p.useState(null),[P,D]=p.useState(null),R=wp(n),[k,B]=p.useState(!1),se=p.useRef(!1);p.useEffect(()=>{if(x)return nx(x)},[x]),tx();const X=p.useCallback(K=>{const[ke,...Ie]=R().map(ve=>ve.ref.current),[be]=Ie.slice(-1),Ce=document.activeElement;for(const ve of K)if(ve===Ce||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===ke&&j&&(j.scrollTop=0),ve===be&&j&&(j.scrollTop=j.scrollHeight),ve==null||ve.focus(),document.activeElement!==Ce))return},[R,j]),ae=p.useCallback(()=>X([S,x]),[X,S,x]);p.useEffect(()=>{k&&ae()},[k,ae]);const{onOpenChange:U,triggerPointerDownPosRef:V}=w;p.useEffect(()=>{if(x){let K={x:0,y:0};const ke=be=>{var Ce,ve;K={x:Math.abs(Math.round(be.pageX)-(((Ce=V.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(be.pageY)-(((ve=V.current)==null?void 0:ve.y)??0))}},Ie=be=>{K.x<=10&&K.y<=10?be.preventDefault():x.contains(be.target)||U(!1),document.removeEventListener("pointermove",ke),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[x,U,V]),p.useEffect(()=>{const K=()=>U(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[U]);const[Y,he]=FP(K=>{const ke=R().filter(Ce=>!Ce.disabled),Ie=ke.find(Ce=>Ce.ref.current===document.activeElement),be=UP(ke,K,Ie);be&&setTimeout(()=>be.ref.current.focus())}),te=p.useCallback((K,ke,Ie)=>{const be=!se.current&&!Ie;(w.value!==void 0&&w.value===ke||be)&&(C(K),be&&(se.current=!0))},[w.value]),de=p.useCallback(()=>x==null?void 0:x.focus(),[x]),ye=p.useCallback((K,ke,Ie)=>{const be=!se.current&&!Ie;(w.value!==void 0&&w.value===ke||be)&&D(K)},[w.value]),Ne=r==="popper"?Sy:bP,Ve=Ne===Sy?{side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:T,hideWhenDetached:v,avoidCollisions:_}:{};return l.jsx(_P,{scope:n,content:x,viewport:j,onViewportChange:O,itemRefCallback:te,selectedItem:S,onItemLeave:de,itemTextRefCallback:ye,focusSelectedItem:ae,selectedItemText:P,position:r,isPositioned:k,searchRef:Y,children:l.jsx(vp,{as:lz,allowPinchZoom:!0,children:l.jsx(gp,{asChild:!0,trapped:w.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:re(s,K=>{var ke;(ke=w.trigger)==null||ke.focus({preventScroll:!0}),K.preventDefault()}),children:l.jsx(El,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(Ne,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:K=>K.preventDefault(),...E,...Ve,onPlaced:()=>B(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:re(E.onKeyDown,K=>{const ke=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!ke&&K.key.length===1&&he(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let be=R().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(K.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const Ce=K.target,ve=be.indexOf(Ce);be=be.slice(ve+1)}setTimeout(()=>X(be)),K.preventDefault()}})})})})})})});EP.displayName=az;var cz="SelectItemAlignedPosition",bP=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=to(Ho,n),o=no(Ho,n),[a,c]=p.useState(null),[d,h]=p.useState(null),f=qe(e,N=>h(N)),m=wp(n),y=p.useRef(!1),T=p.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:E,focusSelectedItem:w}=o,x=p.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&v&&_&&E){const N=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=P.left-S.left,ve=C.left-Ce,et=N.left-ve,Et=N.width+et,Dt=Math.max(Et,S.width),ln=window.innerWidth-ur,yn=kE(ve,[ur,Math.max(ur,ln-Dt)]);a.style.minWidth=Et+"px",a.style.left=yn+"px"}else{const Ce=S.right-P.right,ve=window.innerWidth-C.right-Ce,et=window.innerWidth-N.right-ve,Et=N.width+et,Dt=Math.max(Et,S.width),ln=window.innerWidth-ur,yn=kE(ve,[ur,Math.max(ur,ln-Dt)]);a.style.minWidth=Et+"px",a.style.right=yn+"px"}const D=m(),R=window.innerHeight-ur*2,k=v.scrollHeight,B=window.getComputedStyle(d),se=parseInt(B.borderTopWidth,10),X=parseInt(B.paddingTop,10),ae=parseInt(B.borderBottomWidth,10),U=parseInt(B.paddingBottom,10),V=se+X+k+U+ae,Y=Math.min(_.offsetHeight*5,V),he=window.getComputedStyle(v),te=parseInt(he.paddingTop,10),de=parseInt(he.paddingBottom,10),ye=N.top+N.height/2-ur,Ne=R-ye,Ve=_.offsetHeight/2,K=_.offsetTop+Ve,ke=se+X+K,Ie=V-ke;if(ke<=ye){const Ce=D.length>0&&_===D[D.length-1].ref.current;a.style.bottom="0px";const ve=d.clientHeight-v.offsetTop-v.offsetHeight,et=Math.max(Ne,Ve+(Ce?de:0)+ve+ae),Et=ke+et;a.style.height=Et+"px"}else{const Ce=D.length>0&&_===D[0].ref.current;a.style.top="0px";const et=Math.max(ye,se+v.offsetTop+(Ce?te:0)+Ve)+Ie;a.style.height=et+"px",v.scrollTop=ke-ye+v.offsetTop}a.style.margin=`${ur}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,a,d,v,_,E,i.dir,r]);Wt(()=>x(),[x]);const[A,j]=p.useState();Wt(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const O=p.useCallback(N=>{N&&T.current===!0&&(x(),w==null||w(),T.current=!1)},[x,w]);return l.jsx(dz,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:O,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:l.jsx(_e.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});bP.displayName=cz;var uz="SelectPopperPosition",Sy=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ur,...i}=t,o=_p(n);return l.jsx(Qv,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sy.displayName=uz;var[dz,rx]=Ml(Ho,{}),Ny="SelectViewport",TP=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=no(Ny,n),o=rx(Ny,n),a=qe(e,i.onViewportChange),c=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(xp.Slot,{scope:n,children:l.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:re(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const T=window.innerHeight-ur*2,v=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),E=Math.max(v,_);if(E<T){const w=E+y,x=Math.min(T,w),A=w-x;f.style.height=x+"px",f.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});TP.displayName=Ny;var SP="SelectGroup",[hz,fz]=Ml(SP),pz=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Jr();return l.jsx(hz,{scope:n,id:s,children:l.jsx(_e.div,{role:"group","aria-labelledby":s,...r,ref:e})})});pz.displayName=SP;var NP="SelectLabel",IP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=fz(NP,n);return l.jsx(_e.div,{id:s.id,...r,ref:e})});IP.displayName=NP;var af="SelectItem",[mz,CP]=Ml(af),AP=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=to(af,n),c=no(af,n),d=a.value===r,[h,f]=p.useState(i??""),[m,y]=p.useState(!1),T=qe(e,w=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,w,r,s)}),v=Jr(),_=p.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(mz,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:p.useCallback(w=>{f(x=>x||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(xp.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(_e.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:re(o.onFocus,()=>y(!0)),onBlur:re(o.onBlur,()=>y(!1)),onClick:re(o.onClick,()=>{_.current!=="mouse"&&E()}),onPointerUp:re(o.onPointerUp,()=>{_.current==="mouse"&&E()}),onPointerDown:re(o.onPointerDown,w=>{_.current=w.pointerType}),onPointerMove:re(o.onPointerMove,w=>{var x;_.current=w.pointerType,s?(x=c.onItemLeave)==null||x.call(c):_.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(o.onPointerLeave,w=>{var x;w.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:re(o.onKeyDown,w=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&w.key===" "||(ez.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});AP.displayName=af;var dc="SelectItemText",PP=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=to(dc,n),a=no(dc,n),c=CP(dc,n),d=sz(dc,n),[h,f]=p.useState(null),m=qe(e,E=>f(E),c.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,c.value,c.disabled)}),y=h==null?void 0:h.textContent,T=p.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=d;return Wt(()=>(v(T),()=>_(T)),[v,_,T]),l.jsxs(l.Fragment,{children:[l.jsx(_e.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qo.createPortal(i.children,o.valueNode):null]})});PP.displayName=dc;var RP="SelectItemIndicator",kP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return CP(RP,n).isSelected?l.jsx(_e.span,{"aria-hidden":!0,...r,ref:e}):null});kP.displayName=RP;var Iy="SelectScrollUpButton",jP=p.forwardRef((t,e)=>{const n=no(Iy,t.__scopeSelect),r=rx(Iy,t.__scopeSelect),[s,i]=p.useState(!1),o=qe(e,r.onScrollButtonChange);return Wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(OP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});jP.displayName=Iy;var Cy="SelectScrollDownButton",DP=p.forwardRef((t,e)=>{const n=no(Cy,t.__scopeSelect),r=rx(Cy,t.__scopeSelect),[s,i]=p.useState(!1),o=qe(e,r.onScrollButtonChange);return Wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(OP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});DP.displayName=Cy;var OP=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=no("SelectScrollButton",n),o=p.useRef(null),a=wp(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Wt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(_e.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:re(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:re(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:re(s.onPointerLeave,()=>{c()})})}),gz="SelectSeparator",MP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(_e.div,{"aria-hidden":!0,...r,ref:e})});MP.displayName=gz;var Ay="SelectArrow",yz=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_p(n),i=to(Ay,n),o=no(Ay,n);return i.open&&o.position==="popper"?l.jsx(Yv,{...s,...r,ref:e}):null});yz.displayName=Ay;var vz="SelectBubbleInput",LP=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=qe(r,s),o=f7(e);return p.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),l.jsx(_e.select,{...n,style:{...wS,...n.style},ref:i,defaultValue:e})});LP.displayName=vz;function VP(t){return t===""||t===void 0}function FP(t){const e=Cn(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const a=n.current+o;e(a),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function UP(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=xz(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function xz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wz=fP,$P=mP,_z=yP,Ez=vP,bz=xP,BP=wP,Tz=TP,zP=IP,WP=AP,Sz=PP,Nz=kP,HP=jP,qP=DP,GP=MP;const sx=wz,ix=_z,Ep=p.forwardRef(({className:t,children:e,...n},r)=>l.jsxs($P,{ref:r,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(Ez,{asChild:!0,children:l.jsx(HS,{className:"h-4 w-4 opacity-50"})})]}));Ep.displayName=$P.displayName;const KP=p.forwardRef(({className:t,...e},n)=>l.jsx(HP,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(bO,{className:"h-4 w-4"})}));KP.displayName=HP.displayName;const QP=p.forwardRef(({className:t,...e},n)=>l.jsx(qP,{ref:n,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(HS,{className:"h-4 w-4"})}));QP.displayName=qP.displayName;const bp=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(bz,{children:l.jsxs(BP,{ref:s,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(KP,{}),l.jsx(Tz,{className:Ee("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(QP,{})]})}));bp.displayName=BP.displayName;const Iz=p.forwardRef(({className:t,...e},n)=>l.jsx(zP,{ref:n,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Iz.displayName=zP.displayName;const vo=p.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(WP,{ref:r,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Nz,{children:l.jsx(WS,{className:"h-4 w-4"})})}),l.jsx(Sz,{children:e})]}));vo.displayName=WP.displayName;const Cz=p.forwardRef(({className:t,...e},n)=>l.jsx(GP,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));Cz.displayName=GP.displayName;var Tp="Dialog",[YP,VW]=Ar(Tp),[Az,kr]=YP(Tp),XP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=p.useRef(null),c=p.useRef(null),[d,h]=Oo({prop:r,defaultProp:s??!1,onChange:i,caller:Tp});return l.jsx(Az,{scope:e,triggerRef:a,contentRef:c,contentId:Jr(),titleId:Jr(),descriptionId:Jr(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};XP.displayName=Tp;var JP="DialogTrigger",Pz=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(JP,n),i=qe(e,s.triggerRef);return l.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":lx(s.open),...r,ref:i,onClick:re(t.onClick,s.onOpenToggle)})});Pz.displayName=JP;var ox="DialogPortal",[Rz,ZP]=YP(ox,{forceMount:void 0}),eR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=kr(ox,e);return l.jsx(Rz,{scope:e,forceMount:n,children:p.Children.map(r,o=>l.jsx(Pr,{present:n||i.open,children:l.jsx(bu,{asChild:!0,container:s,children:o})}))})};eR.displayName=ox;var lf="DialogOverlay",tR=p.forwardRef((t,e)=>{const n=ZP(lf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=kr(lf,t.__scopeDialog);return i.modal?l.jsx(Pr,{present:r||i.open,children:l.jsx(jz,{...s,ref:e})}):null});tR.displayName=lf;var kz=Do("DialogOverlay.RemoveScroll"),jz=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(lf,n);return l.jsx(vp,{as:kz,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(_e.div,{"data-state":lx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qo="DialogContent",nR=p.forwardRef((t,e)=>{const n=ZP(qo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=kr(qo,t.__scopeDialog);return l.jsx(Pr,{present:r||i.open,children:i.modal?l.jsx(Dz,{...s,ref:e}):l.jsx(Oz,{...s,ref:e})})});nR.displayName=qo;var Dz=p.forwardRef((t,e)=>{const n=kr(qo,t.__scopeDialog),r=p.useRef(null),s=qe(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return nx(i)},[]),l.jsx(rR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:re(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:re(t.onFocusOutside,i=>i.preventDefault())})}),Oz=p.forwardRef((t,e)=>{const n=kr(qo,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return l.jsx(rR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),rR=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=kr(qo,n),c=p.useRef(null),d=qe(e,c);return tx(),l.jsxs(l.Fragment,{children:[l.jsx(gp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(El,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":lx(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Mz,{titleId:a.titleId}),l.jsx(Vz,{contentRef:c,descriptionId:a.descriptionId})]})]})}),ax="DialogTitle",sR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(ax,n);return l.jsx(_e.h2,{id:s.titleId,...r,ref:e})});sR.displayName=ax;var iR="DialogDescription",oR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(iR,n);return l.jsx(_e.p,{id:s.descriptionId,...r,ref:e})});oR.displayName=iR;var aR="DialogClose",lR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(aR,n);return l.jsx(_e.button,{type:"button",...r,ref:e,onClick:re(t.onClick,()=>s.onOpenChange(!1))})});lR.displayName=aR;function lx(t){return t?"open":"closed"}var cR="DialogTitleWarning",[FW,uR]=SD(cR,{contentName:qo,titleName:ax,docsSlug:"dialog"}),Mz=({titleId:t})=>{const e=uR(cR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Lz="DialogDescriptionWarning",Vz=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uR(Lz).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Fz=XP,Uz=eR,dR=tR,hR=nR,fR=sR,pR=oR,$z=lR;const ro=Fz,Bz=Uz,mR=p.forwardRef(({className:t,...e},n)=>l.jsx(dR,{ref:n,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));mR.displayName=dR.displayName;const qs=p.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Bz,{children:[l.jsx(mR,{}),l.jsxs(hR,{ref:r,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs($z,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(GS,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qs.displayName=hR.displayName;const Gs=({className:t,...e})=>l.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Gs.displayName="DialogHeader";const gR=({className:t,...e})=>l.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});gR.displayName="DialogFooter";const Ks=p.forwardRef(({className:t,...e},n)=>l.jsx(fR,{ref:n,className:Ee("text-lg font-semibold leading-none tracking-tight",t),...e}));Ks.displayName=fR.displayName;const zz=p.forwardRef(({className:t,...e},n)=>l.jsx(pR,{ref:n,className:Ee("text-sm text-muted-foreground",t),...e}));zz.displayName=pR.displayName;const yR=({isOpen:t,onClose:e,onWalletUpdate:n})=>{const{toast:r}=Cr(),[s,i]=p.useState([]),[o,a]=p.useState(!1),[c,d]=p.useState(null),[h,f]=p.useState(""),[m,y]=p.useState(""),[T,v]=p.useState("200000"),[_,E]=p.useState("200000"),[w,x]=p.useState(!1),[A,j]=p.useState("10");p.useEffect(()=>{const R=localStorage.getItem("wallets");if(R){const B=JSON.parse(R);i(B.map(se=>({...se,phone:se.phone||se.phoneNumber,monthlyWithdrawalLimit:se.monthlyWithdrawalLimit||2e5,monthlyTransferLimit:se.monthlyTransferLimit||2e5})))}const k=localStorage.getItem("withdrawalCommissionRate");k&&j(k)},[]);const O=()=>{f(""),y(""),v("200000"),E("200000"),x(!1),d(null),a(!1)},N=()=>{const R=parseFloat(A);if(isNaN(R)||R<0||R>100){r({title:"خطأ",description:"يرجى إدخال معدل عمولة صحيح (0-100 جنيه لكل 1000 جنيه)",variant:"destructive"});return}localStorage.setItem("withdrawalCommissionRate",A),r({title:"تم الحفظ",description:`تم تحديث معدل عمولة السحب إلى ${A} جنيه لكل 1000 جنيه`})},S=()=>{if(!h.trim()||!m.trim()){r({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"});return}const R={id:(c==null?void 0:c.id)||Date.now().toString(),name:h.trim(),phone:m.trim(),monthlyWithdrawalLimit:parseInt(T)||2e5,monthlyTransferLimit:parseInt(_)||2e5,isDefault:w||s.length===0};let k;c?k=s.map(B=>B.id===c.id?R:{...B,isDefault:R.isDefault?!1:B.isDefault}):k=w?[...s.map(B=>({...B,isDefault:!1})),R]:[...s,R],i(k),localStorage.setItem("wallets",JSON.stringify(k)),n&&n(),r({title:c?"تم التحديث":"تم الحفظ",description:c?"تم تحديث المحفظة بنجاح":"تم إضافة المحفظة بنجاح"}),O()},C=R=>{d(R),setNewWallet({name:R.name,phoneNumber:R.phoneNumber,balance:R.balance})},P=R=>{const k=s.find(se=>se.id===R);if(k!=null&&k.isDefault){r({title:"خطأ",description:"لا يمكن حذف المحفظة الافتراضية",variant:"destructive"});return}const B=s.filter(se=>se.id!==R);i(B),localStorage.setItem("wallets",JSON.stringify(B)),n&&n(),r({title:"تم حذف المحفظة",description:"تم حذف المحفظة بنجاح"})},D=R=>{const k=s.map(B=>({...B,isDefault:B.id===R}));i(k),localStorage.setItem("wallets",JSON.stringify(k)),n&&n(),r({title:"تم تحديث المحفظة الافتراضية",description:"تم تعيين المحفظة كافتراضية بنجاح"})};return l.jsx(ro,{open:t,onOpenChange:e,children:l.jsxs(qs,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[l.jsx(Gs,{className:"pb-2",children:l.jsxs(Ks,{className:"flex items-center gap-1 text-sm",children:[l.jsx(As,{className:"h-3 w-3"}),"إدارة المحافظ"]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-sm font-semibold",children:["المحافظ المتاحة (",s.length,")"]}),l.jsxs(Z,{onClick:()=>a(!0),className:"flex items-center gap-1 h-6 px-2 text-xs",size:"sm",children:[l.jsx(Cs,{className:"h-3 w-3"}),"إضافة محفظة جديدة"]})]}),(o||c)&&l.jsxs(st,{className:"border-2 border-blue-200 bg-blue-50",children:[l.jsx(Ut,{className:"pb-1",children:l.jsx($t,{className:"text-sm",children:c?"تعديل المحفظة":"إضافة محفظة جديدة"})}),l.jsxs(it,{className:"space-y-2 pt-1",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"اسم المحفظة"}),l.jsx(Pe,{value:h,onChange:R=>f(R.target.value),placeholder:"مثال: محفظة العمل",className:"h-6 text-xs"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"رقم الهاتف"}),l.jsxs("div",{className:"relative",children:[l.jsx(Is,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"}),l.jsx(Pe,{value:m,onChange:R=>y(R.target.value),placeholder:"01030302038",className:"pl-6 h-6 text-xs"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"الحد الشهري للسحب (جنيه)"}),l.jsxs("div",{className:"relative",children:[l.jsx(bs,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"}),l.jsx(Pe,{type:"number",value:T,onChange:R=>v(R.target.value),placeholder:"200000",className:"pl-6 h-6 text-xs"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"الحد الشهري للتحويل (جنيه)"}),l.jsxs("div",{className:"relative",children:[l.jsx(bs,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"}),l.jsx(Pe,{type:"number",value:_,onChange:R=>E(R.target.value),placeholder:"200000",className:"pl-6 h-6 text-xs"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"isDefault",checked:w,onChange:R=>x(R.target.checked),className:"rounded w-3 h-3"}),l.jsx("label",{htmlFor:"isDefault",className:"text-xs font-medium text-gray-700",children:"تعيين كمحفظة افتراضية"})]}),l.jsxs("div",{className:"border-t pt-2 mt-2",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[l.jsx(Nu,{className:"h-3 w-3 text-gray-600"}),l.jsx("label",{className:"text-xs font-medium text-gray-700",children:"إعدادات العمولة"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"معدل عمولة السحب (جنيه لكل 1000 جنيه)"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(bs,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"}),l.jsx(Pe,{type:"number",value:A,onChange:R=>j(R.target.value),placeholder:"10",min:"0",max:"100",step:"0.1",className:"pl-6 h-6 text-xs"})]}),l.jsx(Z,{onClick:N,variant:"outline",className:"h-6 px-2 text-xs",size:"sm",children:"حفظ"})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["المعدل الحالي: ",A," جنيه لكل 1000 جنيه"]})]})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(Z,{onClick:S,className:"flex-1 h-6 text-xs",size:"sm",children:c?"تحديث المحفظة":"إضافة المحفظة"}),l.jsx(Z,{variant:"outline",onClick:O,className:"h-6 text-xs",size:"sm",children:"إلغاء"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.map(R=>l.jsxs(st,{className:`${R.isDefault?"border-green-300 bg-green-50":""}`,children:[l.jsx(Ut,{className:"pb-1",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs($t,{className:"text-sm flex items-center gap-1",children:[l.jsx(As,{className:"h-3 w-3"}),R.name]}),R.isDefault&&l.jsx(Dn,{variant:"default",className:"bg-green-600 text-xs px-1 py-0",children:"افتراضية"})]})}),l.jsxs(it,{className:"space-y-1 pt-0",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Is,{className:"h-3 w-3 text-gray-500"}),l.jsx("span",{className:"text-xs",children:R.phoneNumber})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(bs,{className:"h-3 w-3 text-gray-500"}),l.jsxs("span",{className:"text-xs font-medium",children:[R.balance," جنيه"]})]}),l.jsxs("div",{className:"flex gap-1 pt-1",children:[l.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>C(R),className:"flex-1 h-5 text-xs px-1",children:[l.jsx(ll,{className:"h-2 w-2 mr-0.5"}),"تعديل"]}),!R.isDefault&&l.jsxs(l.Fragment,{children:[l.jsx(Z,{size:"sm",variant:"outline",onClick:()=>D(R.id),className:"flex-1 h-5 text-xs px-1",children:"جعلها افتراضية"}),l.jsx(Z,{size:"sm",variant:"destructive",onClick:()=>P(R.id),className:"h-5 px-1",children:l.jsx(Pi,{className:"h-2 w-2"})})]})]})]})]},R.id))}),s.length===0&&l.jsx("div",{className:"text-center py-4 text-gray-500 text-xs",children:"لا توجد محافظ متاحة. قم بإضافة محفظة جديدة للبدء."})]})]})})};var Wz="Separator",zE="horizontal",Hz=["horizontal","vertical"],vR=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=zE,...s}=t,i=qz(r)?r:zE,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(_e.div,{"data-orientation":i,...a,...s,ref:e})});vR.displayName=Wz;function qz(t){return Hz.includes(t)}var xR=vR;const Py=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>l.jsx(xR,{ref:s,decorative:n,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Py.displayName=xR.displayName;const wR=({isOpen:t,onClose:e,transaction:n,onDelete:r})=>{if(!n)return null;const s=h=>{switch(h){case"completed":return l.jsx(ol,{className:"h-5 w-5 text-green-500"});case"pending":return l.jsx(al,{className:"h-5 w-5 text-yellow-500"});case"failed":return l.jsx(Ov,{className:"h-5 w-5 text-red-500"});default:return l.jsx(al,{className:"h-5 w-5 text-gray-500"})}},i=h=>{switch(h){case"completed":return"مكتملة";case"pending":return"قيد الانتظار";case"failed":return"فاشلة";default:return"غير معروف"}},o=h=>{switch(h){case"withdraw":return"سحب";case"send":return"إرسال";case"receive":return"استقبال";default:return"تحويل"}},a=h=>{switch(h){case"withdraw":return l.jsx(Dv,{className:"h-5 w-5 text-green-500"});default:return l.jsx(Kc,{className:"h-5 w-5 text-blue-500"})}},c=()=>{const h=`
      <div style="font-family: Arial, sans-serif; max-width: 400px; margin: 0 auto; padding: 20px;">
        <div style="text-align: center; margin-bottom: 20px;">
          <h2 style="color: #333; margin-bottom: 10px;">إيصال المعاملة</h2>
          <p style="color: #666; font-size: 14px;">رقم المعاملة: ${n.id}</p>
        </div>
        
        <div style="border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin-bottom: 15px;">
          <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
            <span style="font-weight: bold;">نوع المعاملة:</span>
            <span>${o(n.type)}</span>
          </div>
          
          <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
            <span style="font-weight: bold;">المبلغ:</span>
            <span style="color: #2563eb; font-weight: bold;">${n.amount} جنيه</span>
          </div>
          
          <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
            <span style="font-weight: bold;">الحالة:</span>
            <span style="color: ${n.status==="completed"?"#16a34a":n.status==="pending"?"#ca8a04":"#dc2626"};">
              ${i(n.status)}
            </span>
          </div>
          
          ${n.type!=="withdraw"?`
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
              <span style="font-weight: bold;">من:</span>
              <span>${n.senderPhone}</span>
            </div>
            
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
              <span style="font-weight: bold;">إلى:</span>
              <span>${n.receiverPhone}</span>
            </div>
          `:`
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
              <span style="font-weight: bold;">رقم المحفظة:</span>
              <span>${n.senderPhone}</span>
            </div>
          `}
          
          <div style="display: flex; justify-content: space-between;">
            <span style="font-weight: bold;">التاريخ:</span>
            <span>${n.createdAt.toLocaleString("ar-EG")}</span>
          </div>
        </div>
        
        <div style="text-align: center; color: #666; font-size: 12px; margin-top: 20px;">
          <p>شكراً لاستخدام خدماتنا</p>
          <p>تم الطباعة في: ${new Date().toLocaleString("ar-EG")}</p>
        </div>
      </div>
    `,f=window.open("","_blank");f&&(f.document.write(`
        <html>
          <head>
            <title>إيصال المعاملة - ${n.id}</title>
            <style>
              body { margin: 0; padding: 20px; }
              @media print {
                body { margin: 0; }
              }
            </style>
          </head>
          <body>
            ${h}
          </body>
        </html>
      `),f.document.close(),f.print())},d=()=>{window.confirm("هل أنت متأكد من حذف هذه المعاملة؟ لا يمكن التراجع عن هذا الإجراء.")&&r(n.id)};return l.jsx(ro,{open:t,onOpenChange:e,children:l.jsxs(qs,{className:"max-w-md",children:[l.jsx(Gs,{children:l.jsxs(Ks,{className:"flex items-center gap-2",children:[a(n.type),"تفاصيل المعاملة"]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(st,{children:l.jsxs(it,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[s(n.status),l.jsx("span",{className:"font-medium",children:i(n.status)})]}),l.jsx(Dn,{variant:n.status==="completed"?"default":"secondary",className:`${n.type==="withdraw"?"bg-green-100 text-green-800":""}`,children:o(n.type)})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-blue-600 mb-1",children:[n.type==="withdraw"?"-":"",n.amount," جنيه"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["رقم المعاملة: ",n.id]})]})]})}),l.jsx(st,{children:l.jsxs(it,{className:"p-4 space-y-3",children:[n.type!=="withdraw"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Is,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm font-medium",children:"من"})]}),l.jsx("span",{className:"text-sm",children:n.senderPhone})]}),l.jsx(Py,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Is,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm font-medium",children:"إلى"})]}),l.jsx("span",{className:"text-sm",children:n.receiverPhone})]})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Is,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm font-medium",children:"رقم المحفظة"})]}),l.jsx("span",{className:"text-sm",children:n.senderPhone})]}),l.jsx(Py,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wO,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm font-medium",children:"التاريخ"})]}),l.jsx("span",{className:"text-sm",children:n.createdAt.toLocaleString("ar-EG")})]})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Z,{onClick:c,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[l.jsx(NO,{className:"h-4 w-4 mr-2"}),"طباعة الإيصال"]}),l.jsxs(Z,{onClick:d,variant:"destructive",className:"flex-1",children:[l.jsx(Pi,{className:"h-4 w-4 mr-2"}),"حذف المعاملة"]})]}),l.jsx(Z,{onClick:e,variant:"outline",className:"w-full",children:"إغلاق"})]})]})})};class _r{static setSecretPin(e){const n=btoa(e);localStorage.setItem(this.SECRET_KEY,n)}static hasSecretPin(){return localStorage.getItem(this.SECRET_KEY)!==null}static verifySecretPin(e){const n=localStorage.getItem(this.SECRET_KEY);if(!n)return!1;try{return atob(n)===e}catch{return!1}}static clearSecretPin(){localStorage.removeItem(this.SECRET_KEY)}}sw(_r,"SECRET_KEY","dashboard_secret_pin");function _R({open:t,onOpenChange:e,onSuccess:n,title:r,description:s}){const[i,o]=p.useState(""),[a,c]=p.useState(""),[d,h]=p.useState(!1),[f,m]=p.useState(""),[y,T]=p.useState(!1),v=_r.hasSecretPin(),_=async w=>{w.preventDefault(),m(""),T(!0);try{if(v)_r.verifySecretPin(i)?(n(),e(!1),o("")):m("الرقم السري غير صحيح");else{if(i.length<4){m("الرقم السري يجب أن يكون 4 أرقام على الأقل");return}if(i!==a){m("الرقم السري وتأكيده غير متطابقين");return}_r.setSecretPin(i),n(),e(!1),o(""),c("")}}catch{m("حدث خطأ، يرجى المحاولة مرة أخرى")}finally{T(!1)}},E=()=>{o(""),c(""),m(""),e(!1)};return l.jsx(ro,{open:t,onOpenChange:E,children:l.jsxs(qs,{className:"sm:max-w-md",dir:"rtl",children:[l.jsx(Gs,{children:l.jsxs(Ks,{className:"flex items-center gap-2 text-center justify-center",children:[l.jsx(Mo,{className:"h-5 w-5 text-red-600"}),r]})}),l.jsx("div",{className:"text-center text-sm text-gray-600 mb-4",children:s}),l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"pin",children:v?"أدخل الرقم السري":"إنشاء رقم سري جديد"}),l.jsxs("div",{className:"relative",children:[l.jsx(Pe,{id:"pin",type:d?"text":"password",value:i,onChange:w=>o(w.target.value),placeholder:"أدخل الرقم السري",className:"pr-10",required:!0,minLength:4}),l.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?l.jsx(Yr,{className:"h-4 w-4"}):l.jsx(Xr,{className:"h-4 w-4"})})]})]}),!v&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"confirmPin",children:"تأكيد الرقم السري"}),l.jsx("div",{className:"relative",children:l.jsx(Pe,{id:"confirmPin",type:d?"text":"password",value:a,onChange:w=>c(w.target.value),placeholder:"أعد إدخال الرقم السري",className:"pr-10",required:!0,minLength:4})})]}),f&&l.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded-lg",children:[l.jsx(kf,{className:"h-4 w-4"}),f]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(Z,{type:"button",variant:"outline",onClick:E,className:"flex-1",disabled:y,children:"إلغاء"}),l.jsx(Z,{type:"submit",className:"flex-1 bg-red-600 hover:bg-red-700",disabled:y,children:y?"جاري التحقق...":v?"تأكيد":"حفظ الرقم السري"})]})]}),!v&&l.jsx("div",{className:"text-xs text-gray-500 text-center mt-2",children:"⚠️ احفظ هذا الرقم السري جيداً، ستحتاجه لتصفير المعاملات"})]})})}function Pc({open:t,onOpenChange:e,onSuccess:n,title:r,description:s,currentBalance:i,balanceLabel:o}){const[a,c]=p.useState(""),[d,h]=p.useState(i.toString()),[f,m]=p.useState(!1),[y,T]=p.useState(""),[v,_]=p.useState(!1),E=_r.hasSecretPin(),w=async A=>{A.preventDefault(),T(""),_(!0);try{const j=parseFloat(d);if(isNaN(j)||j<0){T("يرجى إدخال مبلغ صحيح"),_(!1);return}E?_r.verifySecretPin(a)?(n(j),e(!1),c(""),h("")):T("الرقم السري غير صحيح"):T("لم يتم تعيين رقم سري. يرجى تعيين رقم سري أولاً من إعدادات التطبيق")}catch{T("حدث خطأ أثناء التحقق من الرقم السري")}finally{_(!1)}},x=()=>{c(""),h(i.toString()),T(""),e(!1)};return J.useEffect(()=>{t&&h(i.toString())},[i,t]),l.jsx(ro,{open:t,onOpenChange:x,children:l.jsxs(qs,{className:"sm:max-w-md",dir:"rtl",children:[l.jsx(Gs,{children:l.jsxs(Ks,{className:"flex items-center gap-2 text-right",children:[l.jsx(bs,{className:"h-5 w-5"}),r]})}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground text-right",children:s}),l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[l.jsxs(Qe,{className:"text-sm font-medium text-gray-700",children:[o," الحالي"]}),l.jsxs("div",{className:"text-lg font-bold text-gray-900 mt-1",children:[i.toLocaleString()," جنيه"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"newAmount",className:"text-right",children:"المبلغ الجديد"}),l.jsx(Pe,{id:"newAmount",type:"number",step:"0.01",min:"0",value:d,onChange:A=>h(A.target.value),placeholder:"أدخل المبلغ الجديد",className:"text-right",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"pin",className:"text-right",children:"الرقم السري"}),l.jsxs("div",{className:"relative",children:[l.jsx(Pe,{id:"pin",type:f?"text":"password",value:a,onChange:A=>c(A.target.value),placeholder:"أدخل الرقم السري",className:"text-right pr-10",required:!0}),l.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!f),children:f?l.jsx(Yr,{className:"h-4 w-4"}):l.jsx(Xr,{className:"h-4 w-4"})})]})]}),y&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:[l.jsx(kf,{className:"h-4 w-4"}),y]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(Z,{type:"button",variant:"outline",onClick:x,className:"flex-1",children:"إلغاء"}),l.jsx(Z,{type:"submit",disabled:v||!a||!d,className:"flex-1",children:v?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري التحديث..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Mo,{className:"h-4 w-4 mr-2"}),"تحديث الرصيد"]})})]})]})]})})}function ER({open:t,onOpenChange:e}){const[n,r]=p.useState(""),[s,i]=p.useState(""),[o,a]=p.useState(""),[c,d]=p.useState(!1),[h,f]=p.useState(!1),[m,y]=p.useState(!1),[T,v]=p.useState(""),[_,E]=p.useState(!1),{toast:w}=Cr(),x=_r.hasSecretPin(),A=async O=>{O.preventDefault(),v(""),E(!0);try{if(!s||s.length<4){v("يجب أن يكون الرقم السري 4 أرقام على الأقل"),E(!1);return}if(s!==o){v("الرقم السري الجديد وتأكيده غير متطابقين"),E(!1);return}if(x){if(!n){v("يرجى إدخال الرقم السري الحالي"),E(!1);return}if(!_r.verifySecretPin(n)){v("الرقم السري الحالي غير صحيح"),E(!1);return}}_r.setSecretPin(s),w({title:x?"تم تغيير الرقم السري":"تم تعيين الرقم السري",description:x?"تم تغيير الرقم السري بنجاح":"تم تعيين الرقم السري بنجاح"}),j()}catch{v("حدث خطأ أثناء حفظ الرقم السري")}finally{E(!1)}},j=()=>{r(""),i(""),a(""),v(""),d(!1),f(!1),y(!1),e(!1)};return l.jsx(ro,{open:t,onOpenChange:j,children:l.jsxs(qs,{className:"sm:max-w-md",dir:"rtl",children:[l.jsx(Gs,{children:l.jsxs(Ks,{className:"flex items-center gap-2 text-right",children:[l.jsx(Nu,{className:"h-5 w-5"}),x?"تغيير الرقم السري":"تعيين الرقم السري"]})}),l.jsxs("form",{onSubmit:A,className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground text-right",children:x?"أدخل الرقم السري الحالي والرقم السري الجديد لتغييره":"أدخل الرقم السري الجديد الذي تريد استخدامه في عمليات التعديل"}),x&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"currentPin",className:"text-right block",children:"الرقم السري الحالي"}),l.jsxs("div",{className:"relative",children:[l.jsx(Pe,{id:"currentPin",type:c?"text":"password",value:n,onChange:O=>r(O.target.value),placeholder:"أدخل الرقم السري الحالي",className:"pr-10",dir:"ltr"}),l.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!c),children:c?l.jsx(Yr,{className:"h-4 w-4"}):l.jsx(Xr,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"newPin",className:"text-right block",children:"الرقم السري الجديد"}),l.jsxs("div",{className:"relative",children:[l.jsx(Pe,{id:"newPin",type:h?"text":"password",value:s,onChange:O=>i(O.target.value),placeholder:"أدخل الرقم السري الجديد",className:"pr-10",dir:"ltr"}),l.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(!h),children:h?l.jsx(Yr,{className:"h-4 w-4"}):l.jsx(Xr,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"confirmPin",className:"text-right block",children:"تأكيد الرقم السري الجديد"}),l.jsxs("div",{className:"relative",children:[l.jsx(Pe,{id:"confirmPin",type:m?"text":"password",value:o,onChange:O=>a(O.target.value),placeholder:"أعد إدخال الرقم السري الجديد",className:"pr-10",dir:"ltr"}),l.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!m),children:m?l.jsx(Yr,{className:"h-4 w-4"}):l.jsx(Xr,{className:"h-4 w-4"})})]})]}),T&&l.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[l.jsx(kf,{className:"h-4 w-4"}),T]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsxs(Z,{type:"submit",disabled:_,className:"flex-1",children:[l.jsx(Mo,{className:"h-4 w-4 mr-2"}),_?"جاري الحفظ...":x?"تغيير الرقم السري":"تعيين الرقم السري"]}),l.jsx(Z,{type:"button",variant:"outline",onClick:j,disabled:_,children:"إلغاء"})]})]})]})})}function Ry({open:t,onOpenChange:e,onSuccess:n,title:r,description:s,currentBalance:i,balanceLabel:o}){const[a,c]=p.useState(""),[d,h]=p.useState(""),[f,m]=p.useState("add"),[y,T]=p.useState(!1),[v,_]=p.useState(""),[E,w]=p.useState(!1),x=_r.hasSecretPin(),A=async N=>{N.preventDefault(),_(""),w(!0);try{const S=parseFloat(d);if(isNaN(S)||S<=0){_("يرجى إدخال مبلغ صحيح أكبر من صفر"),w(!1);return}if(f==="subtract"&&S>i){_("لا يمكن خصم مبلغ أكبر من الرصيد الحالي"),w(!1);return}if(x)if(_r.verifySecretPin(a)){const C=f==="add"?S:-S;n(C),j()}else _("الرقم السري غير صحيح");else _("لم يتم تعيين رقم سري. يرجى تعيين رقم سري أولاً من إعدادات التطبيق")}catch{_("حدث خطأ أثناء التحقق من الرقم السري")}finally{w(!1)}},j=()=>{c(""),h(""),m("add"),_(""),e(!1)},O=()=>{const N=parseFloat(d)||0;return f==="add"?i+N:i-N};return l.jsx(ro,{open:t,onOpenChange:j,children:l.jsxs(qs,{className:"sm:max-w-md",dir:"rtl",children:[l.jsx(Gs,{children:l.jsxs(Ks,{className:"flex items-center gap-2 text-right",children:[f==="add"?l.jsx(Cs,{className:"h-5 w-5 text-green-600"}):l.jsx(__,{className:"h-5 w-5 text-red-600"}),r]})}),l.jsxs("form",{onSubmit:A,className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground text-right",children:s}),l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[l.jsxs(Qe,{className:"text-sm font-medium text-gray-700",children:[o," الحالي"]}),l.jsxs("div",{className:"text-lg font-bold text-gray-900 mt-1",children:[i.toLocaleString()," جنيه"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{className:"text-right",children:"نوع العملية"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Z,{type:"button",variant:f==="add"?"default":"outline",onClick:()=>m("add"),className:"flex-1 flex items-center gap-2",children:[l.jsx(Cs,{className:"h-4 w-4"}),"إضافة"]}),l.jsxs(Z,{type:"button",variant:f==="subtract"?"default":"outline",onClick:()=>m("subtract"),className:"flex-1 flex items-center gap-2",children:[l.jsx(__,{className:"h-4 w-4"}),"خصم"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Qe,{htmlFor:"amount",className:"text-right",children:["المبلغ المراد ",f==="add"?"إضافته":"خصمه"]}),l.jsx(Pe,{id:"amount",type:"number",step:"0.01",min:"0.01",value:d,onChange:N=>h(N.target.value),placeholder:`أدخل المبلغ المراد ${f==="add"?"إضافته":"خصمه"}`,className:"text-right",required:!0})]}),d&&!isNaN(parseFloat(d))&&l.jsxs("div",{className:`p-3 rounded-lg ${f==="add"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[l.jsx(Qe,{className:"text-sm font-medium text-gray-700",children:"الرصيد الجديد المتوقع"}),l.jsxs("div",{className:`text-lg font-bold mt-1 ${f==="add"?"text-green-700":"text-red-700"}`,children:[O().toLocaleString()," جنيه"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"pin",className:"text-right",children:"الرقم السري"}),l.jsxs("div",{className:"relative",children:[l.jsx(Pe,{id:"pin",type:y?"text":"password",value:a,onChange:N=>c(N.target.value),placeholder:"أدخل الرقم السري",className:"text-right pr-10",required:!0}),l.jsx(Z,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>T(!y),children:y?l.jsx(Yr,{className:"h-4 w-4"}):l.jsx(Xr,{className:"h-4 w-4"})})]})]}),v&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:[l.jsx(kf,{className:"h-4 w-4"}),v]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(Z,{type:"button",variant:"outline",onClick:j,className:"flex-1",children:"إلغاء"}),l.jsx(Z,{type:"submit",disabled:E||!a||!d,className:`flex-1 ${f==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:E?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري التحديث..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Mo,{className:"h-4 w-4 mr-2"}),f==="add"?"إضافة المبلغ":"خصم المبلغ"]})})]})]})]})})}const Gz=()=>{var ie;const{toast:t}=Cr(),{signOut:e}=Rr(),[n,r]=p.useState("01030302038"),[s,i]=p.useState(""),[o,a]=p.useState(""),[c,d]=p.useState("transfer"),[h,f]=p.useState([]),[m,y]=p.useState("all"),[T,v]=p.useState(!1),[_,E]=p.useState(""),[w,x]=p.useState([]),[A,j]=p.useState(null),[O,N]=p.useState(!1);p.useState([]),p.useState([]);const[S,C]=p.useState(!1),[P,D]=p.useState("daily"),[R,k]=p.useState([]),B=2e5,se=2e5,[X,ae]=p.useState(0),[U,V]=p.useState({}),[Y,he]=p.useState(!1),[te,de]=p.useState(!1),[ye,Ne]=p.useState(!1),[Ve,K]=p.useState(!1),[ke,Ie]=p.useState(!1),[be,Ce]=p.useState(""),[ve,et]=p.useState(!1);p.useEffect(()=>{const M=localStorage.getItem("wallets");if(M){const q=JSON.parse(M);x(q);const oe=q.find(ce=>ce.isDefault);oe&&(E(oe.id),r(oe.phone))}else{const q=[{id:"admin-wallet-1",name:"المحفظة الرئيسية للإدارة",phone:"01030302038",isDefault:!0,monthlyWithdrawalLimit:2e5,monthlyTransferLimit:2e5},{id:"admin-wallet-2",name:"محفظة احتياطية للإدارة",phone:"01234567890",isDefault:!1,monthlyWithdrawalLimit:2e5,monthlyTransferLimit:2e5}];x(q),localStorage.setItem("wallets",JSON.stringify(q)),E("admin-wallet-1"),r("01030302038")}const G=localStorage.getItem("deletedTransactions");if(G){const q=JSON.parse(G);k(q)}const ne=localStorage.getItem("adminCashBalance");ne&&ae(parseFloat(ne));const pe=localStorage.getItem("adminWalletBalances");if(pe)V(JSON.parse(pe));else{const q={"admin-wallet-1":5e3,"admin-wallet-2":3e3};V(q),localStorage.setItem("adminWalletBalances",JSON.stringify(q))}},[]);const Et=M=>{E(M);const G=w.find(ne=>ne.id===M);G&&r(G.phone)},Dt=M=>{d(M),i(""),a("")},ln=M=>{j(M),N(!0)},yn=M=>{const G=h.find(ne=>ne.id===M);if(G){const ne=[...R,G];k(ne),localStorage.setItem("deletedTransactions",JSON.stringify(ne));const pe=h.filter(q=>q.id!==M);f(pe),localStorage.setItem("transactions",JSON.stringify(pe)),N(!1),t({title:"تم نقل المعاملة إلى المحذوفات",description:"تم نقل المعاملة إلى قائمة المحذوفات بنجاح. يمكنك استرجاعها لاحقاً"})}},qt=M=>{const G=localStorage.getItem("withdrawalCommissionRate"),ne=G?parseFloat(G):10;return Math.ceil(M/1e3*ne)},An=M=>Math.ceil(M/1e3*5),zn=()=>{const M=parseFloat(o)||0,G=qt(M);return M+G},Wn=()=>{const M=new Date().toDateString(),G=h.filter(ce=>new Date(ce.createdAt).toDateString()===M&&ce.status==="completed"),ne=G.length,pe=G.reduce((ce,me)=>ce+me.amount,0),q=G.filter(ce=>ce.type==="withdraw").reduce((ce,me)=>ce+(me.withdrawnAmount||0),0),oe=G.filter(ce=>ce.type==="send").reduce((ce,me)=>ce+(me.sentAmount||0),0);return{totalTransactions:ne,totalAmount:pe,totalWithdrawn:q,totalSent:oe}},sr=()=>{const M=new Date().getMonth(),G=new Date().getFullYear(),ne=h.filter(me=>{const Ue=new Date(me.createdAt);return Ue.getMonth()===M&&Ue.getFullYear()===G&&me.status==="completed"}),pe=ne.length,q=ne.reduce((me,Ue)=>me+Ue.amount,0),oe=ne.filter(me=>me.type==="withdraw").reduce((me,Ue)=>me+(Ue.withdrawnAmount||0),0),ce=ne.filter(me=>me.type==="send").reduce((me,Ue)=>me+(Ue.sentAmount||0),0);return{totalTransactions:pe,totalAmount:q,totalWithdrawn:oe,totalSent:ce}};p.useEffect(()=>{const M=localStorage.getItem("transactions");M&&f(JSON.parse(M))},[]);const bt=()=>{if(c==="transfer"){if(!n||!s||!o){t({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"});return}const M=An(parseFloat(o));if(X<M){t({title:"رصيد غير كافي",description:`الرصيد النقدي الحالي ${X} جنيه غير كافي لدفع عمولة التحويل ${M} جنيه`,variant:"destructive"});return}const G={id:Date.now().toString(),type:"send",senderPhone:n,receiverPhone:s,amount:parseFloat(o),status:"pending",createdAt:new Date,withdrawnAmount:0,sentAmount:parseFloat(o)},ne=[G,...h];f(ne),localStorage.setItem("transactions",JSON.stringify(ne));const pe=X-M;ae(pe),localStorage.setItem("adminCashBalance",pe.toString()),t({title:"تم إرسال التحويل",description:"جاري معالجة التحويل..."}),setTimeout(()=>{const oe=[{...G,status:"completed"},...h];f(oe),localStorage.setItem("transactions",JSON.stringify(oe)),t({title:"تم التحويل بنجاح",description:`تم تحويل ${o} جنيه إلى ${s} وخصم عمولة ${M} جنيه من الدرج`})},2e3),r("01030302038"),i(""),a("")}else{if(!n||!o){t({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"});return}const M=zn();if(X<M){t({title:"رصيد غير كافي",description:`الرصيد النقدي الحالي ${X} جنيه غير كافي لسحب ${M} جنيه`,variant:"destructive"});return}const G={id:Date.now().toString(),type:"withdraw",senderPhone:n,receiverPhone:s,amount:parseFloat(o),status:"pending",createdAt:new Date,withdrawnAmount:M,sentAmount:0},ne=[G,...h];f(ne),localStorage.setItem("transactions",JSON.stringify(ne));const pe=X-M;ae(pe),localStorage.setItem("adminCashBalance",pe.toString());const q={...U};_?q[_]=(q[_]||0)+parseFloat(o):q[n]=(q[n]||0)+parseFloat(o),V(q),localStorage.setItem("adminWalletBalances",JSON.stringify(q)),t({title:"تم طلب السحب",description:"جاري معالجة طلب السحب..."}),setTimeout(()=>{const ce=[{...G,status:"completed"},...h];f(ce),localStorage.setItem("transactions",JSON.stringify(ce)),t({title:"تم السحب بنجاح",description:`تم سحب ${o} جنيه + عمولة ${qt(parseFloat(o))} جنيه = ${M} جنيه إجمالي`})},2e3),r("01030302038"),a("")}},Hn=M=>{switch(M){case"completed":return l.jsx(ol,{className:"h-4 w-4 text-green-500"});case"pending":return l.jsx(al,{className:"h-4 w-4 text-yellow-500"});case"failed":return l.jsx(Ov,{className:"h-4 w-4 text-red-500"});default:return l.jsx(al,{className:"h-4 w-4 text-gray-500"})}},jr=M=>{switch(M){case"completed":return"مكتملة";case"pending":return"قيد المعالجة";case"failed":return"فاشلة";default:return"غير محدد"}},Fe=h.filter(M=>m==="all"?!0:m==="pending"?M.type==="send":m==="completed"?M.status==="completed":m==="withdraw"?M.type==="withdraw":!0),Be=Wn(),cn=sr(),ds=()=>{if(P==="daily"){const M=new Date().toDateString(),G=h.filter(q=>new Date(q.createdAt).toDateString()===M),ne=[...R,...G];k(ne),localStorage.setItem("deletedTransactions",JSON.stringify(ne));const pe=h.filter(q=>new Date(q.createdAt).toDateString()!==M);f(pe),localStorage.setItem("transactions",JSON.stringify(pe)),t({title:"تم نقل المعاملات بنجاح",description:`تم نقل ${G.length} معاملة من اليوم إلى المحذوفات`})}else{const M=new Date().getMonth(),G=new Date().getFullYear(),ne=h.filter(oe=>{const ce=new Date(oe.createdAt);return ce.getMonth()===M&&ce.getFullYear()===G}),pe=[...R,...ne];k(pe),localStorage.setItem("deletedTransactions",JSON.stringify(pe));const q=h.filter(oe=>{const ce=new Date(oe.createdAt);return ce.getMonth()!==M||ce.getFullYear()!==G});f(q),localStorage.setItem("transactions",JSON.stringify(q)),t({title:"تم نقل المعاملات بنجاح",description:`تم نقل ${ne.length} معاملة من الشهر إلى المحذوفات`})}C(!1)},ir=M=>{ae(M),localStorage.setItem("adminCashBalance",M.toString()),t({title:"تم تحديث الرصيد النقدي",description:`تم تحديث الرصيد النقدي في الدرج إلى ${M} جنيه`})},so=M=>{const G=X+M;ae(G),localStorage.setItem("adminCashBalance",G.toString()),Ne(!1);const ne=M>=0?"إضافة":"خصم",pe=Math.abs(M);t({title:`تم ${ne} المبلغ`,description:`تم ${ne} ${pe} جنيه ${M>=0?"إلى":"من"} الرصيد النقدي. الرصيد الحالي: ${G} جنيه`})},qn=M=>{const G=Object.keys(U);if(G.length===0){t({title:"خطأ",description:"لا توجد محافظ متاحة لإضافة المبلغ إليها",variant:"destructive"});return}const ne=M/G.length,pe={...U};G.forEach(me=>{const Ue=pe[me]||0;pe[me]=Ue+ne}),V(pe),localStorage.setItem("adminWalletBalances",JSON.stringify(pe)),K(!1);const q=M>=0?"إضافة":"خصم",oe=Math.abs(M),ce=Object.values(pe).reduce((me,Ue)=>me+Ue,0);t({title:`تم ${q} المبلغ`,description:`تم ${q} ${oe} جنيه ${M>=0?"إلى":"من"} إجمالي المحافظ. الإجمالي الحالي: ${ce.toFixed(2)} جنيه`})},Dr=M=>{const G=Object.keys(U);if(G.length===0){t({title:"خطأ",description:"لا توجد محافظ متاحة للتعديل",variant:"destructive"});return}const ne=M/G.length,pe={...U};G.forEach(q=>{pe[q]=ne}),V(pe),localStorage.setItem("adminWalletBalances",JSON.stringify(pe)),Ie(!1),t({title:"تم تعديل الإجمالي",description:`تم تعديل إجمالي المحافظ إلى ${M.toFixed(2)} جنيه`})},Pn=()=>P==="daily"?"نقل معاملات اليوم إلى المحذوفات":"نقل معاملات الشهر إلى المحذوفات",Or=()=>P==="daily"?"سيتم نقل جميع معاملات اليوم إلى قائمة المحذوفات. يمكنك استرجاعها لاحقاً إذا أردت.":"سيتم نقل جميع معاملات الشهر إلى قائمة المحذوفات. يمكنك استرجاعها لاحقاً إذا أردت.",Gn=()=>{var ce;const M=new Date().getMonth(),G=new Date().getFullYear(),ne=((ce=w.find(me=>me.id===_))==null?void 0:ce.phone)||n,pe=h.filter(me=>{const Ue=new Date(me.createdAt);return Ue.getMonth()===M&&Ue.getFullYear()===G&&me.status==="completed"&&me.senderPhone===ne}),q=pe.filter(me=>me.type==="withdraw").reduce((me,Ue)=>me+Ue.amount,0),oe=pe.filter(me=>me.type==="send").reduce((me,Ue)=>me+Ue.amount,0);return{totalWithdrawn:q,totalTransferred:oe}},{totalWithdrawn:hs,totalTransferred:or}=Gn(),L=M=>{const G=[...h,M];f(G),localStorage.setItem("transactions",JSON.stringify(G));const ne=R.filter(pe=>pe.id!==M.id);k(ne),localStorage.setItem("deletedTransactions",JSON.stringify(ne)),t({title:"تم استرجاع المعاملة بنجاح",description:`تم استرجاع معاملة ${M.type==="withdraw"?"السحب":"التحويل"} بقيمة ${M.amount} جنيه`})};return l.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 fade-in",children:[l.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[l.jsxs(st,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200 card-float fade-in-left card-interactive hover-shadow-lg tilt",children:[l.jsx(Ut,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx($t,{className:"text-xs font-medium text-purple-700 hover-text-glow",children:"معاملات الشهر"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>{D("monthly"),C(!0)},className:"h-5 w-5 p-0 text-purple-600 hover:text-purple-800 hover:bg-purple-200 btn-bounce ripple magnetic hover-rotate",title:"تصفير معاملات الشهر",children:l.jsx(Pi,{className:"h-2.5 w-2.5"})}),l.jsx(Kc,{className:"h-2.5 w-2.5 text-purple-600 hover-rotate"})]})]})}),l.jsxs(it,{className:"space-y-0.5 pt-0 px-3 pb-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:"عدد المعاملات:"}),l.jsx("span",{className:"font-bold text-xs text-purple-800",children:cn.totalTransactions})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:"إجمالي المبالغ:"}),l.jsxs("span",{className:"font-bold text-xs text-purple-800",children:[cn.totalAmount.toFixed(2)," ج.م"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:"المسحوب:"}),l.jsxs("span",{className:"font-bold text-xs text-purple-800",children:[cn.totalWithdrawn.toFixed(2)," ج.م"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:"المرسل:"}),l.jsxs("span",{className:"font-bold text-xs text-purple-800",children:[cn.totalSent.toFixed(2)," ج.م"]})]})]})]}),l.jsxs(st,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200 card-float fade-in-right card-interactive hover-shadow-lg tilt",children:[l.jsx(Ut,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx($t,{className:"text-xs font-medium text-blue-700 hover-text-glow",children:"معاملات اليوم"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>{D("daily"),C(!0)},className:"h-5 w-5 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-200 btn-bounce ripple magnetic hover-rotate",title:"تصفير معاملات اليوم",children:l.jsx(Pi,{className:"h-2.5 w-2.5"})}),l.jsx(Kc,{className:"h-2.5 w-2.5 text-blue-600 hover-rotate"})]})]})}),l.jsxs(it,{className:"space-y-0.5 pt-0 px-3 pb-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:"عدد المعاملات:"}),l.jsx("span",{className:"font-bold text-xs text-blue-800",children:Be.totalTransactions})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:"إجمالي المبالغ:"}),l.jsxs("span",{className:"font-bold text-xs text-blue-800",children:[Be.totalAmount.toFixed(2)," ج.م"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:"المسحوب:"}),l.jsxs("span",{className:"font-bold text-xs text-blue-800",children:[Be.totalWithdrawn.toFixed(2)," ج.م"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:"المرسل:"}),l.jsxs("span",{className:"font-bold text-xs text-blue-800",children:[Be.totalSent.toFixed(2)," ج.م"]})]})]})]})]}),l.jsx(st,{className:"card-glow fade-in-up mb-4",children:l.jsx(it,{className:"p-2",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(bs,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{className:"text-xs font-medium text-green-800",children:"النقدية في الدرج"}),l.jsxs("span",{className:"text-sm font-bold text-green-700 mr-2",children:[X.toLocaleString()," جنيه"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Z,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{Ne(!0)},title:"إضافة/خصم من الرصيد النقدي",children:l.jsx(Cs,{className:"h-3 w-3 text-green-600"})}),l.jsx(Z,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{he(!0)},title:"تعديل الرصيد النقدي",children:l.jsx(ll,{className:"h-3 w-3 text-green-600"})})]})]})}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(As,{className:"h-3 w-3 text-blue-600"}),l.jsx("span",{className:"text-xs font-medium text-blue-800",children:"إجمالي المحافظ"}),l.jsxs("span",{className:"text-sm font-bold text-blue-700 mr-2",children:[Object.values(U).reduce((M,G)=>M+G,0).toLocaleString()," جنيه"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Z,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{K(!0)},title:"إضافة/خصم من إجمالي المحافظ",children:l.jsx(Cs,{className:"h-3 w-3 text-blue-600"})}),l.jsx(Z,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{Ie(!0)},title:"تعديل إجمالي المحافظ",children:l.jsx(ll,{className:"h-3 w-3 text-blue-600"})})]})]})})]})})}),l.jsxs(st,{className:"card-glow fade-in-up",children:[l.jsx(Ut,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx($t,{className:"text-xs font-bold",children:"المعاملات المحفوظة (0)"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"💎"}),l.jsx("span",{className:"text-xs text-gray-600",children:"إحصائيات الأرصدة"})]})]})}),l.jsx(it,{className:"px-3 pb-3",children:l.jsxs(rP,{value:m,onValueChange:y,children:[l.jsxs(ex,{className:"grid w-full grid-cols-5 transition-all duration-300 h-6",children:[l.jsxs(yr,{value:"all",className:"text-xs transition-bounce h-5",children:["الكل (",h.length,")"]}),l.jsxs(yr,{value:"pending",className:"text-xs transition-bounce h-5",children:["التحويلات (",h.filter(M=>M.type==="send").length,")"]}),l.jsxs(yr,{value:"completed",className:"text-xs transition-bounce h-5",children:["المكتملة (",h.filter(M=>M.status==="completed").length,")"]}),l.jsxs(yr,{value:"withdraw",className:"text-xs transition-bounce h-5",children:["السحب (",h.filter(M=>M.type==="withdraw").length,")"]}),l.jsxs(yr,{value:"deleted",className:"text-xs transition-bounce h-5",children:["المحذوفة (",R.length,")"]})]}),l.jsx(ho,{value:m,className:"mt-2 fade-in tab-content-fade tab-slide-in",children:m==="deleted"?R.length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"لا توجد معاملات محذوفة"}):l.jsx("div",{className:"space-y-1 tab-content-smooth",children:R.map((M,G)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded-lg border border-red-200 hover-lift stagger-item tab-stagger-item",style:{animationDelay:`${G*.1}s`},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[Hn(M.status),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-xs",children:M.type==="withdraw"?`سحب من المحفظة - ${M.senderPhone}`:`${M.senderPhone} → ${M.receiverPhone}`}),l.jsx("p",{className:"text-xs text-gray-500",children:M.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"font-bold text-xs",children:[M.type==="withdraw"?"-":"",M.amount," جنيه"]}),M.withdrawnAmount&&l.jsxs("p",{className:"text-xs text-red-600",children:["مسحوب: ",M.withdrawnAmount," جنيه"]}),M.sentAmount&&l.jsxs("p",{className:"text-xs text-green-600",children:["مرسل: ",M.sentAmount," جنيه"]}),l.jsx(Dn,{variant:"secondary",className:"text-xs bg-red-100 text-red-800 transition-bounce",children:"محذوفة"})]}),l.jsx(Z,{size:"sm",variant:"outline",className:"text-xs h-6 px-1 btn-bounce hover-glow ripple magnetic hover-scale",onClick:()=>L(M),children:"استرجاع"})]})]},M.id))}):Fe.length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"لا توجد معاملات تحويل محفوظة بعد"}):l.jsx("div",{className:"space-y-1 fade-in-up tab-content-smooth",children:Fe.map((M,G)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-all duration-300 hover-glow stagger-item card-float tab-stagger-item card-interactive hover-shadow-lg tilt",style:{animationDelay:`${G*.1}s`},onClick:()=>ln(M),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[Hn(M.status),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-xs",children:M.type==="withdraw"?`سحب من المحفظة - ${M.senderPhone}`:`${M.senderPhone} → ${M.receiverPhone}`}),l.jsx("p",{className:"text-xs text-gray-500",children:M.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"font-bold text-xs",children:[M.type==="withdraw"?"-":"",M.amount," جنيه"]}),M.withdrawnAmount&&l.jsxs("p",{className:"text-xs text-red-600",children:["مسحوب: ",M.withdrawnAmount," جنيه"]}),M.sentAmount&&l.jsxs("p",{className:"text-xs text-green-600",children:["مرسل: ",M.sentAmount," جنيه"]}),l.jsx(Dn,{variant:M.status==="completed"?"default":"secondary",className:`text-xs ${M.type==="withdraw"?"bg-green-100 text-green-800":""}`,children:M.type==="withdraw"?"سحب":jr(M.status)})]})]},M.id))})})]})})]})]}),l.jsxs("div",{className:"space-y-2 fade-in-right",children:[l.jsxs(st,{className:"card-glow",children:[l.jsx(Ut,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs($t,{className:"text-xs font-bold flex items-center gap-1",children:[l.jsx(ol,{className:"h-3 w-3 text-green-500"}),"إجراء معاملة جديدة"]}),l.jsxs(Z,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-white hover:bg-gray-50 border-gray-300 text-xs btn-bounce hover-glow h-6 px-2",onClick:()=>v(!0),children:[l.jsx(As,{className:"h-2.5 w-2.5"}),"إضافة محفظة"]}),l.jsxs(Z,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-blue-50 hover:bg-blue-100 border-blue-300 text-blue-600 text-xs btn-bounce hover-glow h-6 px-2",onClick:()=>et(!0),children:[l.jsx(Nu,{className:"h-2.5 w-2.5"}),"تغيير الرقم السري"]}),l.jsxs(Z,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-red-50 hover:bg-red-100 border-red-300 text-red-600 text-xs btn-bounce hover-glow h-6 px-2",onClick:async()=>{try{await e(),t({title:"تم تسجيل الخروج بنجاح",description:"شكراً لاستخدامك النظام"})}catch{t({title:"خطأ في تسجيل الخروج",description:"حدث خطأ أثناء تسجيل الخروج",variant:"destructive"})}},children:[l.jsx(Mv,{className:"h-2.5 w-2.5"}),"تسجيل خروج"]})]})}),l.jsxs(it,{className:"space-y-2 px-3 pb-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-1 p-0.5 bg-gray-100 rounded-lg fade-in-up",children:[l.jsx(Z,{variant:c==="transfer"?"default":"ghost",onClick:()=>Dt("transfer"),className:`text-xs transition-bounce ripple magnetic hover-scale h-6 ${c==="transfer"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-200"}`,children:"تحويل"}),l.jsx(Z,{variant:c==="withdraw"?"default":"ghost",onClick:()=>Dt("withdraw"),className:`text-xs transition-bounce ripple magnetic hover-scale h-6 ${c==="withdraw"?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-200"}`,children:"سحب"})]}),w.length>0&&l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-0.5 block",children:"اختيار المحفظة"}),l.jsxs(sx,{value:_,onValueChange:Et,children:[l.jsx(Ep,{className:"w-full h-6 text-xs transition-all duration-300 hover:border-blue-400",children:l.jsx(ix,{placeholder:"اختر محفظة للمعاملة"})}),l.jsx(bp,{children:w.map(M=>l.jsx(vo,{value:M.id,children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(As,{className:"h-2.5 w-2.5"}),l.jsx("span",{className:"text-xs",children:M.name}),l.jsxs("span",{className:"text-gray-500 text-xs",children:["(",M.phone,")"]}),M.isDefault&&l.jsx(Dn,{variant:"secondary",className:"text-xs",children:"افتراضي"})]})},M.id))})]})]}),l.jsx("div",{className:"fade-in-up mb-2",children:l.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-1 rounded-md border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[l.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-1 overflow-hidden flex",children:[l.jsx("div",{className:"w-1/2 bg-red-200 relative",children:l.jsx("div",{className:"bg-gradient-to-r from-red-400 to-red-600 h-1 transition-all duration-700 ease-out shadow-sm",style:{width:`${Math.min(hs/B*100,100)}%`}})}),l.jsx("div",{className:"w-1/2 bg-blue-200 relative",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 h-1 transition-all duration-700 ease-out shadow-sm",style:{width:`${Math.min(or/se*100,100)}%`}})})]}),l.jsxs("div",{className:"flex justify-between items-center mt-0.5",children:[l.jsxs("div",{className:"text-xs text-red-600 font-medium",children:["متبقي سحب: ",Math.max(B-hs,0)," جنيه"]}),l.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:["متبقي تحويل: ",Math.max(se-or,0)," جنيه"]})]})]})}),l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c==="transfer"?"رقم المرسل":"رقم المستقبل"}),l.jsxs("div",{className:"relative",children:[l.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Pe,{value:n,onChange:M=>r(M.target.value),placeholder:"01030302038",className:"pl-10 h-10 text-sm transition-all duration-300 hover:border-blue-400 focus:border-blue-500"})]})]}),l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c==="transfer"?"رقم المستقبل":"رقم الراسل"}),l.jsxs("div",{className:"relative",children:[l.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Pe,{value:s,onChange:M=>i(M.target.value),placeholder:"أدخل رقم الراسل",className:"pl-10 h-10 text-sm transition-all duration-300 hover:border-blue-400 focus:border-blue-500"})]})]}),l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c==="transfer"?"المبلغ (جنيه)":"مبلغ السحب (جنيه)"}),l.jsxs("div",{className:"relative",children:[c==="transfer"?l.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}):l.jsx(Dv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-green-500"}),l.jsx(Pe,{value:o,onChange:M=>a(M.target.value),placeholder:c==="transfer"?"أدخل المبلغ":"أدخل مبلغ السحب",type:"number",className:"pl-10 h-10 text-sm transition-all duration-300 hover:border-blue-400 focus:border-blue-500"})]})]}),l.jsx("div",{className:`text-center text-sm p-3 rounded fade-in-up ${c==="transfer"?"text-gray-600 bg-gray-50":"text-green-600 bg-green-50 border border-green-200"}`,children:c==="transfer"?l.jsxs(l.Fragment,{children:["محفظة (اختيارية)",l.jsx("br",{}),l.jsx("span",{className:"text-sm",children:"اضغط على العلامة"})]}):l.jsxs(l.Fragment,{children:["💰 سحب من الرصيد المتاح",l.jsx("br",{}),o&&parseFloat(o)>0&&l.jsxs("div",{className:"mt-1 text-sm space-y-1",children:[l.jsxs("div",{children:["المبلغ: ",o," جنيه"]}),l.jsxs("div",{children:["العمولة: ",qt(parseFloat(o))," جنيه"]}),l.jsxs("div",{className:"font-bold border-t pt-1",children:["الإجمالي: ",zn()," جنيه"]})]}),l.jsx("span",{className:"text-sm block mt-1",children:"عمولة السحب: 10 جنيه لكل 1000 جنيه"})]})}),l.jsx(Z,{onClick:bt,className:`w-full font-medium h-10 text-sm btn-bounce hover-glow transition-all duration-300 ${c==="transfer"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:c==="transfer"?"تأكيد التحويل":"تأكيد السحب"})]})]}),l.jsx(st,{className:"bg-gradient-to-br from-red-50 to-red-100 border-red-200 fade-in-up card-float",children:l.jsxs(it,{className:"p-3 text-center",children:[l.jsx("div",{className:"text-red-600 font-medium text-xs mb-1",children:"⚠️ تحذير من التحويل"}),l.jsx("div",{className:"text-xs text-red-700",children:"لا يمكن إلغاء أي عملية بعد تأكيدها للمحافظة على الأمان"})]})})]})]}),l.jsx(yR,{isOpen:T,onClose:()=>v(!1),onWalletUpdate:()=>{const M=localStorage.getItem("wallets");if(M){const G=JSON.parse(M);x(G)}}}),l.jsx(wR,{isOpen:O,onClose:()=>N(!1),transaction:A,onDelete:yn}),l.jsx(_R,{open:S,onOpenChange:C,onSuccess:ds,title:Pn(),description:Or()}),l.jsx(Pc,{open:Y,onOpenChange:he,onSuccess:ir,title:"تعديل الرصيد النقدي في الدرج",description:"أدخل الرقم السري والمبلغ الجديد لتعديل الرصيد النقدي في الدرج",currentBalance:X,balanceLabel:"الرصيد النقدي"}),l.jsx(Pc,{open:te,onOpenChange:de,onSuccess:()=>{},title:"تعديل رصيد المحفظة",description:"أدخل الرقم السري والمبلغ الجديد لتعديل رصيد المحفظة",currentBalance:be&&U[be]||0,balanceLabel:`رصيد ${((ie=w.find(M=>M.id===be))==null?void 0:ie.name)||"المحفظة"}`}),l.jsx(Ry,{open:ye,onOpenChange:Ne,onSuccess:so,title:"إضافة أو خصم مبلغ من الرصيد النقدي",description:"أدخل الرقم السري والمبلغ المراد إضافته أو خصمه من الرصيد النقدي",currentBalance:X,balanceLabel:"الرصيد النقدي"}),l.jsx(Ry,{open:Ve,onOpenChange:K,onSuccess:qn,title:"إضافة أو خصم مبلغ من إجمالي المحافظ",description:"أدخل الرقم السري والمبلغ المراد إضافته أو خصمه من إجمالي المحافظ",currentBalance:Object.values(U).reduce((M,G)=>M+G,0),balanceLabel:"إجمالي المحافظ"}),l.jsx(Pc,{open:ke,onOpenChange:Ie,onSuccess:Dr,title:"تعديل إجمالي المحافظ",description:"أدخل الرقم السري والمبلغ الجديد لإجمالي المحافظ",currentBalance:Object.values(U).reduce((M,G)=>M+G,0),balanceLabel:"إجمالي المحافظ"}),l.jsx(ER,{open:ve,onOpenChange:et})]})},Kz=()=>{const t=zs(),[e,n]=p.useState(!1),[r,s]=p.useState(!0);return p.useEffect(()=>{(()=>{const o=localStorage.getItem("dashboardAuth"),a=localStorage.getItem("dashboardUser");if(o==="true"&&a)try{const c=JSON.parse(a),d=new Date(c.loginTime);(new Date().getTime()-d.getTime())/(1e3*60*60)<24?n(!0):(localStorage.removeItem("dashboardAuth"),localStorage.removeItem("dashboardUser"),t("/dashboard/login"))}catch(c){console.error("Error parsing user data:",c),t("/dashboard/login")}else t("/dashboard/login");s(!1)})()},[t]),r?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"جاري التحقق من صلاحية الدخول..."})]})}):e?l.jsx(Gz,{}):null},Qz=()=>{var hs,or;const{toast:t}=Cr(),{signOut:e}=Rr(),[n,r]=p.useState("01030302038"),[s,i]=p.useState(""),[o,a]=p.useState(""),[c,d]=p.useState("transfer"),[h,f]=p.useState([]),[m,y]=p.useState("all"),[T,v]=p.useState(!1),[_,E]=p.useState(""),[w,x]=p.useState([]),[A,j]=p.useState(null),[O,N]=p.useState(!1);p.useState([]),p.useState([]);const[S,C]=p.useState(!1),[P,D]=p.useState("daily"),[R,k]=p.useState([]),B=2e5,se=2e5,[X,ae]=p.useState(0),[U,V]=p.useState({}),[Y,he]=p.useState(!1),[te,de]=p.useState(!1),[ye,Ne]=p.useState(!1),[Ve,K]=p.useState(""),[ke,Ie]=p.useState(""),[be,Ce]=p.useState(!1),[ve,et]=p.useState("");p.useState(!1);const[Et,Dt]=p.useState(!1);w.reduce((L,ie)=>L+(U[ie.id]||0),0),p.useEffect(()=>{const L=localStorage.getItem("wallets");if(L){const ne=JSON.parse(L);x(ne);const pe=ne.find(q=>q.isDefault);pe&&(E(pe.id),r(pe.phone))}else{const ne=[{id:"wallet-1",name:"المحفظة الرئيسية",phone:"01030302038",isDefault:!0,monthlyWithdrawalLimit:2e5,monthlyTransferLimit:2e5},{id:"wallet-2",name:"محفظة احتياطية",phone:"01234567890",isDefault:!1,monthlyWithdrawalLimit:2e5,monthlyTransferLimit:2e5}];x(ne),localStorage.setItem("wallets",JSON.stringify(ne)),E("wallet-1"),r("01030302038")}const ie=localStorage.getItem("deletedTransactions");if(ie){const ne=JSON.parse(ie);k(ne)}const M=localStorage.getItem("userCashBalance");M&&ae(parseFloat(M));const G=localStorage.getItem("walletBalances");G&&V(JSON.parse(G))},[]);const ln=L=>{E(L);const ie=w.find(M=>M.id===L);ie&&r(ie.phone)},yn=L=>{d(L),i(""),a("")},qt=L=>{j(L),N(!0)},An=L=>{const ie=h.find(M=>M.id===L);if(ie){const M=[...R,ie];k(M),localStorage.setItem("deletedTransactions",JSON.stringify(M));const G=h.filter(ne=>ne.id!==L);f(G),localStorage.setItem("transactions",JSON.stringify(G)),N(!1),t({title:"تم نقل المعاملة إلى المحذوفات",description:"تم نقل المعاملة إلى قائمة المحذوفات بنجاح. يمكنك استرجاعها لاحقاً"})}},zn=L=>{const ie=localStorage.getItem("withdrawalCommissionRate"),M=ie?parseFloat(ie):10;return Math.ceil(L/1e3*M)},Wn=()=>{const L=parseFloat(o)||0,ie=zn(L);return L+ie},sr=()=>{const L=new Date().toDateString(),ie=h.filter(q=>new Date(q.createdAt).toDateString()===L&&q.status==="completed"),M=ie.length,G=ie.reduce((q,oe)=>q+oe.amount,0),ne=ie.filter(q=>q.type==="withdraw").reduce((q,oe)=>q+(oe.withdrawnAmount||0),0),pe=ie.filter(q=>q.type==="send").reduce((q,oe)=>q+(oe.sentAmount||0),0);return{totalTransactions:M,totalAmount:G,totalWithdrawn:ne,totalSent:pe}},bt=()=>{const L=new Date().getMonth(),ie=new Date().getFullYear(),M=h.filter(oe=>{const ce=new Date(oe.createdAt);return ce.getMonth()===L&&ce.getFullYear()===ie&&oe.status==="completed"}),G=M.length,ne=M.reduce((oe,ce)=>oe+ce.amount,0),pe=M.filter(oe=>oe.type==="withdraw").reduce((oe,ce)=>oe+(ce.withdrawnAmount||0),0),q=M.filter(oe=>oe.type==="send").reduce((oe,ce)=>oe+(ce.sentAmount||0),0);return{totalTransactions:G,totalAmount:ne,totalWithdrawn:pe,totalSent:q}},Hn=bt().totalWithdrawn,jr=bt().totalSent;p.useEffect(()=>{const L=localStorage.getItem("transactions");if(L){const M=JSON.parse(L).map(G=>({...G,createdAt:new Date(G.createdAt)}));f(M)}},[]),p.useEffect(()=>{h.length>0&&localStorage.setItem("transactions",JSON.stringify(h))},[h]);const Fe=()=>{if(!n||!o){t({title:"خطأ في البيانات",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"});return}if(c==="transfer"&&!s){t({title:"خطأ في البيانات",description:"يرجى إدخال رقم المستقبل",variant:"destructive"});return}const L=parseFloat(o);if(L<=0){t({title:"خطأ في المبلغ",description:"يرجى إدخال مبلغ صحيح",variant:"destructive"});return}if(c==="withdraw"){if(Hn+L>B){t({title:"تجاوز حد السحب الشهري",description:`لا يمكن سحب أكثر من ${B} جنيه شهرياً`,variant:"destructive"});return}}else if(jr+L>se){t({title:"تجاوز حد التحويل الشهري",description:`لا يمكن تحويل أكثر من ${se} جنيه شهرياً`,variant:"destructive"});return}const ie={id:Date.now().toString(),type:c==="transfer"?"send":"withdraw",senderPhone:n,receiverPhone:c==="transfer"?s:n,amount:L,status:"completed",createdAt:new Date,withdrawnAmount:c==="withdraw"?L:void 0,sentAmount:c==="transfer"?L:void 0};if(c==="transfer"){const M=X+L;ae(M),localStorage.setItem("userCashBalance",M.toString())}if(c==="withdraw"){const M=X-L;ae(M),localStorage.setItem("userCashBalance",M.toString())}f(M=>[ie,...M]),i(""),a(""),t({title:c==="transfer"?"تم التحويل بنجاح":"تم السحب بنجاح",description:`تم ${c==="transfer"?"تحويل":"سحب"} ${L} جنيه بنجاح`})},Be=L=>{switch(L){case"completed":return l.jsx(ol,{className:"h-4 w-4 text-green-500"});case"pending":return l.jsx(al,{className:"h-4 w-4 text-yellow-500"});case"failed":return l.jsx(Ov,{className:"h-4 w-4 text-red-500"});default:return l.jsx(al,{className:"h-4 w-4 text-gray-500"})}},cn=L=>{switch(L){case"completed":return"مكتمل";case"pending":return"معلق";case"failed":return"فاشل";default:return"غير معروف"}},ds=h.filter(L=>m==="all"?!0:m==="send"?L.type==="send":m==="receive"?L.type==="receive":m==="withdraw"?L.type==="withdraw":m!=="deleted"),ir=L=>{const ie=R.find(M=>M.id===L);if(ie){const M=[ie,...h];f(M),localStorage.setItem("transactions",JSON.stringify(M));const G=R.filter(ne=>ne.id!==L);k(G),localStorage.setItem("deletedTransactions",JSON.stringify(G)),t({title:"تم استرجاع المعاملة",description:"تم استرجاع المعاملة بنجاح إلى القائمة الرئيسية"})}},so=L=>{const ie=R.filter(M=>M.id!==L);k(ie),localStorage.setItem("deletedTransactions",JSON.stringify(ie)),t({title:"تم حذف المعاملة نهائياً",description:"تم حذف المعاملة نهائياً ولا يمكن استرجاعها"})},qn=()=>{if(P==="daily"){const L=new Date().toDateString(),ie=h.filter(M=>new Date(M.createdAt).toDateString()!==L);f(ie),localStorage.setItem("transactions",JSON.stringify(ie)),t({title:"تم تصفير المعاملات اليومية",description:"تم حذف جميع معاملات اليوم بنجاح"})}else{const L=new Date().getMonth(),ie=new Date().getFullYear(),M=h.filter(G=>{const ne=new Date(G.createdAt);return!(ne.getMonth()===L&&ne.getFullYear()===ie)});f(M),localStorage.setItem("transactions",JSON.stringify(M)),t({title:"تم تصفير المعاملات الشهرية",description:"تم حذف جميع معاملات الشهر بنجاح"})}C(!1)},Dr=()=>P==="daily"?"تصفير المعاملات اليومية":"تصفير المعاملات الشهرية",Pn=()=>P==="daily"?"أدخل الرقم السري لتصفير جميع معاملات اليوم":"أدخل الرقم السري لتصفير جميع معاملات الشهر",Or=L=>{ae(L),localStorage.setItem("userCashBalance",L.toString()),he(!1),t({title:"تم تحديث الرصيد النقدي",description:`تم تحديث الرصيد النقدي إلى ${L} جنيه`})},Gn=L=>{var ie;if(ve){const G=(U[ve]||0)+L,ne={...U,[ve]:G};V(ne),localStorage.setItem("walletBalances",JSON.stringify(ne));const pe=((ie=w.find(ce=>ce.id===ve))==null?void 0:ie.name)||"المحفظة",q=L>0?"إضافة":"خصم",oe=Math.abs(L);t({title:`تم ${q} مبلغ ${q==="إضافة"?"إلى":"من"} رصيد المحفظة`,description:`تم ${q} ${oe} جنيه ${q==="إضافة"?"إلى":"من"} رصيد ${pe}. الرصيد الجديد: ${G.toLocaleString()} جنيه`})}Ce(!1),et("")};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:[l.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 fade-in-up",children:[l.jsxs(st,{className:"bg-gradient-to-br from-purple-500 to-purple-100 border-purple-200 card-float fade-in-left card-interactive hover-shadow-lg tilt",children:[l.jsx(Ut,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx($t,{className:"text-xs font-medium text-purple-700 hover-text-glow",children:"تقارير الشهر"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>{D("monthly"),C(!0)},className:"h-5 w-5 p-0 text-purple-600 hover:text-purple-800 hover:bg-purple-200 btn-bounce ripple magnetic hover-rotate",title:"تصفير معاملات الشهر",children:l.jsx(Pi,{className:"h-2.5 w-2.5"})}),l.jsx(Kc,{className:"h-2.5 w-2.5 text-purple-600 hover-rotate"})]})]})}),l.jsxs(it,{className:"space-y-0.5 pt-0 px-3 pb-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:"عدد المعاملات:"}),l.jsx("span",{className:"font-bold text-xs text-purple-800",children:bt().totalTransactions})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:"إجمالي المبالغ:"}),l.jsxs("span",{className:"font-bold text-xs text-purple-800",children:[bt().totalAmount.toFixed(2)," ج.م"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:"المسحوب:"}),l.jsxs("span",{className:"font-bold text-xs text-purple-800",children:[bt().totalWithdrawn.toFixed(2)," ج.م"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:"المرسل:"}),l.jsxs("span",{className:"font-bold text-xs text-purple-800",children:[bt().totalSent.toFixed(2)," ج.م"]})]})]})]}),l.jsxs(st,{className:"bg-gradient-to-br from-blue-500 to-blue-100 border-blue-200 card-float fade-in-right card-interactive hover-shadow-lg tilt",children:[l.jsx(Ut,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx($t,{className:"text-xs font-medium text-blue-700 hover-text-glow",children:"تقارير اليوم"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>{D("daily"),C(!0)},className:"h-5 w-5 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-200 btn-bounce ripple magnetic hover-rotate",title:"تصفير معاملات اليوم",children:l.jsx(Pi,{className:"h-2.5 w-2.5"})}),l.jsx(Kc,{className:"h-2.5 w-2.5 text-blue-600 hover-rotate"})]})]})}),l.jsxs(it,{className:"space-y-0.5 pt-0 px-3 pb-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:"عدد المعاملات:"}),l.jsx("span",{className:"font-bold text-xs text-blue-800",children:sr().totalTransactions})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:"إجمالي المبالغ:"}),l.jsxs("span",{className:"font-bold text-xs text-blue-800",children:[sr().totalAmount.toFixed(2)," ج.م"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:"المسحوب:"}),l.jsxs("span",{className:"font-bold text-xs text-blue-800",children:[sr().totalWithdrawn.toFixed(2)," ج.م"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:"المرسل:"}),l.jsxs("span",{className:"font-bold text-xs text-blue-800",children:[sr().totalSent.toFixed(2)," ج.م"]})]})]})]})]}),l.jsx(st,{className:"card-glow fade-in-up mb-4",children:l.jsx(it,{className:"p-2",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(bs,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{className:"text-xs font-medium text-green-800",children:"القيمة في الدرج"}),l.jsxs("span",{className:"text-sm font-bold text-green-700 mr-2",children:[X.toLocaleString()," جنيه"]})]}),l.jsx(Z,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-200",onClick:()=>{Ne(!0),K(""),Ie("")},children:l.jsx(ll,{className:"h-3 w-3"})})]})}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(As,{className:"h-3 w-3 text-blue-600"}),l.jsx("span",{className:"text-xs font-medium text-blue-800",children:"إجمالي المحفظة"}),l.jsxs("span",{className:"text-sm font-bold text-blue-700 mr-2",children:[Object.values(U).reduce((L,ie)=>L+ie,0).toLocaleString()," جنيه"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Z,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{setIsAddWalletDialogOpen(!0)},children:l.jsx(Cs,{className:"h-3 w-3 text-green-600"})}),l.jsx(Z,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{de(!0)},children:l.jsx(ll,{className:"h-3 w-3 text-blue-600"})})]})]})})]})})}),l.jsxs(st,{className:"card-glow fade-in-up",children:[l.jsx(Ut,{className:"pb-2 px-3 pt-3",children:l.jsx($t,{className:"text-sm font-bold",children:"المعاملات الأخيرة"})}),l.jsx(it,{className:"px-3 pb-3",children:l.jsxs(rP,{value:m,onValueChange:y,className:"w-full",children:[l.jsxs(ex,{className:"grid w-full grid-cols-5 h-8 text-xs",children:[l.jsx(yr,{value:"all",className:"text-xs",children:"الكل"}),l.jsx(yr,{value:"send",className:"text-xs",children:"مرسل"}),l.jsx(yr,{value:"receive",className:"text-xs",children:"مستقبل"}),l.jsx(yr,{value:"withdraw",className:"text-xs",children:"سحب"}),l.jsx(yr,{value:"deleted",className:"text-xs",children:"محذوف"})]}),l.jsx(ho,{value:"all",className:"mt-2",children:ds.length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"لا توجد معاملات محفوظة بعد"}):l.jsx("div",{className:"space-y-1 fade-in-up tab-content-smooth",children:ds.map((L,ie)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-all duration-300 hover-glow stagger-item card-float tab-stagger-item card-interactive hover-shadow-lg tilt",style:{animationDelay:`${ie*.1}s`},onClick:()=>qt(L),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[Be(L.status),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-xs",children:L.type==="withdraw"?`سحب من المحفظة - ${L.senderPhone}`:`${L.senderPhone} → ${L.receiverPhone}`}),l.jsx("p",{className:"text-xs text-gray-500",children:L.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"font-bold text-xs",children:[L.type==="withdraw"?"-":"",L.amount," جنيه"]}),L.withdrawnAmount&&l.jsxs("p",{className:"text-xs text-red-600",children:["مسحوب: ",L.withdrawnAmount," جنيه"]}),L.sentAmount&&l.jsxs("p",{className:"text-xs text-green-600",children:["مرسل: ",L.sentAmount," جنيه"]}),l.jsx(Dn,{variant:L.status==="completed"?"default":"secondary",className:`text-xs ${L.type==="withdraw"?"bg-green-100 text-green-800":""}`,children:L.type==="withdraw"?"سحب":cn(L.status)})]})]},L.id))})}),l.jsx(ho,{value:"send",className:"mt-2",children:h.filter(L=>L.type==="send").length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"لا توجد معاملات إرسال محفوظة بعد"}):l.jsx("div",{className:"space-y-1 fade-in-up tab-content-smooth",children:h.filter(L=>L.type==="send").map((L,ie)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-all duration-300 hover-glow stagger-item card-float tab-stagger-item card-interactive hover-shadow-lg tilt",style:{animationDelay:`${ie*.1}s`},onClick:()=>qt(L),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[Be(L.status),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-xs",children:[L.senderPhone," → ",L.receiverPhone]}),l.jsx("p",{className:"text-xs text-gray-500",children:L.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"font-bold text-xs",children:[L.amount," جنيه"]}),L.sentAmount&&l.jsxs("p",{className:"text-xs text-green-600",children:["مرسل: ",L.sentAmount," جنيه"]}),l.jsx(Dn,{variant:L.status==="completed"?"default":"secondary",className:"text-xs",children:cn(L.status)})]})]},L.id))})}),l.jsx(ho,{value:"receive",className:"mt-2",children:h.filter(L=>L.type==="receive").length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"لا توجد معاملات استقبال محفوظة بعد"}):l.jsx("div",{className:"space-y-1 fade-in-up tab-content-smooth",children:h.filter(L=>L.type==="receive").map((L,ie)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-all duration-300 hover-glow stagger-item card-float tab-stagger-item card-interactive hover-shadow-lg tilt",style:{animationDelay:`${ie*.1}s`},onClick:()=>qt(L),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[Be(L.status),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-xs",children:[L.senderPhone," → ",L.receiverPhone]}),l.jsx("p",{className:"text-xs text-gray-500",children:L.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"font-bold text-xs",children:["+",L.amount," جنيه"]}),l.jsx(Dn,{variant:L.status==="completed"?"default":"secondary",className:"text-xs",children:cn(L.status)})]})]},L.id))})}),l.jsx(ho,{value:"withdraw",className:"mt-2",children:h.filter(L=>L.type==="withdraw").length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"لا توجد معاملات سحب محفوظة بعد"}):l.jsx("div",{className:"space-y-1 fade-in-up tab-content-smooth",children:h.filter(L=>L.type==="withdraw").map((L,ie)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-all duration-300 hover-glow stagger-item card-float tab-stagger-item card-interactive hover-shadow-lg tilt",style:{animationDelay:`${ie*.1}s`},onClick:()=>qt(L),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[Be(L.status),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-xs",children:["سحب من المحفظة - ",L.senderPhone]}),l.jsx("p",{className:"text-xs text-gray-500",children:L.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"font-bold text-xs",children:["-",L.amount," جنيه"]}),L.withdrawnAmount&&l.jsxs("p",{className:"text-xs text-red-600",children:["مسحوب: ",L.withdrawnAmount," جنيه"]}),l.jsx(Dn,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:"سحب"})]})]},L.id))})}),l.jsx(ho,{value:"deleted",className:"mt-2",children:R.length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"لا توجد معاملات محذوفة"}):l.jsx("div",{className:"space-y-1 fade-in-up tab-content-smooth",children:R.map((L,ie)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded-lg border border-red-200 transition-all duration-300 stagger-item card-float tab-stagger-item",style:{animationDelay:`${ie*.1}s`},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[Be(L.status),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-xs text-red-700",children:L.type==="withdraw"?`سحب من المحفظة - ${L.senderPhone}`:`${L.senderPhone} → ${L.receiverPhone}`}),l.jsx("p",{className:"text-xs text-red-500",children:L.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("div",{className:"text-left mr-2",children:[l.jsxs("p",{className:"font-bold text-xs text-red-700",children:[L.type==="withdraw"?"-":"",L.amount," جنيه"]}),l.jsx(Dn,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:"محذوف"})]}),l.jsx(Z,{variant:"ghost",size:"sm",className:"text-green-600 hover:bg-green-100 h-6 px-2",onClick:()=>ir(L.id),children:"استرجاع"}),l.jsx(Z,{variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-100 h-6 px-2",onClick:()=>so(L.id),children:l.jsx(Pi,{className:"h-3 w-3"})})]})]},L.id))})})]})})]})]}),l.jsxs("div",{className:"space-y-2 fade-in-right",children:[l.jsxs(st,{className:"card-glow",children:[l.jsx(Ut,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs($t,{className:"text-xs font-bold flex items-center gap-1",children:[l.jsx(ol,{className:"h-3 w-3 text-green-500"}),"إجراء معاملة جديدة"]}),l.jsxs(Z,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-white hover:bg-gray-50 border-gray-300 text-xs btn-bounce hover-glow h-6 px-2",onClick:()=>v(!0),children:[l.jsx(As,{className:"h-2.5 w-2.5"}),"إضافة محفظة"]}),l.jsxs(Z,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-blue-50 hover:bg-blue-100 border-blue-300 text-blue-600 text-xs btn-bounce hover-glow h-6 px-2",onClick:()=>Dt(!0),children:[l.jsx(Nu,{className:"h-2.5 w-2.5"}),"تغيير الرقم السري"]}),l.jsxs(Z,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-red-50 hover:bg-red-100 border-red-300 text-red-600 text-xs btn-bounce hover-glow h-6 px-2",onClick:async()=>{try{await e(),t({title:"تم تسجيل الخروج بنجاح",description:"شكراً لاستخدامك النظام"})}catch{t({title:"خطأ في تسجيل الخروج",description:"حدث خطأ أثناء تسجيل الخروج",variant:"destructive"})}},children:[l.jsx(Mv,{className:"h-2.5 w-2.5"}),"تسجيل خروج"]})]})}),l.jsxs(it,{className:"space-y-2 px-3 pb-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-1 p-0.5 bg-gray-100 rounded-lg fade-in-up",children:[l.jsx(Z,{variant:c==="transfer"?"default":"ghost",onClick:()=>yn("transfer"),className:`text-xs transition-bounce ripple magnetic hover-scale h-6 ${c==="transfer"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-200"}`,children:"تحويل"}),l.jsx(Z,{variant:c==="withdraw"?"default":"ghost",onClick:()=>yn("withdraw"),className:`text-xs transition-bounce ripple magnetic hover-scale h-6 ${c==="withdraw"?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-200"}`,children:"سحب"})]}),w.length>0&&l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-0.5 block",children:"اختيار المحفظة"}),l.jsxs(sx,{value:_,onValueChange:ln,children:[l.jsx(Ep,{className:"w-full h-6 text-xs transition-all duration-300 hover:border-blue-400",children:l.jsx(ix,{placeholder:"اختر محفظة للمعاملة"})}),l.jsx(bp,{children:w.map(L=>l.jsx(vo,{value:L.id,children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(As,{className:"h-2.5 w-2.5"}),l.jsx("span",{className:"text-xs",children:L.name}),l.jsxs("span",{className:"text-gray-500 text-xs",children:["(",L.phone,")"]}),L.isDefault&&l.jsx(Dn,{variant:"secondary",className:"text-xs",children:"افتراضي"})]})},L.id))})]})]}),l.jsx("div",{className:"fade-in-up mb-2",children:l.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-1 rounded-md border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[l.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-1 overflow-hidden flex",children:[l.jsx("div",{className:"w-1/2 bg-red-200 relative",children:l.jsx("div",{className:"bg-gradient-to-r from-red-400 to-red-600 h-1 transition-all duration-700 ease-out shadow-sm",style:{width:`${Math.min(Hn/B*100,100)}%`}})}),l.jsx("div",{className:"w-1/2 bg-blue-200 relative",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 h-1 transition-all duration-700 ease-out shadow-sm",style:{width:`${Math.min(jr/se*100,100)}%`}})})]}),l.jsxs("div",{className:"flex justify-between items-center mt-0.5",children:[l.jsxs("div",{className:"text-xs text-red-600 font-medium",children:["متبقي سحب: ",Math.max(B-Hn,0)," جنيه"]}),l.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:["متبقي تحويل: ",Math.max(se-jr,0)," جنيه"]})]})]})}),l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c==="transfer"?"رقم المرسل":"رقم المستقبل"}),l.jsxs("div",{className:"relative",children:[l.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Pe,{value:n,onChange:L=>r(L.target.value),placeholder:"01030302038",className:"pl-10 h-10 text-sm transition-all duration-300 hover:border-blue-400 focus:border-blue-500"})]})]}),l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c==="transfer"?"رقم المستقبل":"رقم الراسل"}),l.jsxs("div",{className:"relative",children:[l.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Pe,{value:s,onChange:L=>i(L.target.value),placeholder:"أدخل رقم الراسل",className:"pl-10 h-10 text-sm transition-all duration-300 hover:border-blue-400 focus:border-blue-500"})]})]}),l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c==="transfer"?"المبلغ (جنيه)":"مبلغ السحب (جنيه)"}),l.jsxs("div",{className:"relative",children:[c==="transfer"?l.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}):l.jsx(Dv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-green-500"}),l.jsx(Pe,{value:o,onChange:L=>a(L.target.value),placeholder:c==="transfer"?"أدخل المبلغ":"أدخل مبلغ السحب",type:"number",className:"pl-10 h-10 text-sm transition-all duration-300 hover:border-blue-400 focus:border-blue-500"})]})]}),l.jsx("div",{className:`text-center text-sm p-3 rounded fade-in-up ${c==="transfer"?"text-gray-600 bg-gray-50":"text-green-600 bg-green-50 border border-green-200"}`,children:c==="transfer"?l.jsxs(l.Fragment,{children:["محفظة (اختيارية)",l.jsx("br",{}),l.jsx("span",{className:"text-sm",children:"اضغط على العلامة"})]}):l.jsxs(l.Fragment,{children:["💰 سحب من الرصيد المتاح",l.jsx("br",{}),o&&parseFloat(o)>0&&l.jsxs("div",{className:"mt-1 text-sm space-y-1",children:[l.jsxs("div",{children:["المبلغ: ",o," جنيه"]}),l.jsxs("div",{children:["العمولة: ",zn(parseFloat(o))," جنيه"]}),l.jsxs("div",{className:"font-bold border-t pt-1",children:["الإجمالي: ",Wn()," جنيه"]})]}),l.jsx("span",{className:"text-sm block mt-1",children:"عمولة السحب: 10 جنيه لكل 1000 جنيه"})]})}),l.jsx(Z,{onClick:Fe,className:`w-full font-medium h-10 text-sm btn-bounce hover-glow transition-all duration-300 ${c==="transfer"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:c==="transfer"?"تأكيد التحويل":"تأكيد السحب"})]})]}),l.jsx(st,{className:"bg-gradient-to-br from-red-50 to-red-100 border-red-200 fade-in-up card-float",children:l.jsxs(it,{className:"p-3 text-center",children:[l.jsx("div",{className:"text-red-600 font-medium text-xs mb-1",children:"⚠️ تحذير من التحويل"}),l.jsx("div",{className:"text-xs text-red-700",children:"لا يمكن إلغاء أي عملية بعد تأكيدها للمحافظة على الأمان"})]})})]})]}),l.jsx(yR,{isOpen:T,onClose:()=>v(!1),onWalletUpdate:()=>{const L=localStorage.getItem("wallets");if(L){const ie=JSON.parse(L);x(ie)}}}),l.jsx(wR,{isOpen:O,onClose:()=>N(!1),transaction:A,onDelete:An}),l.jsx(_R,{open:S,onOpenChange:C,onSuccess:qn,title:Dr(),description:Pn()}),l.jsx(Pc,{open:Y,onOpenChange:he,onSuccess:Or,title:"تعديل الرصيد النقدي في الدرج",description:"أدخل الرقم السري والمبلغ الجديد لتعديل الرصيد النقدي في الدرج",currentBalance:X,balanceLabel:"الرصيد النقدي"}),l.jsx(Pc,{open:te,onOpenChange:de,onSuccess:()=>{},title:"تعديل رصيد المحفظة",description:"أدخل الرقم السري والمبلغ الجديد لتعديل رصيد المحفظة",currentBalance:ve&&U[ve]||0,balanceLabel:`رصيد ${((hs=w.find(L=>L.id===ve))==null?void 0:hs.name)||"المحفظة"}`}),l.jsx(Ry,{open:be,onOpenChange:Ce,onSuccess:Gn,title:"إضافة أو خصم مبلغ من رصيد المحفظة",description:"أدخل الرقم السري والمبلغ المراد إضافته أو خصمه من رصيد المحفظة",currentBalance:ve&&U[ve]||0,balanceLabel:`رصيد ${((or=w.find(L=>L.id===ve))==null?void 0:or.name)||"المحفظة"}`}),l.jsx(ER,{open:Et,onOpenChange:Dt}),l.jsx(ro,{open:ye,onOpenChange:Ne,children:l.jsxs(qs,{className:"sm:max-w-md",children:[l.jsx(Gs,{children:l.jsx(Ks,{className:"text-right",children:"تعديل الدرج النقدية"})}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"amount",className:"text-right block",children:"المبلغ (استخدم + للإضافة أو - للخصم)"}),l.jsx(Pe,{id:"amount",type:"text",placeholder:"مثال: +500 أو -200",value:Ve,onChange:L=>K(L.target.value),className:"text-right",dir:"rtl"}),l.jsxs("p",{className:"text-xs text-gray-500 text-right",children:["الرصيد الحالي: ",X.toLocaleString()," جنيه"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"pin",className:"text-right block",children:"الرقم السري"}),l.jsx(Pe,{id:"pin",type:"password",placeholder:"أدخل الرقم السري",value:ke,onChange:L=>Ie(L.target.value),className:"text-right",dir:"rtl"})]})]}),l.jsxs(gR,{className:"flex gap-2",children:[l.jsx(Z,{variant:"outline",onClick:()=>{Ne(!1),K(""),Ie("")},children:"إلغاء"}),l.jsx(Z,{onClick:()=>{if(ke!=="1234"){t({title:"خطأ",description:"الرقم السري غير صحيح",variant:"destructive"});return}const L=Ve.trim();if(!L){t({title:"خطأ",description:"يرجى إدخال المبلغ",variant:"destructive"});return}let ie=0,M=!0;if(L.startsWith("+")?(ie=parseFloat(L.substring(1)),M=!0):L.startsWith("-")?(ie=parseFloat(L.substring(1)),M=!1):(ie=parseFloat(L),M=ie>=0,ie=Math.abs(ie)),isNaN(ie)||ie<=0){t({title:"خطأ",description:"يرجى إدخال مبلغ صحيح",variant:"destructive"});return}let G;M?G=X+ie:G=Math.max(0,X-ie),ae(G),localStorage.setItem("userCashBalance",G.toString()),t({title:"تم بنجاح",description:`تم ${M?"إضافة":"خصم"} ${ie} جنيه ${M?"إلى":"من"} الدرج النقدية`}),Ne(!1),K(""),Ie("")},children:"تأكيد"})]})]})})]})};var ky=["Enter"," "],Yz=["ArrowDown","PageUp","Home"],bR=["ArrowUp","PageDown","End"],Xz=[...Yz,...bR],Jz={ltr:[...ky,"ArrowRight"],rtl:[...ky,"ArrowLeft"]},Zz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$u="Menu",[pu,e8,t8]=Af($u),[na,TR]=Ar($u,[t8,Nl,pp]),Sp=Nl(),SR=pp(),[n8,ra]=na($u),[r8,Bu]=na($u),NR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Sp(e),[c,d]=p.useState(null),h=p.useRef(!1),f=Cn(i),m=fp(s);return p.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),l.jsx(SN,{...a,children:l.jsx(n8,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:d,children:l.jsx(r8,{scope:e,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:o,children:r})})})};NR.displayName=$u;var s8="MenuAnchor",cx=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Sp(n);return l.jsx(Kv,{...s,...r,ref:e})});cx.displayName=s8;var ux="MenuPortal",[i8,IR]=na(ux,{forceMount:void 0}),CR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=ra(ux,e);return l.jsx(i8,{scope:e,forceMount:n,children:l.jsx(Pr,{present:n||i.open,children:l.jsx(bu,{asChild:!0,container:s,children:r})})})};CR.displayName=ux;var tr="MenuContent",[o8,dx]=na(tr),AR=p.forwardRef((t,e)=>{const n=IR(tr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ra(tr,t.__scopeMenu),o=Bu(tr,t.__scopeMenu);return l.jsx(pu.Provider,{scope:t.__scopeMenu,children:l.jsx(Pr,{present:r||i.open,children:l.jsx(pu.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx(a8,{...s,ref:e}):l.jsx(l8,{...s,ref:e})})})})}),a8=p.forwardRef((t,e)=>{const n=ra(tr,t.__scopeMenu),r=p.useRef(null),s=qe(e,r);return p.useEffect(()=>{const i=r.current;if(i)return nx(i)},[]),l.jsx(hx,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:re(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),l8=p.forwardRef((t,e)=>{const n=ra(tr,t.__scopeMenu);return l.jsx(hx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),c8=Do("MenuContent.ScrollLock"),hx=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:y,disableOutsideScroll:T,...v}=t,_=ra(tr,n),E=Bu(tr,n),w=Sp(n),x=SR(n),A=e8(n),[j,O]=p.useState(null),N=p.useRef(null),S=qe(e,N,_.onContentChange),C=p.useRef(0),P=p.useRef(""),D=p.useRef(0),R=p.useRef(null),k=p.useRef("right"),B=p.useRef(0),se=T?vp:p.Fragment,X=T?{as:c8,allowPinchZoom:!0}:void 0,ae=V=>{var K,ke;const Y=P.current+V,he=A().filter(Ie=>!Ie.disabled),te=document.activeElement,de=(K=he.find(Ie=>Ie.ref.current===te))==null?void 0:K.textValue,ye=he.map(Ie=>Ie.textValue),Ne=_8(ye,Y,de),Ve=(ke=he.find(Ie=>Ie.textValue===Ne))==null?void 0:ke.ref.current;(function Ie(be){P.current=be,window.clearTimeout(C.current),be!==""&&(C.current=window.setTimeout(()=>Ie(""),1e3))})(Y),Ve&&setTimeout(()=>Ve.focus())};p.useEffect(()=>()=>window.clearTimeout(C.current),[]),tx();const U=p.useCallback(V=>{var he,te;return k.current===((he=R.current)==null?void 0:he.side)&&b8(V,(te=R.current)==null?void 0:te.area)},[]);return l.jsx(o8,{scope:n,searchRef:P,onItemEnter:p.useCallback(V=>{U(V)&&V.preventDefault()},[U]),onItemLeave:p.useCallback(V=>{var Y;U(V)||((Y=N.current)==null||Y.focus(),O(null))},[U]),onTriggerLeave:p.useCallback(V=>{U(V)&&V.preventDefault()},[U]),pointerGraceTimerRef:D,onPointerGraceIntentChange:p.useCallback(V=>{R.current=V},[]),children:l.jsx(se,{...X,children:l.jsx(gp,{asChild:!0,trapped:s,onMountAutoFocus:re(i,V=>{var Y;V.preventDefault(),(Y=N.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(El,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:y,children:l.jsx(BA,{asChild:!0,...x,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:O,onEntryFocus:re(c,V=>{E.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Qv,{role:"menu","aria-orientation":"vertical","data-state":HR(_.open),"data-radix-menu-content":"",dir:E.dir,...w,...v,ref:S,style:{outline:"none",...v.style},onKeyDown:re(v.onKeyDown,V=>{const he=V.target.closest("[data-radix-menu-content]")===V.currentTarget,te=V.ctrlKey||V.altKey||V.metaKey,de=V.key.length===1;he&&(V.key==="Tab"&&V.preventDefault(),!te&&de&&ae(V.key));const ye=N.current;if(V.target!==ye||!Xz.includes(V.key))return;V.preventDefault();const Ve=A().filter(K=>!K.disabled).map(K=>K.ref.current);bR.includes(V.key)&&Ve.reverse(),x8(Ve)}),onBlur:re(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(C.current),P.current="")}),onPointerMove:re(t.onPointerMove,mu(V=>{const Y=V.target,he=B.current!==V.clientX;if(V.currentTarget.contains(Y)&&he){const te=V.clientX>B.current?"right":"left";k.current=te,B.current=V.clientX}}))})})})})})})});AR.displayName=tr;var u8="MenuGroup",fx=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(_e.div,{role:"group",...r,ref:e})});fx.displayName=u8;var d8="MenuLabel",PR=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(_e.div,{...r,ref:e})});PR.displayName=d8;var cf="MenuItem",WE="menu.itemSelect",Np=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=p.useRef(null),o=Bu(cf,t.__scopeMenu),a=dx(cf,t.__scopeMenu),c=qe(e,i),d=p.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(WE,{bubbles:!0,cancelable:!0});f.addEventListener(WE,y=>r==null?void 0:r(y),{once:!0}),Pv(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return l.jsx(RR,{...s,ref:c,disabled:n,onClick:re(t.onClick,h),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),d.current=!0},onPointerUp:re(t.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:re(t.onKeyDown,f=>{const m=a.searchRef.current!=="";n||m&&f.key===" "||ky.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Np.displayName=cf;var RR=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=dx(cf,n),a=SR(n),c=p.useRef(null),d=qe(e,c),[h,f]=p.useState(!1),[m,y]=p.useState("");return p.useEffect(()=>{const T=c.current;T&&y((T.textContent??"").trim())},[i.children]),l.jsx(pu.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:l.jsx(zA,{asChild:!0,...a,focusable:!r,children:l.jsx(_e.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:re(t.onPointerMove,mu(T=>{r?o.onItemLeave(T):(o.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(t.onPointerLeave,mu(T=>o.onItemLeave(T))),onFocus:re(t.onFocus,()=>f(!0)),onBlur:re(t.onBlur,()=>f(!1))})})})}),h8="MenuCheckboxItem",kR=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return l.jsx(LR,{scope:t.__scopeMenu,checked:n,children:l.jsx(Np,{role:"menuitemcheckbox","aria-checked":uf(n)?"mixed":n,...s,ref:e,"data-state":mx(n),onSelect:re(s.onSelect,()=>r==null?void 0:r(uf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});kR.displayName=h8;var jR="MenuRadioGroup",[f8,p8]=na(jR,{value:void 0,onValueChange:()=>{}}),DR=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Cn(r);return l.jsx(f8,{scope:t.__scopeMenu,value:n,onValueChange:i,children:l.jsx(fx,{...s,ref:e})})});DR.displayName=jR;var OR="MenuRadioItem",MR=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=p8(OR,t.__scopeMenu),i=n===s.value;return l.jsx(LR,{scope:t.__scopeMenu,checked:i,children:l.jsx(Np,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":mx(i),onSelect:re(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});MR.displayName=OR;var px="MenuItemIndicator",[LR,m8]=na(px,{checked:!1}),VR=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=m8(px,n);return l.jsx(Pr,{present:r||uf(i.checked)||i.checked===!0,children:l.jsx(_e.span,{...s,ref:e,"data-state":mx(i.checked)})})});VR.displayName=px;var g8="MenuSeparator",FR=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});FR.displayName=g8;var y8="MenuArrow",UR=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Sp(n);return l.jsx(Yv,{...s,...r,ref:e})});UR.displayName=y8;var v8="MenuSub",[UW,$R]=na(v8),hc="MenuSubTrigger",BR=p.forwardRef((t,e)=>{const n=ra(hc,t.__scopeMenu),r=Bu(hc,t.__scopeMenu),s=$R(hc,t.__scopeMenu),i=dx(hc,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(cx,{asChild:!0,...d,children:l.jsx(RR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":HR(n.open),...t,ref:Cf(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:re(t.onPointerMove,mu(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:re(t.onPointerLeave,mu(f=>{var y,T;h();const m=(y=n.content)==null?void 0:y.getBoundingClientRect();if(m){const v=(T=n.content)==null?void 0:T.dataset.side,_=v==="right",E=_?-5:5,w=m[_?"left":"right"],x=m[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+E,y:f.clientY},{x:w,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:w,y:m.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:re(t.onKeyDown,f=>{var y;const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||Jz[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});BR.displayName=hc;var zR="MenuSubContent",WR=p.forwardRef((t,e)=>{const n=IR(tr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ra(tr,t.__scopeMenu),o=Bu(tr,t.__scopeMenu),a=$R(zR,t.__scopeMenu),c=p.useRef(null),d=qe(e,c);return l.jsx(pu.Provider,{scope:t.__scopeMenu,children:l.jsx(Pr,{present:r||i.open,children:l.jsx(pu.Slot,{scope:t.__scopeMenu,children:l.jsx(hx,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:re(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:re(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:re(t.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),m=Zz[o.dir].includes(h.key);f&&m&&(i.onOpenChange(!1),(y=a.trigger)==null||y.focus(),h.preventDefault())})})})})})});WR.displayName=zR;function HR(t){return t?"open":"closed"}function uf(t){return t==="indeterminate"}function mx(t){return uf(t)?"indeterminate":t?"checked":"unchecked"}function x8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function w8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function _8(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=w8(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function E8(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],d=a.x,h=a.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-d)*(r-h)/(m-h)+d&&(s=!s)}return s}function b8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return E8(n,e)}function mu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var T8=NR,S8=cx,N8=CR,I8=AR,C8=fx,A8=PR,P8=Np,R8=kR,k8=DR,j8=MR,D8=VR,O8=FR,M8=UR,L8=BR,V8=WR,Ip="DropdownMenu",[F8,$W]=Ar(Ip,[TR]),gn=TR(),[U8,qR]=F8(Ip),GR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,c=gn(e),d=p.useRef(null),[h,f]=Oo({prop:s,defaultProp:i??!1,onChange:o,caller:Ip});return l.jsx(U8,{scope:e,triggerId:Jr(),triggerRef:d,contentId:Jr(),open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),modal:a,children:l.jsx(T8,{...c,open:h,onOpenChange:f,dir:r,modal:a,children:n})})};GR.displayName=Ip;var KR="DropdownMenuTrigger",QR=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=qR(KR,n),o=gn(n);return l.jsx(S8,{asChild:!0,...o,children:l.jsx(_e.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Cf(e,i.triggerRef),onPointerDown:re(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:re(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});QR.displayName=KR;var $8="DropdownMenuPortal",YR=t=>{const{__scopeDropdownMenu:e,...n}=t,r=gn(e);return l.jsx(N8,{...r,...n})};YR.displayName=$8;var XR="DropdownMenuContent",JR=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qR(XR,n),i=gn(n),o=p.useRef(!1);return l.jsx(I8,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:re(t.onCloseAutoFocus,a=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:re(t.onInteractOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JR.displayName=XR;var B8="DropdownMenuGroup",z8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return l.jsx(C8,{...s,...r,ref:e})});z8.displayName=B8;var W8="DropdownMenuLabel",ZR=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return l.jsx(A8,{...s,...r,ref:e})});ZR.displayName=W8;var H8="DropdownMenuItem",e2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return l.jsx(P8,{...s,...r,ref:e})});e2.displayName=H8;var q8="DropdownMenuCheckboxItem",t2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return l.jsx(R8,{...s,...r,ref:e})});t2.displayName=q8;var G8="DropdownMenuRadioGroup",K8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return l.jsx(k8,{...s,...r,ref:e})});K8.displayName=G8;var Q8="DropdownMenuRadioItem",n2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return l.jsx(j8,{...s,...r,ref:e})});n2.displayName=Q8;var Y8="DropdownMenuItemIndicator",r2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return l.jsx(D8,{...s,...r,ref:e})});r2.displayName=Y8;var X8="DropdownMenuSeparator",s2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return l.jsx(O8,{...s,...r,ref:e})});s2.displayName=X8;var J8="DropdownMenuArrow",Z8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return l.jsx(M8,{...s,...r,ref:e})});Z8.displayName=J8;var eW="DropdownMenuSubTrigger",i2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return l.jsx(L8,{...s,...r,ref:e})});i2.displayName=eW;var tW="DropdownMenuSubContent",o2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=gn(n);return l.jsx(V8,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});o2.displayName=tW;var nW=GR,rW=QR,sW=YR,a2=JR,l2=ZR,c2=e2,u2=t2,d2=n2,h2=r2,f2=s2,p2=i2,m2=o2;const iW=nW,oW=rW,aW=p.forwardRef(({className:t,inset:e,children:n,...r},s)=>l.jsxs(p2,{ref:s,className:Ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,l.jsx(EO,{className:"ml-auto h-4 w-4"})]}));aW.displayName=p2.displayName;const lW=p.forwardRef(({className:t,...e},n)=>l.jsx(m2,{ref:n,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));lW.displayName=m2.displayName;const g2=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(sW,{children:l.jsx(a2,{ref:r,sideOffset:e,className:Ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));g2.displayName=a2.displayName;const jy=p.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(c2,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));jy.displayName=c2.displayName;const cW=p.forwardRef(({className:t,children:e,checked:n,...r},s)=>l.jsxs(u2,{ref:s,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(h2,{children:l.jsx(WS,{className:"h-4 w-4"})})}),e]}));cW.displayName=u2.displayName;const uW=p.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(d2,{ref:r,className:Ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(h2,{children:l.jsx(TO,{className:"h-2 w-2 fill-current"})})}),e]}));uW.displayName=d2.displayName;const y2=p.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(l2,{ref:r,className:Ee("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));y2.displayName=l2.displayName;const Dy=p.forwardRef(({className:t,...e},n)=>l.jsx(f2,{ref:n,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));Dy.displayName=f2.displayName;function dW(){const{profile:t,signOut:e}=Rr(),n=s=>{switch(s){case"admin":return"مدير";case"staff":return"موظف";case"merchant":return"تاجر";default:return s}},r=s=>{switch(s){case"admin":return"bg-primary text-primary-foreground";case"staff":return"bg-secondary text-secondary-foreground";case"merchant":return"bg-success text-success-foreground";default:return"bg-muted text-muted-foreground"}};return l.jsx("header",{className:"h-16 border-b border-border bg-card/50 backdrop-blur-sm",children:l.jsxs("div",{className:"flex h-full items-center justify-between px-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("h1",{className:"text-xl font-bold text-foreground",children:"منصة إدارة المحول"}),t&&l.jsx(Dn,{className:r(t.role),children:n(t.role)})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(Z,{variant:"ghost",size:"icon",className:"relative",children:[l.jsx(xO,{className:"h-5 w-5"}),l.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-destructive text-xs text-destructive-foreground flex items-center justify-center",children:"3"})]}),l.jsxs(iW,{children:[l.jsx(oW,{asChild:!0,children:l.jsxs(Z,{variant:"ghost",className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx(Lv,{className:"h-4 w-4 text-primary"})}),l.jsx("span",{className:"text-sm",children:(t==null?void 0:t.fullName)||"المستخدم"})]})}),l.jsxs(g2,{align:"end",className:"w-56",children:[l.jsx(y2,{children:"حسابي"}),l.jsx(Dy,{}),l.jsxs(jy,{children:[l.jsx(Nu,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"الإعدادات"})]}),l.jsx(Dy,{}),l.jsxs(jy,{onClick:()=>e(),className:"text-destructive",children:[l.jsx(Mv,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"تسجيل الخروج"})]})]})]})]})]})})}var gx="Progress",yx=100,[hW,BW]=Ar(gx),[fW,pW]=hW(gx),v2=p.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=mW,...o}=t;(s||s===0)&&!HE(s)&&console.error(gW(`${s}`,"Progress"));const a=HE(s)?s:yx;r!==null&&!qE(r,a)&&console.error(yW(`${r}`,"Progress"));const c=qE(r,a)?r:null,d=df(c)?i(c,a):void 0;return l.jsx(fW,{scope:n,value:c,max:a,children:l.jsx(_e.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":df(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":_2(c,a),"data-value":c??void 0,"data-max":a,...o,ref:e})})});v2.displayName=gx;var x2="ProgressIndicator",w2=p.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=pW(x2,n);return l.jsx(_e.div,{"data-state":_2(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});w2.displayName=x2;function mW(t,e){return`${Math.round(t/e*100)}%`}function _2(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function df(t){return typeof t=="number"}function HE(t){return df(t)&&!isNaN(t)&&t>0}function qE(t,e){return df(t)&&!isNaN(t)&&t<=e&&t>=0}function gW(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yx}\`.`}function yW(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var E2=v2,vW=w2;const fc=p.forwardRef(({className:t,value:e,...n},r)=>l.jsx(E2,{ref:r,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:l.jsx(vW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));fc.displayName=E2.displayName;function xW({open:t,onOpenChange:e,wallet:n,onSuccess:r}){const[s,i]=p.useState({provider:(n==null?void 0:n.provider)||"",msisdn:(n==null?void 0:n.msisdn)||"",dailyLimit:(n==null?void 0:n.dailyLimit)||0,monthlyLimit:(n==null?void 0:n.monthlyLimit)||0,transferLimit:(n==null?void 0:n.transferLimit)||2e5,withdrawLimit:(n==null?void 0:n.withdrawLimit)||2e5}),[o,a]=p.useState(!1),[c,d]=p.useState(null),{user:h}=Rr(),{toast:f}=Cr(),m=(v,_)=>{const E=v.slice(0,3);return _==="vodafone_cash"&&E==="010"||_==="orange_cash"&&E==="012"||_==="etisalat_cash"&&E==="011"||_==="instapay"&&E==="015"},y=v=>{switch(v){case"INVALID_MSISDN":return"رقم المحفظة غير صالح.";case"PROVIDER_MISMATCH":return"المزوّد لا يطابق مقدمة الرقم.";case"ALREADY_EXISTS":return"المحفظة مضافة قبل كده.";case"RLS_DENIED":return"ليست لديك صلاحية لإضافة المحفظة.";default:return"خطأ غير متوقع."}},T=async v=>{if(v.preventDefault(),d(null),!/^01\d{9}$/.test(s.msisdn)){d("اكتب رقم 11 رقم يبدأ بـ 01.");return}if(!m(s.msisdn,s.provider)){d("مقدم الخدمة لا يتطابق مع مقدمة الرقم.");return}a(!0);try{const _={...s,merchantUserId:h==null?void 0:h.uid,isActive:!0,provider:s.provider};if(console.log("Saving wallet data:",_),n!=null&&n.id)await Co.update(n.id,_),console.log("Wallet updated successfully"),r();else{console.log("Creating new wallet...");const E=await Co.create(_);console.log("Wallet created with ID:",E);const w={id:E,..._,dailyUsage:0,monthlyUsage:0};console.log("Final wallet object:",w),r(w)}f({title:"تم إضافة المحفظة",description:`تم ${n!=null&&n.id?"تحديث":"إضافة"} المحفظة بنجاح`}),e(!1)}catch(_){console.error("Error saving wallet:",_);let E="حصل خطأ أثناء الإضافة";_.code?E=y(_.code):_.message&&(E=_.message),f({title:"خطأ",description:E,variant:"destructive"})}finally{a(!1)}};return l.jsx(ro,{open:t,onOpenChange:e,children:l.jsxs(qs,{className:"sm:max-w-md",children:[l.jsx(Gs,{children:l.jsx(Ks,{children:n!=null&&n.id?"تعديل المحفظة":"إضافة محفظة جديدة"})}),l.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"provider",children:"المزود"}),l.jsxs(sx,{value:s.provider,onValueChange:v=>i({...s,provider:v}),disabled:o,children:[l.jsx(Ep,{children:l.jsx(ix,{placeholder:"اختر المزود"})}),l.jsxs(bp,{children:[l.jsx(vo,{value:"vodafone_cash",children:"Vodafone Cash"}),l.jsx(vo,{value:"etisalat_cash",children:"Etisalat Cash"}),l.jsx(vo,{value:"orange_cash",children:"Orange Cash"}),l.jsx(vo,{value:"instapay",children:"InstaPay"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"msisdn",children:"رقم الهاتف"}),l.jsx(Pe,{id:"msisdn",placeholder:"01xxxxxxxxx",value:s.msisdn,onChange:v=>i({...s,msisdn:v.target.value}),disabled:o,required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"dailyLimit",children:"الحد اليومي (ج.م)"}),l.jsx(Pe,{id:"dailyLimit",type:"number",min:"0",step:"0.01",value:s.dailyLimit,onChange:v=>i({...s,dailyLimit:parseFloat(v.target.value)||0}),disabled:o})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"monthlyLimit",children:"الحد الشهري (ج.م)"}),l.jsx(Pe,{id:"monthlyLimit",type:"number",min:"0",step:"0.01",value:s.monthlyLimit,onChange:v=>i({...s,monthlyLimit:parseFloat(v.target.value)||0}),disabled:o})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"transferLimit",children:"حد التحويل (ج.م)"}),l.jsx(Pe,{id:"transferLimit",type:"number",min:"0",step:"0.01",value:s.transferLimit,onChange:v=>i({...s,transferLimit:parseFloat(v.target.value)||2e5}),disabled:o,placeholder:"200000"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{htmlFor:"withdrawLimit",children:"حد السحب (ج.م)"}),l.jsx(Pe,{id:"withdrawLimit",type:"number",min:"0",step:"0.01",value:s.withdrawLimit,onChange:v=>i({...s,withdrawLimit:parseFloat(v.target.value)||2e5}),disabled:o,placeholder:"200000"})]})]}),c&&l.jsx("div",{className:"text-red-600 text-sm mt-2",children:c}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(Z,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:o,children:"إلغاء"}),l.jsx(Z,{type:"submit",disabled:o,className:"btn-primary",children:o?l.jsxs(l.Fragment,{children:[l.jsx(SO,{className:"mr-2 h-4 w-4 animate-spin"}),"جارِ الإضافة…"]}):n!=null&&n.id?"تحديث المحفظة":"إضافة المحفظة"})]})]})]})})}const wW={getCurrentMonthId(){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`},async getWalletUsage(t){try{const e=this.getCurrentMonthId(),n=sn(yt,"users",t,"limits",e),r=await fu(n);if(r.exists()){const i=r.data();return{walletId:t,used_transfer:i.used_transfer||0,used_withdraw:i.used_withdraw||0,monthly_limit:i.monthly_limit||2e5,last_reset:i.last_reset||null,updatedAt:i.updatedAt||Xe.now()}}const s={walletId:t,used_transfer:0,used_withdraw:0,monthly_limit:2e5,last_reset:null,updatedAt:Xe.now()};return await ga(n,{used_transfer:0,used_withdraw:0,monthly_limit:2e5,last_reset:null,updatedAt:tn()}),s}catch(e){return console.error("Error getting wallet usage:",e),null}},async resetWalletUsage(t){try{const e=this.getCurrentMonthId(),n=sn(yt,"users",t,"limits",e);return await ga(n,{used_transfer:0,used_withdraw:0,last_reset:tn(),updatedAt:tn()},{merge:!0}),console.log(`🔄 تم تصفير استخدام المحفظة ${t} بنجاح`),!0}catch(e){return console.error("خطأ في تصفير استخدام المحفظة:",e),!1}},async calculateUsageFromTransactions(t){var e;try{const n=this.getCurrentMonthId(),r=sn(yt,"users",t,"limits",n),s=await fu(r),i=s.exists()?(e=s.data())==null?void 0:e.last_reset:null,o=Q0(vl(yt,"tx"),sf("uid","==",t),...i?[sf("createdAt",">=",i)]:[]),a=await dp(o);let c=0,d=0;return a.forEach(h=>{const f=h.data();f.status==="completed"&&(f.type==="transfer"?c+=f.amount:f.type==="withdraw"&&(d+=f.amount))}),{used_transfer:c,used_withdraw:d}}catch(n){return console.error("خطأ في حساب الاستخدام من المعاملات:",n),{used_transfer:0,used_withdraw:0}}},async getWalletUsageWithRefresh(t){try{const e=await this.getWalletUsage(t);if(!e)return null;const n=await this.calculateUsageFromTransactions(t);if(e.used_transfer!==n.used_transfer||e.used_withdraw!==n.used_withdraw){const r=this.getCurrentMonthId(),s=sn(yt,"users",t,"limits",r);return await ga(s,{used_transfer:n.used_transfer,used_withdraw:n.used_withdraw,updatedAt:tn()},{merge:!0}),await this.getWalletUsage(t)}return e}catch(e){return console.error("خطأ في الحصول على الاستخدام مع التحديث:",e),null}},calculateRemaining(t){return{remainingTransfer:Math.max(0,t.monthly_limit-t.used_transfer),remainingWithdraw:Math.max(0,t.monthly_limit-t.used_withdraw)}},async canPerformOperation(t,e,n){try{const r=await this.getWalletUsageWithRefresh(t);if(!r)return{canPerform:!1,message:"لا يمكن العثور على بيانات الاستخدام للمحفظة"};const s=this.calculateRemaining(r);return n==="transfer"&&e>s.remainingTransfer?{canPerform:!1,message:`تجاوز حد التحويل المسموح. المتبقي: ${s.remainingTransfer.toLocaleString()} ج.م من أصل ${r.monthly_limit.toLocaleString()} ج.م`,remaining:s.remainingTransfer}:n==="withdraw"&&e>s.remainingWithdraw?{canPerform:!1,message:`تجاوز حد السحب المسموح. المتبقي: ${s.remainingWithdraw.toLocaleString()} ج.م من أصل ${r.monthly_limit.toLocaleString()} ج.م`,remaining:s.remainingWithdraw}:{canPerform:!0}}catch(r){return console.error("Error checking operation limits:",r),{canPerform:!1,message:"خطأ في التحقق من الحدود"}}},async updateUsage(t,e,n){try{const r=await this.getWalletUsageWithRefresh(t);if(!r)throw new Error("لا يمكن العثور على بيانات الاستخدام للمحفظة");const s=await this.canPerformOperation(t,e,n);if(!s.canPerform)throw new Error(s.message||"لا يمكن إجراء العملية");const i=n==="transfer"?r.used_transfer+e:r.used_transfer,o=n==="withdraw"?r.used_withdraw+e:r.used_withdraw,a=this.getCurrentMonthId(),c=sn(yt,"users",r.walletId,"limits",a);await ga(c,{used_transfer:i,used_withdraw:o,updatedAt:tn()},{merge:!0});const d=await this.getWalletUsageWithRefresh(t);if(!d)throw new Error("فشل في قراءة البيانات المحدثة");return d}catch(r){throw console.error("Error updating wallet usage:",r),r}},async resetWalletUsageManually(t){try{const e=this.getCurrentMonthId(),n=sn(yt,"users",t,"limits",e);await ga(n,{used_transfer:0,used_withdraw:0,last_reset:tn(),updatedAt:tn()},{merge:!0});const r=await this.getWalletUsageWithRefresh(t);if(!r)throw new Error("فشل في قراءة البيانات بعد التصفير");return console.log(`✅ تم تصفير استخدام المحفظة ${t} بنجاح`),r}catch(e){throw console.error("Error resetting wallet usage:",e),e}},async getAllWalletsUsage(t){try{const n=(await Co.getByMerchantId(t)).map(s=>this.getWalletUsageWithRefresh(s.id));return(await Promise.all(n)).filter(s=>s!==null)}catch(e){return console.error("Error getting all wallets usage:",e),[]}}};function _W(){const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[o,a]=p.useState(null),[c,d]=p.useState(!0),{user:h}=Rr(),{toast:f}=Cr();p.useEffect(()=>{h!=null&&h.uid&&m()},[h==null?void 0:h.uid]);const m=async()=>{try{if(!(h!=null&&h.uid)){e([]),r(!1);return}r(!0);const x=await Co.getByMerchantId(h.uid),A=await Promise.all(x.map(async j=>{try{const O=await wW.getUsage(j.id);return{...j,dailyUsage:j.dailyUsage||0,monthlyUsage:j.monthlyUsage||0,transferUsage:(O==null?void 0:O.transferUsage)||0,withdrawUsage:(O==null?void 0:O.withdrawUsage)||0}}catch(O){return console.error(`Error loading usage for wallet ${j.id}:`,O),{...j,dailyUsage:j.dailyUsage||0,monthlyUsage:j.monthlyUsage||0,transferUsage:0,withdrawUsage:0}}}));e(A)}catch(x){console.error("Error fetching wallets from Firebase:",x),f({title:"خطأ",description:"فشل في تحميل المحافظ من الخادم. يرجى المحاولة مرة أخرى.",variant:"destructive"}),e([])}finally{r(!1)}},y=async(x,A)=>{try{await Co.update(x,{isActive:!A});const j=t.map(O=>O.id===x?{...O,isActive:!O.isActive}:O);e(j),f({title:"تم التحديث",description:`تم ${A?"إلغاء تفعيل":"تفعيل"} المحفظة بنجاح`})}catch(j){console.error("Error toggling wallet status:",j),f({title:"خطأ",description:"فشل في تحديث حالة المحفظة",variant:"destructive"})}},T=async(x,A)=>{if(window.confirm(`هل أنت متأكد من حذف المحفظة ${A}؟

هذا الإجراء لا يمكن التراجع عنه.`))try{await Co.delete(x);const O=t.filter(N=>N.id!==x);e(O),f({title:"تم الحذف",description:"تم حذف المحفظة بنجاح"})}catch(O){console.error("Error deleting wallet:",O),f({title:"خطأ",description:"فشل في حذف المحفظة",variant:"destructive"})}},v=(x,A)=>{if(A===0)return"bg-muted";const j=x/A*100;return j>=100?"bg-destructive":j>=80?"bg-warning":"bg-success"},_=x=>{switch(x){case"vodafone_cash":return"bg-red-600";case"etisalat_cash":return"bg-green-600";case"orange_cash":return"bg-orange-600";case"instapay":return"bg-blue-600";default:return"bg-gray-600"}},E=x=>{switch(x){case"vodafone_cash":return"#dc2626";case"etisalat_cash":return"#16a34a";case"orange_cash":return"#ea580c";case"instapay":return"#2563eb";default:return"#6b7280"}},w=x=>{switch(x){case"vodafone_cash":return"فودافون كاش";case"etisalat_cash":return"اتصالات كاش";case"orange_cash":return"أورانج كاش";case"instapay":return"إنستاباي";default:return x.replace("_"," ")}};return n?l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"}),l.jsx("p",{className:"text-muted-foreground animate-pulse",children:"جاري تحميل المحافظ..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"محافظي"}),l.jsxs(Z,{variant:"outline",size:"sm",onClick:m,disabled:n,className:"flex items-center gap-2",children:[l.jsx("svg",{className:`w-4 h-4 ${n?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"تحديث"]})]}),c&&l.jsxs(Z,{onClick:()=>{i(!0),d(!1)},className:"btn-primary",children:[l.jsx(Cs,{className:"ml-2 h-4 w-4"}),"إضافة محفظة جديدة"]})]}),l.jsxs("div",{className:"grid gap-6",children:[t.map(x=>{var A,j,O,N,S,C;return l.jsxs(st,{className:"card-glass hover:shadow-lg transition-all duration-300 border-l-4",style:{borderLeftColor:E(x.provider)},children:[l.jsx(Ut,{className:"pb-4",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Dn,{className:`${_(x.provider)} text-white font-medium px-3 py-1`,children:w(x.provider)}),l.jsx("div",{className:`w-3 h-3 rounded-full ${x.isActive?"bg-green-500":"bg-gray-400"}`,title:x.isActive?"نشط":"غير نشط"})]}),l.jsx($t,{className:"text-xl font-bold text-primary",children:x.msisdn}),x.label&&l.jsxs("span",{className:"text-sm text-muted-foreground font-medium",children:["(",x.label,")"]})]})}),l.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-2",children:[l.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{a(x),i(!0)},children:l.jsx(ll,{className:"h-4 w-4"})}),l.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>y(x.id,x.isActive),children:x.isActive?l.jsx(CO,{className:"h-5 w-5 text-success"}):l.jsx(IO,{className:"h-5 w-5 text-muted-foreground"})}),l.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>T(x.id,x.msisdn),className:"text-destructive hover:text-destructive",children:l.jsx(Pi,{className:"h-4 w-4"})})]})]})}),l.jsx(it,{className:"pt-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-muted/30 rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",children:[l.jsx("span",{className:"font-medium text-muted-foreground",children:"الاستخدام اليومي"}),l.jsxs("span",{className:"font-bold",children:[(A=x.dailyUsage)==null?void 0:A.toLocaleString()," / ",x.dailyLimit>0?x.dailyLimit.toLocaleString():"∞"," جنيه"]})]}),l.jsx(fc,{value:x.dailyLimit>0?Math.min((x.dailyUsage||0)/x.dailyLimit*100,100):0,className:`h-3 ${v(x.dailyUsage||0,x.dailyLimit)}`}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[x.dailyLimit>0?((x.dailyUsage||0)/x.dailyLimit*100).toFixed(1):0,"% مستخدم"]})]}),l.jsxs("div",{className:"bg-muted/30 rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",children:[l.jsx("span",{className:"font-medium text-muted-foreground",children:"الاستخدام الشهري"}),l.jsxs("span",{className:"font-bold",children:[(j=x.monthlyUsage)==null?void 0:j.toLocaleString()," / ",x.monthlyLimit>0?x.monthlyLimit.toLocaleString():"∞"," جنيه"]})]}),l.jsx(fc,{value:x.monthlyLimit>0?Math.min((x.monthlyUsage||0)/x.monthlyLimit*100,100):0,className:`h-3 ${v(x.monthlyUsage||0,x.monthlyLimit)}`}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[x.monthlyLimit>0?((x.monthlyUsage||0)/x.monthlyLimit*100).toFixed(1):0,"% مستخدم"]})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",children:[l.jsx("span",{className:"font-medium text-blue-700",children:"حد التحويل"}),l.jsxs("span",{className:"font-bold text-blue-900",children:[((O=x.transferUsage)==null?void 0:O.toLocaleString())||0," / ",((N=x.transferLimit)==null?void 0:N.toLocaleString())||2e5," جنيه"]})]}),l.jsx(fc,{value:x.transferLimit?Math.min((x.transferUsage||0)/x.transferLimit*100,100):0,className:"h-3 bg-blue-100"}),l.jsxs("div",{className:"text-xs text-blue-600 mt-1 text-right",children:[x.transferLimit?((x.transferUsage||0)/x.transferLimit*100).toFixed(1):0,"% مستخدم"]})]}),l.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",children:[l.jsx("span",{className:"font-medium text-green-700",children:"حد السحب"}),l.jsxs("span",{className:"font-bold text-green-900",children:[((S=x.withdrawUsage)==null?void 0:S.toLocaleString())||0," / ",((C=x.withdrawLimit)==null?void 0:C.toLocaleString())||2e5," جنيه"]})]}),l.jsx(fc,{value:x.withdrawLimit?Math.min((x.withdrawUsage||0)/x.withdrawLimit*100,100):0,className:"h-3 bg-green-100"}),l.jsxs("div",{className:"text-xs text-green-600 mt-1 text-right",children:[x.withdrawLimit?((x.withdrawUsage||0)/x.withdrawLimit*100).toFixed(1):0,"% مستخدم"]})]})]})})]},x.id)}),t.length===0&&l.jsx(st,{className:"card-glass",children:l.jsxs(it,{className:"text-center py-16",children:[l.jsx("div",{className:"bg-muted/30 rounded-full w-24 h-24 mx-auto mb-6 flex items-center justify-center",children:l.jsx(Cs,{className:"w-12 h-12 text-muted-foreground"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"لا توجد محافظ"}),l.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"ابدأ بإضافة محفظتك الأولى لتتمكن من استقبال المدفوعات من عملائك"}),c&&l.jsxs(Z,{onClick:()=>{i(!0),d(!1)},size:"lg",className:"btn-primary px-8",children:[l.jsx(Cs,{className:"w-5 h-5 ml-2"}),"إضافة محفظة جديدة"]})]})})]}),l.jsx(xW,{open:s,onOpenChange:x=>{i(x),x||(a(null),d(!0))},wallet:o,onSuccess:x=>{console.log("onSuccess called with:",x),console.log("editingWallet:",o),x&&!o?(console.log("Adding new wallet to list"),e(A=>{const j=[...A,x];return console.log("Updated wallets list:",j),j})):(console.log("Refreshing wallets from Firebase"),m()),i(!1),a(null),d(!0)}})]})}function EW(){const{user:t,profile:e,loading:n}=Rr();return p.useEffect(()=>{!n&&(!t||!e||e.role!=="merchant")&&(window.location.href="/auth")},[t,e,n]),n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"جاري التحميل..."})]})}):!t||!e||e.role!=="merchant"?null:l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(dW,{}),l.jsx("main",{className:"container mx-auto p-6",children:l.jsxs(XN,{children:[l.jsx(xn,{path:"/",element:l.jsx(YN,{to:"/merchant/wallets",replace:!0})}),l.jsx(xn,{path:"/wallets",element:l.jsx(_W,{})})]})})]})}const bW=()=>{const t=Yo();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},TW=new Z4,SW=()=>l.jsx(tV,{client:TW,children:l.jsx(RB,{children:l.jsx(AB,{children:l.jsxs(A4,{children:[l.jsx(hM,{}),l.jsx(WM,{}),l.jsx(XV,{children:l.jsxs(XN,{children:[l.jsx(xn,{path:"/",element:l.jsx(kB,{})}),l.jsx(xn,{path:"/landing",element:l.jsx(OB,{})}),l.jsx(xn,{path:"/auth",element:l.jsx(MB,{})}),l.jsx(xn,{path:"/admin/login",element:l.jsx(LB,{})}),l.jsx(xn,{path:"/user/login",element:l.jsx(UB,{})}),l.jsx(xn,{path:"/user/register",element:l.jsx(zB,{})}),l.jsx(xn,{path:"/user/dashboard",element:l.jsx(Qz,{})}),l.jsx(xn,{path:"/merchant/*",element:l.jsx(EW,{})}),l.jsx(xn,{path:"/dashboard/login",element:l.jsx(WB,{})}),l.jsx(xn,{path:"/dashboard",element:l.jsx(Kz,{})}),l.jsx(xn,{path:"*",element:l.jsx(bW,{})})]})})]})})})});mS(document.getElementById("root")).render(l.jsx(SW,{}));
