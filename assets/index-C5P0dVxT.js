var q2=Object.defineProperty;var iw=t=>{throw TypeError(t)};var G2=(t,e,n)=>e in t?q2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ow=(t,e,n)=>G2(t,typeof e!="symbol"?e+"":e,n),Up=(t,e,n)=>e.has(t)||iw("Cannot "+n);var H=(t,e,n)=>(Up(t,e,"read from private field"),n?n.call(t):e.get(t)),He=(t,e,n)=>e.has(t)?iw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ae=(t,e,n,r)=>(Up(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Jt=(t,e,n)=>(Up(t,e,"access private method"),n);var rd=(t,e,n,r)=>({set _(s){Ae(t,e,s,n)},get _(){return H(t,e,r)}});function K2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function nb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rb={exports:{}},hf={},sb={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=Symbol.for("react.element"),Q2=Symbol.for("react.portal"),Y2=Symbol.for("react.fragment"),X2=Symbol.for("react.strict_mode"),J2=Symbol.for("react.profiler"),Z2=Symbol.for("react.provider"),ek=Symbol.for("react.context"),tk=Symbol.for("react.forward_ref"),nk=Symbol.for("react.suspense"),rk=Symbol.for("react.memo"),sk=Symbol.for("react.lazy"),aw=Symbol.iterator;function ik(t){return t===null||typeof t!="object"?null:(t=aw&&t[aw]||t["@@iterator"],typeof t=="function"?t:null)}var ib={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ob=Object.assign,ab={};function xl(t,e,n){this.props=t,this.context=e,this.refs=ab,this.updater=n||ib}xl.prototype.isReactComponent={};xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lb(){}lb.prototype=xl.prototype;function Ly(t,e,n){this.props=t,this.context=e,this.refs=ab,this.updater=n||ib}var Vy=Ly.prototype=new lb;Vy.constructor=Ly;ob(Vy,xl.prototype);Vy.isPureReactComponent=!0;var lw=Array.isArray,cb=Object.prototype.hasOwnProperty,Fy={current:null},ub={key:!0,ref:!0,__self:!0,__source:!0};function db(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)cb.call(e,r)&&!ub.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:vu,type:t,key:i,ref:o,props:s,_owner:Fy.current}}function ok(t,e){return{$$typeof:vu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uy(t){return typeof t=="object"&&t!==null&&t.$$typeof===vu}function ak(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cw=/\/+/g;function $p(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ak(""+t.key):e.toString(36)}function Md(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vu:case Q2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+$p(o,0):r,lw(s)?(n="",t!=null&&(n=t.replace(cw,"$&/")+"/"),Md(s,e,n,"",function(d){return d})):s!=null&&(Uy(s)&&(s=ok(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",lw(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+$p(i,a);o+=Md(i,e,n,c,s)}else if(c=ik(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+$p(i,a++),o+=Md(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sd(t,e,n){if(t==null)return t;var r=[],s=0;return Md(t,r,"","",function(i){return e.call(n,i,s++)}),r}function lk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Ld={transition:null},ck={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Ld,ReactCurrentOwner:Fy};function hb(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:sd,forEach:function(t,e,n){sd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sd(t,function(){e++}),e},toArray:function(t){return sd(t,function(e){return e})||[]},only:function(t){if(!Uy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=xl;Oe.Fragment=Y2;Oe.Profiler=J2;Oe.PureComponent=Ly;Oe.StrictMode=X2;Oe.Suspense=nk;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ck;Oe.act=hb;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ob({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Fy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)cb.call(e,c)&&!ub.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:vu,type:t.type,key:s,ref:i,props:r,_owner:o}};Oe.createContext=function(t){return t={$$typeof:ek,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Z2,_context:t},t.Consumer=t};Oe.createElement=db;Oe.createFactory=function(t){var e=db.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:tk,render:t}};Oe.isValidElement=Uy;Oe.lazy=function(t){return{$$typeof:sk,_payload:{_status:-1,_result:t},_init:lk}};Oe.memo=function(t,e){return{$$typeof:rk,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=Ld.transition;Ld.transition={};try{t()}finally{Ld.transition=e}};Oe.unstable_act=hb;Oe.useCallback=function(t,e){return vn.current.useCallback(t,e)};Oe.useContext=function(t){return vn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return vn.current.useEffect(t,e)};Oe.useId=function(){return vn.current.useId()};Oe.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return vn.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Oe.useRef=function(t){return vn.current.useRef(t)};Oe.useState=function(t){return vn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return vn.current.useTransition()};Oe.version="18.3.1";sb.exports=Oe;var p=sb.exports;const Z=nb(p),$y=K2({__proto__:null,default:Z},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uk=p,dk=Symbol.for("react.element"),hk=Symbol.for("react.fragment"),fk=Object.prototype.hasOwnProperty,pk=uk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mk={key:!0,ref:!0,__self:!0,__source:!0};function fb(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fk.call(e,r)&&!mk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:dk,type:t,key:i,ref:o,props:s,_owner:pk.current}}hf.Fragment=hk;hf.jsx=fb;hf.jsxs=fb;rb.exports=hf;var l=rb.exports,pb={exports:{}},qn={},mb={exports:{}},gb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,L){var Y=F.length;F.push(L);e:for(;0<Y;){var ce=Y-1>>>1,ne=F[ce];if(0<s(ne,L))F[ce]=L,F[Y]=ne,Y=ce;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var L=F[0],Y=F.pop();if(Y!==L){F[0]=Y;e:for(var ce=0,ne=F.length,ue=ne>>>1;ce<ue;){var me=2*(ce+1)-1,Te=F[me],Me=me+1,K=F[Me];if(0>s(Te,Y))Me<ne&&0>s(K,Te)?(F[ce]=K,F[Me]=Y,ce=Me):(F[ce]=Te,F[me]=Y,ce=me);else if(Me<ne&&0>s(K,Y))F[ce]=K,F[Me]=Y,ce=Me;else break e}}return L}function s(F,L){var Y=F.sortIndex-L.sortIndex;return Y!==0?Y:F.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,m=3,y=!1,T=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=F)r(d),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(d)}}function A(F){if(v=!1,x(F),!T)if(n(c)!==null)T=!0,X(D);else{var L=n(d);L!==null&&ie(A,L.startTime-F)}}function D(F,L){T=!1,v&&(v=!1,E(S),S=-1),y=!0;var Y=m;try{for(x(L),f=n(c);f!==null&&(!(f.expirationTime>L)||F&&!O());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,m=f.priorityLevel;var ne=ce(f.expirationTime<=L);L=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(c)&&r(c),x(L)}else r(c);f=n(c)}if(f!==null)var ue=!0;else{var me=n(d);me!==null&&ie(A,me.startTime-L),ue=!1}return ue}finally{f=null,m=Y,y=!1}}var M=!1,N=null,S=-1,C=5,P=-1;function O(){return!(t.unstable_now()-P<C)}function R(){if(N!==null){var F=t.unstable_now();P=F;var L=!0;try{L=N(!0,F)}finally{L?k():(M=!1,N=null)}}else M=!1}var k;if(typeof w=="function")k=function(){w(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,se=z.port2;z.port1.onmessage=R,k=function(){se.postMessage(null)}}else k=function(){_(R,0)};function X(F){N=F,M||(M=!0,k())}function ie(F,L){S=_(function(){F(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,X(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var Y=m;m=L;try{return F()}finally{m=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,L){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=m;m=F;try{return L()}finally{m=Y}},t.unstable_scheduleCallback=function(F,L,Y){var ce=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ce+Y:ce):Y=ce,F){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Y+ne,F={id:h++,callback:L,priorityLevel:F,startTime:Y,expirationTime:ne,sortIndex:-1},Y>ce?(F.sortIndex=Y,e(d,F),n(c)===null&&F===n(d)&&(v?(E(S),S=-1):v=!0,ie(A,Y-ce))):(F.sortIndex=ne,e(c,F),T||y||(T=!0,X(D))),F},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(F){var L=m;return function(){var Y=m;m=L;try{return F.apply(this,arguments)}finally{m=Y}}}})(gb);mb.exports=gb;var gk=mb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk=p,Hn=gk;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yb=new Set,Rc={};function Go(t,e){el(t,e),el(t+"Capture",e)}function el(t,e){for(Rc[t]=e,t=0;t<e.length;t++)yb.add(e[t])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bm=Object.prototype.hasOwnProperty,vk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uw={},dw={};function xk(t){return Bm.call(dw,t)?!0:Bm.call(uw,t)?!1:vk.test(t)?dw[t]=!0:(uw[t]=!0,!1)}function wk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _k(t,e,n,r){if(e===null||typeof e>"u"||wk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var By=/[\-:]([a-z])/g;function zy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(By,zy);Wt[e]=new xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(By,zy);Wt[e]=new xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(By,zy);Wt[e]=new xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new xn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wy(t,e,n,r){var s=Wt.hasOwnProperty(e)?Wt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_k(e,n,s,r)&&(n=null),r||s===null?xk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ws=yk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,id=Symbol.for("react.element"),ya=Symbol.for("react.portal"),va=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),zm=Symbol.for("react.profiler"),vb=Symbol.for("react.provider"),xb=Symbol.for("react.context"),qy=Symbol.for("react.forward_ref"),Wm=Symbol.for("react.suspense"),Hm=Symbol.for("react.suspense_list"),Gy=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),wb=Symbol.for("react.offscreen"),hw=Symbol.iterator;function Hl(t){return t===null||typeof t!="object"?null:(t=hw&&t[hw]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Bp;function tc(t){if(Bp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bp=e&&e[1]||""}return`
`+Bp+t}var zp=!1;function Wp(t,e){if(!t||zp)return"";zp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{zp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tc(t):""}function Ek(t){switch(t.tag){case 5:return tc(t.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 2:case 15:return t=Wp(t.type,!1),t;case 11:return t=Wp(t.type.render,!1),t;case 1:return t=Wp(t.type,!0),t;default:return""}}function qm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case va:return"Fragment";case ya:return"Portal";case zm:return"Profiler";case Hy:return"StrictMode";case Wm:return"Suspense";case Hm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xb:return(t.displayName||"Context")+".Consumer";case vb:return(t._context.displayName||"Context")+".Provider";case qy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gy:return e=t.displayName||null,e!==null?e:qm(t.type)||"Memo";case ai:e=t._payload,t=t._init;try{return qm(t(e))}catch{}}return null}function bk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qm(e);case 8:return e===Hy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _b(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Tk(t){var e=_b(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function od(t){t._valueTracker||(t._valueTracker=Tk(t))}function Eb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_b(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ch(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gm(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bb(t,e){e=e.checked,e!=null&&Wy(t,"checked",e,!1)}function Km(t,e){bb(t,e);var n=Vi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qm(t,e.type,Vi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qm(t,e,n){(e!=="number"||ch(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nc=Array.isArray;function Pa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ym(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(nc(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vi(n)}}function Tb(t,e){var n=Vi(e.value),r=Vi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ad,Nb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ad=ad||document.createElement("div"),ad.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ad.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sk=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(t){Sk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pc[e]=pc[t]})});function Ib(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pc.hasOwnProperty(t)&&pc[t]?(""+e).trim():e+"px"}function Cb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ib(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Nk=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jm(t,e){if(e){if(Nk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Zm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=null;function Ky(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tg=null,Ra=null,ka=null;function yw(t){if(t=_u(t)){if(typeof tg!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=yf(e),tg(t.stateNode,t.type,e))}}function Ab(t){Ra?ka?ka.push(t):ka=[t]:Ra=t}function Pb(){if(Ra){var t=Ra,e=ka;if(ka=Ra=null,yw(t),e)for(t=0;t<e.length;t++)yw(e[t])}}function Rb(t,e){return t(e)}function kb(){}var Hp=!1;function jb(t,e,n){if(Hp)return t(e,n);Hp=!0;try{return Rb(t,e,n)}finally{Hp=!1,(Ra!==null||ka!==null)&&(kb(),Pb())}}function jc(t,e){var n=t.stateNode;if(n===null)return null;var r=yf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var ng=!1;if(js)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){ng=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{ng=!1}function Ik(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var mc=!1,uh=null,dh=!1,rg=null,Ck={onError:function(t){mc=!0,uh=t}};function Ak(t,e,n,r,s,i,o,a,c){mc=!1,uh=null,Ik.apply(Ck,arguments)}function Pk(t,e,n,r,s,i,o,a,c){if(Ak.apply(this,arguments),mc){if(mc){var d=uh;mc=!1,uh=null}else throw Error(Q(198));dh||(dh=!0,rg=d)}}function Ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Db(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vw(t){if(Ko(t)!==t)throw Error(Q(188))}function Rk(t){var e=t.alternate;if(!e){if(e=Ko(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return vw(s),t;if(i===r)return vw(s),e;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function Ob(t){return t=Rk(t),t!==null?Mb(t):null}function Mb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mb(t);if(e!==null)return e;t=t.sibling}return null}var Lb=Hn.unstable_scheduleCallback,xw=Hn.unstable_cancelCallback,kk=Hn.unstable_shouldYield,jk=Hn.unstable_requestPaint,xt=Hn.unstable_now,Dk=Hn.unstable_getCurrentPriorityLevel,Qy=Hn.unstable_ImmediatePriority,Vb=Hn.unstable_UserBlockingPriority,hh=Hn.unstable_NormalPriority,Ok=Hn.unstable_LowPriority,Fb=Hn.unstable_IdlePriority,ff=null,qr=null;function Mk(t){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(ff,t,void 0,(t.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:Fk,Lk=Math.log,Vk=Math.LN2;function Fk(t){return t>>>=0,t===0?32:31-(Lk(t)/Vk|0)|0}var ld=64,cd=4194304;function rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=rc(a):(i&=o,i!==0&&(r=rc(i)))}else o=n&~s,o!==0?r=rc(o):i!==0&&(r=rc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xr(e),s=1<<n,r|=t[n],e&=~s;return r}function Uk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $k(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xr(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=Uk(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function sg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ub(){var t=ld;return ld<<=1,!(ld&4194240)&&(ld=64),t}function qp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xr(e),t[e]=n}function Bk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Yy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ye=0;function $b(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Bb,Xy,zb,Wb,Hb,ig=!1,ud=[],Ti=null,Si=null,Ni=null,Dc=new Map,Oc=new Map,ci=[],zk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ww(t,e){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(e.pointerId)}}function Gl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=_u(e),e!==null&&Xy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Wk(t,e,n,r,s){switch(e){case"focusin":return Ti=Gl(Ti,t,e,n,r,s),!0;case"dragenter":return Si=Gl(Si,t,e,n,r,s),!0;case"mouseover":return Ni=Gl(Ni,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dc.set(i,Gl(Dc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Oc.set(i,Gl(Oc.get(i)||null,t,e,n,r,s)),!0}return!1}function qb(t){var e=fo(t.target);if(e!==null){var n=Ko(e);if(n!==null){if(e=n.tag,e===13){if(e=Db(n),e!==null){t.blockedOn=e,Hb(t.priority,function(){zb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=og(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);eg=r,n.target.dispatchEvent(r),eg=null}else return e=_u(n),e!==null&&Xy(e),t.blockedOn=n,!1;e.shift()}return!0}function _w(t,e,n){Vd(t)&&n.delete(e)}function Hk(){ig=!1,Ti!==null&&Vd(Ti)&&(Ti=null),Si!==null&&Vd(Si)&&(Si=null),Ni!==null&&Vd(Ni)&&(Ni=null),Dc.forEach(_w),Oc.forEach(_w)}function Kl(t,e){t.blockedOn===e&&(t.blockedOn=null,ig||(ig=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,Hk)))}function Mc(t){function e(s){return Kl(s,t)}if(0<ud.length){Kl(ud[0],t);for(var n=1;n<ud.length;n++){var r=ud[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ti!==null&&Kl(Ti,t),Si!==null&&Kl(Si,t),Ni!==null&&Kl(Ni,t),Dc.forEach(e),Oc.forEach(e),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)qb(n),n.blockedOn===null&&ci.shift()}var ja=Ws.ReactCurrentBatchConfig,ph=!0;function qk(t,e,n,r){var s=Ye,i=ja.transition;ja.transition=null;try{Ye=1,Jy(t,e,n,r)}finally{Ye=s,ja.transition=i}}function Gk(t,e,n,r){var s=Ye,i=ja.transition;ja.transition=null;try{Ye=4,Jy(t,e,n,r)}finally{Ye=s,ja.transition=i}}function Jy(t,e,n,r){if(ph){var s=og(t,e,n,r);if(s===null)nm(t,e,r,mh,n),ww(t,r);else if(Wk(s,t,e,n,r))r.stopPropagation();else if(ww(t,r),e&4&&-1<zk.indexOf(t)){for(;s!==null;){var i=_u(s);if(i!==null&&Bb(i),i=og(t,e,n,r),i===null&&nm(t,e,r,mh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else nm(t,e,r,null,n)}}var mh=null;function og(t,e,n,r){if(mh=null,t=Ky(r),t=fo(t),t!==null)if(e=Ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Db(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mh=t,null}function Gb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dk()){case Qy:return 1;case Vb:return 4;case hh:case Ok:return 16;case Fb:return 536870912;default:return 16}default:return 16}}var wi=null,Zy=null,Fd=null;function Kb(){if(Fd)return Fd;var t,e=Zy,n=e.length,r,s="value"in wi?wi.value:wi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Fd=s.slice(t,1<r?1-r:void 0)}function Ud(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dd(){return!0}function Ew(){return!1}function Gn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dd:Ew,this.isPropagationStopped=Ew,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),e}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ev=Gn(wl),wu=ht({},wl,{view:0,detail:0}),Kk=Gn(wu),Gp,Kp,Ql,pf=ht({},wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ql&&(Ql&&t.type==="mousemove"?(Gp=t.screenX-Ql.screenX,Kp=t.screenY-Ql.screenY):Kp=Gp=0,Ql=t),Gp)},movementY:function(t){return"movementY"in t?t.movementY:Kp}}),bw=Gn(pf),Qk=ht({},pf,{dataTransfer:0}),Yk=Gn(Qk),Xk=ht({},wu,{relatedTarget:0}),Qp=Gn(Xk),Jk=ht({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),Zk=Gn(Jk),ej=ht({},wl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tj=Gn(ej),nj=ht({},wl,{data:0}),Tw=Gn(nj),rj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ij={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ij[t])?!!e[t]:!1}function tv(){return oj}var aj=ht({},wu,{key:function(t){if(t.key){var e=rj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ud(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tv,charCode:function(t){return t.type==="keypress"?Ud(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ud(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lj=Gn(aj),cj=ht({},pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sw=Gn(cj),uj=ht({},wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tv}),dj=Gn(uj),hj=ht({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),fj=Gn(hj),pj=ht({},pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mj=Gn(pj),gj=[9,13,27,32],nv=js&&"CompositionEvent"in window,gc=null;js&&"documentMode"in document&&(gc=document.documentMode);var yj=js&&"TextEvent"in window&&!gc,Qb=js&&(!nv||gc&&8<gc&&11>=gc),Nw=" ",Iw=!1;function Yb(t,e){switch(t){case"keyup":return gj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function vj(t,e){switch(t){case"compositionend":return Xb(e);case"keypress":return e.which!==32?null:(Iw=!0,Nw);case"textInput":return t=e.data,t===Nw&&Iw?null:t;default:return null}}function xj(t,e){if(xa)return t==="compositionend"||!nv&&Yb(t,e)?(t=Kb(),Fd=Zy=wi=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qb&&e.locale!=="ko"?null:e.data;default:return null}}var wj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wj[t.type]:e==="textarea"}function Jb(t,e,n,r){Ab(r),e=gh(e,"onChange"),0<e.length&&(n=new ev("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yc=null,Lc=null;function _j(t){cT(t,0)}function mf(t){var e=Ea(t);if(Eb(e))return t}function Ej(t,e){if(t==="change")return e}var Zb=!1;if(js){var Yp;if(js){var Xp="oninput"in document;if(!Xp){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),Xp=typeof Aw.oninput=="function"}Yp=Xp}else Yp=!1;Zb=Yp&&(!document.documentMode||9<document.documentMode)}function Pw(){yc&&(yc.detachEvent("onpropertychange",eT),Lc=yc=null)}function eT(t){if(t.propertyName==="value"&&mf(Lc)){var e=[];Jb(e,Lc,t,Ky(t)),jb(_j,e)}}function bj(t,e,n){t==="focusin"?(Pw(),yc=e,Lc=n,yc.attachEvent("onpropertychange",eT)):t==="focusout"&&Pw()}function Tj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mf(Lc)}function Sj(t,e){if(t==="click")return mf(e)}function Nj(t,e){if(t==="input"||t==="change")return mf(e)}function Ij(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Er=typeof Object.is=="function"?Object.is:Ij;function Vc(t,e){if(Er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Bm.call(e,s)||!Er(t[s],e[s]))return!1}return!0}function Rw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kw(t,e){var n=Rw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rw(n)}}function tT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nT(){for(var t=window,e=ch();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ch(t.document)}return e}function rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Cj(t){var e=nT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tT(n.ownerDocument.documentElement,n)){if(r!==null&&rv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=kw(n,i);var o=kw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Aj=js&&"documentMode"in document&&11>=document.documentMode,wa=null,ag=null,vc=null,lg=!1;function jw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lg||wa==null||wa!==ch(r)||(r=wa,"selectionStart"in r&&rv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vc&&Vc(vc,r)||(vc=r,r=gh(ag,"onSelect"),0<r.length&&(e=new ev("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wa)))}function hd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _a={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},Jp={},rT={};js&&(rT=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function gf(t){if(Jp[t])return Jp[t];if(!_a[t])return t;var e=_a[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rT)return Jp[t]=e[n];return t}var sT=gf("animationend"),iT=gf("animationiteration"),oT=gf("animationstart"),aT=gf("transitionend"),lT=new Map,Dw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qi(t,e){lT.set(t,e),Go(e,[t])}for(var Zp=0;Zp<Dw.length;Zp++){var em=Dw[Zp],Pj=em.toLowerCase(),Rj=em[0].toUpperCase()+em.slice(1);Qi(Pj,"on"+Rj)}Qi(sT,"onAnimationEnd");Qi(iT,"onAnimationIteration");Qi(oT,"onAnimationStart");Qi("dblclick","onDoubleClick");Qi("focusin","onFocus");Qi("focusout","onBlur");Qi(aT,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Go("onBeforeInput",["compositionend","keypress","textInput","paste"]);Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kj=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function Ow(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pk(r,e,void 0,t),t.currentTarget=null}function cT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Ow(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Ow(s,a,d),i=c}}}if(dh)throw t=rg,dh=!1,rg=null,t}function it(t,e){var n=e[fg];n===void 0&&(n=e[fg]=new Set);var r=t+"__bubble";n.has(r)||(uT(e,t,2,!1),n.add(r))}function tm(t,e,n){var r=0;e&&(r|=4),uT(n,t,r,e)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Fc(t){if(!t[fd]){t[fd]=!0,yb.forEach(function(n){n!=="selectionchange"&&(kj.has(n)||tm(n,!1,t),tm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fd]||(e[fd]=!0,tm("selectionchange",!1,e))}}function uT(t,e,n,r){switch(Gb(e)){case 1:var s=qk;break;case 4:s=Gk;break;default:s=Jy}n=s.bind(null,e,n,t),s=void 0,!ng||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function nm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=fo(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}jb(function(){var d=i,h=Ky(n),f=[];e:{var m=lT.get(t);if(m!==void 0){var y=ev,T=t;switch(t){case"keypress":if(Ud(n)===0)break e;case"keydown":case"keyup":y=lj;break;case"focusin":T="focus",y=Qp;break;case"focusout":T="blur",y=Qp;break;case"beforeblur":case"afterblur":y=Qp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Yk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=dj;break;case sT:case iT:case oT:y=Zk;break;case aT:y=fj;break;case"scroll":y=Kk;break;case"wheel":y=mj;break;case"copy":case"cut":case"paste":y=tj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Sw}var v=(e&4)!==0,_=!v&&t==="scroll",E=v?m!==null?m+"Capture":null:m;v=[];for(var w=d,x;w!==null;){x=w;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,E!==null&&(A=jc(w,E),A!=null&&v.push(Uc(w,A,x)))),_)break;w=w.return}0<v.length&&(m=new y(m,T,null,n,h),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==eg&&(T=n.relatedTarget||n.fromElement)&&(fo(T)||T[Ds]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=d,T=T?fo(T):null,T!==null&&(_=Ko(T),T!==_||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=d),y!==T)){if(v=bw,A="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=Sw,A="onPointerLeave",E="onPointerEnter",w="pointer"),_=y==null?m:Ea(y),x=T==null?m:Ea(T),m=new v(A,w+"leave",y,n,h),m.target=_,m.relatedTarget=x,A=null,fo(h)===d&&(v=new v(E,w+"enter",T,n,h),v.target=x,v.relatedTarget=_,A=v),_=A,y&&T)t:{for(v=y,E=T,w=0,x=v;x;x=la(x))w++;for(x=0,A=E;A;A=la(A))x++;for(;0<w-x;)v=la(v),w--;for(;0<x-w;)E=la(E),x--;for(;w--;){if(v===E||E!==null&&v===E.alternate)break t;v=la(v),E=la(E)}v=null}else v=null;y!==null&&Mw(f,m,y,v,!1),T!==null&&_!==null&&Mw(f,_,T,v,!0)}}e:{if(m=d?Ea(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var D=Ej;else if(Cw(m))if(Zb)D=Nj;else{D=Tj;var M=bj}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=Sj);if(D&&(D=D(t,d))){Jb(f,D,n,h);break e}M&&M(t,m,d),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Qm(m,"number",m.value)}switch(M=d?Ea(d):window,t){case"focusin":(Cw(M)||M.contentEditable==="true")&&(wa=M,ag=d,vc=null);break;case"focusout":vc=ag=wa=null;break;case"mousedown":lg=!0;break;case"contextmenu":case"mouseup":case"dragend":lg=!1,jw(f,n,h);break;case"selectionchange":if(Aj)break;case"keydown":case"keyup":jw(f,n,h)}var N;if(nv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xa?Yb(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Qb&&n.locale!=="ko"&&(xa||S!=="onCompositionStart"?S==="onCompositionEnd"&&xa&&(N=Kb()):(wi=h,Zy="value"in wi?wi.value:wi.textContent,xa=!0)),M=gh(d,S),0<M.length&&(S=new Tw(S,t,null,n,h),f.push({event:S,listeners:M}),N?S.data=N:(N=Xb(n),N!==null&&(S.data=N)))),(N=yj?vj(t,n):xj(t,n))&&(d=gh(d,"onBeforeInput"),0<d.length&&(h=new Tw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=N))}cT(f,e)})}function Uc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jc(t,n),i!=null&&r.unshift(Uc(t,i,s)),i=jc(t,e),i!=null&&r.push(Uc(t,i,s))),t=t.return}return r}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=jc(n,i),c!=null&&o.unshift(Uc(n,c,a))):s||(c=jc(n,i),c!=null&&o.push(Uc(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jj=/\r\n?/g,Dj=/\u0000|\uFFFD/g;function Lw(t){return(typeof t=="string"?t:""+t).replace(jj,`
`).replace(Dj,"")}function pd(t,e,n){if(e=Lw(e),Lw(t)!==e&&n)throw Error(Q(425))}function yh(){}var cg=null,ug=null;function dg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hg=typeof setTimeout=="function"?setTimeout:void 0,Oj=typeof clearTimeout=="function"?clearTimeout:void 0,Vw=typeof Promise=="function"?Promise:void 0,Mj=typeof queueMicrotask=="function"?queueMicrotask:typeof Vw<"u"?function(t){return Vw.resolve(null).then(t).catch(Lj)}:hg;function Lj(t){setTimeout(function(){throw t})}function rm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Mc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Mc(e)}function Ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _l=Math.random().toString(36).slice(2),$r="__reactFiber$"+_l,$c="__reactProps$"+_l,Ds="__reactContainer$"+_l,fg="__reactEvents$"+_l,Vj="__reactListeners$"+_l,Fj="__reactHandles$"+_l;function fo(t){var e=t[$r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ds]||n[$r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fw(t);t!==null;){if(n=t[$r])return n;t=Fw(t)}return e}t=n,n=t.parentNode}return null}function _u(t){return t=t[$r]||t[Ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ea(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function yf(t){return t[$c]||null}var pg=[],ba=-1;function Yi(t){return{current:t}}function lt(t){0>ba||(t.current=pg[ba],pg[ba]=null,ba--)}function et(t,e){ba++,pg[ba]=t.current,t.current=e}var Fi={},cn=Yi(Fi),Cn=Yi(!1),Ao=Fi;function tl(t,e){var n=t.type.contextTypes;if(!n)return Fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function An(t){return t=t.childContextTypes,t!=null}function vh(){lt(Cn),lt(cn)}function Uw(t,e,n){if(cn.current!==Fi)throw Error(Q(168));et(cn,e),et(Cn,n)}function dT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Q(108,bk(t)||"Unknown",s));return ht({},n,r)}function xh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,Ao=cn.current,et(cn,t),et(Cn,Cn.current),!0}function $w(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=dT(t,e,Ao),r.__reactInternalMemoizedMergedChildContext=t,lt(Cn),lt(cn),et(cn,t)):lt(Cn),et(Cn,n)}var xs=null,vf=!1,sm=!1;function hT(t){xs===null?xs=[t]:xs.push(t)}function Uj(t){vf=!0,hT(t)}function Xi(){if(!sm&&xs!==null){sm=!0;var t=0,e=Ye;try{var n=xs;for(Ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xs=null,vf=!1}catch(s){throw xs!==null&&(xs=xs.slice(t+1)),Lb(Qy,Xi),s}finally{Ye=e,sm=!1}}return null}var Ta=[],Sa=0,wh=null,_h=0,Xn=[],Jn=0,Po=null,Es=1,bs="";function lo(t,e){Ta[Sa++]=_h,Ta[Sa++]=wh,wh=t,_h=e}function fT(t,e,n){Xn[Jn++]=Es,Xn[Jn++]=bs,Xn[Jn++]=Po,Po=t;var r=Es;t=bs;var s=32-xr(r)-1;r&=~(1<<s),n+=1;var i=32-xr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Es=1<<32-xr(e)+s|n<<s|r,bs=i+t}else Es=1<<i|n<<s|r,bs=t}function sv(t){t.return!==null&&(lo(t,1),fT(t,1,0))}function iv(t){for(;t===wh;)wh=Ta[--Sa],Ta[Sa]=null,_h=Ta[--Sa],Ta[Sa]=null;for(;t===Po;)Po=Xn[--Jn],Xn[Jn]=null,bs=Xn[--Jn],Xn[Jn]=null,Es=Xn[--Jn],Xn[Jn]=null}var zn=null,$n=null,ct=!1,gr=null;function pT(t,e){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,$n=Ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Po!==null?{id:Es,overflow:bs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,$n=null,!0):!1;default:return!1}}function mg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gg(t){if(ct){var e=$n;if(e){var n=e;if(!Bw(t,e)){if(mg(t))throw Error(Q(418));e=Ii(n.nextSibling);var r=zn;e&&Bw(t,e)?pT(r,n):(t.flags=t.flags&-4097|2,ct=!1,zn=t)}}else{if(mg(t))throw Error(Q(418));t.flags=t.flags&-4097|2,ct=!1,zn=t}}}function zw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function md(t){if(t!==zn)return!1;if(!ct)return zw(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dg(t.type,t.memoizedProps)),e&&(e=$n)){if(mg(t))throw mT(),Error(Q(418));for(;e;)pT(t,e),e=Ii(e.nextSibling)}if(zw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$n=Ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=zn?Ii(t.stateNode.nextSibling):null;return!0}function mT(){for(var t=$n;t;)t=Ii(t.nextSibling)}function nl(){$n=zn=null,ct=!1}function ov(t){gr===null?gr=[t]:gr.push(t)}var $j=Ws.ReactCurrentBatchConfig;function Yl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function gd(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ww(t){var e=t._init;return e(t._payload)}function gT(t){function e(E,w){if(t){var x=E.deletions;x===null?(E.deletions=[w],E.flags|=16):x.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=Ri(E,w),E.index=0,E.sibling=null,E}function i(E,w,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<w?(E.flags|=2,w):x):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,x,A){return w===null||w.tag!==6?(w=dm(x,E.mode,A),w.return=E,w):(w=s(w,x),w.return=E,w)}function c(E,w,x,A){var D=x.type;return D===va?h(E,w,x.props.children,A,x.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ai&&Ww(D)===w.type)?(A=s(w,x.props),A.ref=Yl(E,w,x),A.return=E,A):(A=Gd(x.type,x.key,x.props,null,E.mode,A),A.ref=Yl(E,w,x),A.return=E,A)}function d(E,w,x,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=hm(x,E.mode,A),w.return=E,w):(w=s(w,x.children||[]),w.return=E,w)}function h(E,w,x,A,D){return w===null||w.tag!==7?(w=No(x,E.mode,A,D),w.return=E,w):(w=s(w,x),w.return=E,w)}function f(E,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=dm(""+w,E.mode,x),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case id:return x=Gd(w.type,w.key,w.props,null,E.mode,x),x.ref=Yl(E,null,w),x.return=E,x;case ya:return w=hm(w,E.mode,x),w.return=E,w;case ai:var A=w._init;return f(E,A(w._payload),x)}if(nc(w)||Hl(w))return w=No(w,E.mode,x,null),w.return=E,w;gd(E,w)}return null}function m(E,w,x,A){var D=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:a(E,w,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case id:return x.key===D?c(E,w,x,A):null;case ya:return x.key===D?d(E,w,x,A):null;case ai:return D=x._init,m(E,w,D(x._payload),A)}if(nc(x)||Hl(x))return D!==null?null:h(E,w,x,A,null);gd(E,x)}return null}function y(E,w,x,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return E=E.get(x)||null,a(w,E,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case id:return E=E.get(A.key===null?x:A.key)||null,c(w,E,A,D);case ya:return E=E.get(A.key===null?x:A.key)||null,d(w,E,A,D);case ai:var M=A._init;return y(E,w,x,M(A._payload),D)}if(nc(A)||Hl(A))return E=E.get(x)||null,h(w,E,A,D,null);gd(w,A)}return null}function T(E,w,x,A){for(var D=null,M=null,N=w,S=w=0,C=null;N!==null&&S<x.length;S++){N.index>S?(C=N,N=null):C=N.sibling;var P=m(E,N,x[S],A);if(P===null){N===null&&(N=C);break}t&&N&&P.alternate===null&&e(E,N),w=i(P,w,S),M===null?D=P:M.sibling=P,M=P,N=C}if(S===x.length)return n(E,N),ct&&lo(E,S),D;if(N===null){for(;S<x.length;S++)N=f(E,x[S],A),N!==null&&(w=i(N,w,S),M===null?D=N:M.sibling=N,M=N);return ct&&lo(E,S),D}for(N=r(E,N);S<x.length;S++)C=y(N,E,S,x[S],A),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?S:C.key),w=i(C,w,S),M===null?D=C:M.sibling=C,M=C);return t&&N.forEach(function(O){return e(E,O)}),ct&&lo(E,S),D}function v(E,w,x,A){var D=Hl(x);if(typeof D!="function")throw Error(Q(150));if(x=D.call(x),x==null)throw Error(Q(151));for(var M=D=null,N=w,S=w=0,C=null,P=x.next();N!==null&&!P.done;S++,P=x.next()){N.index>S?(C=N,N=null):C=N.sibling;var O=m(E,N,P.value,A);if(O===null){N===null&&(N=C);break}t&&N&&O.alternate===null&&e(E,N),w=i(O,w,S),M===null?D=O:M.sibling=O,M=O,N=C}if(P.done)return n(E,N),ct&&lo(E,S),D;if(N===null){for(;!P.done;S++,P=x.next())P=f(E,P.value,A),P!==null&&(w=i(P,w,S),M===null?D=P:M.sibling=P,M=P);return ct&&lo(E,S),D}for(N=r(E,N);!P.done;S++,P=x.next())P=y(N,E,S,P.value,A),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?S:P.key),w=i(P,w,S),M===null?D=P:M.sibling=P,M=P);return t&&N.forEach(function(R){return e(E,R)}),ct&&lo(E,S),D}function _(E,w,x,A){if(typeof x=="object"&&x!==null&&x.type===va&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case id:e:{for(var D=x.key,M=w;M!==null;){if(M.key===D){if(D=x.type,D===va){if(M.tag===7){n(E,M.sibling),w=s(M,x.props.children),w.return=E,E=w;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ai&&Ww(D)===M.type){n(E,M.sibling),w=s(M,x.props),w.ref=Yl(E,M,x),w.return=E,E=w;break e}n(E,M);break}else e(E,M);M=M.sibling}x.type===va?(w=No(x.props.children,E.mode,A,x.key),w.return=E,E=w):(A=Gd(x.type,x.key,x.props,null,E.mode,A),A.ref=Yl(E,w,x),A.return=E,E=A)}return o(E);case ya:e:{for(M=x.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(E,w.sibling),w=s(w,x.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=hm(x,E.mode,A),w.return=E,E=w}return o(E);case ai:return M=x._init,_(E,w,M(x._payload),A)}if(nc(x))return T(E,w,x,A);if(Hl(x))return v(E,w,x,A);gd(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,x),w.return=E,E=w):(n(E,w),w=dm(x,E.mode,A),w.return=E,E=w),o(E)):n(E,w)}return _}var rl=gT(!0),yT=gT(!1),Eh=Yi(null),bh=null,Na=null,av=null;function lv(){av=Na=bh=null}function cv(t){var e=Eh.current;lt(Eh),t._currentValue=e}function yg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Da(t,e){bh=t,av=Na=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(In=!0),t.firstContext=null)}function sr(t){var e=t._currentValue;if(av!==t)if(t={context:t,memoizedValue:e,next:null},Na===null){if(bh===null)throw Error(Q(308));Na=t,bh.dependencies={lanes:0,firstContext:t}}else Na=Na.next=t;return e}var po=null;function uv(t){po===null?po=[t]:po.push(t)}function vT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,uv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Os(t,r)}function Os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var li=!1;function dv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Os(t,n)}return s=r.interleaved,s===null?(e.next=e,uv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Os(t,n)}function $d(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yy(t,n)}}function Hw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Th(t,e,n,r){var s=t.updateQueue;li=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,v=a;switch(m=e,y=n,v.tag){case 1:if(T=v.payload,typeof T=="function"){f=T.call(y,f,m);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=v.payload,m=typeof T=="function"?T.call(y,f,m):T,m==null)break e;f=ht({},f,m);break e;case 2:li=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=y,c=f):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ko|=o,t.lanes=o,t.memoizedState=f}}function qw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var Eu={},Gr=Yi(Eu),Bc=Yi(Eu),zc=Yi(Eu);function mo(t){if(t===Eu)throw Error(Q(174));return t}function hv(t,e){switch(et(zc,e),et(Bc,t),et(Gr,Eu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xm(e,t)}lt(Gr),et(Gr,e)}function sl(){lt(Gr),lt(Bc),lt(zc)}function wT(t){mo(zc.current);var e=mo(Gr.current),n=Xm(e,t.type);e!==n&&(et(Bc,t),et(Gr,n))}function fv(t){Bc.current===t&&(lt(Gr),lt(Bc))}var ut=Yi(0);function Sh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var im=[];function pv(){for(var t=0;t<im.length;t++)im[t]._workInProgressVersionPrimary=null;im.length=0}var Bd=Ws.ReactCurrentDispatcher,om=Ws.ReactCurrentBatchConfig,Ro=0,dt=null,Ct=null,kt=null,Nh=!1,xc=!1,Wc=0,Bj=0;function Zt(){throw Error(Q(321))}function mv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Er(t[n],e[n]))return!1;return!0}function gv(t,e,n,r,s,i){if(Ro=i,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bd.current=t===null||t.memoizedState===null?qj:Gj,t=n(r,s),xc){i=0;do{if(xc=!1,Wc=0,25<=i)throw Error(Q(301));i+=1,kt=Ct=null,e.updateQueue=null,Bd.current=Kj,t=n(r,s)}while(xc)}if(Bd.current=Ih,e=Ct!==null&&Ct.next!==null,Ro=0,kt=Ct=dt=null,Nh=!1,e)throw Error(Q(300));return t}function yv(){var t=Wc!==0;return Wc=0,t}function Mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?dt.memoizedState=kt=t:kt=kt.next=t,kt}function ir(){if(Ct===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var e=kt===null?dt.memoizedState:kt.next;if(e!==null)kt=e,Ct=t;else{if(t===null)throw Error(Q(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},kt===null?dt.memoizedState=kt=t:kt=kt.next=t}return kt}function Hc(t,e){return typeof e=="function"?e(t):e}function am(t){var e=ir(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((Ro&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,dt.lanes|=h,ko|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,Er(r,e.memoizedState)||(In=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,dt.lanes|=i,ko|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lm(t){var e=ir(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Er(i,e.memoizedState)||(In=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function _T(){}function ET(t,e){var n=dt,r=ir(),s=e(),i=!Er(r.memoizedState,s);if(i&&(r.memoizedState=s,In=!0),r=r.queue,vv(ST.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,qc(9,TT.bind(null,n,r,s,e),void 0,null),jt===null)throw Error(Q(349));Ro&30||bT(n,e,s)}return s}function bT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function TT(t,e,n,r){e.value=n,e.getSnapshot=r,NT(e)&&IT(t)}function ST(t,e,n){return n(function(){NT(e)&&IT(t)})}function NT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Er(t,n)}catch{return!0}}function IT(t){var e=Os(t,1);e!==null&&wr(e,t,1,-1)}function Gw(t){var e=Mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:t},e.queue=t,t=t.dispatch=Hj.bind(null,dt,t),[e.memoizedState,t]}function qc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function CT(){return ir().memoizedState}function zd(t,e,n,r){var s=Mr();dt.flags|=t,s.memoizedState=qc(1|e,n,void 0,r===void 0?null:r)}function xf(t,e,n,r){var s=ir();r=r===void 0?null:r;var i=void 0;if(Ct!==null){var o=Ct.memoizedState;if(i=o.destroy,r!==null&&mv(r,o.deps)){s.memoizedState=qc(e,n,i,r);return}}dt.flags|=t,s.memoizedState=qc(1|e,n,i,r)}function Kw(t,e){return zd(8390656,8,t,e)}function vv(t,e){return xf(2048,8,t,e)}function AT(t,e){return xf(4,2,t,e)}function PT(t,e){return xf(4,4,t,e)}function RT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kT(t,e,n){return n=n!=null?n.concat([t]):null,xf(4,4,RT.bind(null,e,t),n)}function xv(){}function jT(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function DT(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function OT(t,e,n){return Ro&21?(Er(n,e)||(n=Ub(),dt.lanes|=n,ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,In=!0),t.memoizedState=n)}function zj(t,e){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var r=om.transition;om.transition={};try{t(!1),e()}finally{Ye=n,om.transition=r}}function MT(){return ir().memoizedState}function Wj(t,e,n){var r=Pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LT(t))VT(e,n);else if(n=vT(t,e,n,r),n!==null){var s=yn();wr(n,t,r,s),FT(n,e,r)}}function Hj(t,e,n){var r=Pi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LT(t))VT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Er(a,o)){var c=e.interleaved;c===null?(s.next=s,uv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=vT(t,e,s,r),n!==null&&(s=yn(),wr(n,t,r,s),FT(n,e,r))}}function LT(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function VT(t,e){xc=Nh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yy(t,n)}}var Ih={readContext:sr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},qj={readContext:sr,useCallback:function(t,e){return Mr().memoizedState=[t,e===void 0?null:e],t},useContext:sr,useEffect:Kw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zd(4194308,4,RT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zd(4194308,4,t,e)},useInsertionEffect:function(t,e){return zd(4,2,t,e)},useMemo:function(t,e){var n=Mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Wj.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var e=Mr();return t={current:t},e.memoizedState=t},useState:Gw,useDebugValue:xv,useDeferredValue:function(t){return Mr().memoizedState=t},useTransition:function(){var t=Gw(!1),e=t[0];return t=zj.bind(null,t[1]),Mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dt,s=Mr();if(ct){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),jt===null)throw Error(Q(349));Ro&30||bT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Kw(ST.bind(null,r,i,t),[t]),r.flags|=2048,qc(9,TT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mr(),e=jt.identifierPrefix;if(ct){var n=bs,r=Es;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gj={readContext:sr,useCallback:jT,useContext:sr,useEffect:vv,useImperativeHandle:kT,useInsertionEffect:AT,useLayoutEffect:PT,useMemo:DT,useReducer:am,useRef:CT,useState:function(){return am(Hc)},useDebugValue:xv,useDeferredValue:function(t){var e=ir();return OT(e,Ct.memoizedState,t)},useTransition:function(){var t=am(Hc)[0],e=ir().memoizedState;return[t,e]},useMutableSource:_T,useSyncExternalStore:ET,useId:MT,unstable_isNewReconciler:!1},Kj={readContext:sr,useCallback:jT,useContext:sr,useEffect:vv,useImperativeHandle:kT,useInsertionEffect:AT,useLayoutEffect:PT,useMemo:DT,useReducer:lm,useRef:CT,useState:function(){return lm(Hc)},useDebugValue:xv,useDeferredValue:function(t){var e=ir();return Ct===null?e.memoizedState=t:OT(e,Ct.memoizedState,t)},useTransition:function(){var t=lm(Hc)[0],e=ir().memoizedState;return[t,e]},useMutableSource:_T,useSyncExternalStore:ET,useId:MT,unstable_isNewReconciler:!1};function dr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wf={isMounted:function(t){return(t=t._reactInternals)?Ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),s=Pi(t),i=Is(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ci(t,i,s),e!==null&&(wr(e,t,s,r),$d(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),s=Pi(t),i=Is(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ci(t,i,s),e!==null&&(wr(e,t,s,r),$d(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=Pi(t),s=Is(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ci(t,s,r),e!==null&&(wr(e,t,r,n),$d(e,t,r))}};function Qw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Vc(n,r)||!Vc(s,i):!0}function UT(t,e,n){var r=!1,s=Fi,i=e.contextType;return typeof i=="object"&&i!==null?i=sr(i):(s=An(e)?Ao:cn.current,r=e.contextTypes,i=(r=r!=null)?tl(t,s):Fi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Yw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wf.enqueueReplaceState(e,e.state,null)}function xg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},dv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=sr(i):(i=An(e)?Ao:cn.current,s.context=tl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(vg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wf.enqueueReplaceState(s,s.state,null),Th(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function il(t,e){try{var n="",r=e;do n+=Ek(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function cm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Qj=typeof WeakMap=="function"?WeakMap:Map;function $T(t,e,n){n=Is(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ah||(Ah=!0,Pg=r),wg(t,e)},n}function BT(t,e,n){n=Is(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){wg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wg(t,e),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Qj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=cD.bind(null,t,e,n),e.then(t,t))}function Jw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Is(-1,1),e.tag=2,Ci(n,e,1))),n.lanes|=1),t)}var Yj=Ws.ReactCurrentOwner,In=!1;function mn(t,e,n,r){e.child=t===null?yT(e,null,n,r):rl(e,t.child,n,r)}function e_(t,e,n,r,s){n=n.render;var i=e.ref;return Da(e,s),r=gv(t,e,n,r,i,s),n=yv(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ms(t,e,s)):(ct&&n&&sv(e),e.flags|=1,mn(t,e,r,s),e.child)}function t_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Iv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,zT(t,e,i,r,s)):(t=Gd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vc,n(o,r)&&t.ref===e.ref)return Ms(t,e,s)}return e.flags|=1,t=Ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function zT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Vc(i,r)&&t.ref===e.ref)if(In=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(In=!0);else return e.lanes=t.lanes,Ms(t,e,s)}return _g(t,e,n,r,s)}function WT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ca,Ln),Ln|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Ca,Ln),Ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,et(Ca,Ln),Ln|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,et(Ca,Ln),Ln|=r;return mn(t,e,s,n),e.child}function HT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _g(t,e,n,r,s){var i=An(n)?Ao:cn.current;return i=tl(e,i),Da(e,s),n=gv(t,e,n,r,i,s),r=yv(),t!==null&&!In?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ms(t,e,s)):(ct&&r&&sv(e),e.flags|=1,mn(t,e,n,s),e.child)}function n_(t,e,n,r,s){if(An(n)){var i=!0;xh(e)}else i=!1;if(Da(e,s),e.stateNode===null)Wd(t,e),UT(e,n,r),xg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=sr(d):(d=An(n)?Ao:cn.current,d=tl(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Yw(e,o,r,d),li=!1;var m=e.memoizedState;o.state=m,Th(e,r,o,s),c=e.memoizedState,a!==r||m!==c||Cn.current||li?(typeof h=="function"&&(vg(e,n,h,r),c=e.memoizedState),(a=li||Qw(e,n,a,r,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xT(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:dr(e.type,a),o.props=d,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=sr(c):(c=An(n)?Ao:cn.current,c=tl(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==c)&&Yw(e,o,r,c),li=!1,m=e.memoizedState,o.state=m,Th(e,r,o,s);var T=e.memoizedState;a!==f||m!==T||Cn.current||li?(typeof y=="function"&&(vg(e,n,y,r),T=e.memoizedState),(d=li||Qw(e,n,d,r,m,T,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Eg(t,e,n,r,i,s)}function Eg(t,e,n,r,s,i){HT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&$w(e,n,!1),Ms(t,e,i);r=e.stateNode,Yj.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=rl(e,t.child,null,i),e.child=rl(e,null,a,i)):mn(t,e,a,i),e.memoizedState=r.state,s&&$w(e,n,!0),e.child}function qT(t){var e=t.stateNode;e.pendingContext?Uw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uw(t,e.context,!1),hv(t,e.containerInfo)}function r_(t,e,n,r,s){return nl(),ov(s),e.flags|=256,mn(t,e,n,r),e.child}var bg={dehydrated:null,treeContext:null,retryLane:0};function Tg(t){return{baseLanes:t,cachePool:null,transitions:null}}function GT(t,e,n){var r=e.pendingProps,s=ut.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),et(ut,s&1),t===null)return gg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bf(o,r,0,null),t=No(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Tg(n),e.memoizedState=bg,t):wv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Xj(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ri(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ri(a,i):(i=No(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Tg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=bg,r}return i=t.child,t=i.sibling,r=Ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wv(t,e){return e=bf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yd(t,e,n,r){return r!==null&&ov(r),rl(e,t.child,null,n),t=wv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xj(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=cm(Error(Q(422))),yd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=bf({mode:"visible",children:r.children},s,0,null),i=No(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&rl(e,t.child,null,o),e.child.memoizedState=Tg(o),e.memoizedState=bg,i);if(!(e.mode&1))return yd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Q(419)),r=cm(i,r,void 0),yd(t,e,o,r)}if(a=(o&t.childLanes)!==0,In||a){if(r=jt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Os(t,s),wr(r,t,s,-1))}return Nv(),r=cm(Error(Q(421))),yd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=uD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$n=Ii(s.nextSibling),zn=e,ct=!0,gr=null,t!==null&&(Xn[Jn++]=Es,Xn[Jn++]=bs,Xn[Jn++]=Po,Es=t.id,bs=t.overflow,Po=e),e=wv(e,r.children),e.flags|=4096,e)}function s_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yg(t.return,e,n)}function um(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function KT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(mn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s_(t,n,e);else if(t.tag===19)s_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(ut,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Sh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),um(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Sh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}um(e,!0,n,null,i);break;case"together":um(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ms(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Jj(t,e,n){switch(e.tag){case 3:qT(e),nl();break;case 5:wT(e);break;case 1:An(e.type)&&xh(e);break;case 4:hv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;et(Eh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?GT(t,e,n):(et(ut,ut.current&1),t=Ms(t,e,n),t!==null?t.sibling:null);et(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return KT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),et(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,WT(t,e,n)}return Ms(t,e,n)}var QT,Sg,YT,XT;QT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sg=function(){};YT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,mo(Gr.current);var i=null;switch(n){case"input":s=Gm(t,s),r=Gm(t,r),i=[];break;case"select":s=ht({},s,{value:void 0}),r=ht({},r,{value:void 0}),i=[];break;case"textarea":s=Ym(t,s),r=Ym(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yh)}Jm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&it("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};XT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xl(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zj(t,e,n){var r=e.pendingProps;switch(iv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return An(e.type)&&vh(),en(e),null;case 3:return r=e.stateNode,sl(),lt(Cn),lt(cn),pv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(md(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr!==null&&(jg(gr),gr=null))),Sg(t,e),en(e),null;case 5:fv(e);var s=mo(zc.current);if(n=e.type,t!==null&&e.stateNode!=null)YT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return en(e),null}if(t=mo(Gr.current),md(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[$r]=e,r[$c]=i,t=(e.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(s=0;s<sc.length;s++)it(sc[s],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":fw(r,i),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},it("invalid",r);break;case"textarea":mw(r,i),it("invalid",r)}Jm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&pd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pd(r.textContent,a,t),s=["children",""+a]):Rc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&it("scroll",r)}switch(n){case"input":od(r),pw(r,i,!0);break;case"textarea":od(r),gw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[$r]=e,t[$c]=r,QT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zm(n,r),n){case"dialog":it("cancel",t),it("close",t),s=r;break;case"iframe":case"object":case"embed":it("load",t),s=r;break;case"video":case"audio":for(s=0;s<sc.length;s++)it(sc[s],t);s=r;break;case"source":it("error",t),s=r;break;case"img":case"image":case"link":it("error",t),it("load",t),s=r;break;case"details":it("toggle",t),s=r;break;case"input":fw(t,r),s=Gm(t,r),it("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ht({},r,{value:void 0}),it("invalid",t);break;case"textarea":mw(t,r),s=Ym(t,r),it("invalid",t);break;default:s=r}Jm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Cb(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Nb(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&kc(t,c):typeof c=="number"&&kc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&it("scroll",t):c!=null&&Wy(t,i,c,o))}switch(n){case"input":od(t),pw(t,r,!1);break;case"textarea":od(t),gw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=yh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)XT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=mo(zc.current),mo(Gr.current),md(e)){if(r=e.stateNode,n=e.memoizedProps,r[$r]=e,(i=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:pd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$r]=e,e.stateNode=r}return en(e),null;case 13:if(lt(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&$n!==null&&e.mode&1&&!(e.flags&128))mT(),nl(),e.flags|=98560,i=!1;else if(i=md(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[$r]=e}else nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),i=!1}else gr!==null&&(jg(gr),gr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?At===0&&(At=3):Nv())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return sl(),Sg(t,e),t===null&&Fc(e.stateNode.containerInfo),en(e),null;case 10:return cv(e.type._context),en(e),null;case 17:return An(e.type)&&vh(),en(e),null;case 19:if(lt(ut),i=e.memoizedState,i===null)return en(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Xl(i,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sh(t),o!==null){for(e.flags|=128,Xl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(ut,ut.current&1|2),e.child}t=t.sibling}i.tail!==null&&xt()>ol&&(e.flags|=128,r=!0,Xl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Sh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ct)return en(e),null}else 2*xt()-i.renderingStartTime>ol&&n!==1073741824&&(e.flags|=128,r=!0,Xl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xt(),e.sibling=null,n=ut.current,et(ut,r?n&1|2:n&1),e):(en(e),null);case 22:case 23:return Sv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ln&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function eD(t,e){switch(iv(e),e.tag){case 1:return An(e.type)&&vh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sl(),lt(Cn),lt(cn),pv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fv(e),null;case 13:if(lt(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(ut),null;case 4:return sl(),null;case 10:return cv(e.type._context),null;case 22:case 23:return Sv(),null;case 24:return null;default:return null}}var vd=!1,on=!1,tD=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ia(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function Ng(t,e,n){try{n()}catch(r){gt(t,e,r)}}var i_=!1;function nD(t,e){if(cg=ph,t=nT(),rv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(c=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ug={focusedElem:t,selectionRange:n},ph=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var v=T.memoizedProps,_=T.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:dr(e.type,v),_);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(A){gt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return T=i_,i_=!1,T}function wc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ng(e,n,i)}s=s.next}while(s!==r)}}function _f(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ig(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function JT(t){var e=t.alternate;e!==null&&(t.alternate=null,JT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$r],delete e[$c],delete e[fg],delete e[Vj],delete e[Fj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZT(t){return t.tag===5||t.tag===3||t.tag===4}function o_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yh));else if(r!==4&&(t=t.child,t!==null))for(Cg(t,e,n),t=t.sibling;t!==null;)Cg(t,e,n),t=t.sibling}function Ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ag(t,e,n),t=t.sibling;t!==null;)Ag(t,e,n),t=t.sibling}var Vt=null,mr=!1;function ei(t,e,n){for(n=n.child;n!==null;)eS(t,e,n),n=n.sibling}function eS(t,e,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(ff,n)}catch{}switch(n.tag){case 5:on||Ia(n,e);case 6:var r=Vt,s=mr;Vt=null,ei(t,e,n),Vt=r,mr=s,Vt!==null&&(mr?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(mr?(t=Vt,n=n.stateNode,t.nodeType===8?rm(t.parentNode,n):t.nodeType===1&&rm(t,n),Mc(t)):rm(Vt,n.stateNode));break;case 4:r=Vt,s=mr,Vt=n.stateNode.containerInfo,mr=!0,ei(t,e,n),Vt=r,mr=s;break;case 0:case 11:case 14:case 15:if(!on&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ng(n,e,o),s=s.next}while(s!==r)}ei(t,e,n);break;case 1:if(!on&&(Ia(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}ei(t,e,n);break;case 21:ei(t,e,n);break;case 22:n.mode&1?(on=(r=on)||n.memoizedState!==null,ei(t,e,n),on=r):ei(t,e,n);break;default:ei(t,e,n)}}function a_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tD),e.forEach(function(r){var s=dD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vt=a.stateNode,mr=!1;break e;case 3:Vt=a.stateNode.containerInfo,mr=!0;break e;case 4:Vt=a.stateNode.containerInfo,mr=!0;break e}a=a.return}if(Vt===null)throw Error(Q(160));eS(i,o,s),Vt=null,mr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){gt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tS(e,t),e=e.sibling}function tS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),Or(t),r&4){try{wc(3,t,t.return),_f(3,t)}catch(v){gt(t,t.return,v)}try{wc(5,t,t.return)}catch(v){gt(t,t.return,v)}}break;case 1:lr(e,t),Or(t),r&512&&n!==null&&Ia(n,n.return);break;case 5:if(lr(e,t),Or(t),r&512&&n!==null&&Ia(n,n.return),t.flags&32){var s=t.stateNode;try{kc(s,"")}catch(v){gt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bb(s,i),Zm(a,o);var d=Zm(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?Cb(s,f):h==="dangerouslySetInnerHTML"?Nb(s,f):h==="children"?kc(s,f):Wy(s,h,f,d)}switch(a){case"input":Km(s,i);break;case"textarea":Tb(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Pa(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Pa(s,!!i.multiple,i.defaultValue,!0):Pa(s,!!i.multiple,i.multiple?[]:"",!1))}s[$c]=i}catch(v){gt(t,t.return,v)}}break;case 6:if(lr(e,t),Or(t),r&4){if(t.stateNode===null)throw Error(Q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){gt(t,t.return,v)}}break;case 3:if(lr(e,t),Or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mc(e.containerInfo)}catch(v){gt(t,t.return,v)}break;case 4:lr(e,t),Or(t);break;case 13:lr(e,t),Or(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(bv=xt())),r&4&&a_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(on=(d=on)||h,lr(e,t),on=d):lr(e,t),Or(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(he=t,h=t.child;h!==null;){for(f=he=h;he!==null;){switch(m=he,y=m.child,m.tag){case 0:case 11:case 14:case 15:wc(4,m,m.return);break;case 1:Ia(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(v){gt(r,n,v)}}break;case 5:Ia(m,m.return);break;case 22:if(m.memoizedState!==null){c_(f);continue}}y!==null?(y.return=m,he=y):c_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Ib("display",o))}catch(v){gt(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){gt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lr(e,t),Or(t),r&4&&a_(t);break;case 21:break;default:lr(e,t),Or(t)}}function Or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZT(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kc(s,""),r.flags&=-33);var i=o_(t);Ag(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=o_(t);Cg(t,a,o);break;default:throw Error(Q(161))}}catch(c){gt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rD(t,e,n){he=t,nS(t)}function nS(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var s=he,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vd;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||on;a=vd;var d=on;if(vd=o,(on=c)&&!d)for(he=s;he!==null;)o=he,c=o.child,o.tag===22&&o.memoizedState!==null?u_(s):c!==null?(c.return=o,he=c):u_(s);for(;i!==null;)he=i,nS(i),i=i.sibling;he=s,vd=a,on=d}l_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,he=i):l_(t)}}function l_(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:on||_f(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!on)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&qw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Mc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}on||e.flags&512&&Ig(e)}catch(m){gt(e,e.return,m)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function c_(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function u_(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_f(4,e)}catch(c){gt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){gt(e,s,c)}}var i=e.return;try{Ig(e)}catch(c){gt(e,i,c)}break;case 5:var o=e.return;try{Ig(e)}catch(c){gt(e,o,c)}}}catch(c){gt(e,e.return,c)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var sD=Math.ceil,Ch=Ws.ReactCurrentDispatcher,_v=Ws.ReactCurrentOwner,tr=Ws.ReactCurrentBatchConfig,ze=0,jt=null,St=null,zt=0,Ln=0,Ca=Yi(0),At=0,Gc=null,ko=0,Ef=0,Ev=0,_c=null,Sn=null,bv=0,ol=1/0,vs=null,Ah=!1,Pg=null,Ai=null,xd=!1,_i=null,Ph=0,Ec=0,Rg=null,Hd=-1,qd=0;function yn(){return ze&6?xt():Hd!==-1?Hd:Hd=xt()}function Pi(t){return t.mode&1?ze&2&&zt!==0?zt&-zt:$j.transition!==null?(qd===0&&(qd=Ub()),qd):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:Gb(t.type)),t):1}function wr(t,e,n,r){if(50<Ec)throw Ec=0,Rg=null,Error(Q(185));xu(t,n,r),(!(ze&2)||t!==jt)&&(t===jt&&(!(ze&2)&&(Ef|=n),At===4&&ui(t,zt)),Pn(t,r),n===1&&ze===0&&!(e.mode&1)&&(ol=xt()+500,vf&&Xi()))}function Pn(t,e){var n=t.callbackNode;$k(t,e);var r=fh(t,t===jt?zt:0);if(r===0)n!==null&&xw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xw(n),e===1)t.tag===0?Uj(d_.bind(null,t)):hT(d_.bind(null,t)),Mj(function(){!(ze&6)&&Xi()}),n=null;else{switch($b(r)){case 1:n=Qy;break;case 4:n=Vb;break;case 16:n=hh;break;case 536870912:n=Fb;break;default:n=hh}n=uS(n,rS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rS(t,e){if(Hd=-1,qd=0,ze&6)throw Error(Q(327));var n=t.callbackNode;if(Oa()&&t.callbackNode!==n)return null;var r=fh(t,t===jt?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rh(t,r);else{e=r;var s=ze;ze|=2;var i=iS();(jt!==t||zt!==e)&&(vs=null,ol=xt()+500,So(t,e));do try{aD();break}catch(a){sS(t,a)}while(!0);lv(),Ch.current=i,ze=s,St!==null?e=0:(jt=null,zt=0,e=At)}if(e!==0){if(e===2&&(s=sg(t),s!==0&&(r=s,e=kg(t,s))),e===1)throw n=Gc,So(t,0),ui(t,r),Pn(t,xt()),n;if(e===6)ui(t,r);else{if(s=t.current.alternate,!(r&30)&&!iD(s)&&(e=Rh(t,r),e===2&&(i=sg(t),i!==0&&(r=i,e=kg(t,i))),e===1))throw n=Gc,So(t,0),ui(t,r),Pn(t,xt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:co(t,Sn,vs);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=bv+500-xt(),10<e)){if(fh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){yn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hg(co.bind(null,t,Sn,vs),e);break}co(t,Sn,vs);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sD(r/1960))-r,10<r){t.timeoutHandle=hg(co.bind(null,t,Sn,vs),r);break}co(t,Sn,vs);break;case 5:co(t,Sn,vs);break;default:throw Error(Q(329))}}}return Pn(t,xt()),t.callbackNode===n?rS.bind(null,t):null}function kg(t,e){var n=_c;return t.current.memoizedState.isDehydrated&&(So(t,e).flags|=256),t=Rh(t,e),t!==2&&(e=Sn,Sn=n,e!==null&&jg(e)),t}function jg(t){Sn===null?Sn=t:Sn.push.apply(Sn,t)}function iD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Er(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~Ev,e&=~Ef,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xr(e),r=1<<n;t[n]=-1,e&=~r}}function d_(t){if(ze&6)throw Error(Q(327));Oa();var e=fh(t,0);if(!(e&1))return Pn(t,xt()),null;var n=Rh(t,e);if(t.tag!==0&&n===2){var r=sg(t);r!==0&&(e=r,n=kg(t,r))}if(n===1)throw n=Gc,So(t,0),ui(t,e),Pn(t,xt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,co(t,Sn,vs),Pn(t,xt()),null}function Tv(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(ol=xt()+500,vf&&Xi())}}function jo(t){_i!==null&&_i.tag===0&&!(ze&6)&&Oa();var e=ze;ze|=1;var n=tr.transition,r=Ye;try{if(tr.transition=null,Ye=1,t)return t()}finally{Ye=r,tr.transition=n,ze=e,!(ze&6)&&Xi()}}function Sv(){Ln=Ca.current,lt(Ca)}function So(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Oj(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(iv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vh();break;case 3:sl(),lt(Cn),lt(cn),pv();break;case 5:fv(r);break;case 4:sl();break;case 13:lt(ut);break;case 19:lt(ut);break;case 10:cv(r.type._context);break;case 22:case 23:Sv()}n=n.return}if(jt=t,St=t=Ri(t.current,null),zt=Ln=e,At=0,Gc=null,Ev=Ef=ko=0,Sn=_c=null,po!==null){for(e=0;e<po.length;e++)if(n=po[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}po=null}return t}function sS(t,e){do{var n=St;try{if(lv(),Bd.current=Ih,Nh){for(var r=dt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nh=!1}if(Ro=0,kt=Ct=dt=null,xc=!1,Wc=0,_v.current=null,n===null||n.return===null){At=1,Gc=e,St=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=zt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Jw(o);if(y!==null){y.flags&=-257,Zw(y,o,a,i,e),y.mode&1&&Xw(i,d,e),e=y,c=d;var T=e.updateQueue;if(T===null){var v=new Set;v.add(c),e.updateQueue=v}else T.add(c);break e}else{if(!(e&1)){Xw(i,d,e),Nv();break e}c=Error(Q(426))}}else if(ct&&a.mode&1){var _=Jw(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Zw(_,o,a,i,e),ov(il(c,a));break e}}i=c=il(c,a),At!==4&&(At=2),_c===null?_c=[i]:_c.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=$T(i,c,e);Hw(i,E);break e;case 1:a=c;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ai===null||!Ai.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=BT(i,a,e);Hw(i,A);break e}}i=i.return}while(i!==null)}aS(n)}catch(D){e=D,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function iS(){var t=Ch.current;return Ch.current=Ih,t===null?Ih:t}function Nv(){(At===0||At===3||At===2)&&(At=4),jt===null||!(ko&268435455)&&!(Ef&268435455)||ui(jt,zt)}function Rh(t,e){var n=ze;ze|=2;var r=iS();(jt!==t||zt!==e)&&(vs=null,So(t,e));do try{oD();break}catch(s){sS(t,s)}while(!0);if(lv(),ze=n,Ch.current=r,St!==null)throw Error(Q(261));return jt=null,zt=0,At}function oD(){for(;St!==null;)oS(St)}function aD(){for(;St!==null&&!kk();)oS(St)}function oS(t){var e=cS(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,e===null?aS(t):St=e,_v.current=null}function aS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eD(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,St=null;return}}else if(n=Zj(n,e,Ln),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);At===0&&(At=5)}function co(t,e,n){var r=Ye,s=tr.transition;try{tr.transition=null,Ye=1,lD(t,e,n,r)}finally{tr.transition=s,Ye=r}return null}function lD(t,e,n,r){do Oa();while(_i!==null);if(ze&6)throw Error(Q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Bk(t,i),t===jt&&(St=jt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xd||(xd=!0,uS(hh,function(){return Oa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tr.transition,tr.transition=null;var o=Ye;Ye=1;var a=ze;ze|=4,_v.current=null,nD(t,n),tS(n,t),Cj(ug),ph=!!cg,ug=cg=null,t.current=n,rD(n),jk(),ze=a,Ye=o,tr.transition=i}else t.current=n;if(xd&&(xd=!1,_i=t,Ph=s),i=t.pendingLanes,i===0&&(Ai=null),Mk(n.stateNode),Pn(t,xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ah)throw Ah=!1,t=Pg,Pg=null,t;return Ph&1&&t.tag!==0&&Oa(),i=t.pendingLanes,i&1?t===Rg?Ec++:(Ec=0,Rg=t):Ec=0,Xi(),null}function Oa(){if(_i!==null){var t=$b(Ph),e=tr.transition,n=Ye;try{if(tr.transition=null,Ye=16>t?16:t,_i===null)var r=!1;else{if(t=_i,_i=null,Ph=0,ze&6)throw Error(Q(331));var s=ze;for(ze|=4,he=t.current;he!==null;){var i=he,o=i.child;if(he.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(he=d;he!==null;){var h=he;switch(h.tag){case 0:case 11:case 15:wc(8,h,i)}var f=h.child;if(f!==null)f.return=h,he=f;else for(;he!==null;){h=he;var m=h.sibling,y=h.return;if(JT(h),h===d){he=null;break}if(m!==null){m.return=y,he=m;break}he=y}}}var T=i.alternate;if(T!==null){var v=T.child;if(v!==null){T.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}he=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,he=o;else e:for(;he!==null;){if(i=he,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wc(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,he=E;break e}he=i.return}}var w=t.current;for(he=w;he!==null;){o=he;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,he=x;else e:for(o=w;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_f(9,a)}}catch(D){gt(a,a.return,D)}if(a===o){he=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,he=A;break e}he=a.return}}if(ze=s,Xi(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(ff,t)}catch{}r=!0}return r}finally{Ye=n,tr.transition=e}}return!1}function h_(t,e,n){e=il(n,e),e=$T(t,e,1),t=Ci(t,e,1),e=yn(),t!==null&&(xu(t,1,e),Pn(t,e))}function gt(t,e,n){if(t.tag===3)h_(t,t,n);else for(;e!==null;){if(e.tag===3){h_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){t=il(n,t),t=BT(e,t,1),e=Ci(e,t,1),t=yn(),e!==null&&(xu(e,1,t),Pn(e,t));break}}e=e.return}}function cD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,jt===t&&(zt&n)===n&&(At===4||At===3&&(zt&130023424)===zt&&500>xt()-bv?So(t,0):Ev|=n),Pn(t,e)}function lS(t,e){e===0&&(t.mode&1?(e=cd,cd<<=1,!(cd&130023424)&&(cd=4194304)):e=1);var n=yn();t=Os(t,e),t!==null&&(xu(t,e,n),Pn(t,n))}function uD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lS(t,n)}function dD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),lS(t,n)}var cS;cS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)In=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return In=!1,Jj(t,e,n);In=!!(t.flags&131072)}else In=!1,ct&&e.flags&1048576&&fT(e,_h,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wd(t,e),t=e.pendingProps;var s=tl(e,cn.current);Da(e,n),s=gv(null,e,r,t,s,n);var i=yv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(r)?(i=!0,xh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dv(e),s.updater=wf,e.stateNode=s,s._reactInternals=e,xg(e,r,t,n),e=Eg(null,e,r,!0,i,n)):(e.tag=0,ct&&i&&sv(e),mn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=fD(r),t=dr(r,t),s){case 0:e=_g(null,e,r,t,n);break e;case 1:e=n_(null,e,r,t,n);break e;case 11:e=e_(null,e,r,t,n);break e;case 14:e=t_(null,e,r,dr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),_g(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),n_(t,e,r,s,n);case 3:e:{if(qT(e),t===null)throw Error(Q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,xT(t,e),Th(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=il(Error(Q(423)),e),e=r_(t,e,r,n,s);break e}else if(r!==s){s=il(Error(Q(424)),e),e=r_(t,e,r,n,s);break e}else for($n=Ii(e.stateNode.containerInfo.firstChild),zn=e,ct=!0,gr=null,n=yT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nl(),r===s){e=Ms(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return wT(e),t===null&&gg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,dg(r,s)?o=null:i!==null&&dg(r,i)&&(e.flags|=32),HT(t,e),mn(t,e,o,n),e.child;case 6:return t===null&&gg(e),null;case 13:return GT(t,e,n);case 4:return hv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=rl(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),e_(t,e,r,s,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,et(Eh,r._currentValue),r._currentValue=o,i!==null)if(Er(i.value,o)){if(i.children===s.children&&!Cn.current){e=Ms(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Is(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),yg(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}mn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Da(e,n),s=sr(s),r=r(s),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,s=dr(r,e.pendingProps),s=dr(r.type,s),t_(t,e,r,s,n);case 15:return zT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dr(r,s),Wd(t,e),e.tag=1,An(r)?(t=!0,xh(e)):t=!1,Da(e,n),UT(e,r,s),xg(e,r,s,n),Eg(null,e,r,!0,t,n);case 19:return KT(t,e,n);case 22:return WT(t,e,n)}throw Error(Q(156,e.tag))};function uS(t,e){return Lb(t,e)}function hD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,e,n,r){return new hD(t,e,n,r)}function Iv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fD(t){if(typeof t=="function")return Iv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qy)return 11;if(t===Gy)return 14}return 2}function Ri(t,e){var n=t.alternate;return n===null?(n=er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Iv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case va:return No(n.children,s,i,e);case Hy:o=8,s|=8;break;case zm:return t=er(12,n,e,s|2),t.elementType=zm,t.lanes=i,t;case Wm:return t=er(13,n,e,s),t.elementType=Wm,t.lanes=i,t;case Hm:return t=er(19,n,e,s),t.elementType=Hm,t.lanes=i,t;case wb:return bf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vb:o=10;break e;case xb:o=9;break e;case qy:o=11;break e;case Gy:o=14;break e;case ai:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=er(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function No(t,e,n,r){return t=er(7,t,r,e),t.lanes=n,t}function bf(t,e,n,r){return t=er(22,t,r,e),t.elementType=wb,t.lanes=n,t.stateNode={isHidden:!1},t}function dm(t,e,n){return t=er(6,t,null,e),t.lanes=n,t}function hm(t,e,n){return e=er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qp(0),this.expirationTimes=qp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cv(t,e,n,r,s,i,o,a,c){return t=new pD(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=er(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dv(i),t}function mD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ya,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dS(t){if(!t)return Fi;t=t._reactInternals;e:{if(Ko(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(An(n))return dT(t,n,e)}return e}function hS(t,e,n,r,s,i,o,a,c){return t=Cv(n,r,!0,t,s,i,o,a,c),t.context=dS(null),n=t.current,r=yn(),s=Pi(n),i=Is(r,s),i.callback=e??null,Ci(n,i,s),t.current.lanes=s,xu(t,s,r),Pn(t,r),t}function Tf(t,e,n,r){var s=e.current,i=yn(),o=Pi(s);return n=dS(n),e.context===null?e.context=n:e.pendingContext=n,e=Is(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ci(s,e,o),t!==null&&(wr(t,s,o,i),$d(t,s,o)),o}function kh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function f_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Av(t,e){f_(t,e),(t=t.alternate)&&f_(t,e)}function gD(){return null}var fS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pv(t){this._internalRoot=t}Sf.prototype.render=Pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));Tf(t,e,null,null)};Sf.prototype.unmount=Pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jo(function(){Tf(null,t,null,null)}),e[Ds]=null}};function Sf(t){this._internalRoot=t}Sf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ci.length&&e!==0&&e<ci[n].priority;n++);ci.splice(n,0,t),n===0&&qb(t)}};function Rv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function p_(){}function yD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=kh(o);i.call(d)}}var o=hS(e,r,t,0,null,!1,!1,"",p_);return t._reactRootContainer=o,t[Ds]=o.current,Fc(t.nodeType===8?t.parentNode:t),jo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=kh(c);a.call(d)}}var c=Cv(t,0,!1,null,null,!1,!1,"",p_);return t._reactRootContainer=c,t[Ds]=c.current,Fc(t.nodeType===8?t.parentNode:t),jo(function(){Tf(e,c,n,r)}),c}function If(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=kh(o);a.call(c)}}Tf(e,o,t,s)}else o=yD(n,e,t,s,r);return kh(o)}Bb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rc(e.pendingLanes);n!==0&&(Yy(e,n|1),Pn(e,xt()),!(ze&6)&&(ol=xt()+500,Xi()))}break;case 13:jo(function(){var r=Os(t,1);if(r!==null){var s=yn();wr(r,t,1,s)}}),Av(t,1)}};Xy=function(t){if(t.tag===13){var e=Os(t,134217728);if(e!==null){var n=yn();wr(e,t,134217728,n)}Av(t,134217728)}};zb=function(t){if(t.tag===13){var e=Pi(t),n=Os(t,e);if(n!==null){var r=yn();wr(n,t,e,r)}Av(t,e)}};Wb=function(){return Ye};Hb=function(t,e){var n=Ye;try{return Ye=t,e()}finally{Ye=n}};tg=function(t,e,n){switch(e){case"input":if(Km(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=yf(r);if(!s)throw Error(Q(90));Eb(r),Km(r,s)}}}break;case"textarea":Tb(t,n);break;case"select":e=n.value,e!=null&&Pa(t,!!n.multiple,e,!1)}};Rb=Tv;kb=jo;var vD={usingClientEntryPoint:!1,Events:[_u,Ea,yf,Ab,Pb,Tv]},Jl={findFiberByHostInstance:fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xD={bundleType:Jl.bundleType,version:Jl.version,rendererPackageName:Jl.rendererPackageName,rendererConfig:Jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ob(t),t===null?null:t.stateNode},findFiberByHostInstance:Jl.findFiberByHostInstance||gD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{ff=wd.inject(xD),qr=wd}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vD;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rv(e))throw Error(Q(200));return mD(t,e,null,n)};qn.createRoot=function(t,e){if(!Rv(t))throw Error(Q(299));var n=!1,r="",s=fS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Cv(t,1,!1,null,null,n,!1,r,s),t[Ds]=e.current,Fc(t.nodeType===8?t.parentNode:t),new Pv(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=Ob(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return jo(t)};qn.hydrate=function(t,e,n){if(!Nf(e))throw Error(Q(200));return If(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!Rv(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=fS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=hS(e,null,t,1,n??null,s,!1,i,o),t[Ds]=e.current,Fc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Sf(e)};qn.render=function(t,e,n){if(!Nf(e))throw Error(Q(200));return If(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!Nf(t))throw Error(Q(40));return t._reactRootContainer?(jo(function(){If(null,null,t,!1,function(){t._reactRootContainer=null,t[Ds]=null})}),!0):!1};qn.unstable_batchedUpdates=Tv;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nf(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return If(t,e,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function pS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pS)}catch(t){console.error(t)}}pS(),pb.exports=qn;var Qo=pb.exports;const mS=nb(Qo);var gS,m_=Qo;gS=m_.createRoot,m_.hydrateRoot;const wD=1,_D=1e6;let fm=0;function ED(){return fm=(fm+1)%Number.MAX_SAFE_INTEGER,fm.toString()}const pm=new Map,g_=t=>{if(pm.has(t))return;const e=setTimeout(()=>{pm.delete(t),bc({type:"REMOVE_TOAST",toastId:t})},_D);pm.set(t,e)},bD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,wD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?g_(n):t.toasts.forEach(r=>{g_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Kd=[];let Qd={toasts:[]};function bc(t){Qd=bD(Qd,t),Kd.forEach(e=>{e(Qd)})}function TD({...t}){const e=ED(),n=s=>bc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>bc({type:"DISMISS_TOAST",toastId:e});return bc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Cr(){const[t,e]=p.useState(Qd);return p.useEffect(()=>(Kd.push(e),()=>{const n=Kd.indexOf(e);n>-1&&Kd.splice(n,1)}),[t]),{...t,toast:TD,dismiss:n=>bc({type:"DISMISS_TOAST",toastId:n})}}function re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function y_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Cf(...t){return e=>{let n=!1;const r=t.map(s=>{const i=y_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():y_(t[s],null)}}}}function qe(...t){return p.useCallback(Cf(...t),t)}function SD(t,e){const n=p.createContext(e),r=i=>{const{children:o,...a}=i,c=p.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ar(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),c=n.length;n=[...n,o];const d=f=>{var E;const{scope:m,children:y,...T}=f,v=((E=m==null?void 0:m[t])==null?void 0:E[c])||a,_=p.useMemo(()=>T,Object.values(T));return l.jsx(v.Provider,{value:_,children:y})};d.displayName=i+"Provider";function h(f,m){var v;const y=((v=m==null?void 0:m[t])==null?void 0:v[c])||a,T=p.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,ND(s,...e)]}function ND(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Do(t){const e=CD(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,a=p.Children.toArray(i),c=a.find(PD);if(c){const d=c.props.children,h=a.map(f=>f===c?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...o,ref:s,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var ID=Do("Slot");function CD(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=kD(s),a=RD(i,s.props);return s.type!==p.Fragment&&(a.ref=r?Cf(r,o):o),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yS=Symbol("radix.slottable");function AD(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=yS,e}function PD(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yS}function RD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function kD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Af(t){const e=t+"CollectionProvider",[n,r]=Ar(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:_,children:E}=v,w=Z.useRef(null),x=Z.useRef(new Map).current;return l.jsx(s,{scope:_,itemMap:x,collectionRef:w,children:E})};o.displayName=e;const a=t+"CollectionSlot",c=Do(a),d=Z.forwardRef((v,_)=>{const{scope:E,children:w}=v,x=i(a,E),A=qe(_,x.collectionRef);return l.jsx(c,{ref:A,children:w})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=Do(h),y=Z.forwardRef((v,_)=>{const{scope:E,children:w,...x}=v,A=Z.useRef(null),D=qe(_,A),M=i(h,E);return Z.useEffect(()=>(M.itemMap.set(A,{ref:A,...x}),()=>void M.itemMap.delete(A))),l.jsx(m,{[f]:"",ref:D,children:w})});y.displayName=h;function T(v){const _=i(t+"CollectionConsumer",v);return Z.useCallback(()=>{const w=_.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((M,N)=>x.indexOf(M.ref.current)-x.indexOf(N.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},T,r]}var jD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],we=jD.reduce((t,e)=>{const n=Do(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function kv(t,e){t&&Qo.flushSync(()=>t.dispatchEvent(e))}function Rn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function DD(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var OD="DismissableLayer",Dg="dismissableLayer.update",MD="dismissableLayer.pointerDownOutside",LD="dismissableLayer.focusOutside",v_,vS=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),El=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=p.useContext(vS),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),T=qe(e,N=>f(N)),v=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(_),w=h?v.indexOf(h):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,A=w>=E,D=FD(N=>{const S=N.target,C=[...d.branches].some(P=>P.contains(S));!A||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},m),M=UD(N=>{const S=N.target;[...d.branches].some(P=>P.contains(S))||(i==null||i(N),o==null||o(N),N.defaultPrevented||a==null||a())},m);return DD(N=>{w===d.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},m),p.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(v_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),x_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=v_)}},[h,m,n,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),x_())},[h,d]),p.useEffect(()=>{const N=()=>y({});return document.addEventListener(Dg,N),()=>document.removeEventListener(Dg,N)},[]),l.jsx(we.div,{...c,ref:T,style:{pointerEvents:x?A?"auto":"none":void 0,...t.style},onFocusCapture:re(t.onFocusCapture,M.onFocusCapture),onBlurCapture:re(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:re(t.onPointerDownCapture,D.onPointerDownCapture)})});El.displayName=OD;var VD="DismissableLayerBranch",xS=p.forwardRef((t,e)=>{const n=p.useContext(vS),r=p.useRef(null),s=qe(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(we.div,{...t,ref:s})});xS.displayName=VD;function FD(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){wS(MD,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function UD(t,e=globalThis==null?void 0:globalThis.document){const n=Rn(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&wS(LD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function x_(){const t=new CustomEvent(Dg);document.dispatchEvent(t)}function wS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?kv(s,i):s.dispatchEvent(i)}var $D=El,BD=xS,Ht=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},zD="Portal",bu=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=p.useState(!1);Ht(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?mS.createPortal(l.jsx(we.div,{...r,ref:e}),o):null});bu.displayName=zD;function WD(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Pr=t=>{const{present:e,children:n}=t,r=HD(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=qe(r.ref,qD(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Pr.displayName="Presence";function HD(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,c]=WD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=_d(r.current);i.current=a==="mounted"?d:"none"},[a]),Ht(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,y=_d(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ht(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=y=>{const v=_d(r.current).includes(y.animationName);if(y.target===e&&v&&(c("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},m=y=>{y.target===e&&(i.current=_d(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function _d(t){return(t==null?void 0:t.animationName)||"none"}function qD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var GD=$y[" useInsertionEffect ".trim().toString()]||Ht;function Oo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=KD({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=p.useCallback(h=>{var f;if(a){const m=QD(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[c,d]}function KD({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return GD(()=>{i.current=e},[e]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function QD(t){return typeof t=="function"}var _S=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YD="VisuallyHidden",Pf=p.forwardRef((t,e)=>l.jsx(we.span,{...t,ref:e,style:{..._S,...t.style}}));Pf.displayName=YD;var XD=Pf,jv="ToastProvider",[Dv,JD,ZD]=Af("Toast"),[ES,IW]=Ar("Toast",[ZD]),[eO,Rf]=ES(jv),bS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=p.useState(null),[d,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${jv}\`. Expected non-empty \`string\`.`),l.jsx(Dv.Provider,{scope:e,children:l.jsx(eO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:c,onToastAdd:p.useCallback(()=>h(y=>y+1),[]),onToastRemove:p.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};bS.displayName=jv;var TS="ToastViewport",tO=["F8"],Og="toast.viewportPause",Mg="toast.viewportResume",SS=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=tO,label:s="Notifications ({hotkey})",...i}=t,o=Rf(TS,n),a=JD(n),c=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=qe(e,f,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;p.useEffect(()=>{const _=E=>{var x;r.length!==0&&r.every(A=>E[A]||E.code===A)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),p.useEffect(()=>{const _=c.current,E=f.current;if(T&&_&&E){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Og);E.dispatchEvent(M),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Mg);E.dispatchEvent(M),o.isClosePausedRef.current=!1}},A=M=>{!_.contains(M.relatedTarget)&&x()},D=()=>{_.contains(document.activeElement)||x()};return _.addEventListener("focusin",w),_.addEventListener("focusout",A),_.addEventListener("pointermove",w),_.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{_.removeEventListener("focusin",w),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",w),_.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[T,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:_})=>{const w=a().map(x=>{const A=x.ref.current,D=[A,...pO(A)];return _==="forwards"?D:D.reverse()});return(_==="forwards"?w.reverse():w).flat()},[a]);return p.useEffect(()=>{const _=f.current;if(_){const E=w=>{var D,M,N;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const S=document.activeElement,C=w.shiftKey;if(w.target===_&&C){(D=d.current)==null||D.focus();return}const R=v({tabbingDirection:C?"backwards":"forwards"}),k=R.findIndex(z=>z===S);mm(R.slice(k+1))?w.preventDefault():C?(M=d.current)==null||M.focus():(N=h.current)==null||N.focus()}};return _.addEventListener("keydown",E),()=>_.removeEventListener("keydown",E)}},[a,v]),l.jsxs(BD,{ref:c,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&l.jsx(Lg,{ref:d,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});mm(_)}}),l.jsx(Dv.Slot,{scope:n,children:l.jsx(we.ol,{tabIndex:-1,...i,ref:m})}),T&&l.jsx(Lg,{ref:h,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});mm(_)}})]})});SS.displayName=TS;var NS="ToastFocusProxy",Lg=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Rf(NS,n);return l.jsx(Pf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});Lg.displayName=NS;var Tu="Toast",nO="toast.swipeStart",rO="toast.swipeMove",sO="toast.swipeCancel",iO="toast.swipeEnd",IS=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=Oo({prop:r,defaultProp:s??!0,onChange:i,caller:Tu});return l.jsx(Pr,{present:n||a,children:l.jsx(lO,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Rn(t.onPause),onResume:Rn(t.onResume),onSwipeStart:re(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:re(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});IS.displayName=Tu;var[oO,aO]=ES(Tu,{onClose(){}}),lO=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:y,...T}=t,v=Rf(Tu,n),[_,E]=p.useState(null),w=qe(e,z=>E(z)),x=p.useRef(null),A=p.useRef(null),D=s||v.duration,M=p.useRef(0),N=p.useRef(D),S=p.useRef(0),{onToastAdd:C,onToastRemove:P}=v,O=Rn(()=>{var se;(_==null?void 0:_.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),R=p.useCallback(z=>{!z||z===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(O,z))},[O]);p.useEffect(()=>{const z=v.viewport;if(z){const se=()=>{R(N.current),d==null||d()},X=()=>{const ie=new Date().getTime()-M.current;N.current=N.current-ie,window.clearTimeout(S.current),c==null||c()};return z.addEventListener(Og,X),z.addEventListener(Mg,se),()=>{z.removeEventListener(Og,X),z.removeEventListener(Mg,se)}}},[v.viewport,D,c,d,R]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&R(D)},[i,D,v.isClosePausedRef,R]),p.useEffect(()=>(C(),()=>P()),[C,P]);const k=p.useMemo(()=>_?DS(_):null,[_]);return v.viewport?l.jsxs(l.Fragment,{children:[k&&l.jsx(cO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),l.jsx(oO,{scope:n,onClose:O,children:Qo.createPortal(l.jsx(Dv.ItemSlot,{scope:n,children:l.jsx($D,{asChild:!0,onEscapeKeyDown:re(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||O(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(we.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...T,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:re(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:re(t.onPointerDown,z=>{z.button===0&&(x.current={x:z.clientX,y:z.clientY})}),onPointerMove:re(t.onPointerMove,z=>{if(!x.current)return;const se=z.clientX-x.current.x,X=z.clientY-x.current.y,ie=!!A.current,F=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Y=F?L(0,se):0,ce=F?0:L(0,X),ne=z.pointerType==="touch"?10:2,ue={x:Y,y:ce},me={originalEvent:z,delta:ue};ie?(A.current=ue,Ed(rO,f,me,{discrete:!1})):w_(ue,v.swipeDirection,ne)?(A.current=ue,Ed(nO,h,me,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(se)>ne||Math.abs(X)>ne)&&(x.current=null)}),onPointerUp:re(t.onPointerUp,z=>{const se=A.current,X=z.target;if(X.hasPointerCapture(z.pointerId)&&X.releasePointerCapture(z.pointerId),A.current=null,x.current=null,se){const ie=z.currentTarget,F={originalEvent:z,delta:se};w_(se,v.swipeDirection,v.swipeThreshold)?Ed(iO,y,F,{discrete:!0}):Ed(sO,m,F,{discrete:!0}),ie.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),cO=t=>{const{__scopeToast:e,children:n,...r}=t,s=Rf(Tu,e),[i,o]=p.useState(!1),[a,c]=p.useState(!1);return hO(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:l.jsx(bu,{asChild:!0,children:l.jsx(Pf,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},uO="ToastTitle",CS=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(we.div,{...r,ref:e})});CS.displayName=uO;var dO="ToastDescription",AS=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(we.div,{...r,ref:e})});AS.displayName=dO;var PS="ToastAction",RS=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(jS,{altText:n,asChild:!0,children:l.jsx(Ov,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${PS}\`. Expected non-empty \`string\`.`),null)});RS.displayName=PS;var kS="ToastClose",Ov=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=aO(kS,n);return l.jsx(jS,{asChild:!0,children:l.jsx(we.button,{type:"button",...r,ref:e,onClick:re(t.onClick,s.onClose)})})});Ov.displayName=kS;var jS=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return l.jsx(we.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function DS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),fO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...DS(r))}}),e}function Ed(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?kv(s,i):s.dispatchEvent(i)}var w_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function hO(t=()=>{}){const e=Rn(t);Ht(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function fO(t){return t.nodeType===t.ELEMENT_NODE}function pO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var mO=bS,OS=SS,MS=IS,LS=CS,VS=AS,FS=RS,US=Ov;function $S(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=$S(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function BS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=$S(t))&&(r&&(r+=" "),r+=e);return r}const __=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,E_=BS,Su=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return E_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=__(h)||__(f);return s[d][m]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...y}=h;return Object.entries(y).every(T=>{let[v,_]=T;return Array.isArray(_)?_.includes({...i,...a}[v]):{...i,...a}[v]===_})?[...d,f,m]:d},[]);return E_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>p.createElement("svg",{ref:c,...yO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:zS("lucide",s),...a},[...o.map(([d,h])=>p.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(vO,{ref:i,iconNode:e,className:zS(`lucide-${gO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=je("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=je("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=je("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=je("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=je("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=je("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=je("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=je("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=je("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=je("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=je("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=je("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Uv="-",RO=t=>{const e=jO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Uv);return a[0]===""&&a.length!==1&&a.shift(),QS(a,e)||kO(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},QS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?QS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Uv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},b_=/^\[(.+)\]$/,kO=t=>{if(b_.test(t)){const e=b_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return OO(Object.entries(t.classGroups),n).forEach(([i,o])=>{Fg(o,r,i,e)}),r},Fg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:T_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(DO(s)){Fg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Fg(o,T_(e,i),n,r)})})},T_=(t,e)=>{let n=t;return e.split(Uv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},DO=t=>t.isThemeGetter,OO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,MO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},YS="!",LO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let d=0,h=0,f;for(let _=0;_<a.length;_++){let E=a[_];if(d===0){if(E===s&&(r||a.slice(_,_+i)===e)){c.push(a.slice(h,_)),h=_+i;continue}if(E==="/"){f=_;continue}}E==="["?d++:E==="]"&&d--}const m=c.length===0?a:a.substring(h),y=m.startsWith(YS),T=y?m.substring(1):m,v=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:T,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},VO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},FO=t=>({cache:MO(t.cacheSize),parseClassName:LO(t),...RO(t)}),UO=/\s+/,$O=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(UO);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:y}=n(d);let T=!!y,v=r(T?m.substring(0,y):m);if(!v){if(!T){a=d+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=d+(a.length>0?" "+a:a);continue}T=!1}const _=VO(h).join(":"),E=f?_+YS:_,w=E+v;if(i.includes(w))continue;i.push(w);const x=s(v,T);for(let A=0;A<x.length;++A){const D=x[A];i.push(E+D)}a=d+(a.length>0?" "+a:a)}return a};function BO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=XS(e))&&(r&&(r+=" "),r+=n);return r}const XS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=XS(t[r]))&&(n&&(n+=" "),n+=e);return n};function zO(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=FO(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const h=$O(c,n);return s(c,h),h}return function(){return i(BO.apply(null,arguments))}}const st=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},JS=/^\[(?:([a-z-]+):)?(.+)\]$/i,WO=/^\d+\/\d+$/,HO=new Set(["px","full","screen"]),qO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gs=t=>Va(t)||HO.has(t)||WO.test(t),ti=t=>bl(t,"length",sM),Va=t=>!!t&&!Number.isNaN(Number(t)),ym=t=>bl(t,"number",Va),Zl=t=>!!t&&Number.isInteger(Number(t)),XO=t=>t.endsWith("%")&&Va(t.slice(0,-1)),Pe=t=>JS.test(t),ni=t=>qO.test(t),JO=new Set(["length","size","percentage"]),ZO=t=>bl(t,JO,ZS),eM=t=>bl(t,"position",ZS),tM=new Set(["image","url"]),nM=t=>bl(t,tM,oM),rM=t=>bl(t,"",iM),ec=()=>!0,bl=(t,e,n)=>{const r=JS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},sM=t=>GO.test(t)&&!KO.test(t),ZS=()=>!1,iM=t=>QO.test(t),oM=t=>YO.test(t),aM=()=>{const t=st("colors"),e=st("spacing"),n=st("blur"),r=st("brightness"),s=st("borderColor"),i=st("borderRadius"),o=st("borderSpacing"),a=st("borderWidth"),c=st("contrast"),d=st("grayscale"),h=st("hueRotate"),f=st("invert"),m=st("gap"),y=st("gradientColorStops"),T=st("gradientColorStopPositions"),v=st("inset"),_=st("margin"),E=st("opacity"),w=st("padding"),x=st("saturate"),A=st("scale"),D=st("sepia"),M=st("skew"),N=st("space"),S=st("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Pe,e],R=()=>[Pe,e],k=()=>["",gs,ti],z=()=>["auto",Va,Pe],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Pe],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[Va,Pe];return{cacheSize:500,separator:":",theme:{colors:[ec],spacing:[gs,ti],blur:["none","",ni,Pe],brightness:ce(),borderColor:[t],borderRadius:["none","","full",ni,Pe],borderSpacing:R(),borderWidth:k(),contrast:ce(),grayscale:L(),hueRotate:ce(),invert:L(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[XO,ti],inset:O(),margin:O(),opacity:ce(),padding:R(),saturate:ce(),scale:ce(),sepia:L(),skew:ce(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[ni]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),Pe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zl,Pe]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Zl,Pe]}],"grid-cols":[{"grid-cols":[ec]}],"col-start-end":[{col:["auto",{span:["full",Zl,Pe]},Pe]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[ec]}],"row-start-end":[{row:["auto",{span:[Zl,Pe]},Pe]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,e]}],"min-w":[{"min-w":[Pe,e,"min","max","fit"]}],"max-w":[{"max-w":[Pe,e,"none","full","min","max","fit","prose",{screen:[ni]},ni]}],h:[{h:[Pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ni,ti]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ym]}],"font-family":[{font:[ec]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",Va,ym]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gs,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gs,ti]}],"underline-offset":[{"underline-offset":["auto",gs,Pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),eM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[gs,Pe]}],"outline-w":[{outline:[gs,ti]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[gs,ti]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ni,rM]}],"shadow-color":[{shadow:[ec]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ni,Pe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Zl,Pe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gs,ti,ym]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lM=zO(aM);function _e(...t){return lM(BS(t))}const cM=mO,eN=p.forwardRef(({className:t,...e},n)=>l.jsx(OS,{ref:n,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));eN.displayName=OS.displayName;const uM=Su("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tN=p.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(MS,{ref:r,className:_e(uM({variant:e}),t),...n}));tN.displayName=MS.displayName;const dM=p.forwardRef(({className:t,...e},n)=>l.jsx(FS,{ref:n,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));dM.displayName=FS.displayName;const nN=p.forwardRef(({className:t,...e},n)=>l.jsx(US,{ref:n,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(KS,{className:"h-4 w-4"})}));nN.displayName=US.displayName;const rN=p.forwardRef(({className:t,...e},n)=>l.jsx(LS,{ref:n,className:_e("text-sm font-semibold",t),...e}));rN.displayName=LS.displayName;const sN=p.forwardRef(({className:t,...e},n)=>l.jsx(VS,{ref:n,className:_e("text-sm opacity-90",t),...e}));sN.displayName=VS.displayName;function hM(){const{toasts:t}=Cr();return l.jsxs(cM,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return l.jsxs(tN,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(rN,{children:n}),r&&l.jsx(sN,{children:r})]}),s,l.jsx(nN,{})]},e)}),l.jsx(eN,{})]})}var S_=["light","dark"],fM="(prefers-color-scheme: dark)",pM=p.createContext(void 0),mM={setTheme:t=>{},themes:[]},gM=()=>{var t;return(t=p.useContext(pM))!=null?t:mM};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?S_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(T,v=!1,_=!0)=>{let E=o?o[T]:T,w=v?T+"|| ''":`'${E}'`,x="";return s&&_&&!v&&S_.includes(T)&&(x+=`d.style.colorScheme = '${T}';`),n==="class"?v||E?x+=`c.add(${w})`:x+="null":E&&(x+=`d[s](n,${w})`),x},y=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${fM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:y}})});var yM=t=>{switch(t){case"success":return wM;case"info":return EM;case"warning":return _M;case"error":return bM;default:return null}},vM=Array(12).fill(0),xM=({visible:t,className:e})=>Z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Z.createElement("div",{className:"sonner-spinner"},vM.map((n,r)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),wM=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_M=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EM=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bM=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),TM=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),SM=()=>{let[t,e]=Z.useState(document.hidden);return Z.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ug=1,NM=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Ug++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async d=>{if(o=["resolve",d],Z.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(CM(d)&&!d.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(d):n.success,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var d;i&&(this.dismiss(r),r=void 0),(d=n.finally)==null||d.call(n)}),c=()=>new Promise((d,h)=>a.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Ug++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},bn=new NM,IM=(t,e)=>{let n=(e==null?void 0:e.id)||Ug++;return bn.addToast({title:t,...e,id:n}),n},CM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",AM=IM,PM=()=>bn.toasts,RM=()=>bn.getActiveToasts(),ri=Object.assign(AM,{success:bn.success,info:bn.info,warning:bn.warning,error:bn.error,custom:bn.custom,message:bn.message,promise:bn.promise,dismiss:bn.dismiss,loading:bn.loading},{getHistory:PM,getToasts:RM});function kM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}kM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bd(t){return t.label!==void 0}var jM=3,DM="32px",OM="16px",N_=4e3,MM=356,LM=14,VM=20,FM=200;function cr(...t){return t.filter(Boolean).join(" ")}function UM(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var $M=t=>{var e,n,r,s,i,o,a,c,d,h,f;let{invert:m,toast:y,unstyled:T,interacting:v,setHeights:_,visibleToasts:E,heights:w,index:x,toasts:A,expanded:D,removeToast:M,defaultRichColors:N,closeButton:S,style:C,cancelButtonStyle:P,actionButtonStyle:O,className:R="",descriptionClassName:k="",duration:z,position:se,gap:X,loadingIcon:ie,expandByDefault:F,classNames:L,icons:Y,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:ne}=t,[ue,me]=Z.useState(null),[Te,Me]=Z.useState(null),[K,Re]=Z.useState(!1),[Se,Ee]=Z.useState(!1),[Ce,ye]=Z.useState(!1),[tt,bt]=Z.useState(!1),[Dt,dn]=Z.useState(!1),[Ot,hn]=Z.useState(0),[Mt,kn]=Z.useState(0),Gt=Z.useRef(y.duration||z||N_),Ks=Z.useRef(null),Kt=Z.useRef(null),jn=x===0,Qs=x+1<=E,Ue=y.type,Qe=y.dismissible!==!1,Qt=y.className||"",Dn=y.descriptionClassName||"",On=Z.useMemo(()=>w.findIndex(j=>j.toastId===y.id)||0,[w,y.id]),hs=Z.useMemo(()=>{var j;return(j=y.closeButton)!=null?j:S},[y.closeButton,S]),Kn=Z.useMemo(()=>y.duration||z||N_,[y.duration,z]),_n=Z.useRef(0),fn=Z.useRef(0),or=Z.useRef(0),Qn=Z.useRef(null),[Ys,jr]=se.split("-"),fs=Z.useMemo(()=>w.reduce((j,B,G)=>G>=On?j:j+B.height,0),[w,On]),Dr=SM(),U=y.invert||m,ae=Ue==="loading";fn.current=Z.useMemo(()=>On*X+fs,[On,fs]),Z.useEffect(()=>{Gt.current=Kn},[Kn]),Z.useEffect(()=>{Re(!0)},[]),Z.useEffect(()=>{let j=Kt.current;if(j){let B=j.getBoundingClientRect().height;return kn(B),_(G=>[{toastId:y.id,height:B,position:y.position},...G]),()=>_(G=>G.filter(J=>J.toastId!==y.id))}},[_,y.id]),Z.useLayoutEffect(()=>{if(!K)return;let j=Kt.current,B=j.style.height;j.style.height="auto";let G=j.getBoundingClientRect().height;j.style.height=B,kn(G),_(J=>J.find(de=>de.toastId===y.id)?J.map(de=>de.toastId===y.id?{...de,height:G}:de):[{toastId:y.id,height:G,position:y.position},...J])},[K,y.title,y.description,_,y.id]);let fe=Z.useCallback(()=>{Ee(!0),hn(fn.current),_(j=>j.filter(B=>B.toastId!==y.id)),setTimeout(()=>{M(y)},FM)},[y,M,_,fn]);Z.useEffect(()=>{if(y.promise&&Ue==="loading"||y.duration===1/0||y.type==="loading")return;let j;return D||v||ne&&Dr?(()=>{if(or.current<_n.current){let B=new Date().getTime()-_n.current;Gt.current=Gt.current-B}or.current=new Date().getTime()})():Gt.current!==1/0&&(_n.current=new Date().getTime(),j=setTimeout(()=>{var B;(B=y.onAutoClose)==null||B.call(y,y),fe()},Gt.current)),()=>clearTimeout(j)},[D,v,y,Ue,ne,Dr,fe]),Z.useEffect(()=>{y.delete&&fe()},[fe,y.delete]);function ge(){var j,B,G;return Y!=null&&Y.loading?Z.createElement("div",{className:cr(L==null?void 0:L.loader,(j=y==null?void 0:y.classNames)==null?void 0:j.loader,"sonner-loader"),"data-visible":Ue==="loading"},Y.loading):ie?Z.createElement("div",{className:cr(L==null?void 0:L.loader,(B=y==null?void 0:y.classNames)==null?void 0:B.loader,"sonner-loader"),"data-visible":Ue==="loading"},ie):Z.createElement(xM,{className:cr(L==null?void 0:L.loader,(G=y==null?void 0:y.classNames)==null?void 0:G.loader),visible:Ue==="loading"})}return Z.createElement("li",{tabIndex:0,ref:Kt,className:cr(R,Qt,L==null?void 0:L.toast,(e=y==null?void 0:y.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Ue],(n=y==null?void 0:y.classNames)==null?void 0:n[Ue]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:N,"data-styled":!(y.jsx||y.unstyled||T),"data-mounted":K,"data-promise":!!y.promise,"data-swiped":Dt,"data-removed":Se,"data-visible":Qs,"data-y-position":Ys,"data-x-position":jr,"data-index":x,"data-front":jn,"data-swiping":Ce,"data-dismissible":Qe,"data-type":Ue,"data-invert":U,"data-swipe-out":tt,"data-swipe-direction":Te,"data-expanded":!!(D||F&&K),style:{"--index":x,"--toasts-before":x,"--z-index":A.length-x,"--offset":`${Se?Ot:fn.current}px`,"--initial-height":F?"auto":`${Mt}px`,...C,...y.style},onDragEnd:()=>{ye(!1),me(null),Qn.current=null},onPointerDown:j=>{ae||!Qe||(Ks.current=new Date,hn(fn.current),j.target.setPointerCapture(j.pointerId),j.target.tagName!=="BUTTON"&&(ye(!0),Qn.current={x:j.clientX,y:j.clientY}))},onPointerUp:()=>{var j,B,G,J;if(tt||!Qe)return;Qn.current=null;let de=Number(((j=Kt.current)==null?void 0:j.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ke=Number(((B=Kt.current)==null?void 0:B.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$e=new Date().getTime()-((G=Ks.current)==null?void 0:G.getTime()),De=ue==="x"?de:ke,nt=Math.abs(De)/$e;if(Math.abs(De)>=VM||nt>.11){hn(fn.current),(J=y.onDismiss)==null||J.call(y,y),Me(ue==="x"?de>0?"right":"left":ke>0?"down":"up"),fe(),bt(!0),dn(!1);return}ye(!1),me(null)},onPointerMove:j=>{var B,G,J,de;if(!Qn.current||!Qe||((B=window.getSelection())==null?void 0:B.toString().length)>0)return;let ke=j.clientY-Qn.current.y,$e=j.clientX-Qn.current.x,De=(G=t.swipeDirections)!=null?G:UM(se);!ue&&(Math.abs($e)>1||Math.abs(ke)>1)&&me(Math.abs($e)>Math.abs(ke)?"x":"y");let nt={x:0,y:0};ue==="y"?(De.includes("top")||De.includes("bottom"))&&(De.includes("top")&&ke<0||De.includes("bottom")&&ke>0)&&(nt.y=ke):ue==="x"&&(De.includes("left")||De.includes("right"))&&(De.includes("left")&&$e<0||De.includes("right")&&$e>0)&&(nt.x=$e),(Math.abs(nt.x)>0||Math.abs(nt.y)>0)&&dn(!0),(J=Kt.current)==null||J.style.setProperty("--swipe-amount-x",`${nt.x}px`),(de=Kt.current)==null||de.style.setProperty("--swipe-amount-y",`${nt.y}px`)}},hs&&!y.jsx?Z.createElement("button",{"aria-label":ce,"data-disabled":ae,"data-close-button":!0,onClick:ae||!Qe?()=>{}:()=>{var j;fe(),(j=y.onDismiss)==null||j.call(y,y)},className:cr(L==null?void 0:L.closeButton,(s=y==null?void 0:y.classNames)==null?void 0:s.closeButton)},(i=Y==null?void 0:Y.close)!=null?i:TM):null,y.jsx||p.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:Z.createElement(Z.Fragment,null,Ue||y.icon||y.promise?Z.createElement("div",{"data-icon":"",className:cr(L==null?void 0:L.icon,(o=y==null?void 0:y.classNames)==null?void 0:o.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||ge():null,y.type!=="loading"?y.icon||(Y==null?void 0:Y[Ue])||yM(Ue):null):null,Z.createElement("div",{"data-content":"",className:cr(L==null?void 0:L.content,(a=y==null?void 0:y.classNames)==null?void 0:a.content)},Z.createElement("div",{"data-title":"",className:cr(L==null?void 0:L.title,(c=y==null?void 0:y.classNames)==null?void 0:c.title)},typeof y.title=="function"?y.title():y.title),y.description?Z.createElement("div",{"data-description":"",className:cr(k,Dn,L==null?void 0:L.description,(d=y==null?void 0:y.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),p.isValidElement(y.cancel)?y.cancel:y.cancel&&bd(y.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||P,onClick:j=>{var B,G;bd(y.cancel)&&Qe&&((G=(B=y.cancel).onClick)==null||G.call(B,j),fe())},className:cr(L==null?void 0:L.cancelButton,(h=y==null?void 0:y.classNames)==null?void 0:h.cancelButton)},y.cancel.label):null,p.isValidElement(y.action)?y.action:y.action&&bd(y.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||O,onClick:j=>{var B,G;bd(y.action)&&((G=(B=y.action).onClick)==null||G.call(B,j),!j.defaultPrevented&&fe())},className:cr(L==null?void 0:L.actionButton,(f=y==null?void 0:y.classNames)==null?void 0:f.actionButton)},y.action.label):null))};function I_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function BM(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?OM:DM;function c(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=a:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(a)}),n}var zM=p.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:d,theme:h="light",richColors:f,duration:m,style:y,visibleToasts:T=jM,toastOptions:v,dir:_=I_(),gap:E=LM,loadingIcon:w,icons:x,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:D}=t,[M,N]=Z.useState([]),S=Z.useMemo(()=>Array.from(new Set([r].concat(M.filter(ne=>ne.position).map(ne=>ne.position)))),[M,r]),[C,P]=Z.useState([]),[O,R]=Z.useState(!1),[k,z]=Z.useState(!1),[se,X]=Z.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=Z.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=Z.useRef(null),Y=Z.useRef(!1),ce=Z.useCallback(ne=>{N(ue=>{var me;return(me=ue.find(Te=>Te.id===ne.id))!=null&&me.delete||bn.dismiss(ne.id),ue.filter(({id:Te})=>Te!==ne.id)})},[]);return Z.useEffect(()=>bn.subscribe(ne=>{if(ne.dismiss){N(ue=>ue.map(me=>me.id===ne.id?{...me,delete:!0}:me));return}setTimeout(()=>{mS.flushSync(()=>{N(ue=>{let me=ue.findIndex(Te=>Te.id===ne.id);return me!==-1?[...ue.slice(0,me),{...ue[me],...ne},...ue.slice(me+1)]:[ne,...ue]})})})}),[]),Z.useEffect(()=>{if(h!=="system"){X(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:ue})=>{X(ue?"dark":"light")})}catch{ne.addListener(({matches:me})=>{try{X(me?"dark":"light")}catch(Te){console.error(Te)}})}},[h]),Z.useEffect(()=>{M.length<=1&&R(!1)},[M]),Z.useEffect(()=>{let ne=ue=>{var me,Te;s.every(Me=>ue[Me]||ue.code===Me)&&(R(!0),(me=ie.current)==null||me.focus()),ue.code==="Escape"&&(document.activeElement===ie.current||(Te=ie.current)!=null&&Te.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),Z.useEffect(()=>{if(ie.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,Y.current=!1)}},[ie.current]),Z.createElement("section",{ref:e,"aria-label":`${A} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((ne,ue)=>{var me;let[Te,Me]=ne.split("-");return M.length?Z.createElement("ol",{key:ne,dir:_==="auto"?I_():_,tabIndex:-1,ref:ie,className:a,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":Te,"data-lifted":O&&M.length>1&&!i,"data-x-position":Me,style:{"--front-toast-height":`${((me=C[0])==null?void 0:me.height)||0}px`,"--width":`${MM}px`,"--gap":`${E}px`,...y,...BM(c,d)},onBlur:K=>{Y.current&&!K.currentTarget.contains(K.relatedTarget)&&(Y.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,L.current=K.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{k||R(!1)},onDragEnd:()=>R(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},M.filter(K=>!K.position&&ue===0||K.position===ne).map((K,Re)=>{var Se,Ee;return Z.createElement($M,{key:K.id,icons:x,index:Re,toast:K,defaultRichColors:f,duration:(Se=v==null?void 0:v.duration)!=null?Se:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:T,closeButton:(Ee=v==null?void 0:v.closeButton)!=null?Ee:o,interacting:k,position:ne,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ce,toasts:M.filter(Ce=>Ce.position==K.position),heights:C.filter(Ce=>Ce.position==K.position),setHeights:P,expandByDefault:i,gap:E,loadingIcon:w,expanded:O,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const WM=({...t})=>{const{theme:e="system"}=gM();return l.jsx(zM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var HM=$y[" useId ".trim().toString()]||(()=>{}),qM=0;function Yr(t){const[e,n]=p.useState(HM());return Ht(()=>{t||n(r=>r??String(qM++))},[t]),t||(e?`radix-${e}`:"")}const GM=["top","right","bottom","left"],Ui=Math.min,Vn=Math.max,jh=Math.round,Td=Math.floor,Xr=t=>({x:t,y:t}),KM={left:"right",right:"left",bottom:"top",top:"bottom"},QM={start:"end",end:"start"};function $g(t,e,n){return Vn(t,Ui(e,n))}function Ls(t,e){return typeof t=="function"?t(e):t}function Vs(t){return t.split("-")[0]}function Tl(t){return t.split("-")[1]}function $v(t){return t==="x"?"y":"x"}function Bv(t){return t==="y"?"height":"width"}const YM=new Set(["top","bottom"]);function Wr(t){return YM.has(Vs(t))?"y":"x"}function zv(t){return $v(Wr(t))}function XM(t,e,n){n===void 0&&(n=!1);const r=Tl(t),s=zv(t),i=Bv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Dh(o)),[o,Dh(o)]}function JM(t){const e=Dh(t);return[Bg(t),e,Bg(e)]}function Bg(t){return t.replace(/start|end/g,e=>QM[e])}const C_=["left","right"],A_=["right","left"],ZM=["top","bottom"],eL=["bottom","top"];function tL(t,e,n){switch(t){case"top":case"bottom":return n?e?A_:C_:e?C_:A_;case"left":case"right":return e?ZM:eL;default:return[]}}function nL(t,e,n,r){const s=Tl(t);let i=tL(Vs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Bg)))),i}function Dh(t){return t.replace(/left|right|bottom|top/g,e=>KM[e])}function rL(t){return{top:0,right:0,bottom:0,left:0,...t}}function iN(t){return typeof t!="number"?rL(t):{top:t,right:t,bottom:t,left:t}}function Oh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function P_(t,e,n){let{reference:r,floating:s}=t;const i=Wr(e),o=zv(e),a=Bv(o),c=Vs(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let y;switch(c){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(Tl(e)){case"start":y[o]-=m*(n&&d?-1:1);break;case"end":y[o]+=m*(n&&d?-1:1);break}return y}const sL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=P_(d,r,c),m=r,y={},T=0;for(let v=0;v<a.length;v++){const{name:_,fn:E}=a[v],{x:w,y:x,data:A,reset:D}=await E({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,f=x??f,y={...y,[_]:{...y[_],...A}},D&&T<=50&&(T++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=P_(d,m,c)),v=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:y}};async function Yc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=Ls(e,t),T=iN(y),_=a[m?f==="floating"?"reference":"floating":f],E=Oh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},D=Oh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:x,strategy:c}):w);return{top:(E.top-D.top+T.top)/A.y,bottom:(D.bottom-E.bottom+T.bottom)/A.y,left:(E.left-D.left+T.left)/A.x,right:(D.right-E.right+T.right)/A.x}}const iL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:h=0}=Ls(t,e)||{};if(d==null)return{};const f=iN(h),m={x:n,y:r},y=zv(s),T=Bv(y),v=await o.getDimensions(d),_=y==="y",E=_?"top":"left",w=_?"bottom":"right",x=_?"clientHeight":"clientWidth",A=i.reference[T]+i.reference[y]-m[y]-i.floating[T],D=m[y]-i.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=M?M[x]:0;(!N||!await(o.isElement==null?void 0:o.isElement(M)))&&(N=a.floating[x]||i.floating[T]);const S=A/2-D/2,C=N/2-v[T]/2-1,P=Ui(f[E],C),O=Ui(f[w],C),R=P,k=N-v[T]-O,z=N/2-v[T]/2+S,se=$g(R,z,k),X=!c.arrow&&Tl(s)!=null&&z!==se&&i.reference[T]/2-(z<R?P:O)-v[T]/2<0,ie=X?z<R?z-R:z-k:0;return{[y]:m[y]+ie,data:{[y]:se,centerOffset:z-se-ie,...X&&{alignmentOffset:ie}},reset:X}}}),oL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:v=!0,..._}=Ls(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Vs(s),w=Wr(a),x=Vs(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(d.floating)),D=m||(x||!v?[Dh(a)]:JM(a)),M=T!=="none";!m&&M&&D.push(...nL(a,v,T,A));const N=[a,...D],S=await Yc(e,_),C=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(S[E]),f){const z=XM(s,o,A);C.push(S[z[0]],S[z[1]])}if(P=[...P,{placement:s,overflows:C}],!C.every(z=>z<=0)){var O,R;const z=(((O=i.flip)==null?void 0:O.index)||0)+1,se=N[z];if(se&&(!(f==="alignment"?w!==Wr(se):!1)||P.every(F=>F.overflows[0]>0&&Wr(F.placement)===w)))return{data:{index:z,overflows:P},reset:{placement:se}};let X=(R=P.filter(ie=>ie.overflows[0]<=0).sort((ie,F)=>ie.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!X)switch(y){case"bestFit":{var k;const ie=(k=P.filter(F=>{if(M){const L=Wr(F.placement);return L===w||L==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(L=>L>0).reduce((L,Y)=>L+Y,0)]).sort((F,L)=>F[1]-L[1])[0])==null?void 0:k[0];ie&&(X=ie);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function R_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function k_(t){return GM.some(e=>t[e]>=0)}const aL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ls(t,e);switch(r){case"referenceHidden":{const i=await Yc(e,{...s,elementContext:"reference"}),o=R_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:k_(o)}}}case"escaped":{const i=await Yc(e,{...s,altBoundary:!0}),o=R_(i,n.floating);return{data:{escapedOffsets:o,escaped:k_(o)}}}default:return{}}}}},oN=new Set(["left","top"]);async function lL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Vs(n),a=Tl(n),c=Wr(n)==="y",d=oN.has(o)?-1:1,h=i&&c?-1:1,f=Ls(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(y=a==="end"?T*-1:T),c?{x:y*h,y:m*d}:{x:m*d,y:y*h}}const cL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await lL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},uL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:E,y:w}=_;return{x:E,y:w}}},...c}=Ls(t,e),d={x:n,y:r},h=await Yc(e,c),f=Wr(Vs(s)),m=$v(f);let y=d[m],T=d[f];if(i){const _=m==="y"?"top":"left",E=m==="y"?"bottom":"right",w=y+h[_],x=y-h[E];y=$g(w,y,x)}if(o){const _=f==="y"?"top":"left",E=f==="y"?"bottom":"right",w=T+h[_],x=T-h[E];T=$g(w,T,x)}const v=a.fn({...e,[m]:y,[f]:T});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:o}}}}}},dL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=Ls(t,e),h={x:n,y:r},f=Wr(s),m=$v(f);let y=h[m],T=h[f];const v=Ls(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const x=m==="y"?"height":"width",A=i.reference[m]-i.floating[x]+_.mainAxis,D=i.reference[m]+i.reference[x]-_.mainAxis;y<A?y=A:y>D&&(y=D)}if(d){var E,w;const x=m==="y"?"width":"height",A=oN.has(Vs(s)),D=i.reference[f]-i.floating[x]+(A&&((E=o.offset)==null?void 0:E[f])||0)+(A?0:_.crossAxis),M=i.reference[f]+i.reference[x]+(A?0:((w=o.offset)==null?void 0:w[f])||0)-(A?_.crossAxis:0);T<D?T=D:T>M&&(T=M)}return{[m]:y,[f]:T}}}},hL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=Ls(t,e),h=await Yc(e,d),f=Vs(s),m=Tl(s),y=Wr(s)==="y",{width:T,height:v}=i.floating;let _,E;f==="top"||f==="bottom"?(_=f,E=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,_=m==="end"?"top":"bottom");const w=v-h.top-h.bottom,x=T-h.left-h.right,A=Ui(v-h[_],w),D=Ui(T-h[E],x),M=!e.middlewareData.shift;let N=A,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=w),M&&!m){const P=Vn(h.left,0),O=Vn(h.right,0),R=Vn(h.top,0),k=Vn(h.bottom,0);y?S=T-2*(P!==0||O!==0?P+O:Vn(h.left,h.right)):N=v-2*(R!==0||k!==0?R+k:Vn(h.top,h.bottom))}await c({...e,availableWidth:S,availableHeight:N});const C=await o.getDimensions(a.floating);return T!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function jf(){return typeof window<"u"}function Sl(t){return aN(t)?(t.nodeName||"").toLowerCase():"#document"}function Wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function us(t){var e;return(e=(aN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function aN(t){return jf()?t instanceof Node||t instanceof Wn(t).Node:!1}function br(t){return jf()?t instanceof Element||t instanceof Wn(t).Element:!1}function is(t){return jf()?t instanceof HTMLElement||t instanceof Wn(t).HTMLElement:!1}function j_(t){return!jf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wn(t).ShadowRoot}const fL=new Set(["inline","contents"]);function Iu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Tr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!fL.has(s)}const pL=new Set(["table","td","th"]);function mL(t){return pL.has(Sl(t))}const gL=[":popover-open",":modal"];function Df(t){return gL.some(e=>{try{return t.matches(e)}catch{return!1}})}const yL=["transform","translate","scale","rotate","perspective"],vL=["transform","translate","scale","rotate","perspective","filter"],xL=["paint","layout","strict","content"];function Wv(t){const e=Hv(),n=br(t)?Tr(t):t;return yL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||vL.some(r=>(n.willChange||"").includes(r))||xL.some(r=>(n.contain||"").includes(r))}function wL(t){let e=$i(t);for(;is(e)&&!cl(e);){if(Wv(e))return e;if(Df(e))return null;e=$i(e)}return null}function Hv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _L=new Set(["html","body","#document"]);function cl(t){return _L.has(Sl(t))}function Tr(t){return Wn(t).getComputedStyle(t)}function Of(t){return br(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $i(t){if(Sl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||j_(t)&&t.host||us(t);return j_(e)?e.host:e}function lN(t){const e=$i(t);return cl(e)?t.ownerDocument?t.ownerDocument.body:t.body:is(e)&&Iu(e)?e:lN(e)}function Xc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=lN(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Wn(s);if(i){const a=zg(o);return e.concat(o,o.visualViewport||[],Iu(s)?s:[],a&&n?Xc(a):[])}return e.concat(s,Xc(s,[],n))}function zg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cN(t){const e=Tr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=is(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=jh(n)!==i||jh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function qv(t){return br(t)?t:t.contextElement}function Fa(t){const e=qv(t);if(!is(e))return Xr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=cN(e);let o=(i?jh(n.width):n.width)/r,a=(i?jh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const EL=Xr(0);function uN(t){const e=Wn(t);return!Hv()||!e.visualViewport?EL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wn(t)?!1:e}function Lo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=qv(t);let o=Xr(1);e&&(r?br(r)&&(o=Fa(r)):o=Fa(t));const a=bL(i,n,r)?uN(i):Xr(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=Wn(i),y=r&&br(r)?Wn(r):r;let T=m,v=zg(T);for(;v&&r&&y!==T;){const _=Fa(v),E=v.getBoundingClientRect(),w=Tr(v),x=E.left+(v.clientLeft+parseFloat(w.paddingLeft))*_.x,A=E.top+(v.clientTop+parseFloat(w.paddingTop))*_.y;c*=_.x,d*=_.y,h*=_.x,f*=_.y,c+=x,d+=A,T=Wn(v),v=zg(T)}}return Oh({width:h,height:f,x:c,y:d})}function Gv(t,e){const n=Of(t).scrollLeft;return e?e.left+n:Lo(us(t)).left+n}function dN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Gv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function TL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=us(r),a=e?Df(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Xr(1);const h=Xr(0),f=is(r);if((f||!f&&!i)&&((Sl(r)!=="body"||Iu(o))&&(c=Of(r)),is(r))){const y=Lo(r);d=Fa(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const m=o&&!f&&!i?dN(o,c,!0):Xr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-c.scrollTop*d.y+h.y+m.y}}function SL(t){return Array.from(t.getClientRects())}function NL(t){const e=us(t),n=Of(t),r=t.ownerDocument.body,s=Vn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Vn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Gv(t);const a=-n.scrollTop;return Tr(r).direction==="rtl"&&(o+=Vn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function IL(t,e){const n=Wn(t),r=us(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=Hv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const CL=new Set(["absolute","fixed"]);function AL(t,e){const n=Lo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=is(t)?Fa(t):Xr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function D_(t,e,n){let r;if(e==="viewport")r=IL(t,n);else if(e==="document")r=NL(us(t));else if(br(e))r=AL(e,n);else{const s=uN(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Oh(r)}function hN(t,e){const n=$i(t);return n===e||!br(n)||cl(n)?!1:Tr(n).position==="fixed"||hN(n,e)}function PL(t,e){const n=e.get(t);if(n)return n;let r=Xc(t,[],!1).filter(a=>br(a)&&Sl(a)!=="body"),s=null;const i=Tr(t).position==="fixed";let o=i?$i(t):t;for(;br(o)&&!cl(o);){const a=Tr(o),c=Wv(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&CL.has(s.position)||Iu(o)&&!c&&hN(t,o))?r=r.filter(h=>h!==o):s=a,o=$i(o)}return e.set(t,r),r}function RL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Df(e)?[]:PL(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,h)=>{const f=D_(e,h,s);return d.top=Vn(f.top,d.top),d.right=Ui(f.right,d.right),d.bottom=Ui(f.bottom,d.bottom),d.left=Vn(f.left,d.left),d},D_(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kL(t){const{width:e,height:n}=cN(t);return{width:e,height:n}}function jL(t,e,n){const r=is(e),s=us(e),i=n==="fixed",o=Lo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Xr(0);function d(){c.x=Gv(s)}if(r||!r&&!i)if((Sl(e)!=="body"||Iu(s))&&(a=Of(e)),r){const y=Lo(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?dN(s,a):Xr(0),f=o.left+a.scrollLeft-c.x-h.x,m=o.top+a.scrollTop-c.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function vm(t){return Tr(t).position==="static"}function O_(t,e){if(!is(t)||Tr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return us(t)===n&&(n=n.ownerDocument.body),n}function fN(t,e){const n=Wn(t);if(Df(t))return n;if(!is(t)){let s=$i(t);for(;s&&!cl(s);){if(br(s)&&!vm(s))return s;s=$i(s)}return n}let r=O_(t,e);for(;r&&mL(r)&&vm(r);)r=O_(r,e);return r&&cl(r)&&vm(r)&&!Wv(r)?n:r||wL(t)||n}const DL=async function(t){const e=this.getOffsetParent||fN,n=this.getDimensions,r=await n(t.floating);return{reference:jL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OL(t){return Tr(t).direction==="rtl"}const ML={convertOffsetParentRelativeRectToViewportRelativeRect:TL,getDocumentElement:us,getClippingRect:RL,getOffsetParent:fN,getElementRects:DL,getClientRects:SL,getDimensions:kL,getScale:Fa,isElement:br,isRTL:OL};function pN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function LL(t,e){let n=null,r;const s=us(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:y}=d;if(a||e(),!m||!y)return;const T=Td(f),v=Td(s.clientWidth-(h+m)),_=Td(s.clientHeight-(f+y)),E=Td(h),x={rootMargin:-T+"px "+-v+"px "+-_+"px "+-E+"px",threshold:Vn(0,Ui(1,c))||1};let A=!0;function D(M){const N=M[0].intersectionRatio;if(N!==c){if(!A)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!pN(d,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(D,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,x)}n.observe(t)}return o(!0),i}function VL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=qv(t),h=s||i?[...d?Xc(d):[],...Xc(e)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=d&&a?LL(d,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(E=>{let[w]=E;w&&w.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=y)==null||x.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let T,v=c?Lo(t):null;c&&_();function _(){const E=Lo(t);v&&!pN(v,E)&&n(),v=E,T=requestAnimationFrame(_)}return n(),()=>{var E;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(E=y)==null||E.disconnect(),y=null,c&&cancelAnimationFrame(T)}}const FL=cL,UL=uL,$L=oL,BL=hL,zL=aL,M_=iL,WL=dL,HL=(t,e,n)=>{const r=new Map,s={platform:ML,...n},i={...s.platform,_c:r};return sL(t,e,{...s,platform:i})};var qL=typeof document<"u",GL=function(){},Yd=qL?p.useLayoutEffect:GL;function Mh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Mh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Mh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function mN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function L_(t,e){const n=mN(t);return Math.round(e*n)/n}function xm(t){const e=p.useRef(t);return Yd(()=>{e.current=t}),e}function KL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=p.useState(r);Mh(m,r)||y(r);const[T,v]=p.useState(null),[_,E]=p.useState(null),w=p.useCallback(F=>{F!==M.current&&(M.current=F,v(F))},[]),x=p.useCallback(F=>{F!==N.current&&(N.current=F,E(F))},[]),A=i||T,D=o||_,M=p.useRef(null),N=p.useRef(null),S=p.useRef(h),C=c!=null,P=xm(c),O=xm(s),R=xm(d),k=p.useCallback(()=>{if(!M.current||!N.current)return;const F={placement:e,strategy:n,middleware:m};O.current&&(F.platform=O.current),HL(M.current,N.current,F).then(L=>{const Y={...L,isPositioned:R.current!==!1};z.current&&!Mh(S.current,Y)&&(S.current=Y,Qo.flushSync(()=>{f(Y)}))})},[m,e,n,O,R]);Yd(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[d]);const z=p.useRef(!1);Yd(()=>(z.current=!0,()=>{z.current=!1}),[]),Yd(()=>{if(A&&(M.current=A),D&&(N.current=D),A&&D){if(P.current)return P.current(A,D,k);k()}},[A,D,k,P,C]);const se=p.useMemo(()=>({reference:M,floating:N,setReference:w,setFloating:x}),[w,x]),X=p.useMemo(()=>({reference:A,floating:D}),[A,D]),ie=p.useMemo(()=>{const F={position:n,left:0,top:0};if(!X.floating)return F;const L=L_(X.floating,h.x),Y=L_(X.floating,h.y);return a?{...F,transform:"translate("+L+"px, "+Y+"px)",...mN(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:Y}},[n,a,X.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:k,refs:se,elements:X,floatingStyles:ie}),[h,k,se,X,ie])}const QL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?M_({element:r.current,padding:s}).fn(n):{}:r?M_({element:r,padding:s}).fn(n):{}}}},YL=(t,e)=>({...FL(t),options:[t,e]}),XL=(t,e)=>({...UL(t),options:[t,e]}),JL=(t,e)=>({...WL(t),options:[t,e]}),ZL=(t,e)=>({...$L(t),options:[t,e]}),e4=(t,e)=>({...BL(t),options:[t,e]}),t4=(t,e)=>({...zL(t),options:[t,e]}),n4=(t,e)=>({...QL(t),options:[t,e]});var r4="Arrow",gN=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(we.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});gN.displayName=r4;var s4=gN;function i4(t){const[e,n]=p.useState(void 0);return Ht(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Kv="Popper",[yN,Nl]=Ar(Kv),[o4,vN]=yN(Kv),xN=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return l.jsx(o4,{scope:e,anchor:r,onAnchorChange:s,children:n})};xN.displayName=Kv;var wN="PopperAnchor",_N=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=vN(wN,n),o=p.useRef(null),a=qe(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(we.div,{...s,ref:a})});_N.displayName=wN;var Qv="PopperContent",[a4,l4]=yN(Qv),EN=p.forwardRef((t,e)=>{var K,Re,Se,Ee,Ce,ye;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:T,...v}=t,_=vN(Qv,n),[E,w]=p.useState(null),x=qe(e,tt=>w(tt)),[A,D]=p.useState(null),M=i4(A),N=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,C=r+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(d)?d:[d],R=O.length>0,k={padding:P,boundary:O.filter(u4),altBoundary:R},{refs:z,floatingStyles:se,placement:X,isPositioned:ie,middlewareData:F}=KL({strategy:"fixed",placement:C,whileElementsMounted:(...tt)=>VL(...tt,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[YL({mainAxis:s+S,alignmentAxis:o}),c&&XL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?JL():void 0,...k}),c&&ZL({...k}),e4({...k,apply:({elements:tt,rects:bt,availableWidth:Dt,availableHeight:dn})=>{const{width:Ot,height:hn}=bt.reference,Mt=tt.floating.style;Mt.setProperty("--radix-popper-available-width",`${Dt}px`),Mt.setProperty("--radix-popper-available-height",`${dn}px`),Mt.setProperty("--radix-popper-anchor-width",`${Ot}px`),Mt.setProperty("--radix-popper-anchor-height",`${hn}px`)}}),A&&n4({element:A,padding:a}),d4({arrowWidth:N,arrowHeight:S}),m&&t4({strategy:"referenceHidden",...k})]}),[L,Y]=SN(X),ce=Rn(T);Ht(()=>{ie&&(ce==null||ce())},[ie,ce]);const ne=(K=F.arrow)==null?void 0:K.x,ue=(Re=F.arrow)==null?void 0:Re.y,me=((Se=F.arrow)==null?void 0:Se.centerOffset)!==0,[Te,Me]=p.useState();return Ht(()=>{E&&Me(window.getComputedStyle(E).zIndex)},[E]),l.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:ie?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(Ee=F.transformOrigin)==null?void 0:Ee.x,(Ce=F.transformOrigin)==null?void 0:Ce.y].join(" "),...((ye=F.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(a4,{scope:n,placedSide:L,onArrowChange:D,arrowX:ne,arrowY:ue,shouldHideArrow:me,children:l.jsx(we.div,{"data-side":L,"data-align":Y,...v,ref:x,style:{...v.style,animation:ie?void 0:"none"}})})})});EN.displayName=Qv;var bN="PopperArrow",c4={top:"bottom",right:"left",bottom:"top",left:"right"},TN=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=l4(bN,r),o=c4[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(s4,{...s,ref:n,style:{...s.style,display:"block"}})})});TN.displayName=bN;function u4(t){return t!==null}var d4=t=>({name:"transformOrigin",options:t,fn(e){var _,E,w;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=SN(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,y=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let T="",v="";return d==="bottom"?(T=o?f:`${m}px`,v=`${-c}px`):d==="top"?(T=o?f:`${m}px`,v=`${r.floating.height+c}px`):d==="right"?(T=`${-c}px`,v=o?f:`${y}px`):d==="left"&&(T=`${r.floating.width+c}px`,v=o?f:`${y}px`),{data:{x:T,y:v}}}});function SN(t){const[e,n="center"]=t.split("-");return[e,n]}var NN=xN,Yv=_N,Xv=EN,Jv=TN,[Mf,AW]=Ar("Tooltip",[Nl]),Zv=Nl(),IN="TooltipProvider",h4=700,V_="tooltip.open",[f4,CN]=Mf(IN),AN=t=>{const{__scopeTooltip:e,delayDuration:n=h4,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),a=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),l.jsx(f4,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:p.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:i})};AN.displayName=IN;var PN="Tooltip",[PW,Lf]=Mf(PN),Wg="TooltipTrigger",p4=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Lf(Wg,n),i=CN(Wg,n),o=Zv(n),a=p.useRef(null),c=qe(e,a,s.onTriggerChange),d=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Yv,{asChild:!0,...o,children:l.jsx(we.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:re(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:re(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:re(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:re(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:re(t.onBlur,s.onClose),onClick:re(t.onClick,s.onClose)})})});p4.displayName=Wg;var m4="TooltipPortal",[RW,g4]=Mf(m4,{forceMount:void 0}),ul="TooltipContent",RN=p.forwardRef((t,e)=>{const n=g4(ul,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Lf(ul,t.__scopeTooltip);return l.jsx(Pr,{present:r||o.open,children:o.disableHoverableContent?l.jsx(kN,{side:s,...i,ref:e}):l.jsx(y4,{side:s,...i,ref:e})})}),y4=p.forwardRef((t,e)=>{const n=Lf(ul,t.__scopeTooltip),r=CN(ul,t.__scopeTooltip),s=p.useRef(null),i=qe(e,s),[o,a]=p.useState(null),{trigger:c,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{a(null),f(!1)},[f]),y=p.useCallback((T,v)=>{const _=T.currentTarget,E={x:T.clientX,y:T.clientY},w=E4(E,_.getBoundingClientRect()),x=b4(E,w),A=T4(v.getBoundingClientRect()),D=N4([...x,...A]);a(D),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&h){const T=_=>y(_,h),v=_=>y(_,c);return c.addEventListener("pointerleave",T),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",v)}}},[c,h,y,m]),p.useEffect(()=>{if(o){const T=v=>{const _=v.target,E={x:v.clientX,y:v.clientY},w=(c==null?void 0:c.contains(_))||(h==null?void 0:h.contains(_)),x=!S4(E,o);w?m():x&&(m(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[c,h,o,d,m]),l.jsx(kN,{...t,ref:i})}),[v4,x4]=Mf(PN,{isInside:!1}),w4=AD("TooltipContent"),kN=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Lf(ul,n),d=Zv(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(V_,h),()=>document.removeEventListener(V_,h)),[h]),p.useEffect(()=>{if(c.trigger){const f=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),l.jsx(El,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:l.jsxs(Xv,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(w4,{children:r}),l.jsx(v4,{scope:n,isInside:!0,children:l.jsx(XD,{id:c.contentId,role:"tooltip",children:s||r})})]})})});RN.displayName=ul;var jN="TooltipArrow",_4=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Zv(n);return x4(jN,n).isInside?null:l.jsx(Jv,{...s,...r,ref:e})});_4.displayName=jN;function E4(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function b4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function T4(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function S4(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],d=a.x,h=a.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-d)*(r-h)/(m-h)+d&&(s=!s)}return s}function N4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),I4(e)}function I4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var C4=AN,DN=RN;const A4=C4,P4=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(DN,{ref:r,sideOffset:e,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));P4.displayName=DN.displayName;var Vf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ff=typeof window>"u"||"Deno"in globalThis;function hr(){}function R4(t,e){return typeof t=="function"?t(e):t}function k4(t){return typeof t=="number"&&t>=0&&t!==1/0}function j4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Hg(t,e){return typeof t=="function"?t(e):t}function D4(t,e){return typeof t=="function"?t(e):t}function F_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==e0(o,e.options))return!1}else if(!Zc(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function U_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Jc(e.options.mutationKey)!==Jc(i))return!1}else if(!Zc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function e0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jc)(t)}function Jc(t){return JSON.stringify(t,(e,n)=>qg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Zc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Zc(t[n],e[n])):!1}function ON(t,e){if(t===e)return t;const n=$_(t)&&$_(e);if(n||qg(t)&&qg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let d=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,d++):(a[f]=ON(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&d++)}return s===o&&d===s?t:a}return e}function $_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function qg(t){if(!B_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!B_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function B_(t){return Object.prototype.toString.call(t)==="[object Object]"}function O4(t){return new Promise(e=>{setTimeout(e,t)})}function M4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ON(t,e):e}function L4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function V4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var t0=Symbol();function MN(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===t0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var xo,mi,qa,KE,F4=(KE=class extends Vf{constructor(){super();He(this,xo);He(this,mi);He(this,qa);Ae(this,qa,e=>{if(!Ff&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,mi)||this.setEventListener(H(this,qa))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,mi))==null||e.call(this),Ae(this,mi,void 0))}setEventListener(e){var n;Ae(this,qa,e),(n=H(this,mi))==null||n.call(this),Ae(this,mi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,xo)!==e&&(Ae(this,xo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,xo)=="boolean"?H(this,xo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xo=new WeakMap,mi=new WeakMap,qa=new WeakMap,KE),LN=new F4,Ga,gi,Ka,QE,U4=(QE=class extends Vf{constructor(){super();He(this,Ga,!0);He(this,gi);He(this,Ka);Ae(this,Ka,e=>{if(!Ff&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,gi)||this.setEventListener(H(this,Ka))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,gi))==null||e.call(this),Ae(this,gi,void 0))}setEventListener(e){var n;Ae(this,Ka,e),(n=H(this,gi))==null||n.call(this),Ae(this,gi,e(this.setOnline.bind(this)))}setOnline(e){H(this,Ga)!==e&&(Ae(this,Ga,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,Ga)}},Ga=new WeakMap,gi=new WeakMap,Ka=new WeakMap,QE),Lh=new U4;function $4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function B4(t){return Math.min(1e3*2**t,3e4)}function VN(t){return(t??"online")==="online"?Lh.isOnline():!0}var FN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function wm(t){return t instanceof FN}function UN(t){let e=!1,n=0,r=!1,s;const i=$4(),o=v=>{var _;r||(m(new FN(v)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},c=()=>{e=!1},d=()=>LN.isFocused()&&(t.networkMode==="always"||Lh.isOnline())&&t.canRun(),h=()=>VN(t.networkMode)&&t.canRun(),f=v=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,v),s==null||s(),i.reject(v))},y=()=>new Promise(v=>{var _;s=E=>{(r||d())&&v(E)},(_=t.onPause)==null||_.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),T=()=>{if(r)return;let v;const _=n===0?t.initialPromise:void 0;try{v=_??t.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(f).catch(E=>{var M;if(r)return;const w=t.retry??(Ff?0:3),x=t.retryDelay??B4,A=typeof x=="function"?x(n,E):x,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,E);if(e||!D){m(E);return}n++,(M=t.onFail)==null||M.call(t,n,E),O4(A).then(()=>d()?void 0:y()).then(()=>{e?m(E):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?T():y().then(T),i)}}var z4=t=>setTimeout(t,0);function W4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=z4;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var gn=W4(),wo,YE,$N=(YE=class{constructor(){He(this,wo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k4(this.gcTime)&&Ae(this,wo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ff?1/0:5*60*1e3))}clearGcTimeout(){H(this,wo)&&(clearTimeout(H(this,wo)),Ae(this,wo,void 0))}},wo=new WeakMap,YE),Qa,_o,Yn,Eo,nn,gu,bo,fr,ys,XE,H4=(XE=class extends $N{constructor(n){super();He(this,fr);He(this,Qa);He(this,_o);He(this,Yn);He(this,Eo);He(this,nn);He(this,gu);He(this,bo);Ae(this,bo,!1),Ae(this,gu,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ae(this,Eo,n.client),Ae(this,Yn,H(this,Eo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ae(this,Qa,G4(this.options)),this.state=n.state??H(this,Qa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=H(this,nn))==null?void 0:n.promise}setOptions(n){this.options={...H(this,gu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Yn).remove(this)}setData(n,r){const s=M4(this.state.data,n,this.options);return Jt(this,fr,ys).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Jt(this,fr,ys).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=H(this,nn))==null?void 0:s.promise;return(i=H(this,nn))==null||i.cancel(n),r?r.then(hr).catch(hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,Qa))}isActive(){return this.observers.some(n=>D4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===t0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Hg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!j4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,nn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,nn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),H(this,Yn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(H(this,nn)&&(H(this,bo)?H(this,nn).cancel({revert:!0}):H(this,nn).cancelRetry()),this.scheduleGc()),H(this,Yn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Jt(this,fr,ys).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,nn))return H(this,nn).continueRetry(),H(this,nn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const y=this.observers.find(T=>T.options.queryFn);y&&this.setOptions(y.options)}const s=new AbortController,i=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(Ae(this,bo,!0),s.signal)})},o=()=>{const y=MN(this.options,r),v=(()=>{const _={client:H(this,Eo),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return Ae(this,bo,!1),this.options.persister?this.options.persister(y,v,this):y(v)},c=(()=>{const y={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:H(this,Eo),state:this.state,fetchFn:o};return i(y),y})();(h=this.options.behavior)==null||h.onFetch(c,this),Ae(this,_o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Jt(this,fr,ys).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const d=y=>{var T,v,_,E;wm(y)&&y.silent||Jt(this,fr,ys).call(this,{type:"error",error:y}),wm(y)||((v=(T=H(this,Yn).config).onError)==null||v.call(T,y,this),(E=(_=H(this,Yn).config).onSettled)==null||E.call(_,this.state.data,y,this)),this.scheduleGc()};return Ae(this,nn,UN({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:y=>{var T,v,_,E;if(y===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(y)}catch(w){d(w);return}(v=(T=H(this,Yn).config).onSuccess)==null||v.call(T,y,this),(E=(_=H(this,Yn).config).onSettled)==null||E.call(_,y,this.state.error,this),this.scheduleGc()},onError:d,onFail:(y,T)=>{Jt(this,fr,ys).call(this,{type:"failed",failureCount:y,error:T})},onPause:()=>{Jt(this,fr,ys).call(this,{type:"pause"})},onContinue:()=>{Jt(this,fr,ys).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),H(this,nn).start()}},Qa=new WeakMap,_o=new WeakMap,Yn=new WeakMap,Eo=new WeakMap,nn=new WeakMap,gu=new WeakMap,bo=new WeakMap,fr=new WeakSet,ys=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...q4(s.data,this.options),fetchMeta:n.meta??null};case"success":return Ae(this,_o,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return wm(i)&&i.revert&&H(this,_o)?{...H(this,_o),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),gn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),H(this,Yn).notify({query:this,type:"updated",action:n})})},XE);function q4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function G4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Vr,JE,K4=(JE=class extends Vf{constructor(e={}){super();He(this,Vr);this.config=e,Ae(this,Vr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??e0(s,n);let o=this.get(i);return o||(o=new H4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){H(this,Vr).has(e.queryHash)||(H(this,Vr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,Vr).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,Vr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,Vr).get(e)}getAll(){return[...H(this,Vr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>F_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>F_(e,r)):n}notify(e){gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){gn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Vr=new WeakMap,JE),Fr,pn,To,Ur,ii,ZE,Q4=(ZE=class extends $N{constructor(n){super();He(this,Ur);He(this,Fr);He(this,pn);He(this,To);this.mutationId=n.mutationId,Ae(this,pn,n.mutationCache),Ae(this,Fr,[]),this.state=n.state||Y4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){H(this,Fr).includes(n)||(H(this,Fr).push(n),this.clearGcTimeout(),H(this,pn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ae(this,Fr,H(this,Fr).filter(r=>r!==n)),this.scheduleGc(),H(this,pn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){H(this,Fr).length||(this.state.status==="pending"?this.scheduleGc():H(this,pn).remove(this))}continue(){var n;return((n=H(this,To))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,d,h,f,m,y,T,v,_,E,w,x,A,D,M,N,S,C;const r=()=>{Jt(this,Ur,ii).call(this,{type:"continue"})};Ae(this,To,UN({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{Jt(this,Ur,ii).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{Jt(this,Ur,ii).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,pn).canRun(this)}));const s=this.state.status==="pending",i=!H(this,To).canStart();try{if(s)r();else{Jt(this,Ur,ii).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=H(this,pn).config).onMutate)==null?void 0:a.call(o,n,this));const O=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n));O!==this.state.context&&Jt(this,Ur,ii).call(this,{type:"pending",context:O,variables:n,isPaused:i})}const P=await H(this,To).start();return await((f=(h=H(this,pn).config).onSuccess)==null?void 0:f.call(h,P,n,this.state.context,this)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,P,n,this.state.context)),await((v=(T=H(this,pn).config).onSettled)==null?void 0:v.call(T,P,null,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,P,null,n,this.state.context)),Jt(this,Ur,ii).call(this,{type:"success",data:P}),P}catch(P){try{throw await((x=(w=H(this,pn).config).onError)==null?void 0:x.call(w,P,n,this.state.context,this)),await((D=(A=this.options).onError)==null?void 0:D.call(A,P,n,this.state.context)),await((N=(M=H(this,pn).config).onSettled)==null?void 0:N.call(M,void 0,P,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,P,n,this.state.context)),P}finally{Jt(this,Ur,ii).call(this,{type:"error",error:P})}}finally{H(this,pn).runNext(this)}}},Fr=new WeakMap,pn=new WeakMap,To=new WeakMap,Ur=new WeakSet,ii=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),gn.batch(()=>{H(this,Fr).forEach(s=>{s.onMutationUpdate(n)}),H(this,pn).notify({mutation:this,type:"updated",action:n})})},ZE);function Y4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ws,pr,yu,eb,X4=(eb=class extends Vf{constructor(e={}){super();He(this,ws);He(this,pr);He(this,yu);this.config=e,Ae(this,ws,new Set),Ae(this,pr,new Map),Ae(this,yu,0)}build(e,n,r){const s=new Q4({mutationCache:this,mutationId:++rd(this,yu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){H(this,ws).add(e);const n=Sd(e);if(typeof n=="string"){const r=H(this,pr).get(n);r?r.push(e):H(this,pr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(H(this,ws).delete(e)){const n=Sd(e);if(typeof n=="string"){const r=H(this,pr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&H(this,pr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Sd(e);if(typeof n=="string"){const r=H(this,pr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Sd(e);if(typeof n=="string"){const s=(r=H(this,pr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gn.batch(()=>{H(this,ws).forEach(e=>{this.notify({type:"removed",mutation:e})}),H(this,ws).clear(),H(this,pr).clear()})}getAll(){return Array.from(H(this,ws))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>U_(n,r))}findAll(e={}){return this.getAll().filter(n=>U_(e,n))}notify(e){gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return gn.batch(()=>Promise.all(e.map(n=>n.continue().catch(hr))))}},ws=new WeakMap,pr=new WeakMap,yu=new WeakMap,eb);function Sd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function z_(t){return{onFetch:(e,n)=>{var h,f,m,y,T;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const _=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=MN(e.options,e.fetchOptions),w=async(x,A,D)=>{if(v)return Promise.reject();if(A==null&&x.pages.length)return Promise.resolve(x);const N=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:A,direction:D?"backward":"forward",meta:e.options.meta};return _(O),O})(),S=await E(N),{maxPages:C}=e.options,P=D?V4:L4;return{pages:P(x.pages,S,C),pageParams:P(x.pageParams,A,C)}};if(s&&i.length){const x=s==="backward",A=x?J4:W_,D={pages:i,pageParams:o},M=A(r,D);a=await w(D,M,x)}else{const x=t??i.length;do{const A=c===0?o[0]??r.initialPageParam:W_(r,a);if(c>0&&A==null)break;a=await w(a,A),c++}while(c<x)}return a};e.options.persister?e.fetchFn=()=>{var v,_;return(_=(v=e.options).persister)==null?void 0:_.call(v,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function W_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function J4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var mt,yi,vi,Ya,Xa,xi,Ja,Za,tb,Z4=(tb=class{constructor(t={}){He(this,mt);He(this,yi);He(this,vi);He(this,Ya);He(this,Xa);He(this,xi);He(this,Ja);He(this,Za);Ae(this,mt,t.queryCache||new K4),Ae(this,yi,t.mutationCache||new X4),Ae(this,vi,t.defaultOptions||{}),Ae(this,Ya,new Map),Ae(this,Xa,new Map),Ae(this,xi,0)}mount(){rd(this,xi)._++,H(this,xi)===1&&(Ae(this,Ja,LN.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,mt).onFocus())})),Ae(this,Za,Lh.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,mt).onOnline())})))}unmount(){var t,e;rd(this,xi)._--,H(this,xi)===0&&((t=H(this,Ja))==null||t.call(this),Ae(this,Ja,void 0),(e=H(this,Za))==null||e.call(this),Ae(this,Za,void 0))}isFetching(t){return H(this,mt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,yi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,mt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=H(this,mt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Hg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return H(this,mt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=H(this,mt).get(r.queryHash),i=s==null?void 0:s.state.data,o=R4(e,i);if(o!==void 0)return H(this,mt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return gn.batch(()=>H(this,mt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,mt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,mt);gn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,mt);return gn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=gn.batch(()=>H(this,mt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(hr).catch(hr)}invalidateQueries(t,e={}){return gn.batch(()=>(H(this,mt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=gn.batch(()=>H(this,mt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(hr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(hr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,mt).build(this,e);return n.isStaleByTime(Hg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(hr).catch(hr)}fetchInfiniteQuery(t){return t.behavior=z_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(hr).catch(hr)}ensureInfiniteQueryData(t){return t.behavior=z_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lh.isOnline()?H(this,yi).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,mt)}getMutationCache(){return H(this,yi)}getDefaultOptions(){return H(this,vi)}setDefaultOptions(t){Ae(this,vi,t)}setQueryDefaults(t,e){H(this,Ya).set(Jc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,Ya).values()],n={};return e.forEach(r=>{Zc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){H(this,Xa).set(Jc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,Xa).values()],n={};return e.forEach(r=>{Zc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,vi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=e0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===t0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,vi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,mt).clear(),H(this,yi).clear()}},mt=new WeakMap,yi=new WeakMap,vi=new WeakMap,Ya=new WeakMap,Xa=new WeakMap,xi=new WeakMap,Ja=new WeakMap,Za=new WeakMap,tb),eV=p.createContext(void 0),tV=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(eV.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}var Ei;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ei||(Ei={}));const H_="popstate";function nV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Gg("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vh(s)}return sV(e,n,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rV(){return Math.random().toString(36).substr(2,8)}function q_(t,e){return{usr:t.state,key:t.key,idx:e}}function Gg(t,e,n,r){return n===void 0&&(n=null),eu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Il(e):e,{state:n,key:e&&e.key||r||rV()})}function Vh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ei.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(eu({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Ei.Pop;let _=h(),E=_==null?null:_-d;d=_,c&&c({action:a,location:v.location,delta:E})}function m(_,E){a=Ei.Push;let w=Gg(v.location,_,E);d=h()+1;let x=q_(w,d),A=v.createHref(w);try{o.pushState(x,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(A)}i&&c&&c({action:a,location:v.location,delta:1})}function y(_,E){a=Ei.Replace;let w=Gg(v.location,_,E);d=h();let x=q_(w,d),A=v.createHref(w);o.replaceState(x,"",A),i&&c&&c({action:a,location:v.location,delta:0})}function T(_){let E=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof _=="string"?_:Vh(_);return w=w.replace(/ $/,"%20"),_t(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let v={get action(){return a},get location(){return t(s,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(H_,f),c=_,()=>{s.removeEventListener(H_,f),c=null}},createHref(_){return e(s,_)},createURL:T,encodeLocation(_){let E=T(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:y,go(_){return o.go(_)}};return v}var G_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(G_||(G_={}));function iV(t,e,n){return n===void 0&&(n="/"),oV(t,e,n,!1)}function oV(t,e,n,r){let s=typeof e=="string"?Il(e):e,i=n0(s.pathname||"/",n);if(i==null)return null;let o=zN(t);aV(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=vV(i);a=gV(o[c],d,r)}return a}function zN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(_t(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ji([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(_t(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),zN(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:pV(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of WN(i.path))s(i,o,c)}),e}function WN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=WN(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function aV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lV=/^:[\w-]+$/,cV=3,uV=2,dV=1,hV=10,fV=-2,K_=t=>t==="*";function pV(t,e){let n=t.split("/"),r=n.length;return n.some(K_)&&(r+=fV),e&&(r+=uV),n.filter(s=>!K_(s)).reduce((s,i)=>s+(lV.test(i)?cV:i===""?dV:hV),r)}function mV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function gV(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Q_({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Q_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ji([i,f.pathname]),pathnameBase:EV(ji([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=ji([i,f.pathnameBase]))}return o}function Q_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const T=a[f];return y&&!T?d[m]=void 0:d[m]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function yV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),BN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function vV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return BN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function n0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function xV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Il(t):t;return{pathname:n?n.startsWith("/")?n:wV(n,e):e,search:bV(r),hash:TV(s)}}function wV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _m(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _V(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function r0(t,e){let n=_V(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function s0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Il(t):(s=eu({},t),_t(!s.pathname||!s.pathname.includes("?"),_m("?","pathname","search",s)),_t(!s.pathname||!s.pathname.includes("#"),_m("#","pathname","hash",s)),_t(!s.search||!s.search.includes("#"),_m("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let c=xV(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const ji=t=>t.join("/").replace(/\/\/+/g,"/"),EV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const HN=["post","put","patch","delete"];new Set(HN);const NV=["get",...HN];new Set(NV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}const i0=p.createContext(null),IV=p.createContext(null),Ji=p.createContext(null),Uf=p.createContext(null),Zi=p.createContext({outlet:null,matches:[],isDataRoute:!1}),qN=p.createContext(null);function CV(t,e){let{relative:n}=e===void 0?{}:e;Cl()||_t(!1);let{basename:r,navigator:s}=p.useContext(Ji),{hash:i,pathname:o,search:a}=KN(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ji([r,o])),s.createHref({pathname:c,search:a,hash:i})}function Cl(){return p.useContext(Uf)!=null}function Yo(){return Cl()||_t(!1),p.useContext(Uf).location}function GN(t){p.useContext(Ji).static||p.useLayoutEffect(t)}function Hs(){let{isDataRoute:t}=p.useContext(Zi);return t?$V():AV()}function AV(){Cl()||_t(!1);let t=p.useContext(i0),{basename:e,future:n,navigator:r}=p.useContext(Ji),{matches:s}=p.useContext(Zi),{pathname:i}=Yo(),o=JSON.stringify(r0(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return GN(()=>{a.current=!0}),p.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let f=s0(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ji([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function KN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Ji),{matches:s}=p.useContext(Zi),{pathname:i}=Yo(),o=JSON.stringify(r0(s,r.v7_relativeSplatPath));return p.useMemo(()=>s0(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function PV(t,e){return RV(t,e)}function RV(t,e,n,r){Cl()||_t(!1);let{navigator:s}=p.useContext(Ji),{matches:i}=p.useContext(Zi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Yo(),h;if(e){var f;let _=typeof e=="string"?Il(e):e;c==="/"||(f=_.pathname)!=null&&f.startsWith(c)||_t(!1),h=_}else h=d;let m=h.pathname||"/",y=m;if(c!=="/"){let _=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let T=iV(t,{pathname:y}),v=MV(T&&T.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:ji([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:ji([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&v?p.createElement(Uf.Provider,{value:{location:tu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ei.Pop}},v):v}function kV(){let t=UV(),e=SV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const jV=p.createElement(kV,null);class DV extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Zi.Provider,{value:this.props.routeContext},p.createElement(qN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OV(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(i0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Zi.Provider,{value:e},r)}function MV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||_t(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:y}=n,T=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||T){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let y,T=!1,v=null,_=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||jV,c&&(d<0&&m===0?(T=!0,_=null):d===m&&(T=!0,_=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,m+1)),w=()=>{let x;return y?x=v:T?x=_:f.route.Component?x=p.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,p.createElement(OV,{match:f,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(DV,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var QN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(QN||{}),Fh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fh||{});function LV(t){let e=p.useContext(i0);return e||_t(!1),e}function VV(t){let e=p.useContext(IV);return e||_t(!1),e}function FV(t){let e=p.useContext(Zi);return e||_t(!1),e}function YN(t){let e=FV(),n=e.matches[e.matches.length-1];return n.route.id||_t(!1),n.route.id}function UV(){var t;let e=p.useContext(qN),n=VV(Fh.UseRouteError),r=YN(Fh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $V(){let{router:t}=LV(QN.UseNavigateStable),e=YN(Fh.UseNavigateStable),n=p.useRef(!1);return GN(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,tu({fromRouteId:e},i)))},[t,e])}function BV(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function XN(t){let{to:e,replace:n,state:r,relative:s}=t;Cl()||_t(!1);let{future:i,static:o}=p.useContext(Ji),{matches:a}=p.useContext(Zi),{pathname:c}=Yo(),d=Hs(),h=s0(e,r0(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return p.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function En(t){_t(!1)}function zV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ei.Pop,navigator:i,static:o=!1,future:a}=t;Cl()&&_t(!1);let c=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:c,navigator:i,static:o,future:tu({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Il(r));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:T="default"}=r,v=p.useMemo(()=>{let _=n0(h,c);return _==null?null:{location:{pathname:_,search:f,hash:m,state:y,key:T},navigationType:s}},[c,h,f,m,y,T,s]);return v==null?null:p.createElement(Ji.Provider,{value:d},p.createElement(Uf.Provider,{children:n,value:v}))}function JN(t){let{children:e,location:n}=t;return PV(Kg(e),n)}new Promise(()=>{});function Kg(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,Kg(r.props.children,i));return}r.type!==En&&_t(!1),!r.props.index||!r.props.children||_t(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Kg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(this,arguments)}function WV(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function HV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qV(t,e){return t.button===0&&(!e||e==="_self")&&!HV(t)}function Yg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function GV(t,e){let n=Yg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const KV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QV="6";try{window.__reactRouterVersion=QV}catch{}const YV="startTransition",Y_=$y[YV];function XV(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=nV({window:s,v5Compat:!0}));let o=i.current,[a,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=p.useCallback(f=>{d&&Y_?Y_(()=>c(f)):c(f)},[c,d]);return p.useLayoutEffect(()=>o.listen(h),[o,h]),p.useEffect(()=>BV(r),[r]),p.createElement(zV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const JV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Br=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,m=WV(e,KV),{basename:y}=p.useContext(Ji),T,v=!1;if(typeof d=="string"&&ZV.test(d)&&(T=d,JV))try{let x=new URL(window.location.href),A=d.startsWith("//")?new URL(x.protocol+d):new URL(d),D=n0(A.pathname,y);A.origin===x.origin&&D!=null?d=D+A.search+A.hash:v=!0}catch{}let _=CV(d,{relative:s}),E=eF(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function w(x){r&&r(x),x.defaultPrevented||E(x)}return p.createElement("a",Qg({},m,{href:T||_,onClick:v||i?r:w,ref:n,target:c}))});var X_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(X_||(X_={}));var J_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(J_||(J_={}));function eF(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=Hs(),d=Yo(),h=KN(t,{relative:o});return p.useCallback(f=>{if(qV(f,n)){f.preventDefault();let m=r!==void 0?r:Vh(d)===Vh(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,c,h,r,s,n,t,i,o,a])}function tF(t){let e=p.useRef(Yg(t)),n=p.useRef(!1),r=Yo(),s=p.useMemo(()=>GV(r.search,n.current?null:e.current),[r.search]),i=Hs(),o=p.useCallback((a,c)=>{const d=Yg(typeof a=="function"?a(s):a);n.current=!0,i("?"+d,c)},[i,s]);return[s,o]}const nF=()=>{};var Z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},eI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,y=d&63;c||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new sF;const m=i<<2|a>>4;if(r.push(m),d!==64){const y=a<<4&240|d>>2;if(r.push(y),f!==64){const T=d<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iF=function(t){const e=ZN(t);return eI.encodeByteArray(e,!0)},Uh=function(t){return iF(t).replace(/\./g,"")},tI=function(t){try{return eI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=()=>oF().__FIREBASE_DEFAULTS__,lF=()=>{if(typeof process>"u"||typeof Z_>"u")return;const t=Z_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tI(t[1]);return e&&JSON.parse(e)},$f=()=>{try{return nF()||aF()||lF()||cF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nI=t=>{var e,n;return(n=(e=$f())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},rI=t=>{const e=nI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sI=()=>{var t;return(t=$f())==null?void 0:t.config},iI=t=>{var e;return(e=$f())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uh(JSON.stringify(n)),Uh(JSON.stringify(o)),""].join(".")}const Tc={};function hF(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tc))Tc[e]?t.emulator.push(e):t.prod.push(e);return t}function fF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let e1=!1;function a0(t,e){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||Tc[t]===e||Tc[t]||e1)return;Tc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=hF().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{e1=!0,o()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=fF(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),v=n("learnmore"),_=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),w=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const x=m.element;a(x),h(_,v);const A=d();c(w,E),x.append(w,T,_,A),document.body.appendChild(x)}i?(T.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function mF(){var e;const t=(e=$f())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xF(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wF(){return!mF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _F(){try{return typeof indexedDB=="object"}catch{return!1}}function EF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="FirebaseError";class qs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bF,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?TF(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new qs(s,a,r)}}function TF(t,e){return t.replace(SF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const SF=/\{\$([^}]+)}/g;function NF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(t1(i)&&t1(o)){if(!Vo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function t1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IF(t,e){const n=new CF(t,e);return n.subscribe.bind(n)}class CF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Em),s.error===void 0&&(s.error=Em),s.complete===void 0&&(s.complete=Em);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class Bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kF(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RF(t){return t===uo?void 0:t}function kF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const DF={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},OF=Le.INFO,MF={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},LF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=MF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l0{constructor(e){this.name=e,this._logLevel=OF,this._logHandler=LF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const VF=(t,e)=>e.some(n=>t instanceof n);let n1,r1;function FF(){return n1||(n1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UF(){return r1||(r1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oI=new WeakMap,Xg=new WeakMap,aI=new WeakMap,bm=new WeakMap,c0=new WeakMap;function $F(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Di(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oI.set(n,t)}).catch(()=>{}),c0.set(e,t),e}function BF(t){if(Xg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Xg.set(t,e)}let Jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zF(t){Jg=t(Jg)}function WF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tm(this),e,...n);return aI.set(r,e.sort?e.sort():[e]),Di(r)}:UF().includes(t)?function(...e){return t.apply(Tm(this),e),Di(oI.get(this))}:function(...e){return Di(t.apply(Tm(this),e))}}function HF(t){return typeof t=="function"?WF(t):(t instanceof IDBTransaction&&BF(t),VF(t,FF())?new Proxy(t,Jg):t)}function Di(t){if(t instanceof IDBRequest)return $F(t);if(bm.has(t))return bm.get(t);const e=HF(t);return e!==t&&(bm.set(t,e),c0.set(e,t)),e}const Tm=t=>c0.get(t);function qF(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Di(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Di(o.result),c.oldVersion,c.newVersion,Di(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const GF=["get","getKey","getAll","getAllKeys","count"],KF=["put","add","delete","clear"],Sm=new Map;function s1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=KF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||GF.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return Sm.set(e,i),i}zF(t=>({...t,get:(e,n,r)=>s1(e,n)||t.get(e,n,r),has:(e,n)=>!!s1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zg="@firebase/app",i1="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new l0("@firebase/app"),XF="@firebase/app-compat",JF="@firebase/analytics-compat",ZF="@firebase/analytics",e5="@firebase/app-check-compat",t5="@firebase/app-check",n5="@firebase/auth",r5="@firebase/auth-compat",s5="@firebase/database",i5="@firebase/data-connect",o5="@firebase/database-compat",a5="@firebase/functions",l5="@firebase/functions-compat",c5="@firebase/installations",u5="@firebase/installations-compat",d5="@firebase/messaging",h5="@firebase/messaging-compat",f5="@firebase/performance",p5="@firebase/performance-compat",m5="@firebase/remote-config",g5="@firebase/remote-config-compat",y5="@firebase/storage",v5="@firebase/storage-compat",x5="@firebase/firestore",w5="@firebase/ai",_5="@firebase/firestore-compat",E5="firebase",b5="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="[DEFAULT]",T5={[Zg]:"fire-core",[XF]:"fire-core-compat",[ZF]:"fire-analytics",[JF]:"fire-analytics-compat",[t5]:"fire-app-check",[e5]:"fire-app-check-compat",[n5]:"fire-auth",[r5]:"fire-auth-compat",[s5]:"fire-rtdb",[i5]:"fire-data-connect",[o5]:"fire-rtdb-compat",[a5]:"fire-fn",[l5]:"fire-fn-compat",[c5]:"fire-iid",[u5]:"fire-iid-compat",[d5]:"fire-fcm",[h5]:"fire-fcm-compat",[f5]:"fire-perf",[p5]:"fire-perf-compat",[m5]:"fire-rc",[g5]:"fire-rc-compat",[y5]:"fire-gcs",[v5]:"fire-gcs-compat",[x5]:"fire-fst",[_5]:"fire-fst-compat",[w5]:"fire-vertex","fire-js":"fire-js",[E5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=new Map,S5=new Map,ty=new Map;function o1(t,e){try{t.container.addComponent(e)}catch(n){Fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fo(t){const e=t.name;if(ty.has(e))return Fs.debug(`There were multiple attempts to register component ${e}.`),!1;ty.set(e,t);for(const n of nu.values())o1(n,t);for(const n of S5.values())o1(n,t);return!0}function Bf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new Cu("app","Firebase",N5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=b5;function lI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ey,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Oi.create("bad-app-name",{appName:String(s)});if(n||(n=sI()),!n)throw Oi.create("no-options");const i=nu.get(s);if(i){if(Vo(n,i.options)&&Vo(r,i.config))return i;throw Oi.create("duplicate-app",{appName:s})}const o=new jF(s);for(const c of ty.values())o.addComponent(c);const a=new I5(n,r,o);return nu.set(s,a),a}function u0(t=ey){const e=nu.get(t);if(!e&&t===ey&&sI())return lI();if(!e)throw Oi.create("no-app",{appName:t});return e}function a1(){return Array.from(nu.values())}function Jr(t,e,n){let r=T5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fs.warn(o.join(" "));return}Fo(new Bi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="firebase-heartbeat-database",A5=1,ru="firebase-heartbeat-store";let Nm=null;function cI(){return Nm||(Nm=qF(C5,A5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oi.create("idb-open",{originalErrorMessage:t.message})})),Nm}async function P5(t){try{const n=(await cI()).transaction(ru),r=await n.objectStore(ru).get(uI(t));return await n.done,r}catch(e){if(e instanceof qs)Fs.warn(e.message);else{const n=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fs.warn(n.message)}}}async function l1(t,e){try{const r=(await cI()).transaction(ru,"readwrite");await r.objectStore(ru).put(e,uI(t)),await r.done}catch(n){if(n instanceof qs)Fs.warn(n.message);else{const r=Oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fs.warn(r.message)}}}function uI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=1024,k5=30;class j5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=c1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>k5){const o=M5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=c1(),{heartbeatsToSend:r,unsentEntries:s}=D5(this._heartbeatsCache.heartbeats),i=Uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Fs.warn(n),""}}}function c1(){return new Date().toISOString().substring(0,10)}function D5(t,e=R5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),u1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),u1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _F()?EF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return l1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return l1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function u1(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}function M5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){Fo(new Bi("platform-logger",e=>new QF(e),"PRIVATE")),Fo(new Bi("heartbeat",e=>new j5(e),"PRIVATE")),Jr(Zg,i1,t),Jr(Zg,i1,"esm2020"),Jr("fire-js","")}L5("");var V5="firebase",F5="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(V5,F5,"app");function dI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U5=dI,hI=new Cu("auth","Firebase",dI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new l0("@firebase/auth");function $5(t,...e){$h.logLevel<=Le.WARN&&$h.warn(`Auth (${Al}): ${t}`,...e)}function Xd(t,...e){$h.logLevel<=Le.ERROR&&$h.error(`Auth (${Al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,...e){throw d0(t,...e)}function Zr(t,...e){return d0(t,...e)}function fI(t,e,n){const r={...U5(),[e]:n};return new Cu("auth","Firebase",r).create(e,{appName:t.name})}function Rs(t){return fI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hI.create(t,...e)}function ve(t,e,...n){if(!t)throw d0(e,...n)}function Ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xd(e),new Error(e)}function Us(t,e){t||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function B5(){return d1()==="http:"||d1()==="https:"}function d1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B5()||yF()||"connection"in navigator)?navigator.onLine:!0}function W5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=pF()||vF()}get(){return z5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e){Us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G5=new Pu(3e4,6e4);function Gs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ds(t,e,n,r,s={}){return mI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Au({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return gF()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Xo(t.emulatorConfig.host)&&(d.credentials="include"),pI.fetch()(await gI(t,t.config.apiHost,n,a),d)})}async function mI(t,e,n){t._canInitEmulator=!1;const r={...H5,...e};try{const s=new Q5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Nd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Nd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Nd(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw fI(t,h,d);Sr(t,h)}}catch(s){if(s instanceof qs)throw s;Sr(t,"network-request-failed",{message:String(s)})}}async function Ru(t,e,n,r,s={}){const i=await ds(t,e,n,r,s);return"mfaPendingCredential"in i&&Sr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function gI(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?h0(t.config,s):`${t.config.apiScheme}://${s}`;return q5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function K5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zr(this.auth,"network-request-failed")),G5.get())})}}function Nd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Zr(t,e,r);return s.customData._tokenResponse=n,s}function h1(t){return t!==void 0&&t.enterprise!==void 0}class Y5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return K5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function X5(t,e){return ds(t,"GET","/v2/recaptchaConfig",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e){return ds(t,"POST","/v1/accounts:delete",e)}async function Bh(t,e){return ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z5(t,e=!1){const n=Et(t),r=await n.getIdToken(e),s=f0(r);ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Sc(Im(s.auth_time)),issuedAtTime:Sc(Im(s.iat)),expirationTime:Sc(Im(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Im(t){return Number(t)*1e3}function f0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xd("JWT malformed, contained fewer than 3 sections"),null;try{const s=tI(n);return s?JSON.parse(s):(Xd("Failed to decode base64 JWT payload"),null)}catch(s){return Xd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function f1(t){const e=f0(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qs&&e3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await dl(t,Bh(e,{idToken:n}));ve(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?yI(s.providerUserInfo):[],o=r3(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ry(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function n3(t){const e=Et(t);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function yI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e){const n=await mI(t,{},async()=>{const r=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await gI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Xo(t.emulatorConfig.host)&&(c.credentials="include"),pI.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i3(t,e){return ds(t,"POST","/v2/accounts:revokeToken",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=f1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await s3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ua;return r&&(ve(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ve(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ve(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new t3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ry(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await dl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Z5(this,e)}reload(){return n3(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await dl(this,J5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:y,providerData:T,stsTokenManager:v}=n;ve(f&&v,e,"internal-error");const _=Ua.fromJSON(this.name,v);ve(typeof f=="string",e,"internal-error"),si(r,e.name),si(s,e.name),ve(typeof m=="boolean",e,"internal-error"),ve(typeof y=="boolean",e,"internal-error"),si(i,e.name),si(o,e.name),si(a,e.name),si(c,e.name),si(d,e.name),si(h,e.name);const E=new vr({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:_,createdAt:d,lastLoginAt:h});return T&&Array.isArray(T)&&(E.providerData=T.map(w=>({...w}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ua;s.updateFromServerResponse(n);const i=new vr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ve(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?yI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ua;a.updateFromIdToken(r);const c=new vr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ry(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Map;function Ns(t){Us(t instanceof Function,"Expected a class definition");let e=p1.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vI.type="NONE";const m1=vI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t,e,n){return`firebase:${t}:${e}:${n}`}class $a{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Jd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Jd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bh(this.auth,{idToken:e}).catch(()=>{});return n?vr._fromGetAccountInfoResponse(this.auth,n,e):null}return vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $a(Ns(m1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ns(m1);const o=Jd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await Bh(e,{idToken:h}).catch(()=>{});if(!m)break;f=await vr._fromGetAccountInfoResponse(e,m,h)}else f=vr._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new $a(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new $a(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TI(e))return"Blackberry";if(SI(e))return"Webos";if(wI(e))return"Safari";if((e.includes("chrome/")||_I(e))&&!e.includes("edge/"))return"Chrome";if(bI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xI(t=un()){return/firefox\//i.test(t)}function wI(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _I(t=un()){return/crios\//i.test(t)}function EI(t=un()){return/iemobile/i.test(t)}function bI(t=un()){return/android/i.test(t)}function TI(t=un()){return/blackberry/i.test(t)}function SI(t=un()){return/webos/i.test(t)}function p0(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o3(t=un()){var e;return p0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function a3(){return xF()&&document.documentMode===10}function NI(t=un()){return p0(t)||bI(t)||SI(t)||TI(t)||/windows phone/i.test(t)||EI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e=[]){let n;switch(t){case"Browser":n=g1(un());break;case"Worker":n=`${g1(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e={}){return ds(t,"GET","/v2/passwordPolicy",Gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=6;class d3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??u3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y1(this),this.idTokenSubscription=new y1(this),this.beforeStateQueue=new l3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ns(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bh(this,{idToken:e}),r=await vr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Un(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Rs(this));const n=e?Et(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c3(this),n=new d3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await i3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ns(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=II(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&$5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function eo(t){return Et(t)}class y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=IF(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f3(t){zf=t}function CI(t){return zf.loadJS(t)}function p3(){return zf.recaptchaEnterpriseScript}function m3(){return zf.gapiScript}function g3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class y3{constructor(){this.enterprise=new v3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class v3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const x3="recaptcha-enterprise",AI="NO_RECAPTCHA";class w3{constructor(e){this.type=x3,this.auth=eo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{X5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new Y5(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;h1(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(AI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y3().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&h1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=p3();c.length!==0&&(c+=a),CI(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function v1(t,e,n,r=!1,s=!1){const i=new w3(t);let o;if(s)o=AI;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wh(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await v1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await v1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t,e){const n=Bf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Vo(i,e??{}))return s;Sr(s,"already-initialized")}return n.initialize({options:e})}function E3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ns);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function b3(t,e,n){const r=eo(t);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=PI(e),{host:o,port:a}=T3(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(Vo(d,r.config.emulator)&&Vo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Xo(o)?(o0(`${i}//${o}${c}`),a0("Auth",!0)):S3()}function PI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function T3(t){const e=PI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:x1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:x1(o)}}}function x1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,n){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function N3(t,e){return ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t,e){return Ru(t,"POST","/v1/accounts:signInWithPassword",Gs(t,e))}async function C3(t,e){return ds(t,"POST","/v1/accounts:sendOobCode",Gs(t,e))}async function A3(t,e){return C3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,e))}async function R3(t,e){return Ru(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends m0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wh(e,n,"signInWithPassword",I3);case"emailLink":return P3(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wh(e,r,"signUpPassword",N3);case"emailLink":return R3(e,{idToken:n,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t,e){return Ru(t,"POST","/v1/accounts:signInWithIdp",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="http://localhost";class Uo extends m0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Uo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ba(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ba(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ba(e,n)}buildRequest(){const e={requestUri:k3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D3(t){const e=ic(oc(t)).link,n=e?ic(oc(e)).deep_link_id:null,r=ic(oc(t)).deep_link_id;return(r?ic(oc(r)).link:null)||r||n||e||t}class g0{constructor(e){const n=ic(oc(e)),r=n.apiKey??null,s=n.oobCode??null,i=j3(n.mode??null);ve(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=D3(e);try{return new g0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.providerId=Pl.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=g0.parseLink(n);return ve(r,"argument-error"),su._fromEmailAndCode(e,r.code,r.tenantId)}}Pl.PROVIDER_ID="password";Pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends RI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends ku{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uo._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends ku{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends ku{constructor(){super("twitter.com")}static credential(e,n){return Uo._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e){return Ru(t,"POST","/v1/accounts:signUp",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await vr._fromIdTokenResponse(e,r,s),o=w1(r);return new $o({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=w1(r);return new $o({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function w1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends qs{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Hh(e,n,r,s)}}function kI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(t,i,e,r):i})}async function M3(t,e,n=!1){const r=await dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(t,e,n=!1){const{auth:r}=t;if(Un(r.app))return Promise.reject(Rs(r));const s="reauthenticate";try{const i=await dl(t,kI(r,s,e,t),n);ve(i.idToken,r,"internal-error");const o=f0(i.idToken);ve(o,r,"internal-error");const{sub:a}=o;return ve(t.uid===a,r,"user-mismatch"),$o._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Sr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t,e,n=!1){if(Un(t.app))return Promise.reject(Rs(t));const r="signIn",s=await kI(t,r,e),i=await $o._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function V3(t,e){return jI(eo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t){const e=eo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F3(t,e,n){const r=eo(t);await Wh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",A3)}async function OI(t,e,n){if(Un(t.app))return Promise.reject(Rs(t));const r=eo(t),o=await Wh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O3).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&DI(t),c}),a=await $o._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function MI(t,e,n){return Un(t.app)?Promise.reject(Rs(t)):V3(Et(t),Pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(t,e){return ds(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Et(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await dl(r,U3(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function $3(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function B3(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function LI(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function VI(t){return Et(t).signOut()}const qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=1e3,W3=10;class UI extends FI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);a3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,W3):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UI.type="LOCAL";const H3=UI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I extends FI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$I.type="SESSION";const BI=$I;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await q3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=y0("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(){return window}function K3(t){es().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof es().WorkerGlobalScope<"u"&&typeof es().importScripts=="function"}async function Q3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function X3(){return zI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="firebaseLocalStorageDb",J3=1,Gh="firebaseLocalStorage",HI="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hf(t,e){return t.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function Z3(){const t=indexedDB.deleteDatabase(WI);return new ju(t).toPromise()}function sy(){const t=indexedDB.open(WI,J3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gh,{keyPath:HI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gh)?e(r):(r.close(),await Z3(),e(await sy()))})})}async function E1(t,e,n){const r=Hf(t,!0).put({[HI]:e,value:n});return new ju(r).toPromise()}async function e6(t,e){const n=Hf(t,!1).get(e),r=await new ju(n).toPromise();return r===void 0?null:r.value}function b1(t,e){const n=Hf(t,!0).delete(e);return new ju(n).toPromise()}const t6=800,n6=3;class qI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>n6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(X3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Q3(),!this.activeServiceWorker)return;this.sender=new G3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await E1(e,qh,"1"),await b1(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>e6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Hf(s,!1).getAll();return new ju(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qI.type="LOCAL";const r6=qI;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t,e){return e?Ns(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends m0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i6(t){return jI(t.auth,new v0(t),t.bypassAuthState)}function o6(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),L3(n,new v0(t),t.bypassAuthState)}async function a6(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),M3(n,new v0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i6;case"linkViaPopup":case"linkViaRedirect":return a6;case"reauthViaPopup":case"reauthViaRedirect":return o6;default:Sr(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=new Pu(2e3,1e4);class Aa extends GI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Aa.currentPopupAction&&Aa.currentPopupAction.cancel(),Aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=y0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l6.get())};e()}}Aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="pendingRedirect",Zd=new Map;class u6 extends GI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zd.get(this.auth._key());if(!e){try{const r=await d6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zd.set(this.auth._key(),e)}return this.bypassAuthState||Zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d6(t,e){const n=p6(e),r=f6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function h6(t,e){Zd.set(t._key(),e)}function f6(t){return Ns(t._redirectPersistence)}function p6(t){return Jd(c6,t.config.apiKey,t.name)}async function m6(t,e,n=!1){if(Un(t.app))return Promise.reject(Rs(t));const r=eo(t),s=s6(r,e),o=await new u6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=10*60*1e3;class y6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g6&&this.cachedEventUids.clear(),this.cachedEventUids.has(T1(e))}saveEventToCache(e){this.cachedEventUids.add(T1(e)),this.lastProcessedEventTime=Date.now()}}function T1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function v6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e={}){return ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_6=/^https?/;async function E6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x6(t);for(const n of e)try{if(b6(n))return}catch{}Sr(t,"unauthorized-domain")}function b6(t){const e=ny(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_6.test(n))return!1;if(w6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new Pu(3e4,6e4);function S1(){const t=es().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S6(t){return new Promise((e,n)=>{var s,i,o;function r(){S1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S1(),n(Zr(t,"network-request-failed"))},timeout:T6.get()})}if((i=(s=es().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=es().gapi)!=null&&o.load)r();else{const a=g3("iframefcb");return es()[a]=()=>{gapi.load?r():n(Zr(t,"network-request-failed"))},CI(`${m3()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw eh=null,e})}let eh=null;function N6(t){return eh=eh||S6(t),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new Pu(5e3,15e3),C6="__/auth/iframe",A6="emulator/auth/iframe",P6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k6(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h0(e,A6):`https://${t.config.authDomain}/${C6}`,r={apiKey:e.apiKey,appName:t.name,v:Al},s=R6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Au(r).slice(1)}`}async function j6(t){const e=await N6(t),n=es().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:k6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Zr(t,"network-request-failed"),a=es().setTimeout(()=>{i(o)},I6.get());function c(){es().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O6=500,M6=600,L6="_blank",V6="http://localhost";class N1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F6(t,e,n,r=O6,s=M6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...D6,width:r.toString(),height:s.toString(),top:i,left:o},d=un().toLowerCase();n&&(a=_I(d)?L6:n),xI(d)&&(e=e||V6,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(o3(d)&&a!=="_self")return U6(e||"",a),new N1(null);const f=window.open(e||"",a,h);ve(f,t,"popup-blocked");try{f.focus()}catch{}return new N1(f)}function U6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="__/auth/handler",B6="emulator/auth/handler",z6=encodeURIComponent("fac");async function I1(t,e,n,r,s,i){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Al,eventId:s};if(e instanceof RI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof ku){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${z6}=${encodeURIComponent(c)}`:"";return`${W6(t)}?${Au(a).slice(1)}${d}`}function W6({config:t}){return t.emulator?h0(t,B6):`https://${t.authDomain}/${$6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="webStorageSupport";class H6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BI,this._completeRedirectFn=m6,this._overrideRedirectResult=h6}async _openPopup(e,n,r,s){var o;Us((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await I1(e,n,r,ny(),s);return F6(e,i,y0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await I1(e,n,r,ny(),s);return K3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Us(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await j6(e),r=new y6(e);return n.register("authEvent",s=>(ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cm,{type:Cm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Cm];i!==void 0&&n(!!i),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NI()||wI()||p0()}}const q6=H6;var C1="@firebase/auth",A1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q6(t){Fo(new Bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:II(t)},d=new h3(r,s,i,c);return E3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fo(new Bi("auth-internal",e=>{const n=eo(e.getProvider("auth").getImmediate());return(r=>new G6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(C1,A1,K6(t)),Jr(C1,A1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=5*60,X6=iI("authIdTokenMaxAge")||Y6;let P1=null;const J6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X6)return;const s=n==null?void 0:n.token;P1!==s&&(P1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Z6(t=u0()){const e=Bf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_3(t,{popupRedirectResolver:q6,persistence:[r6,H3,BI]}),r=iI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=J6(i.toString());B3(n,o,()=>o(n.currentUser)),$3(n,a=>o(a))}}const s=nI("auth");return s&&b3(n,`http://${s}`),n}function eU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}f3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Zr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",eU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q6("Browser");var R1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mi,QI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function C(){}C.prototype=S.prototype,N.D=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(P,O,R){for(var k=Array(arguments.length-2),z=2;z<arguments.length;z++)k[z-2]=arguments[z];return S.prototype[O].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,S,C){C||(C=0);var P=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)P[O]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(O=0;16>O;++O)P[O]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],O=N.g[2];var R=N.g[3],k=S+(R^C&(O^R))+P[0]+3614090360&4294967295;S=C+(k<<7&4294967295|k>>>25),k=R+(O^S&(C^O))+P[1]+3905402710&4294967295,R=S+(k<<12&4294967295|k>>>20),k=O+(C^R&(S^C))+P[2]+606105819&4294967295,O=R+(k<<17&4294967295|k>>>15),k=C+(S^O&(R^S))+P[3]+3250441966&4294967295,C=O+(k<<22&4294967295|k>>>10),k=S+(R^C&(O^R))+P[4]+4118548399&4294967295,S=C+(k<<7&4294967295|k>>>25),k=R+(O^S&(C^O))+P[5]+1200080426&4294967295,R=S+(k<<12&4294967295|k>>>20),k=O+(C^R&(S^C))+P[6]+2821735955&4294967295,O=R+(k<<17&4294967295|k>>>15),k=C+(S^O&(R^S))+P[7]+4249261313&4294967295,C=O+(k<<22&4294967295|k>>>10),k=S+(R^C&(O^R))+P[8]+1770035416&4294967295,S=C+(k<<7&4294967295|k>>>25),k=R+(O^S&(C^O))+P[9]+2336552879&4294967295,R=S+(k<<12&4294967295|k>>>20),k=O+(C^R&(S^C))+P[10]+4294925233&4294967295,O=R+(k<<17&4294967295|k>>>15),k=C+(S^O&(R^S))+P[11]+2304563134&4294967295,C=O+(k<<22&4294967295|k>>>10),k=S+(R^C&(O^R))+P[12]+1804603682&4294967295,S=C+(k<<7&4294967295|k>>>25),k=R+(O^S&(C^O))+P[13]+4254626195&4294967295,R=S+(k<<12&4294967295|k>>>20),k=O+(C^R&(S^C))+P[14]+2792965006&4294967295,O=R+(k<<17&4294967295|k>>>15),k=C+(S^O&(R^S))+P[15]+1236535329&4294967295,C=O+(k<<22&4294967295|k>>>10),k=S+(O^R&(C^O))+P[1]+4129170786&4294967295,S=C+(k<<5&4294967295|k>>>27),k=R+(C^O&(S^C))+P[6]+3225465664&4294967295,R=S+(k<<9&4294967295|k>>>23),k=O+(S^C&(R^S))+P[11]+643717713&4294967295,O=R+(k<<14&4294967295|k>>>18),k=C+(R^S&(O^R))+P[0]+3921069994&4294967295,C=O+(k<<20&4294967295|k>>>12),k=S+(O^R&(C^O))+P[5]+3593408605&4294967295,S=C+(k<<5&4294967295|k>>>27),k=R+(C^O&(S^C))+P[10]+38016083&4294967295,R=S+(k<<9&4294967295|k>>>23),k=O+(S^C&(R^S))+P[15]+3634488961&4294967295,O=R+(k<<14&4294967295|k>>>18),k=C+(R^S&(O^R))+P[4]+3889429448&4294967295,C=O+(k<<20&4294967295|k>>>12),k=S+(O^R&(C^O))+P[9]+568446438&4294967295,S=C+(k<<5&4294967295|k>>>27),k=R+(C^O&(S^C))+P[14]+3275163606&4294967295,R=S+(k<<9&4294967295|k>>>23),k=O+(S^C&(R^S))+P[3]+4107603335&4294967295,O=R+(k<<14&4294967295|k>>>18),k=C+(R^S&(O^R))+P[8]+1163531501&4294967295,C=O+(k<<20&4294967295|k>>>12),k=S+(O^R&(C^O))+P[13]+2850285829&4294967295,S=C+(k<<5&4294967295|k>>>27),k=R+(C^O&(S^C))+P[2]+4243563512&4294967295,R=S+(k<<9&4294967295|k>>>23),k=O+(S^C&(R^S))+P[7]+1735328473&4294967295,O=R+(k<<14&4294967295|k>>>18),k=C+(R^S&(O^R))+P[12]+2368359562&4294967295,C=O+(k<<20&4294967295|k>>>12),k=S+(C^O^R)+P[5]+4294588738&4294967295,S=C+(k<<4&4294967295|k>>>28),k=R+(S^C^O)+P[8]+2272392833&4294967295,R=S+(k<<11&4294967295|k>>>21),k=O+(R^S^C)+P[11]+1839030562&4294967295,O=R+(k<<16&4294967295|k>>>16),k=C+(O^R^S)+P[14]+4259657740&4294967295,C=O+(k<<23&4294967295|k>>>9),k=S+(C^O^R)+P[1]+2763975236&4294967295,S=C+(k<<4&4294967295|k>>>28),k=R+(S^C^O)+P[4]+1272893353&4294967295,R=S+(k<<11&4294967295|k>>>21),k=O+(R^S^C)+P[7]+4139469664&4294967295,O=R+(k<<16&4294967295|k>>>16),k=C+(O^R^S)+P[10]+3200236656&4294967295,C=O+(k<<23&4294967295|k>>>9),k=S+(C^O^R)+P[13]+681279174&4294967295,S=C+(k<<4&4294967295|k>>>28),k=R+(S^C^O)+P[0]+3936430074&4294967295,R=S+(k<<11&4294967295|k>>>21),k=O+(R^S^C)+P[3]+3572445317&4294967295,O=R+(k<<16&4294967295|k>>>16),k=C+(O^R^S)+P[6]+76029189&4294967295,C=O+(k<<23&4294967295|k>>>9),k=S+(C^O^R)+P[9]+3654602809&4294967295,S=C+(k<<4&4294967295|k>>>28),k=R+(S^C^O)+P[12]+3873151461&4294967295,R=S+(k<<11&4294967295|k>>>21),k=O+(R^S^C)+P[15]+530742520&4294967295,O=R+(k<<16&4294967295|k>>>16),k=C+(O^R^S)+P[2]+3299628645&4294967295,C=O+(k<<23&4294967295|k>>>9),k=S+(O^(C|~R))+P[0]+4096336452&4294967295,S=C+(k<<6&4294967295|k>>>26),k=R+(C^(S|~O))+P[7]+1126891415&4294967295,R=S+(k<<10&4294967295|k>>>22),k=O+(S^(R|~C))+P[14]+2878612391&4294967295,O=R+(k<<15&4294967295|k>>>17),k=C+(R^(O|~S))+P[5]+4237533241&4294967295,C=O+(k<<21&4294967295|k>>>11),k=S+(O^(C|~R))+P[12]+1700485571&4294967295,S=C+(k<<6&4294967295|k>>>26),k=R+(C^(S|~O))+P[3]+2399980690&4294967295,R=S+(k<<10&4294967295|k>>>22),k=O+(S^(R|~C))+P[10]+4293915773&4294967295,O=R+(k<<15&4294967295|k>>>17),k=C+(R^(O|~S))+P[1]+2240044497&4294967295,C=O+(k<<21&4294967295|k>>>11),k=S+(O^(C|~R))+P[8]+1873313359&4294967295,S=C+(k<<6&4294967295|k>>>26),k=R+(C^(S|~O))+P[15]+4264355552&4294967295,R=S+(k<<10&4294967295|k>>>22),k=O+(S^(R|~C))+P[6]+2734768916&4294967295,O=R+(k<<15&4294967295|k>>>17),k=C+(R^(O|~S))+P[13]+1309151649&4294967295,C=O+(k<<21&4294967295|k>>>11),k=S+(O^(C|~R))+P[4]+4149444226&4294967295,S=C+(k<<6&4294967295|k>>>26),k=R+(C^(S|~O))+P[11]+3174756917&4294967295,R=S+(k<<10&4294967295|k>>>22),k=O+(S^(R|~C))+P[2]+718787259&4294967295,O=R+(k<<15&4294967295|k>>>17),k=C+(R^(O|~S))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+R&4294967295}r.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var C=S-this.blockSize,P=this.B,O=this.h,R=0;R<S;){if(O==0)for(;R<=C;)s(this,N,R),R+=this.blockSize;if(typeof N=="string"){for(;R<S;)if(P[O++]=N.charCodeAt(R++),O==this.blockSize){s(this,P),O=0;break}}else for(;R<S;)if(P[O++]=N[R++],O==this.blockSize){s(this,P),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var C=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=C&255,C/=256;for(this.u(N),N=Array(16),S=C=0;4>S;++S)for(var P=0;32>P;P+=8)N[C++]=this.g[S]>>>P&255;return N};function i(N,S){var C=a;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function o(N,S){this.h=S;for(var C=[],P=!0,O=N.length-1;0<=O;O--){var R=N[O]|0;P&&R==S||(C[O]=R,P=!1)}this.g=C}var a={};function c(N){return-128<=N&&128>N?i(N,function(S){return new o([S|0],0>S?-1:0)}):new o([N|0],0>N?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return f;if(0>N)return _(d(-N));for(var S=[],C=1,P=0;N>=C;P++)S[P]=N/C|0,C*=4294967296;return new o(S,0)}function h(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return _(h(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(S,8)),P=f,O=0;O<N.length;O+=8){var R=Math.min(8,N.length-O),k=parseInt(N.substring(O,O+R),S);8>R?(R=d(Math.pow(S,R)),P=P.j(R).add(d(k))):(P=P.j(C),P=P.add(d(k)))}return P}var f=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(v(this))return-_(this).m();for(var N=0,S=1,C=0;C<this.g.length;C++){var P=this.i(C);N+=(0<=P?P:4294967296+P)*S,S*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(v(this))return"-"+_(this).toString(N);for(var S=d(Math.pow(N,6)),C=this,P="";;){var O=A(C,S).g;C=E(C,O.j(S));var R=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=O,T(C))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function v(N){return N.h==-1}t.l=function(N){return N=E(this,N),v(N)?-1:T(N)?0:1};function _(N){for(var S=N.g.length,C=[],P=0;P<S;P++)C[P]=~N.g[P];return new o(C,~N.h).add(m)}t.abs=function(){return v(this)?_(this):this},t.add=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],P=0,O=0;O<=S;O++){var R=P+(this.i(O)&65535)+(N.i(O)&65535),k=(R>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);P=k>>>16,R&=65535,k&=65535,C[O]=k<<16|R}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(N,S){return N.add(_(S))}t.j=function(N){if(T(this)||T(N))return f;if(v(this))return v(N)?_(this).j(_(N)):_(_(this).j(N));if(v(N))return _(this.j(_(N)));if(0>this.l(y)&&0>N.l(y))return d(this.m()*N.m());for(var S=this.g.length+N.g.length,C=[],P=0;P<2*S;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<N.g.length;O++){var R=this.i(P)>>>16,k=this.i(P)&65535,z=N.i(O)>>>16,se=N.i(O)&65535;C[2*P+2*O]+=k*se,w(C,2*P+2*O),C[2*P+2*O+1]+=R*se,w(C,2*P+2*O+1),C[2*P+2*O+1]+=k*z,w(C,2*P+2*O+1),C[2*P+2*O+2]+=R*z,w(C,2*P+2*O+2)}for(P=0;P<S;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=S;P<2*S;P++)C[P]=0;return new o(C,0)};function w(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function x(N,S){this.g=N,this.h=S}function A(N,S){if(T(S))throw Error("division by zero");if(T(N))return new x(f,f);if(v(N))return S=A(_(N),S),new x(_(S.g),_(S.h));if(v(S))return S=A(N,_(S)),new x(_(S.g),S.h);if(30<N.g.length){if(v(N)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var C=m,P=S;0>=P.l(N);)C=D(C),P=D(P);var O=M(C,1),R=M(P,1);for(P=M(P,2),C=M(C,2);!T(P);){var k=R.add(P);0>=k.l(N)&&(O=O.add(C),R=k),P=M(P,1),C=M(C,1)}return S=E(N,O.j(S)),new x(O,S)}for(O=f;0<=N.l(S);){for(C=Math.max(1,Math.floor(N.m()/S.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=d(C),k=R.j(S);v(k)||0<k.l(N);)C-=P,R=d(C),k=R.j(S);T(R)&&(R=m),O=O.add(R),N=E(N,k)}return new x(O,N)}t.A=function(N){return A(this,N).h},t.and=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)&N.i(P);return new o(C,this.h&N.h)},t.or=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)|N.i(P);return new o(C,this.h|N.h)},t.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)^N.i(P);return new o(C,this.h^N.h)};function D(N){for(var S=N.g.length+1,C=[],P=0;P<S;P++)C[P]=N.i(P)<<1|N.i(P-1)>>>31;return new o(C,N.h)}function M(N,S){var C=S>>5;S%=32;for(var P=N.g.length-C,O=[],R=0;R<P;R++)O[R]=0<S?N.i(R+C)>>>S|N.i(R+C+1)<<32-S:N.i(R+C);return new o(O,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Mi=o}).apply(typeof R1<"u"?R1:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YI,ac,XI,th,iy,JI,ZI,eC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,b){return u==Array.prototype||u==Object.prototype||(u[g]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var g=0;g<u.length;++g){var b=u[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var b=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var V=u[I];if(!(V in b))break e;b=b[V]}u=u[u.length-1],I=b[u],g=g(I),g!=I&&g!=null&&e(b,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var b=0,I=!1,V={next:function(){if(!I&&b<u.length){var $=b++;return{value:g($,u[$]),done:!1}}return I=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function d(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,b){return u.call.apply(u.bind,arguments)}function f(u,g,b){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,I),u.apply(g,V)}}return function(){return u.apply(g,arguments)}}function m(u,g,b){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(u,g){var b=Array.prototype.slice.call(arguments,1);return function(){var I=b.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function T(u,g){function b(){}b.prototype=g.prototype,u.aa=g.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(I,V,$){for(var te=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)te[Xe-2]=arguments[Xe];return g.prototype[V].apply(I,te)}}function v(u){const g=u.length;if(0<g){const b=Array(g);for(let I=0;I<g;I++)b[I]=u[I];return b}return[]}function _(u,g){for(let b=1;b<arguments.length;b++){const I=arguments[b];if(c(I)){const V=u.length||0,$=I.length||0;u.length=V+$;for(let te=0;te<$;te++)u[V+te]=I[te]}else u.push(I)}}class E{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var D=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(u,g,b){for(const I in u)g.call(b,u[I],I,u)}function N(u,g){for(const b in u)g.call(void 0,u[b],b,u)}function S(u){const g={};for(const b in u)g[b]=u[b];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,g){let b,I;for(let V=1;V<arguments.length;V++){I=arguments[V];for(b in I)u[b]=I[b];for(let $=0;$<C.length;$++)b=C[$],Object.prototype.hasOwnProperty.call(I,b)&&(u[b]=I[b])}}function O(u){var g=1;u=u.split(":");const b=[];for(;0<g&&u.length;)b.push(u.shift()),g--;return u.length&&b.push(u.join(":")),b}function R(u){a.setTimeout(()=>{throw u},0)}function k(){var u=L;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class z{constructor(){this.h=this.g=null}add(g,b){const I=se.get();I.set(g,b),this.h?this.h.next=I:this.g=I,this.h=I}}var se=new E(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,F=!1,L=new z,Y=()=>{const u=a.Promise.resolve(void 0);ie=()=>{u.then(ce)}};var ce=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(b){R(b)}var g=se;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}F=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,g),a.removeEventListener("test",b,g)}catch{}return u}();function Te(u,g){if(ue.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(D){e:{try{A(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else b=="mouseover"?g=u.fromElement:b=="mouseout"&&(g=u.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Te.aa.h.call(this)}}T(Te,ue);var Me={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Se(u,g,b,I,V){this.listener=u,this.proxy=null,this.src=g,this.type=b,this.capture=!!I,this.ha=V,this.key=++Re,this.da=this.fa=!1}function Ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ce(u){this.src=u,this.g={},this.h=0}Ce.prototype.add=function(u,g,b,I,V){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var te=tt(u,g,I,V);return-1<te?(g=u[te],b||(g.fa=!1)):(g=new Se(g,this.src,$,!!I,V),g.fa=b,u.push(g)),g};function ye(u,g){var b=g.type;if(b in u.g){var I=u.g[b],V=Array.prototype.indexOf.call(I,g,void 0),$;($=0<=V)&&Array.prototype.splice.call(I,V,1),$&&(Ee(g),u.g[b].length==0&&(delete u.g[b],u.h--))}}function tt(u,g,b,I){for(var V=0;V<u.length;++V){var $=u[V];if(!$.da&&$.listener==g&&$.capture==!!b&&$.ha==I)return V}return-1}var bt="closure_lm_"+(1e6*Math.random()|0),Dt={};function dn(u,g,b,I,V){if(Array.isArray(g)){for(var $=0;$<g.length;$++)dn(u,g[$],b,I,V);return null}return b=Qs(b),u&&u[K]?u.K(g,b,d(I)?!!I.capture:!!I,V):Ot(u,g,b,!1,I,V)}function Ot(u,g,b,I,V,$){if(!g)throw Error("Invalid event type");var te=d(V)?!!V.capture:!!V,Xe=Kt(u);if(Xe||(u[bt]=Xe=new Ce(u)),b=Xe.add(g,b,I,te,$),b.proxy)return b;if(I=hn(),b.proxy=I,I.src=u,I.listener=b,u.addEventListener)me||(V=te),V===void 0&&(V=!1),u.addEventListener(g.toString(),I,V);else if(u.attachEvent)u.attachEvent(Gt(g.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return b}function hn(){function u(b){return g.call(u.src,u.listener,b)}const g=Ks;return u}function Mt(u,g,b,I,V){if(Array.isArray(g))for(var $=0;$<g.length;$++)Mt(u,g[$],b,I,V);else I=d(I)?!!I.capture:!!I,b=Qs(b),u&&u[K]?(u=u.i,g=String(g).toString(),g in u.g&&($=u.g[g],b=tt($,b,I,V),-1<b&&(Ee($[b]),Array.prototype.splice.call($,b,1),$.length==0&&(delete u.g[g],u.h--)))):u&&(u=Kt(u))&&(g=u.g[g.toString()],u=-1,g&&(u=tt(g,b,I,V)),(b=-1<u?g[u]:null)&&kn(b))}function kn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[K])ye(g.i,u);else{var b=u.type,I=u.proxy;g.removeEventListener?g.removeEventListener(b,I,u.capture):g.detachEvent?g.detachEvent(Gt(b),I):g.addListener&&g.removeListener&&g.removeListener(I),(b=Kt(g))?(ye(b,u),b.h==0&&(b.src=null,g[bt]=null)):Ee(u)}}}function Gt(u){return u in Dt?Dt[u]:Dt[u]="on"+u}function Ks(u,g){if(u.da)u=!0;else{g=new Te(g,this);var b=u.listener,I=u.ha||u.src;u.fa&&kn(u),u=b.call(I,g)}return u}function Kt(u){return u=u[bt],u instanceof Ce?u:null}var jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qs(u){return typeof u=="function"?u:(u[jn]||(u[jn]=function(g){return u.handleEvent(g)}),u[jn])}function Ue(){ne.call(this),this.i=new Ce(this),this.M=this,this.F=null}T(Ue,ne),Ue.prototype[K]=!0,Ue.prototype.removeEventListener=function(u,g,b,I){Mt(this,u,g,b,I)};function Qe(u,g){var b,I=u.F;if(I)for(b=[];I;I=I.F)b.push(I);if(u=u.M,I=g.type||g,typeof g=="string")g=new ue(g,u);else if(g instanceof ue)g.target=g.target||u;else{var V=g;g=new ue(I,u),P(g,V)}if(V=!0,b)for(var $=b.length-1;0<=$;$--){var te=g.g=b[$];V=Qt(te,I,!0,g)&&V}if(te=g.g=u,V=Qt(te,I,!0,g)&&V,V=Qt(te,I,!1,g)&&V,b)for($=0;$<b.length;$++)te=g.g=b[$],V=Qt(te,I,!1,g)&&V}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var b=u.g[g],I=0;I<b.length;I++)Ee(b[I]);delete u.g[g],u.h--}}this.F=null},Ue.prototype.K=function(u,g,b,I){return this.i.add(String(u),g,!1,b,I)},Ue.prototype.L=function(u,g,b,I){return this.i.add(String(u),g,!0,b,I)};function Qt(u,g,b,I){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,$=0;$<g.length;++$){var te=g[$];if(te&&!te.da&&te.capture==b){var Xe=te.listener,Lt=te.ha||te.src;te.fa&&ye(u.i,te),V=Xe.call(Lt,I)!==!1&&V}}return V&&!I.defaultPrevented}function Dn(u,g,b){if(typeof u=="function")b&&(u=m(u,b));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function On(u){u.g=Dn(()=>{u.g=null,u.i&&(u.i=!1,On(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class hs extends ne{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:On(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kn(u){ne.call(this),this.h=u,this.g={}}T(Kn,ne);var _n=[];function fn(u){M(u.g,function(g,b){this.g.hasOwnProperty(b)&&kn(g)},u),u.g={}}Kn.prototype.N=function(){Kn.aa.N.call(this),fn(this)},Kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=a.JSON.stringify,Qn=a.JSON.parse,Ys=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function jr(){}jr.prototype.h=null;function fs(u){return u.h||(u.h=u.i())}function Dr(){}var U={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ae(){ue.call(this,"d")}T(ae,ue);function fe(){ue.call(this,"c")}T(fe,ue);var ge={},j=null;function B(){return j=j||new Ue}ge.La="serverreachability";function G(u){ue.call(this,ge.La,u)}T(G,ue);function J(u){const g=B();Qe(g,new G(g))}ge.STAT_EVENT="statevent";function de(u,g){ue.call(this,ge.STAT_EVENT,u),this.stat=g}T(de,ue);function ke(u){const g=B();Qe(g,new de(g,u))}ge.Ma="timingevent";function $e(u,g){ue.call(this,ge.Ma,u),this.size=g}T($e,ue);function De(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function nt(){this.g=!0}nt.prototype.xa=function(){this.g=!1};function b2(u,g,b,I,V,$){u.info(function(){if(u.g)if($)for(var te="",Xe=$.split("&"),Lt=0;Lt<Xe.length;Lt++){var We=Xe[Lt].split("=");if(1<We.length){var Yt=We[0];We=We[1];var Xt=Yt.split("_");te=2<=Xt.length&&Xt[1]=="type"?te+(Yt+"="+We+"&"):te+(Yt+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+I+") [attempt "+V+"]: "+g+`
`+b+`
`+te})}function T2(u,g,b,I,V,$,te){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+V+"]: "+g+`
`+b+`
`+$+" "+te})}function sa(u,g,b,I){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+N2(u,b)+(I?" "+I:"")})}function S2(u,g){u.info(function(){return"TIMEOUT: "+g})}nt.prototype.info=function(){};function N2(u,g){if(!u.g)return g;if(!g)return null;try{var b=JSON.parse(g);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var I=b[u];if(!(2>I.length)){var V=I[1];if(Array.isArray(V)&&!(1>V.length)){var $=V[0];if($!="noop"&&$!="stop"&&$!="close")for(var te=1;te<V.length;te++)V[te]=""}}}}return or(b)}catch{return g}}var zu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cp;function Wu(){}T(Wu,jr),Wu.prototype.g=function(){return new XMLHttpRequest},Wu.prototype.i=function(){return{}},Cp=new Wu;function Xs(u,g,b,I){this.j=u,this.i=g,this.l=b,this.R=I||1,this.U=new Kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _x}function _x(){this.i=null,this.g="",this.h=!1}var Ex={},Ap={};function Pp(u,g,b){u.L=1,u.v=Ku(ps(g)),u.m=b,u.P=!0,bx(u,null)}function bx(u,g){u.F=Date.now(),Hu(u),u.A=ps(u.v);var b=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Lx(b.i,"t",I),u.C=0,b=u.j.J,u.h=new _x,u.g=tw(u.j,b?g:null,!u.m),0<u.O&&(u.M=new hs(m(u.Y,u,u.g),u.O)),g=u.U,b=u.g,I=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(_n[0]=V.toString()),V=_n);for(var $=0;$<V.length;$++){var te=dn(b,V[$],I||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),J(),b2(u.i,u.u,u.A,u.l,u.R,u.m)}Xs.prototype.ca=function(u){u=u.target;const g=this.M;g&&ms(u)==3?g.j():this.Y(u)},Xs.prototype.Y=function(u){try{if(u==this.g)e:{const Xt=ms(this.g);var g=this.g.Ba();const aa=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||Wx(this.g)))){this.J||Xt!=4||g==7||(g==8||0>=aa?J(3):J(2)),Rp(this);var b=this.g.Z();this.X=b;t:if(Tx(this)){var I=Wx(this.g);u="";var V=I.length,$=ms(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){io(this),Ll(this);var te="";break t}this.h.i=new a.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,u+=this.h.i.decode(I[g],{stream:!($&&g==V-1)});I.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=b==200,T2(this.i,this.u,this.A,this.l,this.R,Xt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Lt=this.g;if((Xe=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Xe)){var We=Xe;break t}}We=null}if(b=We)sa(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kp(this,b);else{this.o=!1,this.s=3,ke(12),io(this),Ll(this);break e}}if(this.P){b=!0;let ar;for(;!this.J&&this.C<te.length;)if(ar=I2(this,te),ar==Ap){Xt==4&&(this.s=4,ke(14),b=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==Ex){this.s=4,ke(15),sa(this.i,this.l,te,"[Invalid Chunk]"),b=!1;break}else sa(this.i,this.l,ar,null),kp(this,ar);if(Tx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||te.length!=0||this.h.h||(this.s=1,ke(16),b=!1),this.o=this.o&&b,!b)sa(this.i,this.l,te,"[Invalid Chunked Response]"),io(this),Ll(this);else if(0<te.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Vp(Yt),Yt.M=!0,ke(11))}}else sa(this.i,this.l,te,null),kp(this,te);Xt==4&&io(this),this.o&&!this.J&&(Xt==4?Xx(this.j,this):(this.o=!1,Hu(this)))}else W2(this.g),b==400&&0<te.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),io(this),Ll(this)}}}catch{}finally{}};function Tx(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function I2(u,g){var b=u.C,I=g.indexOf(`
`,b);return I==-1?Ap:(b=Number(g.substring(b,I)),isNaN(b)?Ex:(I+=1,I+b>g.length?Ap:(g=g.slice(I,I+b),u.C=I+b,g)))}Xs.prototype.cancel=function(){this.J=!0,io(this)};function Hu(u){u.S=Date.now()+u.I,Sx(u,u.I)}function Sx(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=De(m(u.ba,u),g)}function Rp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Xs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(S2(this.i,this.A),this.L!=2&&(J(),ke(17)),io(this),this.s=2,Ll(this)):Sx(this,this.S-u)};function Ll(u){u.j.G==0||u.J||Xx(u.j,u)}function io(u){Rp(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,fn(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function kp(u,g){try{var b=u.j;if(b.G!=0&&(b.g==u||jp(b.h,u))){if(!u.K&&jp(b.h,u)&&b.G==3){try{var I=b.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var V=I;if(V[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)ed(b),Ju(b);else break e;Lp(b),ke(18)}}else b.za=V[1],0<b.za-b.T&&37500>V[2]&&b.F&&b.v==0&&!b.C&&(b.C=De(m(b.Za,b),6e3));if(1>=Cx(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ao(b,11)}else if((u.K||b.g==u)&&ed(b),!w(g))for(V=b.Da.g.parse(g),g=0;g<V.length;g++){let We=V[g];if(b.T=We[0],We=We[1],b.G==2)if(We[0]=="c"){b.K=We[1],b.ia=We[2];const Yt=We[3];Yt!=null&&(b.la=Yt,b.j.info("VER="+b.la));const Xt=We[4];Xt!=null&&(b.Aa=Xt,b.j.info("SVER="+b.Aa));const aa=We[5];aa!=null&&typeof aa=="number"&&0<aa&&(I=1.5*aa,b.L=I,b.j.info("backChannelRequestTimeoutMs_="+I)),I=b;const ar=u.g;if(ar){const nd=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nd){var $=I.h;$.g||nd.indexOf("spdy")==-1&&nd.indexOf("quic")==-1&&nd.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Dp($,$.h),$.h=null))}if(I.D){const Fp=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Fp&&(I.ya=Fp,rt(I.I,I.D,Fp))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),I=b;var te=u;if(I.qa=ew(I,I.J?I.ia:null,I.W),te.K){Ax(I.h,te);var Xe=te,Lt=I.L;Lt&&(Xe.I=Lt),Xe.B&&(Rp(Xe),Hu(Xe)),I.g=te}else Qx(I);0<b.i.length&&Zu(b)}else We[0]!="stop"&&We[0]!="close"||ao(b,7);else b.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?ao(b,7):Mp(b):We[0]!="noop"&&b.l&&b.l.ta(We),b.v=0)}}J(4)}catch{}}var C2=class{constructor(u,g){this.g=u,this.map=g}};function Nx(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ix(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Cx(u){return u.h?1:u.g?u.g.size:0}function jp(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Dp(u,g){u.g?u.g.add(g):u.h=g}function Ax(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Nx.prototype.cancel=function(){if(this.i=Px(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Px(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const b of u.g.values())g=g.concat(b.D);return g}return v(u.i)}function A2(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var g=[],b=u.length,I=0;I<b;I++)g.push(u[I]);return g}g=[],b=0;for(I in u)g[b++]=u[I];return g}function P2(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var g=[];u=u.length;for(var b=0;b<u;b++)g.push(b);return g}g=[],b=0;for(const I in u)g[b++]=I;return g}}}function Rx(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var b=P2(u),I=A2(u),V=I.length,$=0;$<V;$++)g.call(void 0,I[$],b&&b[$],u)}var kx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function R2(u,g){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var I=u[b].indexOf("="),V=null;if(0<=I){var $=u[b].substring(0,I);V=u[b].substring(I+1)}else $=u[b];g($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function oo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof oo){this.h=u.h,qu(this,u.j),this.o=u.o,this.g=u.g,Gu(this,u.s),this.l=u.l;var g=u.i,b=new Ul;b.i=g.i,g.g&&(b.g=new Map(g.g),b.h=g.h),jx(this,b),this.m=u.m}else u&&(g=String(u).match(kx))?(this.h=!1,qu(this,g[1]||"",!0),this.o=Vl(g[2]||""),this.g=Vl(g[3]||"",!0),Gu(this,g[4]),this.l=Vl(g[5]||"",!0),jx(this,g[6]||"",!0),this.m=Vl(g[7]||"")):(this.h=!1,this.i=new Ul(null,this.h))}oo.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Fl(g,Dx,!0),":");var b=this.g;return(b||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Fl(g,Dx,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Fl(b,b.charAt(0)=="/"?D2:j2,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Fl(b,M2)),u.join("")};function ps(u){return new oo(u)}function qu(u,g,b){u.j=b?Vl(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Gu(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function jx(u,g,b){g instanceof Ul?(u.i=g,L2(u.i,u.h)):(b||(g=Fl(g,O2)),u.i=new Ul(g,u.h))}function rt(u,g,b){u.i.set(g,b)}function Ku(u){return rt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Vl(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fl(u,g,b){return typeof u=="string"?(u=encodeURI(u).replace(g,k2),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function k2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Dx=/[#\/\?@]/g,j2=/[#\?:]/g,D2=/[#\?]/g,O2=/[#\?@]/g,M2=/#/g;function Ul(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Js(u){u.g||(u.g=new Map,u.h=0,u.i&&R2(u.i,function(g,b){u.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}t=Ul.prototype,t.add=function(u,g){Js(this),this.i=null,u=ia(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(g),this.h+=1,this};function Ox(u,g){Js(u),g=ia(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Mx(u,g){return Js(u),g=ia(u,g),u.g.has(g)}t.forEach=function(u,g){Js(this),this.g.forEach(function(b,I){b.forEach(function(V){u.call(g,V,I,this)},this)},this)},t.na=function(){Js(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),b=[];for(let I=0;I<g.length;I++){const V=u[I];for(let $=0;$<V.length;$++)b.push(g[I])}return b},t.V=function(u){Js(this);let g=[];if(typeof u=="string")Mx(this,u)&&(g=g.concat(this.g.get(ia(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)g=g.concat(u[b])}return g},t.set=function(u,g){return Js(this),this.i=null,u=ia(this,u),Mx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Lx(u,g,b){Ox(u,g),0<b.length&&(u.i=null,u.g.set(ia(u,g),v(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var b=0;b<g.length;b++){var I=g[b];const $=encodeURIComponent(String(I)),te=this.V(I);for(I=0;I<te.length;I++){var V=$;te[I]!==""&&(V+="="+encodeURIComponent(String(te[I]))),u.push(V)}}return this.i=u.join("&")};function ia(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function L2(u,g){g&&!u.j&&(Js(u),u.i=null,u.g.forEach(function(b,I){var V=I.toLowerCase();I!=V&&(Ox(this,I),Lx(this,V,b))},u)),u.j=g}function V2(u,g){const b=new nt;if(a.Image){const I=new Image;I.onload=y(Zs,b,"TestLoadImage: loaded",!0,g,I),I.onerror=y(Zs,b,"TestLoadImage: error",!1,g,I),I.onabort=y(Zs,b,"TestLoadImage: abort",!1,g,I),I.ontimeout=y(Zs,b,"TestLoadImage: timeout",!1,g,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else g(!1)}function F2(u,g){const b=new nt,I=new AbortController,V=setTimeout(()=>{I.abort(),Zs(b,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:I.signal}).then($=>{clearTimeout(V),$.ok?Zs(b,"TestPingServer: ok",!0,g):Zs(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Zs(b,"TestPingServer: error",!1,g)})}function Zs(u,g,b,I,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),I(b)}catch{}}function U2(){this.g=new Ys}function $2(u,g,b){const I=b||"";try{Rx(u,function(V,$){let te=V;d(V)&&(te=or(V)),g.push(I+$+"="+encodeURIComponent(te))})}catch(V){throw g.push(I+"type="+encodeURIComponent("_badmap")),V}}function Qu(u){this.l=u.Ub||null,this.j=u.eb||!1}T(Qu,jr),Qu.prototype.g=function(){return new Yu(this.l,this.j)},Qu.prototype.i=function(u){return function(){return u}}({});function Yu(u,g){Ue.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Yu,Ue),t=Yu.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Bl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$l(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bl(this)),this.g&&(this.readyState=3,Bl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vx(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vx(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?$l(this):Bl(this),this.readyState==3&&Vx(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,$l(this))},t.Qa=function(u){this.g&&(this.response=u,$l(this))},t.ga=function(){this.g&&$l(this)};function $l(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Bl(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=g.next();return u.join(`\r
`)};function Bl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fx(u){let g="";return M(u,function(b,I){g+=I,g+=":",g+=b,g+=`\r
`}),g}function Op(u,g,b){e:{for(I in b){var I=!1;break e}I=!0}I||(b=Fx(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):rt(u,g,b))}function pt(u){Ue.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(pt,Ue);var B2=/^https?$/i,z2=["POST","PUT"];t=pt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,b,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cp.g(),this.v=this.o?fs(this.o):fs(Cp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch($){Ux(this,$);return}if(u=b||"",b=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var V in I)b.set(V,I[V]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const $ of I.keys())b.set($,I.get($));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(z2,g,void 0))||I||V||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of b)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zx(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Ux(this,$)}};function Ux(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,$x(u),Xu(u)}function $x(u){u.A||(u.A=!0,Qe(u,"complete"),Qe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qe(this,"complete"),Qe(this,"abort"),Xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xu(this,!0)),pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bx(this):this.bb())},t.bb=function(){Bx(this)};function Bx(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ms(u)!=4||u.Z()!=2)){if(u.u&&ms(u)==4)Dn(u.Ea,0,u);else if(Qe(u,"readystatechange"),ms(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var I;if(I=te===0){var V=String(u.D).match(kx)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),I=!B2.test(V?V.toLowerCase():"")}b=I}if(b)Qe(u,"complete"),Qe(u,"success");else{u.m=6;try{var $=2<ms(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",$x(u)}}finally{Xu(u)}}}}function Xu(u,g){if(u.g){zx(u);const b=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Qe(u,"ready");try{b.onreadystatechange=I}catch{}}}function zx(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ms(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ms(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Qn(g)}};function Wx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function W2(u){const g={};u=(u.g&&2<=ms(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(w(u[I]))continue;var b=O(u[I]);const V=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=g[V]||[];g[V]=$,$.push(b)}N(g,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zl(u,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||g}function Hx(u){this.Aa=0,this.i=[],this.j=new nt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zl("baseRetryDelayMs",5e3,u),this.cb=zl("retryDelaySeedMs",1e4,u),this.Wa=zl("forwardChannelMaxRetries",2,u),this.wa=zl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Nx(u&&u.concurrentRequestLimit),this.Da=new U2,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hx.prototype,t.la=8,t.G=1,t.connect=function(u,g,b,I){ke(0),this.W=u,this.H=g||{},b&&I!==void 0&&(this.H.OSID=b,this.H.OAID=I),this.F=this.X,this.I=ew(this,null,this.W),Zu(this)};function Mp(u){if(qx(u),u.G==3){var g=u.U++,b=ps(u.I);if(rt(b,"SID",u.K),rt(b,"RID",g),rt(b,"TYPE","terminate"),Wl(u,b),g=new Xs(u,u.j,g),g.L=2,g.v=Ku(ps(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=g.v,b=!0),b||(g.g=tw(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Hu(g)}Zx(u)}function Ju(u){u.g&&(Vp(u),u.g.cancel(),u.g=null)}function qx(u){Ju(u),u.u&&(a.clearTimeout(u.u),u.u=null),ed(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Zu(u){if(!Ix(u.h)&&!u.s){u.s=!0;var g=u.Ga;ie||Y(),F||(ie(),F=!0),L.add(g,u),u.B=0}}function H2(u,g){return Cx(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=De(m(u.Ga,u,g),Jx(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Xs(this,this.j,u);let $=this.o;if(this.S&&($?($=S($),P($,this.S)):$=this.S),this.m!==null||this.O||(V.H=$,$=null),this.P)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var I=this.i[b];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Kx(this,V,g),b=ps(this.I),rt(b,"RID",u),rt(b,"CVER",22),this.D&&rt(b,"X-HTTP-Session-Id",this.D),Wl(this,b),$&&(this.O?g="headers="+encodeURIComponent(String(Fx($)))+"&"+g:this.m&&Op(b,this.m,$)),Dp(this.h,V),this.Ua&&rt(b,"TYPE","init"),this.P?(rt(b,"$req",g),rt(b,"SID","null"),V.T=!0,Pp(V,b,null)):Pp(V,b,g),this.G=2}}else this.G==3&&(u?Gx(this,u):this.i.length==0||Ix(this.h)||Gx(this))};function Gx(u,g){var b;g?b=g.l:b=u.U++;const I=ps(u.I);rt(I,"SID",u.K),rt(I,"RID",b),rt(I,"AID",u.T),Wl(u,I),u.m&&u.o&&Op(I,u.m,u.o),b=new Xs(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Kx(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Dp(u.h,b),Pp(b,I,g)}function Wl(u,g){u.H&&M(u.H,function(b,I){rt(g,I,b)}),u.l&&Rx({},function(b,I){rt(g,I,b)})}function Kx(u,g,b){b=Math.min(u.i.length,b);var I=u.l?m(u.l.Na,u.l,u):null;e:{var V=u.i;let $=-1;for(;;){const te=["count="+b];$==-1?0<b?($=V[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let Xe=!0;for(let Lt=0;Lt<b;Lt++){let We=V[Lt].g;const Yt=V[Lt].map;if(We-=$,0>We)$=Math.max(0,V[Lt].g-100),Xe=!1;else try{$2(Yt,te,"req"+We+"_")}catch{I&&I(Yt)}}if(Xe){I=te.join("&");break e}}}return u=u.i.splice(0,b),g.D=u,I}function Qx(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ie||Y(),F||(ie(),F=!0),L.add(g,u),u.v=0}}function Lp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=De(m(u.Fa,u),Jx(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Yx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=De(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Ju(this),Yx(this))};function Vp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Yx(u){u.g=new Xs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=ps(u.qa);rt(g,"RID","rpc"),rt(g,"SID",u.K),rt(g,"AID",u.T),rt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&rt(g,"TO",u.ja),rt(g,"TYPE","xmlhttp"),Wl(u,g),u.m&&u.o&&Op(g,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=Ku(ps(g)),b.m=null,b.P=!0,bx(b,u)}t.Za=function(){this.C!=null&&(this.C=null,Ju(this),Lp(this),ke(19))};function ed(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Xx(u,g){var b=null;if(u.g==g){ed(u),Vp(u),u.g=null;var I=2}else if(jp(u.h,g))b=g.D,Ax(u.h,g),I=1;else return;if(u.G!=0){if(g.o)if(I==1){b=g.m?g.m.length:0,g=Date.now()-g.F;var V=u.B;I=B(),Qe(I,new $e(I,b)),Zu(u)}else Qx(u);else if(V=g.s,V==3||V==0&&0<g.X||!(I==1&&H2(u,g)||I==2&&Lp(u)))switch(b&&0<b.length&&(g=u.h,g.i=g.i.concat(b)),V){case 1:ao(u,5);break;case 4:ao(u,10);break;case 3:ao(u,6);break;default:ao(u,2)}}}function Jx(u,g){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*g}function ao(u,g){if(u.j.info("Error code "+g),g==2){var b=m(u.fb,u),I=u.Xa;const V=!I;I=new oo(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qu(I,"https"),Ku(I),V?V2(I.toString(),b):F2(I.toString(),b)}else ke(2);u.G=0,u.l&&u.l.sa(g),Zx(u),qx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function Zx(u){if(u.G=0,u.ka=[],u.l){const g=Px(u.h);(g.length!=0||u.i.length!=0)&&(_(u.ka,g),_(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function ew(u,g,b){var I=b instanceof oo?ps(b):new oo(b);if(I.g!="")g&&(I.g=g+"."+I.g),Gu(I,I.s);else{var V=a.location;I=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var $=new oo(null);I&&qu($,I),g&&($.g=g),V&&Gu($,V),b&&($.l=b),I=$}return b=u.D,g=u.ya,b&&g&&rt(I,b,g),rt(I,"VER",u.la),Wl(u,I),I}function tw(u,g,b){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new pt(new Qu({eb:b})):new pt(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nw(){}t=nw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function td(){}td.prototype.g=function(u,g){return new Mn(u,g)};function Mn(u,g){Ue.call(this),this.g=new Hx(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!w(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new oa(this)}T(Mn,Ue),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Mp(this.g)},Mn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=or(u),u=b);g.i.push(new C2(g.Ya++,u)),g.G==3&&Zu(g)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Mp(this.g),delete this.g,Mn.aa.N.call(this)};function rw(u){ae.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const b in g){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}T(rw,ae);function sw(){fe.call(this),this.status=1}T(sw,fe);function oa(u){this.g=u}T(oa,nw),oa.prototype.ua=function(){Qe(this.g,"a")},oa.prototype.ta=function(u){Qe(this.g,new rw(u))},oa.prototype.sa=function(u){Qe(this.g,new sw)},oa.prototype.ra=function(){Qe(this.g,"b")},td.prototype.createWebChannel=td.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,eC=function(){return new td},ZI=function(){return B()},JI=ge,iy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zu.NO_ERROR=0,zu.TIMEOUT=8,zu.HTTP_ERROR=6,th=zu,wx.COMPLETE="complete",XI=wx,Dr.EventType=U,U.OPEN="a",U.CLOSE="b",U.ERROR="c",U.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,ac=Dr,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,YI=pt}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});const k1="@firebase/firestore",j1="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new l0("@firebase/firestore");function ha(){return Bo.logLevel}function le(t,...e){if(Bo.logLevel<=Le.DEBUG){const n=e.map(x0);Bo.debug(`Firestore (${Rl}): ${t}`,...n)}}function $s(t,...e){if(Bo.logLevel<=Le.ERROR){const n=e.map(x0);Bo.error(`Firestore (${Rl}): ${t}`,...n)}}function hl(t,...e){if(Bo.logLevel<=Le.WARN){const n=e.map(x0);Bo.warn(`Firestore (${Rl}): ${t}`,...n)}}function x0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tC(t,r,n)}function tC(t,e,n){let r=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $s(r),new Error(r)}function Ke(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||tC(e,s,r)}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class nU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rU{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ks,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ks)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new nC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class sU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new D1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new D1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=aU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function oy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Am(s)===Am(i)?Ve(s,i):Am(s)?1:-1}return Ve(t.length,e.length)}const lU=55296,cU=57343;function Am(t){const e=t.charCodeAt(0);return e>=lU&&e<=cU}function fl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="__name__";class Lr{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Lr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ve(e.length,n.length)}static compareSegments(e,n){const r=Lr.isNumericId(e),s=Lr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Lr.extractNumericId(e).compare(Lr.extractNumericId(n)):oy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mi.fromString(e.substring(4,e.length-2))}}class Ze extends Lr{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const uU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Lr{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return uU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O1}static keyField(){return new Ut([O1])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ze.fromString(e))}static fromName(e){return new pe(Ze.fromString(e).popFirst(5))}static empty(){return new pe(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dU(t,e,n,r){if(e===!0&&r===!0)throw new oe(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M1(t){if(!pe.isDocumentKey(t))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L1(t){if(pe.isDocumentKey(t))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qf(t);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t,e){const n={typeString:t};return e&&(n.value=e),n}function Du(t,e){if(!sC(t))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new oe(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=-62135596800,F1=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*F1);return new Je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V1)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F1}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Du(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:It("string",Je._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Je(0,0))}static max(){return new be(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function hU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=be.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new zi(s,pe.empty(),e)}function fU(t){return new zi(t.readTime,t.key,iu)}class zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zi(be.min(),pe.empty(),iu)}static max(){return new zi(be.max(),pe.empty(),iu)}}function pU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==mU)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function yU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=-1;function Kf(t){return t==null}function Kh(t){return t===0&&1/t==-1/0}function vU(t){return typeof t=="number"&&Number.isInteger(t)&&!Kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="";function xU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=U1(e)),e=wU(t.get(n),e);return U1(e)}function wU(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case iC:n+="";break;default:n+=i}}return n}function U1(t){return t+iC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cd(this.root,e,this.comparator,!0)}}class Cd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=s??Ft.EMPTY,this.right=i??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ft(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B1(this.data.getIterator())}getIteratorFrom(e){return new B1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class B1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Pt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aC("Invalid base64 string: "+i):i}}(e);return new qt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const _U=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=_U.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hi(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="server_timestamp",cC="__type__",uC="__previous_value__",dC="__local_write_time__";function E0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cC])==null?void 0:r.stringValue)===lC}function Qf(t){const e=t.mapValue.fields[uC];return E0(e)?Qf(e):e}function ou(t){const e=Wi(t.mapValue.fields[dC].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n,r,s,i,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Qh="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||Qh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="__type__",fC="__max__",Ad={mapValue:{fields:{__type__:{stringValue:fC}}}},pC="__vector__",Yh="value";function qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?E0(t)?4:TU(t)?9007199254740991:bU(t)?10:11:xe(28295,{value:t})}function os(t,e){if(t===e)return!0;const n=qi(t);if(n!==qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ou(t).isEqual(ou(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Wi(s.timestampValue),a=Wi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Hi(s.bytesValue).isEqual(Hi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return yt(s.geoPointValue.latitude)===yt(i.geoPointValue.latitude)&&yt(s.geoPointValue.longitude)===yt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return yt(s.integerValue)===yt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=yt(s.doubleValue),a=yt(i.doubleValue);return o===a?Kh(o)===Kh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],os);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if($1(o)!==$1(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!os(o[c],a[c])))return!1;return!0}(t,e);default:return xe(52216,{left:t})}}function lu(t,e){return(t.values||[]).find(n=>os(n,e))!==void 0}function pl(t,e){if(t===e)return 0;const n=qi(t),r=qi(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=yt(i.integerValue||i.doubleValue),c=yt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return z1(t.timestampValue,e.timestampValue);case 4:return z1(ou(t),ou(e));case 5:return oy(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Hi(i),c=Hi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Ve(a[d],c[d]);if(h!==0)return h}return Ve(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ve(yt(i.latitude),yt(o.latitude));return a!==0?a:Ve(yt(i.longitude),yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return W1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,y,T,v;const a=i.fields||{},c=o.fields||{},d=(m=a[Yh])==null?void 0:m.arrayValue,h=(y=c[Yh])==null?void 0:y.arrayValue,f=Ve(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return f!==0?f:W1(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ad.mapValue&&o===Ad.mapValue)return 0;if(i===Ad.mapValue)return 1;if(o===Ad.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=oy(c[f],h[f]);if(m!==0)return m;const y=pl(a[c[f]],d[h[f]]);if(y!==0)return y}return Ve(c.length,h.length)}(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function z1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Wi(t),r=Wi(e),s=Ve(n.seconds,r.seconds);return s!==0?s:Ve(n.nanos,r.nanos)}function W1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=pl(n[s],r[s]);if(i)return i}return Ve(n.length,r.length)}function ml(t){return ay(t)}function ay(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ay(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${ay(n.fields[o])}`;return s+"}"}(t.mapValue):xe(61005,{value:t})}function nh(t){switch(qi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qf(t);return e?16+nh(e):16;case 5:return 2*t.stringValue.length;case 6:return Hi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+nh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return to(r.fields,(i,o)=>{s+=i.length+nh(o)}),s}(t.mapValue);default:throw xe(13486,{value:t})}}function H1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ly(t){return!!t&&"integerValue"in t}function b0(t){return!!t&&"arrayValue"in t}function q1(t){return!!t&&"nullValue"in t}function G1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rh(t){return!!t&&"mapValue"in t}function bU(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hC])==null?void 0:r.stringValue)===pC}function Nc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nc(t.arrayValue.values[n]);return e}return{...t}}function TU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(n)}setAll(e){let n=Ut.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Nc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];rh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){to(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Nn(Nc(this.value))}}function mC(t){const e=[];return to(t.fields,(n,r)=>{const s=new Ut([n]);if(rh(r)){const i=mC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new an(e,0,be.min(),be.min(),be.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,s){return new an(e,1,n,be.min(),r,s,0)}static newNoDocument(e,n){return new an(e,2,n,be.min(),be.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,be.min(),be.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.position=e,this.inclusive=n}}function K1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=pl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Q1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!os(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function SU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{}class Nt extends gC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IU(e,n,r):n==="array-contains"?new PU(e,r):n==="in"?new RU(e,r):n==="not-in"?new kU(e,r):n==="array-contains-any"?new jU(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CU(e,r):new AU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pl(n,this.value)):n!==null&&qi(this.value)===qi(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends gC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ir(e,n)}matches(e){return yC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yC(t){return t.op==="and"}function vC(t){return NU(t)&&yC(t)}function NU(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function cy(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+ml(t.value);if(vC(t))return t.filters.map(e=>cy(e)).join(",");{const e=t.filters.map(n=>cy(n)).join(",");return`${t.op}(${e})`}}function xC(t,e){return t instanceof Nt?function(r,s){return s instanceof Nt&&r.op===s.op&&r.field.isEqual(s.field)&&os(r.value,s.value)}(t,e):t instanceof Ir?function(r,s){return s instanceof Ir&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&xC(o,s.filters[a]),!0):!1}(t,e):void xe(19439)}function wC(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`}(t):t instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map(wC).join(" ,")+"}"}(t):"Filter"}class IU extends Nt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class CU extends Nt{constructor(e,n){super(e,"in",n),this.keys=_C("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AU extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=_C("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _C(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class PU extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b0(n)&&lu(n.arrayValue,this.value)}}class RU extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class kU extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class jU extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Y1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new DU(t,e,n,r,s,i,o)}function T0(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Kf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ml(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ml(r)).join(",")),e.Te=n}return e.Te}function S0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q1(t.startAt,e.startAt)&&Q1(t.endAt,e.endAt)}function uy(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OU(t,e,n,r,s,i,o,a){return new Dl(t,e,n,r,s,i,o,a)}function N0(t){return new Dl(t)}function X1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EC(t){return t.collectionGroup!==null}function Ic(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pt(Ut.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new cu(i,r))}),n.has(Ut.keyField().canonicalString())||e.Ie.push(new cu(Ut.keyField(),r))}return e.Ie}function ts(t){const e=Ie(t);return e.Ee||(e.Ee=MU(e,Ic(t))),e.Ee}function MU(t,e){if(t.limitType==="F")return Y1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new cu(s.field,i)});const n=t.endAt?new Xh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xh(t.startAt.position,t.startAt.inclusive):null;return Y1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dy(t,e){const n=t.filters.concat([e]);return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hy(t,e,n){return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yf(t,e){return S0(ts(t),ts(e))&&t.limitType===e.limitType}function bC(t){return`${T0(ts(t))}|lt:${t.limitType}`}function fa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>wC(s)).join(", ")}]`),Kf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ml(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ml(s)).join(",")),`Target(${r})`}(ts(t))}; limitType=${t.limitType})`}function Xf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):pe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ic(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=K1(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,Ic(r),s)||r.endAt&&!function(o,a,c){const d=K1(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,Ic(r),s))}(t,e)}function LU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TC(t){return(e,n)=>{let r=!1;for(const s of Ic(t)){const i=VU(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function VU(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?pl(c,d):xe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return oC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new ft(pe.comparator);function Bs(){return FU}const SC=new ft(pe.comparator);function lc(...t){let e=SC;for(const n of t)e=e.insert(n.key,n);return e}function NC(t){let e=SC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function go(){return Cc()}function IC(){return Cc()}function Cc(){return new Jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const UU=new ft(pe.comparator),$U=new Pt(pe.comparator);function Fe(...t){let e=$U;for(const n of t)e=e.add(n);return e}const BU=new Pt(Ve);function zU(){return BU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function CC(t){return{integerValue:""+t}}function WU(t,e){return vU(e)?CC(e):I0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this._=void 0}}function HU(t,e,n){return t instanceof uu?function(s,i){const o={fields:{[cC]:{stringValue:lC},[dC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&E0(i)&&(i=Qf(i)),i&&(o.fields[uC]=i),{mapValue:o}}(n,e):t instanceof du?PC(t,e):t instanceof hu?RC(t,e):function(s,i){const o=AC(s,i),a=J1(o)+J1(s.Ae);return ly(o)&&ly(s.Ae)?CC(a):I0(s.serializer,a)}(t,e)}function qU(t,e,n){return t instanceof du?PC(t,e):t instanceof hu?RC(t,e):n}function AC(t,e){return t instanceof Jh?function(r){return ly(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class uu extends Jf{}class du extends Jf{constructor(e){super(),this.elements=e}}function PC(t,e){const n=kC(e);for(const r of t.elements)n.some(s=>os(s,r))||n.push(r);return{arrayValue:{values:n}}}class hu extends Jf{constructor(e){super(),this.elements=e}}function RC(t,e){let n=kC(e);for(const r of t.elements)n=n.filter(s=>!os(s,r));return{arrayValue:{values:n}}}class Jh extends Jf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function J1(t){return yt(t.integerValue||t.doubleValue)}function kC(t){return b0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n){this.field=e,this.transform=n}}function KU(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof du&&s instanceof du||r instanceof hu&&s instanceof hu?fl(r.elements,s.elements,os):r instanceof Jh&&s instanceof Jh?os(r.Ae,s.Ae):r instanceof uu&&s instanceof uu}(t.transform,e.transform)}class QU{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zf{}function jC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new C0(t.key,nr.none()):new Ou(t.key,t.data,nr.none());{const n=t.data,r=Nn.empty();let s=new Pt(Ut.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new no(t.key,r,new Bn(s.toArray()),nr.none())}}function YU(t,e,n){t instanceof Ou?function(s,i,o){const a=s.value.clone(),c=eE(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof no?function(s,i,o){if(!sh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=eE(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(DC(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ac(t,e,n,r){return t instanceof Ou?function(i,o,a,c){if(!sh(i.precondition,o))return a;const d=i.value.clone(),h=tE(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof no?function(i,o,a,c){if(!sh(i.precondition,o))return a;const d=tE(i.fieldTransforms,c,o),h=o.data;return h.setAll(DC(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return sh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function XU(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=AC(r.transform,s||null);i!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,i))}return n||null}function Z1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&fl(r,s,(i,o)=>KU(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends Zf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class no extends Zf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function DC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eE(t,e,n){const r=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,qU(o,a,n[s]))}return r}function tE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,HU(i,o,e))}return r}class C0 extends Zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JU extends Zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&YU(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=jC(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(n,r)=>Z1(n,r))&&fl(this.baseMutations,e.baseMutations,(n,r)=>Z1(n,r))}}class A0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return UU}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new A0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e$=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Be;function n$(t){switch(t){case W.OK:return xe(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function OC(t){if(t===void 0)return $s("GRPC error has no .code"),W.UNKNOWN;switch(t){case Tt.OK:return W.OK;case Tt.CANCELLED:return W.CANCELLED;case Tt.UNKNOWN:return W.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return W.INTERNAL;case Tt.UNAVAILABLE:return W.UNAVAILABLE;case Tt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Tt.NOT_FOUND:return W.NOT_FOUND;case Tt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Tt.ABORTED:return W.ABORTED;case Tt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Tt.DATA_LOSS:return W.DATA_LOSS;default:return xe(39323,{code:t})}}(Be=Tt||(Tt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=new Mi([4294967295,4294967295],0);function nE(t){const e=r$().encode(t),n=new QI;return n.update(e),new Uint8Array(n.digest())}function rE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Mi([n,r],0),new Mi([s,i],0)]}class P0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cc(`Invalid padding: ${n}`);if(r<0)throw new cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Mi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Mi.fromNumber(r)));return s.compare(s$)===1&&(s=new Mi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nE(e),[r,s]=rE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new P0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=nE(e),[r,s]=rE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ep(be.min(),s,new ft(Ve),Bs(),Fe())}}class Mu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mu(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class MC{constructor(e,n){this.targetId=e,this.Ce=n}}class LC{constructor(e,n,r=qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class sE{constructor(){this.ve=0,this.Fe=iE(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),r=Fe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe(38017,{changeType:i})}}),new Mu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=iE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i${constructor(e){this.Ge=e,this.ze=new Map,this.je=Bs(),this.Je=Pd(),this.He=Pd(),this.Ye=new ft(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(uy(i))if(r===0){const o=new pe(i.path);this.et(n,o,an.newNoDocument(o,be.min()))}else Ke(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Hi(r).toUint8Array()}catch(c){if(c instanceof aC)return hl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new P0(o,s,i)}catch(c){return hl(c instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&uy(a.target)){const c=new pe(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,an.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Fe();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new ep(e,n,this.Ye,this.je,r);return this.je=Bs(),this.Je=Pd(),this.He=Pd(),this.Ye=new ft(Ve),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new sE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pd(){return new ft(pe.comparator)}function iE(){return new ft(pe.comparator)}const o$={asc:"ASCENDING",desc:"DESCENDING"},a$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l$={and:"AND",or:"OR"};class c${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fy(t,e){return t.useProto3Json||Kf(e)?e:{value:e}}function Zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u$(t,e){return Zh(t,e.toTimestamp())}function ns(t){return Ke(!!t,49232),be.fromTimestamp(function(n){const r=Wi(n);return new Je(r.seconds,r.nanos)}(t))}function R0(t,e){return py(t,e).canonicalString()}function py(t,e){const n=function(s){return new Ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FC(t){const e=Ze.fromString(t);return Ke(WC(e),10190,{key:e.toString()}),e}function my(t,e){return R0(t.databaseId,e.path)}function Pm(t,e){const n=FC(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe($C(n))}function UC(t,e){return R0(t.databaseId,e)}function d$(t){const e=FC(t);return e.length===4?Ze.emptyPath():$C(e)}function gy(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $C(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function oE(t,e,n){return{name:my(t,e),fields:n.value.mapValue.fields}}function h$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:xe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ke(h===void 0||typeof h=="string",58123),qt.fromBase64String(h||"")):(Ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),qt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?W.UNKNOWN:OC(d.code);return new oe(h,d.message||"")}(o);n=new LC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Pm(t,r.document.name),i=ns(r.document.updateTime),o=r.document.createTime?ns(r.document.createTime):be.min(),a=new Nn({mapValue:{fields:r.document.fields}}),c=an.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new ih(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Pm(t,r.document),i=r.readTime?ns(r.readTime):be.min(),o=an.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ih([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Pm(t,r.document),i=r.removedTargetIds||[];n=new ih([],i,s,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new t$(s,i),a=r.targetId;n=new MC(a,o)}}return n}function f$(t,e){let n;if(e instanceof Ou)n={update:oE(t,e.key,e.value)};else if(e instanceof C0)n={delete:my(t,e.key)};else if(e instanceof no)n={update:oE(t,e.key,e.data),updateMask:E$(e.fieldMask)};else{if(!(e instanceof JU))return xe(16599,{Vt:e.type});n={verify:my(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof uu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof du)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw xe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:u$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:xe(27497)}(t,e.precondition)),n}function p$(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ns(s.updateTime):ns(i);return o.isEqual(be.min())&&(o=ns(i)),new QU(o,s.transformResults||[])}(n,e))):[]}function m$(t,e){return{documents:[UC(t,e.path)]}}function g$(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UC(t,s);const i=function(d){if(d.length!==0)return zC(Ir.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:pa(m.field),direction:x$(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=fy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function y$(t){let e=d$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ke(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=BC(f);return m instanceof Ir&&vC(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(T){return new cu(ma(T.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Kf(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,y=f.values||[];return new Xh(y,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,y=f.values||[];return new Xh(y,m)}(n.endAt)),OU(e,s,o,i,a,"F",c,d)}function v$(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ma(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ma(n.unaryFilter.field);return Nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ma(n.unaryFilter.field);return Nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ma(n.unaryFilter.field);return Nt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(ma(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(r=>BC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(n.compositeFilter.op))}(t):xe(30097,{filter:t})}function x$(t){return o$[t]}function w$(t){return a$[t]}function _$(t){return l$[t]}function pa(t){return{fieldPath:t.canonicalString()}}function ma(t){return Ut.fromServerFormat(t.fieldPath)}function zC(t){return t instanceof Nt?function(n){if(n.op==="=="){if(G1(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NAN"}};if(q1(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G1(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NAN"}};if(q1(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(n.field),op:w$(n.op),value:n.value}}}(t):t instanceof Ir?function(n){const r=n.getFilters().map(s=>zC(s));return r.length===1?r[0]:{compositeFilter:{op:_$(n.op),filters:r}}}(t):xe(54877,{filter:t})}function E$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r,s,i=be.min(),o=be.min(),a=qt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e){this.yt=e}}function T$(t){const e=y$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(){this.Cn=new N$}addToCollectionParentIndex(e,n){return this.Cn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(zi.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class N${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Pt(Ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Pt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HC=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(HC,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="LruGarbageCollector",I$=1048576;function cE([t,e],[n,r]){const s=Ve(t,n);return s===0?Ve(e,r):s}class C${constructor(e){this.Ir=e,this.buffer=new Pt(cE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(lE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jl(n)?le(lE,"Ignoring IndexedDB error during garbage collection: ",n):await kl(n)}await this.Vr(3e5)})}}class P${constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return q.resolve(Gf.ce);const r=new C$(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(aE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),ha()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function R$(t,e){return new P$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(){this.changes=new Jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ac(r.mutation,s,Bn.empty(),Je.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Fe()){const s=go();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=lc();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=go();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Fe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Bs();const o=Cc(),a=function(){return Cc()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof no)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Ac(h.mutation,d,h.mutation.getFieldMask(),Je.now())):o.set(d.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new j$(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Cc();let s=new ft((o,a)=>o-a),i=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Bn.empty();h=a.applyToLocalView(d,h),r.set(c,h);const f=(s.get(a.batchId)||Fe()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=IC();h.forEach(m=>{if(!i.has(m)){const y=jC(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(go());let a=iu,c=i;return o.next(d=>q.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Fe())).next(h=>({batchId:a,changes:NC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let s=lc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=lc();return this.indexManager.getCollectionParents(e,i).next(a=>q.forEach(a,c=>{const d=function(f,m){return new Dl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,an.newInvalidDocument(h)))});let a=lc();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Ac(h.mutation,d,Bn.empty(),Je.now()),Xf(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ns(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:T$(s.bundledQuery),readTime:ns(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(){this.overlays=new ft(pe.comparator),this.qr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=go();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=go(),i=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ft((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=go(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=go(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return q.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new e$(n,r));let i=this.qr.get(n);i===void 0&&(i=Fe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.Qr=new Pt(Rt.$r),this.Ur=new Pt(Rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Rt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new pe(new Ze([])),r=new Rt(n,e),s=new Rt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new Ze([])),r=new Rt(n,e),s=new Rt(n,e+1);let i=Fe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Rt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Rt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZU(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Rt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?_0:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),s=new Rt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Ve);return n.forEach(s=>{const i=new Rt(s,0),o=new Rt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;pe.isDocumentKey(i)||(i=i.child(""));const o=new Rt(new pe(i),0);let a=new Pt(Ve);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Yr)),!0)},o),q.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return q.forEach(n.mutations,s=>{const i=new Rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Rt(n,0),s=this.Zr.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.ri=e,this.docs=function(){return new ft(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():an.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Bs();const o=n.path,a=new pe(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||pU(fU(h),r)<=0||(s.has(h.key)||Xf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){xe(9500)}ii(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new U$(this)}getSize(e){return q.resolve(this.size)}}class U$ extends k${constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.persistence=e,this.si=new Jo(n=>T0(n),S0),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new k0,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Pr(n),q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gf(0),this.li=!1,this.li=!0,this.hi=new L$,this.referenceDelegate=e(this),this.Pi=new $$(this),this.indexManager=new S$,this.remoteDocumentCache=function(s){return new F$(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new b$(n),this.Ii=new O$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new V$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new B$(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return q.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class B$ extends gU{constructor(e){super(),this.currentSequenceNumber=e}}class j0{constructor(e){this.persistence=e,this.Ri=new k0,this.Vi=null}static mi(e){return new j0(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,r=>{const s=pe.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,be.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return q.or([()=>q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ef{constructor(e,n){this.persistence=e,this.pi=new Jo(r=>xU(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=R$(this,n)}static mi(e,n){return new ef(e,n)}Ei(){}di(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return q.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?q.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,be.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}br(e,n,r){return q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Fe(),s=Fe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new D0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return wF()?8:yU(un())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new z$;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ha()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(ha()<=Le.DEBUG&&le("QueryEngine","Query:",fa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ha()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ts(n))):q.resolve())}ys(e,n){if(X1(n))return q.resolve(null);let r=ts(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=hy(n,null,"F"),r=ts(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Fe(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,hy(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return X1(n)||s.isEqual(be.min())?q.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?q.resolve(null):(ha()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fa(n)),this.vs(e,o,n,hU(s,iu)).next(a=>a))})}Ds(e,n){let r=new Pt(TC(e));return n.forEach((s,i)=>{Xf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ha()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",fa(n)),this.ps.getDocumentsMatchingQuery(e,n,zi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="LocalStore",H$=3e8;class q${constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ft(Ve),this.xs=new Jo(i=>T0(i),S0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D$(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function G$(t,e,n,r){return new q$(t,e,n,r)}async function GC(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Fe();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function K$(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,m=f.keys();let y=q.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(c,T)).next(v=>{const _=d.docVersions.get(T);Ke(_!==null,48541),v.version.compareTo(_)<0&&(f.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Fe();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function KC(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Q$(t,e){const n=Ie(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(v,_,E){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=H$?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,y,h)&&a.push(n.Pi.updateTargetData(i,y))});let c=Bs(),d=Fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(Y$(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(be.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function Y$(t,e,n){let r=Fe(),s=Fe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Bs();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(be.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):le(O0,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function X$(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function J$(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new bi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function yy(t,e,n){const r=Ie(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!jl(o))throw o;le(O0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function uE(t,e,n){const r=Ie(t);let s=be.min(),i=Fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=Ie(c),m=f.xs.get(h);return m!==void 0?q.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,ts(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:be.min(),n?i:Fe())).next(a=>(Z$(r,LU(e),a),{documents:a,Qs:i})))}function Z$(t,e,n){let r=t.Os.get(e)||be.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class dE{constructor(){this.activeTargetIds=zU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e9{constructor(){this.Mo=new dE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="ConnectivityMonitor";class fE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(hE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(hE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd=null;function vy(){return Rd===null?Rd=function(){return 268435456+Math.round(2147483648*Math.random())}():Rd++,"0x"+Rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",n9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Qh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=vy(),a=this.zo(e,n.toUriEncodedString());le(Rm,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(a),h=Xo(d);return this.Jo(e,a,c,r,h).then(f=>(le(Rm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw hl(Rm,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=n9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class i9 extends r9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=vy();return new Promise((a,c)=>{const d=new YI;d.setWithCredentials(!0),d.listenOnce(XI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case th.NO_ERROR:const f=d.getResponseJson();le(tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case th.TIMEOUT:le(tn,`RPC '${e}' ${o} timed out`),c(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const m=d.getStatus();if(le(tn,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const T=y==null?void 0:y.error;if(T&&T.status&&T.message){const v=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(w)>=0?w:W.UNKNOWN}(T.status);c(new oe(v,T.message))}else c(new oe(W.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new oe(W.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{le(tn,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);le(tn,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=vy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eC(),a=ZI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");le(tn,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,y=!1;const T=new s9({Yo:_=>{y?le(tn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(m||(le(tn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),le(tn,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Zo:()=>f.close()}),v=(_,E,w)=>{_.listen(E,x=>{try{w(x)}catch(A){setTimeout(()=>{throw A},0)}})};return v(f,ac.EventType.OPEN,()=>{y||(le(tn,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),v(f,ac.EventType.CLOSE,()=>{y||(y=!0,le(tn,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(f))}),v(f,ac.EventType.ERROR,_=>{y||(y=!0,hl(tn,`RPC '${e}' stream ${s} transport errored. Name:`,_.name,"Message:",_.message),T.a_(new oe(W.UNAVAILABLE,"The operation could not be completed")))}),v(f,ac.EventType.MESSAGE,_=>{var E;if(!y){const w=_.data[0];Ke(!!w,16349);const x=w,A=(x==null?void 0:x.error)||((E=x[0])==null?void 0:E.error);if(A){le(tn,`RPC '${e}' stream ${s} received error:`,A);const D=A.status;let M=function(C){const P=Tt[C];if(P!==void 0)return OC(P)}(D),N=A.message;M===void 0&&(M=W.INTERNAL,N="Unknown error status: "+D+" with message "+A.message),y=!0,T.a_(new oe(M,N)),f.close()}else le(tn,`RPC '${e}' stream ${s} received:`,w),T.u_(w)}}),v(a,JI.STAT_EVENT,_=>{_.stat===iy.PROXY?le(tn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===iy.NOPROXY&&le(tn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t){return new c$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="PersistentStream";class YC{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?($s(n.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new oe(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return le(pE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(le(pE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o9 extends YC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=h$(this.serializer,e),r=function(i){if(!("targetChange"in i))return be.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?ns(o.readTime):be.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=gy(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=uy(c)?{documents:m$(i,c)}:{query:g$(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=VC(i,o.resumeToken);const d=fy(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(be.min())>0){a.readTime=Zh(i,o.snapshotVersion.toTimestamp());const d=fy(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=v$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=gy(this.serializer),n.removeTarget=e,this.q_(n)}}class a9 extends YC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=p$(e.writeResults,e.commitTime),r=ns(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=gy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>f$(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{}class c9 extends l9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,py(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oe(W.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,py(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(W.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class u9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($s(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="RemoteStore";class d9{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Zo(this)&&(le(zo,"Restarting streams for network reachability change."),await async function(c){const d=Ie(c);d.Ea.add(4),await Lu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await np(d)}(this))})}),this.Ra=new u9(r,s)}}async function np(t){if(Zo(t))for(const e of t.da)await e(!0)}async function Lu(t){for(const e of t.da)await e(!1)}function XC(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),F0(n)?V0(n):Ol(n).O_()&&L0(n,e))}function M0(t,e){const n=Ie(t),r=Ol(n);n.Ia.delete(e),r.O_()&&JC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Zo(n)&&n.Ra.set("Unknown"))}function L0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ol(t).Y_(e)}function JC(t,e){t.Va.Ue(e),Ol(t).Z_(e)}function V0(t){t.Va=new i$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ol(t).start(),t.Ra.ua()}function F0(t){return Zo(t)&&!Ol(t).x_()&&t.Ia.size>0}function Zo(t){return Ie(t).Ea.size===0}function ZC(t){t.Va=void 0}async function h9(t){t.Ra.set("Online")}async function f9(t){t.Ia.forEach((e,n)=>{L0(t,e)})}async function p9(t,e){ZC(t),F0(t)?(t.Ra.ha(e),V0(t)):t.Ra.set("Unknown")}async function m9(t,e,n){if(t.Ra.set("Online"),e instanceof LC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){le(zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tf(t,r)}else if(e instanceof ih?t.Va.Ze(e):e instanceof MC?t.Va.st(e):t.Va.tt(e),!n.isEqual(be.min()))try{const r=await KC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(qt.EMPTY_BYTE_STRING,h.snapshotVersion)),JC(i,c);const f=new bi(h.target,c,d,h.sequenceNumber);L0(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){le(zo,"Failed to raise snapshot:",r),await tf(t,r)}}async function tf(t,e,n){if(!jl(e))throw e;t.Ea.add(1),await Lu(t),t.Ra.set("Offline"),n||(n=()=>KC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le(zo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await np(t)})}function eA(t,e){return e().catch(n=>tf(t,n,e))}async function rp(t){const e=Ie(t),n=Gi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_0;for(;g9(e);)try{const s=await X$(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,y9(e,s)}catch(s){await tf(e,s)}tA(e)&&nA(e)}function g9(t){return Zo(t)&&t.Ta.length<10}function y9(t,e){t.Ta.push(e);const n=Gi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tA(t){return Zo(t)&&!Gi(t).x_()&&t.Ta.length>0}function nA(t){Gi(t).start()}async function v9(t){Gi(t).ra()}async function x9(t){const e=Gi(t);for(const n of t.Ta)e.ea(n.mutations)}async function w9(t,e,n){const r=t.Ta.shift(),s=A0.from(r,e,n);await eA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await rp(t)}async function _9(t,e){e&&Gi(t).X_&&await async function(r,s){if(function(o){return n$(o)&&o!==W.ABORTED}(s.code)){const i=r.Ta.shift();Gi(r).B_(),await eA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await rp(r)}}(t,e),tA(t)&&nA(t)}async function mE(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),le(zo,"RemoteStore received new credentials");const r=Zo(n);n.Ea.add(3),await Lu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await np(n)}async function E9(t,e){const n=Ie(t);e?(n.Ea.delete(2),await np(n)):e||(n.Ea.add(2),await Lu(n),n.Ra.set("Unknown"))}function Ol(t){return t.ma||(t.ma=function(n,r,s){const i=Ie(n);return i.sa(),new o9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:h9.bind(null,t),t_:f9.bind(null,t),r_:p9.bind(null,t),H_:m9.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),F0(t)?V0(t):t.Ra.set("Unknown")):(await t.ma.stop(),ZC(t))})),t.ma}function Gi(t){return t.fa||(t.fa=function(n,r,s){const i=Ie(n);return i.sa(),new a9(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:v9.bind(null,t),r_:_9.bind(null,t),ta:x9.bind(null,t),na:w9.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await rp(t)):(await t.fa.stop(),t.Ta.length>0&&(le(zo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new U0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $0(t,e){if($s("AsyncQueue",`${e}: ${t}`),jl(t))return new oe(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{static emptySet(e){return new za(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=lc(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.ga=new ft(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class yl{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new yl(e,n,za.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class T9{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ie(n),i=s.queries;s.queries=yE(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function yE(){return new Jo(t=>bC(t),Yf)}async function rA(t,e){const n=Ie(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new b9,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=$0(o,`Initialization of query '${fa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&B0(n)}async function sA(t,e){const n=Ie(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S9(t,e){const n=Ie(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&B0(n)}function N9(t,e,n){const r=Ie(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function B0(t){t.Ca.forEach(e=>{e.next()})}var xy,vE;(vE=xy||(xy={})).Ma="default",vE.Cache="cache";class iA{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.key=e}}class aA{constructor(e){this.key=e}}class I9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=TC(e),this.tu=new za(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new gE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=Xf(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;m&&y?m.data.isEqual(y.data)?T!==v&&(r.track({type:3,doc:y}),_=!0):this.su(m,y)||(r.track({type:2,doc:y}),_=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),_=!0):m&&!y&&(r.track({type:1,doc:m}),_=!0,(c||d)&&(a=!0)),_&&(y?(o=o.add(y),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,T){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:_})}};return v(y)-v(T)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new yl(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new aA(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new oA(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const z0="SyncEngine";class C9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A9{constructor(e){this.key=e,this.hu=!1}}class P9{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Jo(a=>bC(a),Yf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(pe.comparator),this.Au=new Map,this.Ru=new k0,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R9(t,e,n=!0){const r=fA(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await lA(r,e,n,!0),s}async function k9(t,e){const n=fA(t);await lA(n,e,!0,!1)}async function lA(t,e,n,r){const s=await J$(t.localStore,ts(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await j9(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&XC(t.remoteStore,s),a}async function j9(t,e,n,r,s){t.pu=(f,m,y)=>async function(v,_,E,w){let x=_.view.ru(E);x.Cs&&(x=await uE(v.localStore,_.query,!1).then(({documents:N})=>_.view.ru(N,x)));const A=w&&w.targetChanges.get(_.targetId),D=w&&w.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(x,v.isPrimaryClient,A,D);return wE(v,_.targetId,M.au),M.snapshot}(t,f,m,y);const i=await uE(t.localStore,e,!0),o=new I9(e,i.Qs),a=o.ru(i.documents),c=Mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);wE(t,n,d.au);const h=new C9(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function D9(t,e,n){const r=Ie(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Yf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await yy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&M0(r.remoteStore,s.targetId),wy(r,s.targetId)}).catch(kl)):(wy(r,s.targetId),await yy(r.localStore,s.targetId,!0))}async function O9(t,e){const n=Ie(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M0(n.remoteStore,r.targetId))}async function M9(t,e,n){const r=z9(t);try{const s=await function(o,a){const c=Ie(o),d=Je.now(),h=a.reduce((y,T)=>y.add(T.key),Fe());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Bs(),v=Fe();return c.Ns.getEntries(y,h).next(_=>{T=_,T.forEach((E,w)=>{w.isValidDocument()||(v=v.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,T)).next(_=>{f=_;const E=[];for(const w of a){const x=XU(w,f.get(w.key).overlayedDocument);x!=null&&E.push(new no(w.key,x,mC(x.value.mapValue),nr.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,E,a)}).next(_=>{m=_;const E=_.applyToLocalDocumentSet(f,v);return c.documentOverlayCache.saveOverlays(y,_.batchId,E)})}).then(()=>({batchId:m.batchId,changes:NC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new ft(Ve)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Vu(r,s.changes),await rp(r.remoteStore)}catch(s){const i=$0(s,"Failed to persist write");n.reject(i)}}async function cA(t,e){const n=Ie(t);try{const r=await Q$(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ke(o.hu,14607):s.removedDocuments.size>0&&(Ke(o.hu,42227),o.hu=!1))}),await Vu(n,r,e)}catch(r){await kl(r)}}function xE(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=Ie(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(d=!0)}),d&&B0(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L9(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ft(pe.comparator);o=o.insert(i,an.newNoDocument(i,be.min()));const a=Fe().add(i),c=new ep(be.min(),new Map,new ft(Ve),o,a);await cA(r,c),r.du=r.du.remove(i),r.Au.delete(e),W0(r)}else await yy(r.localStore,e,!1).then(()=>wy(r,e,n)).catch(kl)}async function V9(t,e){const n=Ie(t),r=e.batch.batchId;try{const s=await K$(n.localStore,e);dA(n,r,null),uA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vu(n,s)}catch(s){await kl(s)}}async function F9(t,e,n){const r=Ie(t);try{const s=await function(o,a){const c=Ie(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(Ke(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);dA(r,e,n),uA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vu(r,s)}catch(s){await kl(s)}}function uA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function dA(t,e,n){const r=Ie(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function wy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||hA(t,r)})}function hA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(M0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),W0(t))}function wE(t,e,n){for(const r of n)r instanceof oA?(t.Ru.addReference(r.key,e),U9(t,r)):r instanceof aA?(le(z0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||hA(t,r.key)):xe(19791,{wu:r})}function U9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(z0,"New document in limbo: "+n),t.Eu.add(r),W0(t))}function W0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(Ze.fromString(e)),r=t.fu.next();t.Au.set(r,new A9(n)),t.du=t.du.insert(n,r),XC(t.remoteStore,new bi(ts(N0(n.path)),r,"TargetPurposeLimboResolution",Gf.ce))}}async function Vu(t,e,n){const r=Ie(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=D0.As(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=Ie(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(d,m=>q.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>q.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!jl(f))throw f;le(O0,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const y=h.Ms.get(m),T=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(T);h.Ms=h.Ms.insert(m,v)}}}(r.localStore,i))}async function $9(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){le(z0,"User change. New user:",e.toKey());const r=await GC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new oe(W.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vu(n,r.Ls)}}function B9(t,e){const n=Ie(t),r=n.Au.get(e);if(r&&r.hu)return Fe().add(r.key);{let s=Fe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function fA(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L9.bind(null,e),e.Pu.H_=S9.bind(null,e.eventManager),e.Pu.yu=N9.bind(null,e.eventManager),e}function z9(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F9.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return G$(this.persistence,new W$,e.initialUser,this.serializer)}Cu(e){return new qC(j0.mi,this.serializer)}Du(e){return new e9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class W9 extends nf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof ef,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new A$(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new qC(r=>ef.mi(r,n),this.serializer)}}class _y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$9.bind(null,this.syncEngine),await E9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new T9}()}createDatastore(e){const n=tp(e.databaseInfo.databaseId),r=function(i){return new i9(i)}(e.databaseInfo);return function(i,o,a,c){return new c9(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new d9(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xE(this.syncEngine,n,0),function(){return fE.v()?new fE:new t9}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const f=new P9(s,i,o,a,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ie(s);le(zo,"RemoteStore shutting down."),i.Ea.add(5),await Lu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}_y.provider={build:()=>new _y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="FirestoreClient";class H9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=rn.UNAUTHENTICATED,this.clientId=w0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{le(Ki,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(le(Ki,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function jm(t,e){t.asyncQueue.verifyOperationInProgress(),le(Ki,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await GC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _E(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q9(t);le(Ki,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>mE(e.remoteStore,s)),t._onlineComponents=e}async function q9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(Ki,"Using user provided OfflineComponentProvider");try{await jm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===W.FAILED_PRECONDITION||s.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;hl("Error using user provided cache. Falling back to memory cache: "+n),await jm(t,new nf)}}else le(Ki,"Using default OfflineComponentProvider"),await jm(t,new W9(void 0));return t._offlineComponents}async function mA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(Ki,"Using user provided OnlineComponentProvider"),await _E(t,t._uninitializedComponentsProvider._online)):(le(Ki,"Using default OnlineComponentProvider"),await _E(t,new _y))),t._onlineComponents}function G9(t){return mA(t).then(e=>e.syncEngine)}async function gA(t){const e=await mA(t),n=e.eventManager;return n.onListen=R9.bind(null,e.syncEngine),n.onUnlisten=D9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O9.bind(null,e.syncEngine),n}function K9(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new pA({next:m=>{h.Nu(),o.enqueueAndForget(()=>sA(i,f));const y=m.docs.has(a);!y&&m.fromCache?d.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?d.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new iA(N0(a.path),h,{includeMetadataChanges:!0,qa:!0});return rA(i,f)}(await gA(t),t.asyncQueue,e,n,r)),r.promise}function Q9(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new pA({next:m=>{h.Nu(),o.enqueueAndForget(()=>sA(i,f)),m.fromCache&&c.source==="server"?d.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new iA(a,h,{includeMetadataChanges:!0,qa:!0});return rA(i,f)}(await gA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firestore.googleapis.com",bE=!0;class TE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vA,this.ssl=bE}else this.host=e.host,this.ssl=e.ssl??bE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I$)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tU;switch(r.type){case"firstParty":return new iU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=EE.get(n);r&&(le("ComponentProvider","Removing Datastore"),EE.delete(n),r.terminate())}(this),Promise.resolve()}}function Y9(t,e,n,r={}){var d;t=Nr(t,sp);const s=Xo(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(o0(`https://${a}`),a0("Firestore",!0)),i.host!==vA&&i.host!==a&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Vo(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=rn.MOCK_USER;else{h=dF(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new rn(m)}t._authCredentials=new nU(new nC(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Du(n,wt._jsonSchema))return new wt(e,r||null,new pe(Ze.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:It("string",wt._jsonSchemaVersion),referencePath:It("string")};class Li extends ea{constructor(e,n,r){super(e,n,N0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new pe(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function vl(t,e,...n){if(t=Et(t),rC("collection","path",e),t instanceof sp){const r=Ze.fromString(e,...n);return L1(r),new Li(t,null,r)}{if(!(t instanceof wt||t instanceof Li))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return L1(r),new Li(t.firestore,null,r)}}function ln(t,e,...n){if(t=Et(t),arguments.length===1&&(e=w0.newId()),rC("doc","path",e),t instanceof sp){const r=Ze.fromString(e,...n);return M1(r),new wt(t,null,new pe(r))}{if(!(t instanceof wt||t instanceof Li))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return M1(r),new wt(t.firestore,t instanceof Li?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="AsyncQueue";class NE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QC(this,"async_queue_retry"),this._c=()=>{const r=km();r&&le(SE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ks;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jl(e))throw e;le(SE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,$s("INTERNAL UNHANDLED ERROR: ",IE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=U0.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&xe(47125,{Pc:IE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function IE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ta extends sp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new NE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NE(e),this._firestoreClient=void 0,await e}}}function X9(t,e){const n=typeof t=="object"?t:u0(),r=typeof t=="string"?t:Qh,s=Bf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=rI("firestore");i&&Y9(s,...i)}return s}function H0(t){if(t._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J9(t),t._firestoreClient}function J9(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,d,h){return new EU(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,yA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new H9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(qt.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Du(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:It("string",Zn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rs._jsonSchemaVersion}}static fromJSON(e){if(Du(e,rs._jsonSchema))return new rs(e.latitude,e.longitude)}}rs._jsonSchemaVersion="firestore/geoPoint/1.0",rs._jsonSchema={type:It("string",rs._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Du(e,ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ss(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ss._jsonSchemaVersion="firestore/vectorValue/1.0",ss._jsonSchema={type:It("string",ss._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=/^__.*__$/;class eB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class xA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new no(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class q0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new q0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wA(this.Ac)&&Z9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tp(e)}Cc(e,n,r,s=!1){return new q0({Ac:e,methodName:n,Dc:r,path:Ut.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ap(t){const e=t._freezeSettings(),n=tp(t._databaseId);return new tB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _A(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);K0("Data must be an object, but it was:",o,r);const a=EA(r,o);let c,d;if(i.merge)c=new Bn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Ey(e,f,n);if(!o.contains(m))throw new oe(W.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);TA(h,m)||h.push(m)}c=new Bn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new eB(new Nn(a),c,d)}class lp extends op{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}class G0 extends op{_toFieldTransform(e){return new GU(e.path,new uu)}isEqual(e){return e instanceof G0}}function nB(t,e,n,r){const s=t.Cc(1,e,n);K0("Data must be an object, but it was:",s,r);const i=[],o=Nn.empty();to(r,(c,d)=>{const h=Q0(e,c,n);d=Et(d);const f=s.yc(h);if(d instanceof lp)i.push(h);else{const m=Fu(d,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new Bn(i);return new xA(o,a,s.fieldTransforms)}function rB(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Ey(e,r,n)],c=[s];if(i.length%2!=0)throw new oe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Ey(e,i[m])),c.push(i[m+1]);const d=[],h=Nn.empty();for(let m=a.length-1;m>=0;--m)if(!TA(d,a[m])){const y=a[m];let T=c[m];T=Et(T);const v=o.yc(y);if(T instanceof lp)d.push(y);else{const _=Fu(T,v);_!=null&&(d.push(y),h.set(y,_))}}const f=new Bn(d);return new xA(h,f,o.fieldTransforms)}function sB(t,e,n,r=!1){return Fu(n,t.Cc(r?4:3,e))}function Fu(t,e){if(bA(t=Et(t)))return K0("Unsupported field value:",e,t),EA(t,e);if(t instanceof op)return function(r,s){if(!wA(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Fu(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Je.fromDate(r);return{timestampValue:Zh(s.serializer,i)}}if(r instanceof Je){const i=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(s.serializer,i)}}if(r instanceof rs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:VC(s.serializer,r._byteString)};if(r instanceof wt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:R0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ss)return function(o,a){return{mapValue:{fields:{[hC]:{stringValue:pC},[Yh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return I0(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${qf(r)}`)}(t,e)}function EA(t,e){const n={};return oC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,(r,s)=>{const i=Fu(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function bA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof rs||t instanceof Zn||t instanceof wt||t instanceof op||t instanceof ss)}function K0(t,e,n){if(!bA(n)||!sC(n)){const r=qf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ey(t,e,n){if((e=Et(e))instanceof ip)return e._internalPath;if(typeof e=="string")return Q0(t,e);throw rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const iB=new RegExp("[~\\*/\\[\\]]");function Q0(t,e,n){if(e.search(iB)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ip(...e.split("."))._internalPath}catch{throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new oe(W.INVALID_ARGUMENT,a+t+c)}function TA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oB extends SA{data(){return super.data()}}function cp(t,e){return typeof e=="string"?Q0(t,e):e instanceof ip?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y0{}class NA extends Y0{}function X0(t,e,...n){let r=[];e instanceof Y0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof J0).length,a=i.filter(c=>c instanceof up).length;if(o>1||o>0&&a>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class up extends NA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new up(e,n,r)}_apply(e){const n=this._parse(e);return IA(e._query,n),new ea(e.firestore,e.converter,dy(e._query,n))}_parse(e){const n=ap(e.firestore);return function(i,o,a,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){AE(f,h);const T=[];for(const v of f)T.push(CE(c,i,v));m={arrayValue:{values:T}}}else m=CE(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||AE(f,h),m=sB(a,o,f,h==="in"||h==="not-in");return Nt.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sf(t,e,n){const r=e,s=cp("where",t);return up._create(s,r,n)}class J0 extends Y0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new J0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)IA(o,c),o=dy(o,c)}(e._query,n),new ea(e.firestore,e.converter,dy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Z0 extends NA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Z0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(i,o)}(e._query,this._field,this._direction);return new ea(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Dl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function lB(t,e="asc"){const n=e,r=cp("orderBy",t);return Z0._create(r,n)}function CE(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EC(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!pe.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H1(t,new pe(r))}if(n instanceof wt)return H1(t,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qf(n)}.`)}function AE(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cB{convertValue(e,n="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return to(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Yh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>yt(o.doubleValue));return new ss(n)}convertGeoPoint(e){return new rs(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);Ke(WC(r),9688,{name:e});const s=new au(r.get(1),r.get(3)),i=new pe(r.popFirst(5));return s.isEqual(n)||$s(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Io extends SA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Io._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Io._jsonSchemaVersion="firestore/documentSnapshot/1.0",Io._jsonSchema={type:It("string",Io._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class oh extends Io{data(e={}){return super.data(e)}}class Wa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new uc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new oh(this._firestore,this._userDataWriter,r.key,r,new uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new oh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new uc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new oh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new uc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:uB(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=w0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){t=Nr(t,wt);const e=Nr(t.firestore,ta);return K9(H0(e),t._key).then(n=>hB(e,t,n))}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:It("string",Wa._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class AA extends cB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function dp(t){t=Nr(t,ea);const e=Nr(t.firestore,ta),n=H0(e),r=new AA(e);return aB(t._query),Q9(n,t._query).then(s=>new Wa(e,r,t,s))}function ga(t,e,n){t=Nr(t,wt);const r=Nr(t.firestore,ta),s=CA(t.converter,e,n);return hp(r,[_A(ap(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,nr.none())])}function of(t,e,n,...r){t=Nr(t,wt);const s=Nr(t.firestore,ta),i=ap(s);let o;return o=typeof(e=Et(e))=="string"||e instanceof ip?rB(i,"updateDoc",t._key,e,n,r):nB(i,"updateDoc",t._key,e),hp(s,[o.toMutation(t._key,nr.exists(!0))])}function dB(t){return hp(Nr(t.firestore,ta),[new C0(t._key,nr.none())])}function PA(t,e){const n=Nr(t.firestore,ta),r=ln(t),s=CA(t.converter,e);return hp(n,[_A(ap(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function hp(t,e){return function(r,s){const i=new ks;return r.asyncQueue.enqueueAndForget(async()=>M9(await G9(r),s,i)),i.promise}(H0(t),e)}function hB(t,e,n){const r=n.docs.get(e._key),s=new AA(t);return new Io(t,s,e._key,r,new uc(n.hasPendingWrites,n.fromCache),e.converter)}function sn(){return new G0("serverTimestamp")}(function(e,n=!0){(function(s){Rl=s})(Al),Fo(new Bi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ta(new rU(r.getProvider("auth-internal")),new oU(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Jr(k1,j1,e),Jr(k1,j1,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Un(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s==null||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="us-central1";class pB{constructor(e,n,r,s,i=by,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new fB(e,n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=by}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function mB(t,e,n){const r=Xo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(o0(t.emulatorOrigin+"/backends"),a0("Functions",!0))}const PE="@firebase/functions",RE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="auth-internal",yB="app-check-internal",vB="messaging-internal";function xB(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),i=n.getProvider(gB),o=n.getProvider(vB),a=n.getProvider(yB);return new pB(s,i,o,a,r)};Fo(new Bi(RA,e,"PUBLIC").setMultipleInstances(!0)),Jr(PE,RE,t),Jr(PE,RE,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t=u0(),e=by){const r=Bf(Et(t),RA).getImmediate({identifier:e}),s=rI("functions");return s&&_B(r,...s),r}function _B(t,e,n){mB(Et(t),e,n)}xB();const EB={apiKey:"AIzaSyBRYf_nDTQC-wzWZWjFyWjUKKWc5UHOe-I",authDomain:"voda-45a7f.firebaseapp.com",projectId:"voda-45a7f",storageBucket:"voda-45a7f.appspot.com",messagingSenderId:"1234567890",appId:"1:1234567890:web:abcdef123456",measurementId:"G-DUMMY"},ex=a1().length?a1()[0]:lI(EB),_s=Z6(ex),vt=X9(ex);wB(ex,"us-central1");console.log("Using Firebase Production Environment");const bB="modulepreload",TB=function(t){return"/"+t},kE={},SB=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=TB(c),c in kE)return;kE[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":bB,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((m,y)=>{f.addEventListener("load",m),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Hr=t=>t&&t.toDate?t.toDate():new Date,yo={async create(t){await ga(ln(vt,"profiles",t.userId),{userId:t.userId,shopId:t.shopId,role:t.role,fullName:t.fullName,phone:t.phone,createdAt:sn()})},async getById(t){const e=ln(vt,"profiles",t),n=await fu(e);if(n.exists()){const r=n.data();return{userId:n.id,...r,createdAt:Hr(r.createdAt)}}return null},async update(t,e){const n=ln(vt,"profiles",t);await of(n,{...e,updatedAt:sn()})},async getByShopId(t){const e=X0(vl(vt,"profiles"),sf("shopId","==",t));return(await dp(e)).docs.map(r=>{const s=r.data();return{userId:r.id,...s,createdAt:Hr(s.createdAt)}})}},NB={async create(t){return(await PA(vl(vt,"shops"),{...t,createdAt:sn(),updatedAt:sn()})).id},async getAll(){try{console.log("Getting all shops...");const t=await dp(vl(vt,"shops"));console.log("Shops snapshot size:",t.size);const e=t.docs.map(n=>{const r=n.data();return console.log("Shop data:",{id:n.id,...r}),{id:n.id,...r,createdAt:Hr(r.createdAt),updatedAt:Hr(r.updatedAt)}});return console.log("Returning shops:",e),e}catch(t){throw console.error("Error in shopService.getAll:",t),t}},async getById(t){const e=ln(vt,"shops",t),n=await fu(e);if(n.exists()){const r=n.data();return{id:n.id,...r,createdAt:Hr(r.createdAt),updatedAt:Hr(r.updatedAt)}}return null},async update(t,e){const n=ln(vt,"shops",t);await of(n,{...e,updatedAt:sn()})}},Co={async create(t){return(await PA(vl(vt,"merchantWallets"),{...t,transferLimit:t.transferLimit||2e5,withdrawLimit:t.withdrawLimit||2e5,transferUsage:t.transferUsage||0,withdrawUsage:t.withdrawUsage||0,createdAt:sn(),updatedAt:sn()})).id},async getByMerchantId(t){const e=X0(vl(vt,"merchantWallets"),sf("merchantUserId","==",t),lB("createdAt","desc"));return(await dp(e)).docs.map(r=>{const s=r.data();return{id:r.id,...s,transferLimit:s.transferLimit||2e5,withdrawLimit:s.withdrawLimit||2e5,transferUsage:s.transferUsage||0,withdrawUsage:s.withdrawUsage||0,createdAt:Hr(s.createdAt),updatedAt:Hr(s.updatedAt)}})},async getById(t){const e=ln(vt,"merchantWallets",t),n=await fu(e);if(n.exists()){const r=n.data();return{id:n.id,...r,transferLimit:r.transferLimit||2e5,withdrawLimit:r.withdrawLimit||2e5,transferUsage:r.transferUsage||0,withdrawUsage:r.withdrawUsage||0,createdAt:Hr(r.createdAt),updatedAt:Hr(r.updatedAt)}}return null},async update(t,e){const n=ln(vt,"merchantWallets",t);await of(n,{...e,updatedAt:sn()})},async updateUsage(t,e,n){const r=ln(vt,"merchantWallets",t),s={updatedAt:sn()};e!==void 0&&(s.transferUsage=e),n!==void 0&&(s.withdrawUsage=n),await of(r,s)},async resetDailyUsage(t){const n=(await this.getByMerchantId(t)).map(r=>this.updateUsage(r.id,0,0));await Promise.all(n)},async delete(t){const e=ln(vt,"merchantWallets",t);await dB(e)}},IB=Object.freeze(Object.defineProperty({__proto__:null,merchantWalletService:Co,profileService:yo,shopService:NB},Symbol.toStringTag,{value:"Module"})),CB=p.createContext(void 0);function AB({children:t}){const[e,n]=p.useState(null),[r,s]=p.useState(null),[i,o]=p.useState(!0),a=async y=>{try{o(!0);const T=await yo.getById(y);T?s(T):console.error("No profile found for user")}catch(T){console.error("Error fetching profile:",T)}finally{o(!1)}},c=async()=>{e&&await a(e.uid)};p.useEffect(()=>{const y=LI(_s,async T=>{n(T),T?await a(T.uid):s(null),o(!1)});return()=>y()},[]);const m={user:e,profile:r,loading:i,signUp:async(y,T,v)=>{try{const _=await OI(_s,y,T);return _.user&&await yo.create({userId:_.user.uid,role:"merchant",fullName:(v==null?void 0:v.fullName)||null,phone:(v==null?void 0:v.phone)||null,shopId:""}),{error:null}}catch(_){return console.error("Error during sign up:",_),{error:_}}},signIn:async(y,T)=>{try{return await MI(_s,y,T),{error:null}}catch(v){return console.error("Error during sign in:",v),{error:v}}},signOut:async()=>{try{await VI(_s)}catch(y){console.error("Error during sign out:",y)}},refreshProfile:c};return l.jsx(CB.Provider,{value:m,children:t})}const kA=p.createContext(void 0);function PB(){const t=p.useContext(kA);if(t===void 0)throw new Error("useFirebaseAuth must be used within a FirebaseAuthProvider");return t}const Rr=PB,RB=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(null),[i,o]=p.useState(!0),a=async _=>{try{const E=await yo.getById(_);E?s(E):await c(_)}catch(E){console.error("Error fetching profile:",E),await c(_)}},c=async _=>{try{console.log("Creating default profile for user:",_);const E={userId:_,shopId:"admin-shop",role:"admin",fullName:" ",phone:null,createdAt:new Date,updatedAt:new Date};s(E),console.log("Created temporary profile:",E);try{const{shopService:w}=await SB(async()=>{const{shopService:D}=await Promise.resolve().then(()=>IB);return{shopService:D}},void 0);let x="admin-shop";try{console.log("Attempting to get shops");const D=await w.getAll();console.log("Shops retrieved:",D),D.length>0?(x=D[0].id,console.log("Using existing shop:",x)):(console.log("No shops found, creating default shop"),x=await w.create({name:" ",logoUrl:null}))}catch(D){console.error("Error getting/creating shop:",D),x="admin-shop"}await yo.create({userId:_,shopId:x,role:"admin",fullName:" ",phone:null});const A=await yo.getById(_);A&&(s(A),console.log("Updated with Firebase profile:",A))}catch{console.log("Using local profile - Firebase unavailable")}}catch(E){console.error("Error creating default profile:",E)}};p.useEffect(()=>{console.log("Setting up auth state listener");const _=LI(_s,async E=>{if(console.log("Auth state changed:",E==null?void 0:E.uid),n(E),E){console.log("User authenticated, fetching profile for:",E.uid);const w=new Promise((x,A)=>setTimeout(()=>A(new Error("Profile fetch timeout")),5e3));try{await Promise.race([a(E.uid),w]),console.log("Profile fetched successfully")}catch(x){console.error("Error fetching profile:",x),console.log("Attempting to create default profile");try{await Promise.race([c(E.uid),w])}catch(A){console.error("Error creating default profile:",A),s({userId:E.uid,shopId:"temp-shop",role:"admin",fullName:" ",phone:null,createdAt:new Date,updatedAt:new Date})}}}else console.log("No user authenticated, setting profile to null"),s(null);console.log("Setting loading to false"),o(!1)});return()=>{console.log("Cleaning up auth state listener"),_()}},[]);const v={user:e,profile:r,loading:i,signUp:async(_,E,w)=>{try{const x=await OI(_s,_,E);return w!=null&&w.fullName&&await _1(x.user,{displayName:w.fullName}),await c(x.user.uid),{error:null}}catch(x){return console.error("Sign up error:",x),{error:x}}},signIn:async(_,E)=>{try{return await MI(_s,_,E),{error:null}}catch(w){console.error("Sign in error:",w);let x="    ";return w.code==="auth/invalid-credential"?x="      ":w.code==="auth/user-not-found"?x="     ":w.code==="auth/wrong-password"?x="   ":w.code==="auth/too-many-requests"&&(x="      "),{error:{...w,message:x}}}},signOut:async()=>{try{await VI(_s),window.location.href="/admin/login"}catch(_){console.error("Sign out error:",_)}},resetPassword:async _=>{try{return await F3(_s,_),{error:null}}catch(E){console.error("Password reset error:",E);let w="        ";return E.code==="auth/user-not-found"?w="     ":E.code==="auth/invalid-email"?w="   ":E.code==="auth/too-many-requests"&&(w="      "),{error:{...E,message:w}}}},updateUserProfile:async _=>{if(!(!e||!r))try{_.fullName&&await _1(e,{displayName:_.fullName}),await yo.update(e.uid,{fullName:_.fullName||r.fullName,phone:_.phone||r.phone}),s({...r,fullName:_.fullName||r.fullName,phone:_.phone||r.phone})}catch(E){console.error("Error updating profile:",E)}},refreshProfile:async()=>{if(e)try{console.log("Refreshing profile for user:",e.uid),await a(e.uid)}catch(_){console.error("Error refreshing profile:",_)}}};return l.jsx(kA.Provider,{value:v,children:t})},kB=()=>{const{user:t,profile:e,loading:n}=Rr(),r=Hs();return p.useEffect(()=>{console.log("Index: useEffect triggered",{loading:n,user:t==null?void 0:t.uid,profile:e==null?void 0:e.role}),n||(t?e?(console.log("Index: Profile found, navigating based on role:",e.role),e.role==="merchant"?r("/merchant"):(r("/landing"),console.log("User role not supported:",e.role))):console.log("Index: User exists but no profile yet, waiting..."):(console.log("Index: No user, navigating to landing"),r("/landing")))},[t,e,n,r]),n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"  ..."})]})})},jB=Su("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ID:"button";return l.jsx(o,{className:_e(jB({variant:e,size:n,className:t})),ref:i,...s})});ee.displayName="Button";const ot=p.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ot.displayName="Card";const $t=p.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:_e("flex flex-col space-y-1.5 p-6",t),...e}));$t.displayName="CardHeader";const Bt=p.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:_e("text-2xl font-semibold leading-none tracking-tight",t),...e}));Bt.displayName="CardTitle";const jA=p.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:_e("text-sm text-muted-foreground",t),...e}));jA.displayName="CardDescription";const at=p.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:_e("p-6 pt-0",t),...e}));at.displayName="CardContent";const DB=p.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:_e("flex items-center p-6 pt-0",t),...e}));DB.displayName="CardFooter";function OB(){const t=[{icon:La,title:"  ",description:"           "},{icon:AO,title:"  ",description:"         "},{icon:Kc,title:" ",description:"       "},{icon:_O,title:" ",description:"        "}],e=[{name:"Vodafone Cash",color:"provider-vodafone"},{name:"Etisalat Cash",color:"provider-etisalat"},{name:"Orange Cash",color:"provider-orange"},{name:"InstaPay",color:"provider-instapay"}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-background",children:[l.jsx("header",{className:"container mx-auto px-4 py-6",children:l.jsxs("nav",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 gradient-primary rounded-lg flex items-center justify-center",children:l.jsx(La,{className:"h-5 w-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold",children:"CashyLink"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Br,{to:"/auth",children:l.jsx(ee,{variant:"ghost",children:" "})}),l.jsx(Br,{to:"/auth?mode=signup",children:l.jsxs(ee,{className:"btn-primary",children:["  ",l.jsx(gm,{className:"mr-2 h-4 w-4"})]})})]})]})}),l.jsx("section",{className:"container mx-auto px-4 py-20 text-center",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-5xl font-bold mb-6 gradient-hero bg-clip-text text-transparent",children:"    "}),l.jsx("p",{className:"text-xl text-muted-foreground mb-8 leading-relaxed",children:"          "}),l.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:e.map(n=>l.jsx("div",{className:`px-4 py-2 ${n.color} text-white rounded-full text-sm font-medium shadow-lg`,children:n.name},n.name))}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Br,{to:"/auth?mode=signup",children:l.jsxs(ee,{size:"lg",className:"btn-primary shadow-elegant",children:["  ",l.jsx(gm,{className:"mr-2 h-5 w-5"})]})}),l.jsx(Br,{to:"/auth",children:l.jsx(ee,{size:"lg",variant:"outline",className:"border-primary text-primary hover:bg-primary/10",children:" "})})]})]})}),l.jsxs("section",{className:"container mx-auto px-4 py-20",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:" "}),l.jsx("p",{className:"text-muted-foreground text-lg",children:"      "})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((n,r)=>l.jsx(ot,{className:"card-glass hover:shadow-elegant transition-smooth group",children:l.jsxs(at,{className:"p-6 text-center",children:[l.jsx("div",{className:"h-12 w-12 gradient-primary rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:animate-pulse-glow transition-smooth",children:l.jsx(n.icon,{className:"h-6 w-6 text-white"})}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:n.title}),l.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})]})},r))})]}),l.jsx("section",{className:"container mx-auto px-4 py-20 bg-muted/30 rounded-3xl my-20",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold mb-6",children:" CashyLink"}),l.jsx("div",{className:"space-y-4",children:["    ","    ","   ","   ","   ","    "].map((n,r)=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(al,{className:"h-5 w-5 text-success flex-shrink-0"}),l.jsx("span",{className:"text-foreground",children:n})]},r))})]}),l.jsx("div",{className:"relative",children:l.jsx("div",{className:"gradient-primary rounded-2xl p-8 shadow-elegant",children:l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 text-white",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"  "}),l.jsx("p",{className:"text-white/80 mb-6",children:"        "}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-2 w-2 bg-white rounded-full animate-pulse"}),l.jsx("div",{className:"h-2 w-2 bg-white/60 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),l.jsx("div",{className:"h-2 w-2 bg-white/40 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})})})]})}),l.jsx("section",{className:"container mx-auto px-4 py-20 text-center",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4",children:" "}),l.jsx("p",{className:"text-muted-foreground text-lg mb-8",children:"          "}),l.jsx(Br,{to:"/auth?mode=signup",children:l.jsxs(ee,{size:"lg",className:"btn-primary shadow-elegant",children:["  ",l.jsx(gm,{className:"mr-2 h-5 w-5"})]})})]})}),l.jsx("footer",{className:"border-t border-border bg-card/50 py-8",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("div",{className:"h-6 w-6 gradient-primary rounded flex items-center justify-center",children:l.jsx(La,{className:"h-4 w-4 text-white"})}),l.jsx("span",{className:"font-semibold",children:"CashyLink"})]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:" 2024 CashyLink.   ."})]})})]})}const Ne=p.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ne.displayName="Input";function MB(){const[t]=tF(),e=t.get("mode")||"signin",[n,r]=p.useState(e==="signup"),[s,i]=p.useState(!1),[o,a]=p.useState({email:"admin@example.com",password:"password123",fullName:"",phone:""}),{signIn:c,signUp:d,user:h}=Rr(),{toast:f}=Cr();if(h)return l.jsx(XN,{to:"/",replace:!0});const m=async y=>{y.preventDefault(),i(!0);try{if(n){const{error:T}=await d(o.email,o.password,{full_name:o.fullName,phone:o.phone});if(T)throw T;f({title:"   !",description:"     "})}else{const{error:T}=await c(o.email,o.password);if(T)throw T;f({title:" !",description:"      ..."})}}catch(T){f({title:"",description:T.message||"   ",variant:"destructive"})}finally{i(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-secondary/10 flex items-center justify-center p-4",children:l.jsxs(ot,{className:"w-full max-w-md",children:[l.jsxs($t,{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("div",{className:"h-8 w-8 gradient-primary rounded-lg flex items-center justify-center",children:l.jsx(La,{className:"h-5 w-5 text-white"})}),l.jsx("span",{className:"text-xl font-bold",children:"CashyLink"})]}),l.jsx(Bt,{children:n?"  ":" "})]}),l.jsxs(at,{children:[l.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n&&l.jsxs(l.Fragment,{children:[l.jsx(Ne,{placeholder:" ",value:o.fullName,onChange:y=>a({...o,fullName:y.target.value}),required:!0}),l.jsx(Ne,{placeholder:" ",value:o.phone,onChange:y=>a({...o,phone:y.target.value})})]}),l.jsx(Ne,{type:"email",placeholder:" ",value:o.email,onChange:y=>a({...o,email:y.target.value}),required:!0}),l.jsx(Ne,{type:"password",placeholder:" ",value:o.password,onChange:y=>a({...o,password:y.target.value}),required:!0}),l.jsx(ee,{type:"submit",className:"w-full btn-primary",disabled:s,children:s?" ...":n?" ":" "}),l.jsx(ee,{type:"button",variant:"secondary",className:"w-full mt-2",onClick:()=>{a({email:"admin@example.com",password:"password123",fullName:"",phone:""}),setTimeout(()=>{const y=document.querySelector("form");y&&y.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},100)},children:"  "})]}),l.jsxs("div",{className:"text-center mt-6",children:[l.jsx("span",{className:"text-muted-foreground",children:n?" ":"  "}),l.jsx(ee,{variant:"link",onClick:()=>r(!n),className:"text-primary",children:n?" ":" "})]}),l.jsx("div",{className:"text-center mt-4",children:l.jsx(Br,{to:"/",children:l.jsx(ee,{variant:"ghost",className:"text-muted-foreground",children:"  "})})})]})]})})}function LB(){const t=Hs(),{user:e,signIn:n,signOut:r}=Rr(),{toast:s}=Cr(),[i,o]=p.useState(!1),[a,c]=p.useState({email:"admin@example.com",password:"password123"}),d=async f=>{f.preventDefault(),o(!0);try{const{error:m}=await n(a.email,a.password);if(m)throw m;s({title:"    !",description:"   "}),t("/")}catch(m){console.error("Login error:",m),s({title:"   ",description:m.message||"     ",variant:"destructive"})}finally{o(!1)}},h=()=>{c({email:"admin@example.com",password:"password123"}),setTimeout(()=>{const f=document.querySelector("form");f&&f.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},100)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-background to-indigo-50 flex items-center justify-center p-4",children:l.jsxs(ot,{className:"w-full max-w-md shadow-lg",children:[l.jsxs($t,{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center",children:l.jsx(Kc,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(La,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"text-xl font-bold text-primary",children:"CashyLink"})]})]}),l.jsx(Bt,{className:"text-2xl font-bold text-gray-800",children:"  "}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"     "})]}),l.jsxs(at,{children:[e?l.jsxs("div",{className:"space-y-4 text-center",children:[l.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsx("p",{className:"text-green-800 font-medium mb-2",children:"   "}),l.jsx("p",{className:"text-green-600 text-sm",children:e.email})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ee,{onClick:()=>t("/"),className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:"  "}),l.jsx(ee,{variant:"outline",onClick:async()=>{await r(),s({title:"   "})},className:"flex-1 border-red-200 text-red-600 hover:bg-red-50",children:" "})]})]}):l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:" "}),l.jsx(Ne,{id:"email",type:"email",placeholder:"admin@example.com",value:a.email,onChange:f=>c(m=>({...m,email:f.target.value})),required:!0,className:"h-11"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:" "}),l.jsx(Ne,{id:"password",type:"password",placeholder:"",value:a.password,onChange:f=>c(m=>({...m,password:f.target.value})),required:!0,className:"h-11"})]}),l.jsx(ee,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",disabled:i,children:i?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"  ..."]}):" "}),l.jsxs(ee,{type:"button",variant:"outline",className:"w-full h-11 border-blue-200 text-blue-600 hover:bg-blue-50",onClick:h,disabled:i,children:[l.jsx(Kc,{className:"w-4 h-4 mr-2"}),"   ()"]})]}),l.jsx("div",{className:"text-center mt-6 pt-4 border-t",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"    "})})]})]})})}var VB="Label",DA=p.forwardRef((t,e)=>l.jsx(we.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));DA.displayName=VB;var OA=DA;const FB=Su("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=p.forwardRef(({className:t,...e},n)=>l.jsx(OA,{ref:n,className:_e(FB(),t),...e}));Ge.displayName=OA.displayName;const UB=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[o,a]=p.useState(!1),[c,d]=p.useState(!1),{signIn:h,resetPassword:f}=Rr(),m=Hs(),y=async v=>{if(v.preventDefault(),!t||!n){ri.error("   ");return}a(!0);try{const{error:_}=await h(t,n);_?ri.error(_.message||"    "):(ri.success("   "),m("/user/dashboard"))}catch{ri.error("   ")}finally{a(!1)}},T=async()=>{if(!t){ri.error("    ");return}d(!0);try{const{error:v}=await f(t);v?ri.error(v.message||"        "):ri.success("         ")}catch{ri.error("   ")}finally{d(!1)}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l.jsxs(ot,{className:"w-full max-w-md",children:[l.jsxs($t,{className:"space-y-1 text-center",children:[l.jsx(Bt,{className:"text-2xl font-bold text-gray-900",children:"  "}),l.jsx(jA,{className:"text-gray-600",children:"     "})]}),l.jsxs(at,{children:[l.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"email",className:"text-right block",children:" "}),l.jsx(Ne,{id:"email",type:"email",placeholder:"  ",value:t,onChange:v=>e(v.target.value),className:"text-right",dir:"rtl",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"password",className:"text-right block",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Ne,{id:"password",type:s?"text":"password",placeholder:"  ",value:n,onChange:v=>r(v.target.value),className:"text-right pr-10",dir:"rtl",required:!0}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:s?l.jsx(Kr,{size:20}):l.jsx(Qr,{size:20})})]})]}),l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs(ee,{type:"button",variant:"ghost",size:"sm",onClick:T,disabled:c,className:"text-blue-600 hover:text-blue-800 p-0 h-auto font-normal",children:[l.jsx(GS,{className:"w-4 h-4 ml-1"}),c?" ...":"  "]})}),l.jsxs(ee,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o,children:[o?"  ...":" ",l.jsx(WS,{className:"mr-2 h-4 w-4"})]})]}),l.jsxs("div",{className:"mt-6 text-center space-y-2",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:["  "," ",l.jsx(Br,{to:"/auth",className:"text-blue-600 hover:text-blue-800 font-medium",children:"  "})]}),l.jsx("p",{className:"text-sm",children:l.jsx(Br,{to:"/",className:"text-gray-500 hover:text-gray-700",children:"   "})})]})]})]})})},$B=Su("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),MA=p.forwardRef(({className:t,variant:e,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:_e($B({variant:e}),t),...n}));MA.displayName="Alert";const BB=p.forwardRef(({className:t,...e},n)=>l.jsx("h5",{ref:n,className:_e("mb-1 font-medium leading-none tracking-tight",t),...e}));BB.displayName="AlertTitle";const LA=p.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:_e("text-sm [&_p]:leading-relaxed",t),...e}));LA.displayName="AlertDescription";const zB=()=>{const[t,e]=p.useState({name:"",email:"",password:"",confirmPassword:""}),[n,r]=p.useState(!1),[s,i]=p.useState(!1),[o,a]=p.useState(!1),[c,d]=p.useState(""),{signUp:h}=Rr(),{toast:f}=Cr(),m=Hs(),y=(_,E)=>{e(w=>({...w,[_]:E}))},T=()=>!t.name||!t.email||!t.password||!t.confirmPassword?(d("   "),!1):t.name.length<2?(d("      "),!1):t.password.length<6?(d("     6   "),!1):t.password!==t.confirmPassword?(d("   "),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)?!0:(d("   "),!1),v=async _=>{if(_.preventDefault(),d(""),!!T()){a(!0);try{await h(t.email,t.password,t.name),f({title:"   ",description:"      "}),m("/user/dashboard")}catch(E){console.error("Registration error:",E);let w="    ";E.code==="auth/email-already-in-use"?w="   ":E.code==="auth/invalid-email"?w="   ":E.code==="auth/weak-password"?w="   ":E.code==="auth/operation-not-allowed"&&(w="    "),d(w),f({title:"   ",description:w,variant:"destructive"})}finally{a(!1)}}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8 fade-in-up",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full mb-4 shadow-lg",children:l.jsx(Ps,{className:"h-8 w-8 text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" "}),l.jsx("p",{className:"text-gray-600",children:"   "})]}),l.jsxs(ot,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm card-glow fade-in-up",children:[l.jsxs($t,{className:"text-center pb-4",children:[l.jsxs(Bt,{className:"text-2xl font-bold text-gray-900 flex items-center justify-center gap-2",children:[l.jsx(PO,{className:"h-6 w-6 text-green-600"}),"  "]}),l.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"    "})]}),l.jsxs(at,{className:"space-y-6",children:[c&&l.jsx(MA,{variant:"destructive",className:"fade-in-up",children:l.jsx(LA,{children:c})}),l.jsxs("form",{onSubmit:v,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2 fade-in-up",children:[l.jsx(Ge,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Fv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Ne,{id:"name",type:"text",value:t.name,onChange:_=>y("name",_.target.value),placeholder:"  ",className:"pl-10 h-12 text-sm transition-all duration-300 hover:border-green-400 focus:border-green-500 bg-white/50",disabled:o})]})]}),l.jsxs("div",{className:"space-y-2 fade-in-up",children:[l.jsx(Ge,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(GS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Ne,{id:"email",type:"email",value:t.email,onChange:_=>y("email",_.target.value),placeholder:"  ",className:"pl-10 h-12 text-sm transition-all duration-300 hover:border-green-400 focus:border-green-500 bg-white/50",disabled:o})]})]}),l.jsxs("div",{className:"space-y-2 fade-in-up",children:[l.jsx(Ge,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Ne,{id:"password",type:n?"text":"password",value:t.password,onChange:_=>y("password",_.target.value),placeholder:"   (6   )",className:"pl-10 pr-10 h-12 text-sm transition-all duration-300 hover:border-green-400 focus:border-green-500 bg-white/50",disabled:o}),l.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:o,children:n?l.jsx(Kr,{className:"h-4 w-4"}):l.jsx(Qr,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2 fade-in-up",children:[l.jsx(Ge,{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"  "}),l.jsxs("div",{className:"relative",children:[l.jsx(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Ne,{id:"confirmPassword",type:s?"text":"password",value:t.confirmPassword,onChange:_=>y("confirmPassword",_.target.value),placeholder:"   ",className:"pl-10 pr-10 h-12 text-sm transition-all duration-300 hover:border-green-400 focus:border-green-500 bg-white/50",disabled:o}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:o,children:s?l.jsx(Kr,{className:"h-4 w-4"}):l.jsx(Qr,{className:"h-4 w-4"})})]})]}),l.jsx(ee,{type:"submit",disabled:o||!t.name||!t.email||!t.password||!t.confirmPassword,className:"w-full h-12 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-medium transition-all duration-300 btn-bounce hover-glow fade-in-up",children:o?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"  ..."]}):l.jsxs("div",{className:"flex items-center gap-2",children:["  ",l.jsx(WS,{className:"h-4 w-4"})]})})]}),l.jsx("div",{className:"text-center pt-4 border-t border-gray-200 fade-in-up",children:l.jsxs("p",{className:"text-sm text-gray-600",children:["  "," ",l.jsx(Br,{to:"/user/login",className:"text-green-600 hover:text-green-700 font-medium transition-colors hover:underline",children:" "})]})}),l.jsx("div",{className:"text-center pt-2 fade-in-up",children:l.jsxs("p",{className:"text-xs text-gray-500",children:["  "," ",l.jsx(Br,{to:"/admin/login",className:"text-indigo-600 hover:text-indigo-700 font-medium transition-colors hover:underline",children:"  "})]})})]})]}),l.jsx("div",{className:"text-center mt-8 fade-in-up",children:l.jsx("p",{className:"text-xs text-gray-500",children:" 2024  .   ."})})]})})},WB=()=>{const t=Hs(),{toast:e}=Cr(),[n,r]=p.useState({username:"",password:""}),[s,i]=p.useState(!1),[o,a]=p.useState(!1),c=f=>{const{name:m,value:y}=f.target;r(T=>({...T,[m]:y}))},d=async f=>{f.preventDefault(),a(!0);try{if(n.username==="admin"&&n.password==="admin123")localStorage.setItem("dashboardAuth","true"),localStorage.setItem("dashboardUser",JSON.stringify({username:n.username,loginTime:new Date().toISOString()})),e({title:"    !",description:"   "}),t("/dashboard");else throw new Error("      ")}catch(m){console.error("Login error:",m),e({title:"   ",description:m.message||"     ",variant:"destructive"})}finally{a(!1)}},h=()=>{r({username:"admin",password:"admin123"})};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-background to-indigo-50 flex items-center justify-center p-4",children:l.jsxs(ot,{className:"w-full max-w-md shadow-lg",children:[l.jsxs($t,{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-sm",children:""})}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(La,{className:"h-5 w-5 text-primary"}),l.jsx("span",{className:"text-xl font-bold text-primary",children:" "})]})]}),l.jsx(Bt,{className:"text-2xl font-bold text-gray-800",children:" "}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"     "})]}),l.jsxs(at,{children:[l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Fv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Ne,{name:"username",type:"text",value:n.username,onChange:c,placeholder:"  ",className:"pl-10",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Mo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Ne,{name:"password",type:s?"text":"password",value:n.password,onChange:c,placeholder:"  ",className:"pl-10 pr-10",required:!0}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?l.jsx(Kr,{className:"h-4 w-4"}):l.jsx(Qr,{className:"h-4 w-4"})})]})]}),l.jsx(ee,{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:o?"  ...":" "})]}),l.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:" :"}),l.jsxs(ee,{onClick:h,variant:"outline",className:"w-full text-sm",children:[l.jsx(Kc,{className:"h-4 w-4 mr-2"}),"  "]}),l.jsx("div",{className:"mt-2 text-xs text-gray-500",children:" : admin |  : admin123"})]})}),l.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Kc,{className:"h-4 w-4 text-blue-600 mt-0.5"}),l.jsxs("div",{className:"text-xs text-blue-700",children:[l.jsx("p",{className:"font-medium mb-1",children:" :"}),l.jsx("p",{children:"          ."})]})]})})]})]})})},HB=Su("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Fn({className:t,variant:e,...n}){return l.jsx("div",{className:_e(HB({variant:e}),t),...n})}var qB=p.createContext(void 0);function fp(t){const e=p.useContext(qB);return t||e||"ltr"}var Dm="rovingFocusGroup.onEntryFocus",GB={bubbles:!1,cancelable:!0},Uu="RovingFocusGroup",[Ty,VA,KB]=Af(Uu),[QB,pp]=Ar(Uu,[KB]),[YB,XB]=QB(Uu),FA=p.forwardRef((t,e)=>l.jsx(Ty.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Ty.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(JB,{...t,ref:e})})}));FA.displayName=Uu;var JB=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,m=p.useRef(null),y=qe(e,m),T=fp(i),[v,_]=Oo({prop:o,defaultProp:a??null,onChange:c,caller:Uu}),[E,w]=p.useState(!1),x=Rn(d),A=VA(n),D=p.useRef(!1),[M,N]=p.useState(0);return p.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Dm,x),()=>S.removeEventListener(Dm,x)},[x]),l.jsx(YB,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(S=>_(S),[_]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(S=>S+1),[]),onFocusableItemRemove:p.useCallback(()=>N(S=>S-1),[]),children:l.jsx(we.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:re(t.onMouseDown,()=>{D.current=!0}),onFocus:re(t.onFocus,S=>{const C=!D.current;if(S.target===S.currentTarget&&C&&!E){const P=new CustomEvent(Dm,GB);if(S.currentTarget.dispatchEvent(P),!P.defaultPrevented){const O=A().filter(X=>X.focusable),R=O.find(X=>X.active),k=O.find(X=>X.id===v),se=[R,k,...O].filter(Boolean).map(X=>X.ref.current);BA(se,h)}}D.current=!1}),onBlur:re(t.onBlur,()=>w(!1))})})}),UA="RovingFocusGroupItem",$A=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=Yr(),d=i||c,h=XB(UA,n),f=h.currentTabStopId===d,m=VA(n),{onFocusableItemAdd:y,onFocusableItemRemove:T,currentTabStopId:v}=h;return p.useEffect(()=>{if(r)return y(),()=>T()},[r,y,T]),l.jsx(Ty.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:l.jsx(we.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:re(t.onMouseDown,_=>{r?h.onItemFocus(d):_.preventDefault()}),onFocus:re(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:re(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){h.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const E=t7(_,h.orientation,h.dir);if(E!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let x=m().filter(A=>A.focusable).map(A=>A.ref.current);if(E==="last")x.reverse();else if(E==="prev"||E==="next"){E==="prev"&&x.reverse();const A=x.indexOf(_.currentTarget);x=h.loop?n7(x,A+1):x.slice(A+1)}setTimeout(()=>BA(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});$A.displayName=UA;var ZB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function e7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function t7(t,e,n){const r=e7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ZB[r]}function BA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function n7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var zA=FA,WA=$A,mp="Tabs",[r7,MW]=Ar(mp,[pp]),HA=pp(),[s7,tx]=r7(mp),qA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,h=fp(a),[f,m]=Oo({prop:r,onChange:s,defaultProp:i??"",caller:mp});return l.jsx(s7,{scope:n,baseId:Yr(),value:f,onValueChange:m,orientation:o,dir:h,activationMode:c,children:l.jsx(we.div,{dir:h,"data-orientation":o,...d,ref:e})})});qA.displayName=mp;var GA="TabsList",KA=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=tx(GA,n),o=HA(n);return l.jsx(zA,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(we.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});KA.displayName=GA;var QA="TabsTrigger",YA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=tx(QA,n),a=HA(n),c=ZA(o.baseId,r),d=eP(o.baseId,r),h=r===o.value;return l.jsx(WA,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(we.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:re(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:re(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:re(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});YA.displayName=QA;var XA="TabsContent",JA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=tx(XA,n),c=ZA(a.baseId,r),d=eP(a.baseId,r),h=r===a.value,f=p.useRef(h);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(Pr,{present:s||h,children:({present:m})=>l.jsx(we.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});JA.displayName=XA;function ZA(t,e){return`${t}-trigger-${e}`}function eP(t,e){return`${t}-content-${e}`}var i7=qA,tP=KA,nP=YA,rP=JA;const sP=i7,nx=p.forwardRef(({className:t,...e},n)=>l.jsx(tP,{ref:n,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));nx.displayName=tP.displayName;const yr=p.forwardRef(({className:t,...e},n)=>l.jsx(nP,{ref:n,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));yr.displayName=nP.displayName;const ho=p.forwardRef(({className:t,...e},n)=>l.jsx(rP,{ref:n,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ho.displayName=rP.displayName;function jE(t,[e,n]){return Math.min(n,Math.max(e,t))}var Om=0;function rx(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??DE()),document.body.insertAdjacentElement("beforeend",t[1]??DE()),Om++,()=>{Om===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Om--}},[])}function DE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Mm="focusScope.autoFocusOnMount",Lm="focusScope.autoFocusOnUnmount",OE={bubbles:!1,cancelable:!0},o7="FocusScope",gp=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=p.useState(null),d=Rn(s),h=Rn(i),f=p.useRef(null),m=qe(e,v=>c(v)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(x){if(y.paused||!a)return;const A=x.target;a.contains(A)?f.current=A:oi(f.current,{select:!0})},_=function(x){if(y.paused||!a)return;const A=x.relatedTarget;A!==null&&(a.contains(A)||oi(f.current,{select:!0}))},E=function(x){if(document.activeElement===document.body)for(const D of x)D.removedNodes.length>0&&oi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),w.disconnect()}}},[r,a,y.paused]),p.useEffect(()=>{if(a){LE.add(y);const v=document.activeElement;if(!a.contains(v)){const E=new CustomEvent(Mm,OE);a.addEventListener(Mm,d),a.dispatchEvent(E),E.defaultPrevented||(a7(h7(iP(a)),{select:!0}),document.activeElement===v&&oi(a))}return()=>{a.removeEventListener(Mm,d),setTimeout(()=>{const E=new CustomEvent(Lm,OE);a.addEventListener(Lm,h),a.dispatchEvent(E),E.defaultPrevented||oi(v??document.body,{select:!0}),a.removeEventListener(Lm,h),LE.remove(y)},0)}}},[a,d,h,y]);const T=p.useCallback(v=>{if(!n&&!r||y.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(_&&E){const w=v.currentTarget,[x,A]=l7(w);x&&A?!v.shiftKey&&E===A?(v.preventDefault(),n&&oi(x,{select:!0})):v.shiftKey&&E===x&&(v.preventDefault(),n&&oi(A,{select:!0})):E===w&&v.preventDefault()}},[n,r,y.paused]);return l.jsx(we.div,{tabIndex:-1,...o,ref:m,onKeyDown:T})});gp.displayName=o7;function a7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(oi(r,{select:e}),document.activeElement!==n)return}function l7(t){const e=iP(t),n=ME(e,t),r=ME(e.reverse(),t);return[n,r]}function iP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ME(t,e){for(const n of t)if(!c7(n,{upTo:e}))return n}function c7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function u7(t){return t instanceof HTMLInputElement&&"select"in t}function oi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&u7(t)&&e&&t.select()}}var LE=d7();function d7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=VE(t,e),t.unshift(e)},remove(e){var n;t=VE(t,e),(n=t[0])==null||n.resume()}}}function VE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function h7(t){return t.filter(e=>e.tagName!=="A")}function f7(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var p7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ca=new WeakMap,kd=new WeakMap,jd={},Vm=0,oP=function(t){return t&&(t.host||oP(t.parentNode))},m7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=oP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},g7=function(t,e,n,r){var s=m7(e,Array.isArray(t)?t:[t]);jd[n]||(jd[n]=new WeakMap);var i=jd[n],o=[],a=new Set,c=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var y=m.getAttribute(r),T=y!==null&&y!=="false",v=(ca.get(m)||0)+1,_=(i.get(m)||0)+1;ca.set(m,v),i.set(m,_),o.push(m),v===1&&T&&kd.set(m,!0),_===1&&m.setAttribute(n,"true"),T||m.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return h(e),a.clear(),Vm++,function(){o.forEach(function(f){var m=ca.get(f)-1,y=i.get(f)-1;ca.set(f,m),i.set(f,y),m||(kd.has(f)||f.removeAttribute(r),kd.delete(f)),y||f.removeAttribute(n)}),Vm--,Vm||(ca=new WeakMap,ca=new WeakMap,kd=new WeakMap,jd={})}},sx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=p7(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),g7(r,s,n,"aria-hidden")):function(){return null}},zr=function(){return zr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zr.apply(this,arguments)};function aP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function y7(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var ah="right-scroll-bar-position",lh="width-before-scroll-bar",v7="with-scroll-bars-hidden",x7="--removed-body-scroll-bar-size";function Fm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function w7(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var _7=typeof window<"u"?p.useLayoutEffect:p.useEffect,FE=new WeakMap;function E7(t,e){var n=w7(null,function(r){return t.forEach(function(s){return Fm(s,r)})});return _7(function(){var r=FE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Fm(a,null)}),i.forEach(function(a){s.has(a)||Fm(a,o)})}FE.set(n,t)},[t]),n}function b7(t){return t}function T7(t,e){e===void 0&&(e=b7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function S7(t){t===void 0&&(t={});var e=T7(null);return e.options=zr({async:!0,ssr:!1},t),e}var lP=function(t){var e=t.sideCar,n=aP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,zr({},n))};lP.isSideCarExport=!0;function N7(t,e){return t.useMedium(e),lP}var cP=S7(),Um=function(){},yp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Um,onWheelCapture:Um,onTouchMoveCapture:Um}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,y=t.noRelative,T=t.noIsolation,v=t.inert,_=t.allowPinchZoom,E=t.as,w=E===void 0?"div":E,x=t.gapMode,A=aP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,M=E7([n,e]),N=zr(zr({},A),s);return p.createElement(p.Fragment,null,h&&p.createElement(D,{sideCar:cP,removeScrollBar:d,shards:f,noRelative:y,noIsolation:T,inert:v,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:x}),o?p.cloneElement(p.Children.only(a),zr(zr({},N),{ref:M})):p.createElement(w,zr({},N,{className:c,ref:M}),a))});yp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yp.classNames={fullWidth:lh,zeroRight:ah};var I7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function C7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=I7();return e&&t.setAttribute("nonce",e),t}function A7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function P7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var R7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=C7())&&(A7(e,n),P7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},k7=function(){var t=R7();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},uP=function(){var t=k7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},j7={left:0,top:0,right:0,gap:0},$m=function(t){return parseInt(t||"",10)||0},D7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[$m(n),$m(r),$m(s)]},O7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return j7;var e=D7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},M7=uP(),Ha="data-scroll-locked",L7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(v7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ha,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ah,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ah," .").concat(ah,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lh," .").concat(lh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ha,`] {
    `).concat(x7,": ").concat(a,`px;
  }
`)},UE=function(){var t=parseInt(document.body.getAttribute(Ha)||"0",10);return isFinite(t)?t:0},V7=function(){p.useEffect(function(){return document.body.setAttribute(Ha,(UE()+1).toString()),function(){var t=UE()-1;t<=0?document.body.removeAttribute(Ha):document.body.setAttribute(Ha,t.toString())}},[])},F7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;V7();var i=p.useMemo(function(){return O7(s)},[s]);return p.createElement(M7,{styles:L7(i,!e,s,n?"":"!important")})},Sy=!1;if(typeof window<"u")try{var Dd=Object.defineProperty({},"passive",{get:function(){return Sy=!0,!0}});window.addEventListener("test",Dd,Dd),window.removeEventListener("test",Dd,Dd)}catch{Sy=!1}var ua=Sy?{passive:!1}:!1,U7=function(t){return t.tagName==="TEXTAREA"},dP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!U7(t)&&n[e]==="visible")},$7=function(t){return dP(t,"overflowY")},B7=function(t){return dP(t,"overflowX")},$E=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=hP(t,r);if(s){var i=fP(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},z7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},W7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},hP=function(t,e){return t==="v"?$7(e):B7(e)},fP=function(t,e){return t==="v"?z7(e):W7(e)},H7=function(t,e){return t==="h"&&e==="rtl"?-1:1},q7=function(t,e,n,r,s){var i=H7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,f=0,m=0;do{if(!a)break;var y=fP(t,a),T=y[0],v=y[1],_=y[2],E=v-_-i*T;(T||E)&&hP(t,a)&&(f+=E,m+=T);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(d=!0),d},Od=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},BE=function(t){return[t.deltaX,t.deltaY]},zE=function(t){return t&&"current"in t?t.current:t},G7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},K7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Q7=0,da=[];function Y7(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(Q7++)[0],i=p.useState(uP)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=y7([t.lockRef.current],(t.shards||[]).map(zE),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var E=Od(v),w=n.current,x="deltaX"in v?v.deltaX:w[0]-E[0],A="deltaY"in v?v.deltaY:w[1]-E[1],D,M=v.target,N=Math.abs(x)>Math.abs(A)?"h":"v";if("touches"in v&&N==="h"&&M.type==="range")return!1;var S=$E(N,M);if(!S)return!0;if(S?D=N:(D=N==="v"?"h":"v",S=$E(N,M)),!S)return!1;if(!r.current&&"changedTouches"in v&&(x||A)&&(r.current=D),!D)return!0;var C=r.current||D;return q7(C,_,v,C==="h"?x:A,!0)},[]),c=p.useCallback(function(v){var _=v;if(!(!da.length||da[da.length-1]!==i)){var E="deltaY"in _?BE(_):Od(_),w=e.current.filter(function(D){return D.name===_.type&&(D.target===_.target||_.target===D.shadowParent)&&G7(D.delta,E)})[0];if(w&&w.should){_.cancelable&&_.preventDefault();return}if(!w){var x=(o.current.shards||[]).map(zE).filter(Boolean).filter(function(D){return D.contains(_.target)}),A=x.length>0?a(_,x[0]):!o.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),d=p.useCallback(function(v,_,E,w){var x={name:v,delta:_,target:E,should:w,shadowParent:X7(E)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(A){return A!==x})},1)},[]),h=p.useCallback(function(v){n.current=Od(v),r.current=void 0},[]),f=p.useCallback(function(v){d(v.type,BE(v),v.target,a(v,t.lockRef.current))},[]),m=p.useCallback(function(v){d(v.type,Od(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return da.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ua),document.addEventListener("touchmove",c,ua),document.addEventListener("touchstart",h,ua),function(){da=da.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,ua),document.removeEventListener("touchmove",c,ua),document.removeEventListener("touchstart",h,ua)}},[]);var y=t.removeScrollBar,T=t.inert;return p.createElement(p.Fragment,null,T?p.createElement(i,{styles:K7(s)}):null,y?p.createElement(F7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function X7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const J7=N7(cP,Y7);var vp=p.forwardRef(function(t,e){return p.createElement(yp,zr({},t,{ref:e,sideCar:J7}))});vp.classNames=yp.classNames;var Z7=[" ","Enter","ArrowUp","ArrowDown"],ez=[" ","Enter"],Wo="Select",[xp,wp,tz]=Af(Wo),[Ml,LW]=Ar(Wo,[tz,Nl]),_p=Nl(),[nz,ro]=Ml(Wo),[rz,sz]=Ml(Wo),pP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:m,required:y,form:T}=t,v=_p(e),[_,E]=p.useState(null),[w,x]=p.useState(null),[A,D]=p.useState(!1),M=fp(d),[N,S]=Oo({prop:r,defaultProp:s??!1,onChange:i,caller:Wo}),[C,P]=Oo({prop:o,defaultProp:a,onChange:c,caller:Wo}),O=p.useRef(null),R=_?T||!!_.closest("form"):!0,[k,z]=p.useState(new Set),se=Array.from(k).map(X=>X.props.value).join(";");return l.jsx(NN,{...v,children:l.jsxs(nz,{required:y,scope:e,trigger:_,onTriggerChange:E,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:A,onValueNodeHasChildrenChange:D,contentId:Yr(),value:C,onValueChange:P,open:N,onOpenChange:S,dir:M,triggerPointerDownPosRef:O,disabled:m,children:[l.jsx(xp.Provider,{scope:e,children:l.jsx(rz,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(X=>{z(ie=>new Set(ie).add(X))},[]),onNativeOptionRemove:p.useCallback(X=>{z(ie=>{const F=new Set(ie);return F.delete(X),F})},[]),children:n})}),R?l.jsxs(VP,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:X=>P(X.target.value),disabled:m,form:T,children:[C===void 0?l.jsx("option",{value:""}):null,Array.from(k)]},se):null]})})};pP.displayName=Wo;var mP="SelectTrigger",gP=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=_p(n),o=ro(mP,n),a=o.disabled||r,c=qe(e,o.onTriggerChange),d=wp(n),h=p.useRef("touch"),[f,m,y]=UP(v=>{const _=d().filter(x=>!x.disabled),E=_.find(x=>x.value===o.value),w=$P(_,v,E);w!==void 0&&o.onValueChange(w.value)}),T=v=>{a||(o.onOpenChange(!0),y()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(Yv,{asChild:!0,...i,children:l.jsx(we.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":FP(o.value)?"":void 0,...s,ref:c,onClick:re(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&T(v)}),onPointerDown:re(s.onPointerDown,v=>{h.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(T(v),v.preventDefault())}),onKeyDown:re(s.onKeyDown,v=>{const _=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(_&&v.key===" ")&&Z7.includes(v.key)&&(T(),v.preventDefault())})})})});gP.displayName=mP;var yP="SelectValue",vP=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=ro(yP,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=qe(e,c.onValueNodeChange);return Ht(()=>{d(h)},[d,h]),l.jsx(we.span,{...a,ref:f,style:{pointerEvents:"none"},children:FP(c.value)?l.jsx(l.Fragment,{children:o}):i})});vP.displayName=yP;var iz="SelectIcon",xP=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(we.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});xP.displayName=iz;var oz="SelectPortal",wP=t=>l.jsx(bu,{asChild:!0,...t});wP.displayName=oz;var Ho="SelectContent",_P=p.forwardRef((t,e)=>{const n=ro(Ho,t.__scopeSelect),[r,s]=p.useState();if(Ht(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Qo.createPortal(l.jsx(EP,{scope:t.__scopeSelect,children:l.jsx(xp.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(bP,{...t,ref:e})});_P.displayName=Ho;var ur=10,[EP,so]=Ml(Ho),az="SelectContentImpl",lz=Do("SelectContent.RemoveScroll"),bP=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:T,hideWhenDetached:v,avoidCollisions:_,...E}=t,w=ro(Ho,n),[x,A]=p.useState(null),[D,M]=p.useState(null),N=qe(e,K=>A(K)),[S,C]=p.useState(null),[P,O]=p.useState(null),R=wp(n),[k,z]=p.useState(!1),se=p.useRef(!1);p.useEffect(()=>{if(x)return sx(x)},[x]),rx();const X=p.useCallback(K=>{const[Re,...Se]=R().map(ye=>ye.ref.current),[Ee]=Se.slice(-1),Ce=document.activeElement;for(const ye of K)if(ye===Ce||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===Re&&D&&(D.scrollTop=0),ye===Ee&&D&&(D.scrollTop=D.scrollHeight),ye==null||ye.focus(),document.activeElement!==Ce))return},[R,D]),ie=p.useCallback(()=>X([S,x]),[X,S,x]);p.useEffect(()=>{k&&ie()},[k,ie]);const{onOpenChange:F,triggerPointerDownPosRef:L}=w;p.useEffect(()=>{if(x){let K={x:0,y:0};const Re=Ee=>{var Ce,ye;K={x:Math.abs(Math.round(Ee.pageX)-(((Ce=L.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((ye=L.current)==null?void 0:ye.y)??0))}},Se=Ee=>{K.x<=10&&K.y<=10?Ee.preventDefault():x.contains(Ee.target)||F(!1),document.removeEventListener("pointermove",Re),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",Se,{capture:!0})}}},[x,F,L]),p.useEffect(()=>{const K=()=>F(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[F]);const[Y,ce]=UP(K=>{const Re=R().filter(Ce=>!Ce.disabled),Se=Re.find(Ce=>Ce.ref.current===document.activeElement),Ee=$P(Re,K,Se);Ee&&setTimeout(()=>Ee.ref.current.focus())}),ne=p.useCallback((K,Re,Se)=>{const Ee=!se.current&&!Se;(w.value!==void 0&&w.value===Re||Ee)&&(C(K),Ee&&(se.current=!0))},[w.value]),ue=p.useCallback(()=>x==null?void 0:x.focus(),[x]),me=p.useCallback((K,Re,Se)=>{const Ee=!se.current&&!Se;(w.value!==void 0&&w.value===Re||Ee)&&O(K)},[w.value]),Te=r==="popper"?Ny:TP,Me=Te===Ny?{side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:y,sticky:T,hideWhenDetached:v,avoidCollisions:_}:{};return l.jsx(EP,{scope:n,content:x,viewport:D,onViewportChange:M,itemRefCallback:ne,selectedItem:S,onItemLeave:ue,itemTextRefCallback:me,focusSelectedItem:ie,selectedItemText:P,position:r,isPositioned:k,searchRef:Y,children:l.jsx(vp,{as:lz,allowPinchZoom:!0,children:l.jsx(gp,{asChild:!0,trapped:w.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:re(s,K=>{var Re;(Re=w.trigger)==null||Re.focus({preventScroll:!0}),K.preventDefault()}),children:l.jsx(El,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(Te,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:K=>K.preventDefault(),...E,...Me,onPlaced:()=>z(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:re(E.onKeyDown,K=>{const Re=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!Re&&K.key.length===1&&ce(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let Ee=R().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(K.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const Ce=K.target,ye=Ee.indexOf(Ce);Ee=Ee.slice(ye+1)}setTimeout(()=>X(Ee)),K.preventDefault()}})})})})})})});bP.displayName=az;var cz="SelectItemAlignedPosition",TP=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ro(Ho,n),o=so(Ho,n),[a,c]=p.useState(null),[d,h]=p.useState(null),f=qe(e,N=>h(N)),m=wp(n),y=p.useRef(!1),T=p.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:E,focusSelectedItem:w}=o,x=p.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&v&&_&&E){const N=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(i.dir!=="rtl"){const Ce=P.left-S.left,ye=C.left-Ce,tt=N.left-ye,bt=N.width+tt,Dt=Math.max(bt,S.width),dn=window.innerWidth-ur,Ot=jE(ye,[ur,Math.max(ur,dn-Dt)]);a.style.minWidth=bt+"px",a.style.left=Ot+"px"}else{const Ce=S.right-P.right,ye=window.innerWidth-C.right-Ce,tt=window.innerWidth-N.right-ye,bt=N.width+tt,Dt=Math.max(bt,S.width),dn=window.innerWidth-ur,Ot=jE(ye,[ur,Math.max(ur,dn-Dt)]);a.style.minWidth=bt+"px",a.style.right=Ot+"px"}const O=m(),R=window.innerHeight-ur*2,k=v.scrollHeight,z=window.getComputedStyle(d),se=parseInt(z.borderTopWidth,10),X=parseInt(z.paddingTop,10),ie=parseInt(z.borderBottomWidth,10),F=parseInt(z.paddingBottom,10),L=se+X+k+F+ie,Y=Math.min(_.offsetHeight*5,L),ce=window.getComputedStyle(v),ne=parseInt(ce.paddingTop,10),ue=parseInt(ce.paddingBottom,10),me=N.top+N.height/2-ur,Te=R-me,Me=_.offsetHeight/2,K=_.offsetTop+Me,Re=se+X+K,Se=L-Re;if(Re<=me){const Ce=O.length>0&&_===O[O.length-1].ref.current;a.style.bottom="0px";const ye=d.clientHeight-v.offsetTop-v.offsetHeight,tt=Math.max(Te,Me+(Ce?ue:0)+ye+ie),bt=Re+tt;a.style.height=bt+"px"}else{const Ce=O.length>0&&_===O[0].ref.current;a.style.top="0px";const tt=Math.max(me,se+v.offsetTop+(Ce?ne:0)+Me)+Se;a.style.height=tt+"px",v.scrollTop=Re-me+v.offsetTop}a.style.margin=`${ur}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,i.trigger,i.valueNode,a,d,v,_,E,i.dir,r]);Ht(()=>x(),[x]);const[A,D]=p.useState();Ht(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const M=p.useCallback(N=>{N&&T.current===!0&&(x(),w==null||w(),T.current=!1)},[x,w]);return l.jsx(dz,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:l.jsx(we.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});TP.displayName=cz;var uz="SelectPopperPosition",Ny=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ur,...i}=t,o=_p(n);return l.jsx(Xv,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ny.displayName=uz;var[dz,ix]=Ml(Ho,{}),Iy="SelectViewport",SP=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=so(Iy,n),o=ix(Iy,n),a=qe(e,i.onViewportChange),c=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(xp.Slot,{scope:n,children:l.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:re(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const y=Math.abs(c.current-h.scrollTop);if(y>0){const T=window.innerHeight-ur*2,v=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),E=Math.max(v,_);if(E<T){const w=E+y,x=Math.min(T,w),A=w-x;f.style.height=x+"px",f.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});SP.displayName=Iy;var NP="SelectGroup",[hz,fz]=Ml(NP),pz=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Yr();return l.jsx(hz,{scope:n,id:s,children:l.jsx(we.div,{role:"group","aria-labelledby":s,...r,ref:e})})});pz.displayName=NP;var IP="SelectLabel",CP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=fz(IP,n);return l.jsx(we.div,{id:s.id,...r,ref:e})});CP.displayName=IP;var af="SelectItem",[mz,AP]=Ml(af),PP=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ro(af,n),c=so(af,n),d=a.value===r,[h,f]=p.useState(i??""),[m,y]=p.useState(!1),T=qe(e,w=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,w,r,s)}),v=Yr(),_=p.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(mz,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:p.useCallback(w=>{f(x=>x||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(xp.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(we.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:re(o.onFocus,()=>y(!0)),onBlur:re(o.onBlur,()=>y(!1)),onClick:re(o.onClick,()=>{_.current!=="mouse"&&E()}),onPointerUp:re(o.onPointerUp,()=>{_.current==="mouse"&&E()}),onPointerDown:re(o.onPointerDown,w=>{_.current=w.pointerType}),onPointerMove:re(o.onPointerMove,w=>{var x;_.current=w.pointerType,s?(x=c.onItemLeave)==null||x.call(c):_.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(o.onPointerLeave,w=>{var x;w.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:re(o.onKeyDown,w=>{var A;((A=c.searchRef)==null?void 0:A.current)!==""&&w.key===" "||(ez.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});PP.displayName=af;var dc="SelectItemText",RP=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ro(dc,n),a=so(dc,n),c=AP(dc,n),d=sz(dc,n),[h,f]=p.useState(null),m=qe(e,E=>f(E),c.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,c.value,c.disabled)}),y=h==null?void 0:h.textContent,T=p.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=d;return Ht(()=>(v(T),()=>_(T)),[v,_,T]),l.jsxs(l.Fragment,{children:[l.jsx(we.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qo.createPortal(i.children,o.valueNode):null]})});RP.displayName=dc;var kP="SelectItemIndicator",jP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return AP(kP,n).isSelected?l.jsx(we.span,{"aria-hidden":!0,...r,ref:e}):null});jP.displayName=kP;var Cy="SelectScrollUpButton",DP=p.forwardRef((t,e)=>{const n=so(Cy,t.__scopeSelect),r=ix(Cy,t.__scopeSelect),[s,i]=p.useState(!1),o=qe(e,r.onScrollButtonChange);return Ht(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(MP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});DP.displayName=Cy;var Ay="SelectScrollDownButton",OP=p.forwardRef((t,e)=>{const n=so(Ay,t.__scopeSelect),r=ix(Ay,t.__scopeSelect),[s,i]=p.useState(!1),o=qe(e,r.onScrollButtonChange);return Ht(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(MP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});OP.displayName=Ay;var MP=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=so("SelectScrollButton",n),o=p.useRef(null),a=wp(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Ht(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(we.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:re(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:re(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:re(s.onPointerLeave,()=>{c()})})}),gz="SelectSeparator",LP=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(we.div,{"aria-hidden":!0,...r,ref:e})});LP.displayName=gz;var Py="SelectArrow",yz=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_p(n),i=ro(Py,n),o=so(Py,n);return i.open&&o.position==="popper"?l.jsx(Jv,{...s,...r,ref:e}):null});yz.displayName=Py;var vz="SelectBubbleInput",VP=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=qe(r,s),o=f7(e);return p.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),l.jsx(we.select,{...n,style:{..._S,...n.style},ref:i,defaultValue:e})});VP.displayName=vz;function FP(t){return t===""||t===void 0}function UP(t){const e=Rn(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const a=n.current+o;e(a),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function $P(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=xz(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function xz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wz=pP,BP=gP,_z=vP,Ez=xP,bz=wP,zP=_P,Tz=SP,WP=CP,HP=PP,Sz=RP,Nz=jP,qP=DP,GP=OP,KP=LP;const ox=wz,ax=_z,Ep=p.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(BP,{ref:r,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(Ez,{asChild:!0,children:l.jsx(qS,{className:"h-4 w-4 opacity-50"})})]}));Ep.displayName=BP.displayName;const QP=p.forwardRef(({className:t,...e},n)=>l.jsx(qP,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(bO,{className:"h-4 w-4"})}));QP.displayName=qP.displayName;const YP=p.forwardRef(({className:t,...e},n)=>l.jsx(GP,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(qS,{className:"h-4 w-4"})}));YP.displayName=GP.displayName;const bp=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(bz,{children:l.jsxs(zP,{ref:s,className:_e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(QP,{}),l.jsx(Tz,{className:_e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(YP,{})]})}));bp.displayName=zP.displayName;const Iz=p.forwardRef(({className:t,...e},n)=>l.jsx(WP,{ref:n,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Iz.displayName=WP.displayName;const vo=p.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(HP,{ref:r,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Nz,{children:l.jsx(HS,{className:"h-4 w-4"})})}),l.jsx(Sz,{children:e})]}));vo.displayName=HP.displayName;const Cz=p.forwardRef(({className:t,...e},n)=>l.jsx(KP,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));Cz.displayName=KP.displayName;var Tp="Dialog",[XP,VW]=Ar(Tp),[Az,kr]=XP(Tp),JP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=p.useRef(null),c=p.useRef(null),[d,h]=Oo({prop:r,defaultProp:s??!1,onChange:i,caller:Tp});return l.jsx(Az,{scope:e,triggerRef:a,contentRef:c,contentId:Yr(),titleId:Yr(),descriptionId:Yr(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};JP.displayName=Tp;var ZP="DialogTrigger",Pz=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(ZP,n),i=qe(e,s.triggerRef);return l.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ux(s.open),...r,ref:i,onClick:re(t.onClick,s.onOpenToggle)})});Pz.displayName=ZP;var lx="DialogPortal",[Rz,eR]=XP(lx,{forceMount:void 0}),tR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=kr(lx,e);return l.jsx(Rz,{scope:e,forceMount:n,children:p.Children.map(r,o=>l.jsx(Pr,{present:n||i.open,children:l.jsx(bu,{asChild:!0,container:s,children:o})}))})};tR.displayName=lx;var lf="DialogOverlay",nR=p.forwardRef((t,e)=>{const n=eR(lf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=kr(lf,t.__scopeDialog);return i.modal?l.jsx(Pr,{present:r||i.open,children:l.jsx(jz,{...s,ref:e})}):null});nR.displayName=lf;var kz=Do("DialogOverlay.RemoveScroll"),jz=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(lf,n);return l.jsx(vp,{as:kz,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(we.div,{"data-state":ux(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qo="DialogContent",rR=p.forwardRef((t,e)=>{const n=eR(qo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=kr(qo,t.__scopeDialog);return l.jsx(Pr,{present:r||i.open,children:i.modal?l.jsx(Dz,{...s,ref:e}):l.jsx(Oz,{...s,ref:e})})});rR.displayName=qo;var Dz=p.forwardRef((t,e)=>{const n=kr(qo,t.__scopeDialog),r=p.useRef(null),s=qe(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return sx(i)},[]),l.jsx(sR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:re(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:re(t.onFocusOutside,i=>i.preventDefault())})}),Oz=p.forwardRef((t,e)=>{const n=kr(qo,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return l.jsx(sR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),sR=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=kr(qo,n),c=p.useRef(null),d=qe(e,c);return rx(),l.jsxs(l.Fragment,{children:[l.jsx(gp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(El,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ux(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Mz,{titleId:a.titleId}),l.jsx(Vz,{contentRef:c,descriptionId:a.descriptionId})]})]})}),cx="DialogTitle",iR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(cx,n);return l.jsx(we.h2,{id:s.titleId,...r,ref:e})});iR.displayName=cx;var oR="DialogDescription",aR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(oR,n);return l.jsx(we.p,{id:s.descriptionId,...r,ref:e})});aR.displayName=oR;var lR="DialogClose",cR=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=kr(lR,n);return l.jsx(we.button,{type:"button",...r,ref:e,onClick:re(t.onClick,()=>s.onOpenChange(!1))})});cR.displayName=lR;function ux(t){return t?"open":"closed"}var uR="DialogTitleWarning",[FW,dR]=SD(uR,{contentName:qo,titleName:cx,docsSlug:"dialog"}),Mz=({titleId:t})=>{const e=dR(uR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Lz="DialogDescriptionWarning",Vz=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dR(Lz).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Fz=JP,Uz=tR,hR=nR,fR=rR,pR=iR,mR=aR,$z=cR;const zs=Fz,Bz=Uz,gR=p.forwardRef(({className:t,...e},n)=>l.jsx(hR,{ref:n,className:_e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));gR.displayName=hR.displayName;const as=p.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Bz,{children:[l.jsx(gR,{}),l.jsxs(fR,{ref:r,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs($z,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(KS,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));as.displayName=fR.displayName;const ls=({className:t,...e})=>l.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ls.displayName="DialogHeader";const Ry=({className:t,...e})=>l.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ry.displayName="DialogFooter";const cs=p.forwardRef(({className:t,...e},n)=>l.jsx(pR,{ref:n,className:_e("text-lg font-semibold leading-none tracking-tight",t),...e}));cs.displayName=pR.displayName;const zz=p.forwardRef(({className:t,...e},n)=>l.jsx(mR,{ref:n,className:_e("text-sm text-muted-foreground",t),...e}));zz.displayName=mR.displayName;const yR=({isOpen:t,onClose:e,onWalletUpdate:n})=>{const{toast:r}=Cr(),[s,i]=p.useState([]),[o,a]=p.useState(!1),[c,d]=p.useState(null),[h,f]=p.useState(""),[m,y]=p.useState(""),[T,v]=p.useState("200000"),[_,E]=p.useState("200000"),[w,x]=p.useState(!1),[A,D]=p.useState("10");p.useEffect(()=>{const R=localStorage.getItem("wallets");if(R){const z=JSON.parse(R);i(z.map(se=>({...se,phone:se.phone||se.phoneNumber,monthlyWithdrawalLimit:se.monthlyWithdrawalLimit||2e5,monthlyTransferLimit:se.monthlyTransferLimit||2e5})))}const k=localStorage.getItem("withdrawalCommissionRate");k&&D(k)},[]);const M=()=>{f(""),y(""),v("200000"),E("200000"),x(!1),d(null),a(!1)},N=()=>{const R=parseFloat(A);if(isNaN(R)||R<0||R>100){r({title:"",description:"     (0-100   1000 )",variant:"destructive"});return}localStorage.setItem("withdrawalCommissionRate",A),r({title:" ",description:`      ${A}   1000 `})},S=()=>{if(!h.trim()||!m.trim()){r({title:"",description:"    ",variant:"destructive"});return}const R={id:(c==null?void 0:c.id)||Date.now().toString(),name:h.trim(),phone:m.trim(),monthlyWithdrawalLimit:parseInt(T)||2e5,monthlyTransferLimit:parseInt(_)||2e5,isDefault:w||s.length===0};let k;c?k=s.map(z=>z.id===c.id?R:{...z,isDefault:R.isDefault?!1:z.isDefault}):k=w?[...s.map(z=>({...z,isDefault:!1})),R]:[...s,R],i(k),localStorage.setItem("wallets",JSON.stringify(k)),n&&n(),r({title:c?" ":" ",description:c?"   ":"   "}),M()},C=R=>{d(R),setNewWallet({name:R.name,phoneNumber:R.phoneNumber,balance:R.balance})},P=R=>{const k=s.find(se=>se.id===R);if(k!=null&&k.isDefault){r({title:"",description:"    ",variant:"destructive"});return}const z=s.filter(se=>se.id!==R);i(z),localStorage.setItem("wallets",JSON.stringify(z)),n&&n(),r({title:"  ",description:"   "})},O=R=>{const k=s.map(z=>({...z,isDefault:z.id===R}));i(k),localStorage.setItem("wallets",JSON.stringify(k)),n&&n(),r({title:"   ",description:"    "})};return l.jsx(zs,{open:t,onOpenChange:e,children:l.jsxs(as,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[l.jsx(ls,{className:"pb-2",children:l.jsxs(cs,{className:"flex items-center gap-1 text-sm",children:[l.jsx(Ps,{className:"h-3 w-3"})," "]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-sm font-semibold",children:["  (",s.length,")"]}),l.jsxs(ee,{onClick:()=>a(!0),className:"flex items-center gap-1 h-6 px-2 text-xs",size:"sm",children:[l.jsx(As,{className:"h-3 w-3"}),"  "]})]}),(o||c)&&l.jsxs(ot,{className:"border-2 border-blue-200 bg-blue-50",children:[l.jsx($t,{className:"pb-1",children:l.jsx(Bt,{className:"text-sm",children:c?" ":"  "})}),l.jsxs(at,{className:"space-y-2 pt-1",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:" "}),l.jsx(Ne,{value:h,onChange:R=>f(R.target.value),placeholder:":  ",className:"h-6 text-xs"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"}),l.jsx(Ne,{value:m,onChange:R=>y(R.target.value),placeholder:"01030302038",className:"pl-6 h-6 text-xs"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"   ()"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ts,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"}),l.jsx(Ne,{type:"number",value:T,onChange:R=>v(R.target.value),placeholder:"200000",className:"pl-6 h-6 text-xs"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"   ()"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ts,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"}),l.jsx(Ne,{type:"number",value:_,onChange:R=>E(R.target.value),placeholder:"200000",className:"pl-6 h-6 text-xs"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"isDefault",checked:w,onChange:R=>x(R.target.checked),className:"rounded w-3 h-3"}),l.jsx("label",{htmlFor:"isDefault",className:"text-xs font-medium text-gray-700",children:"  "})]}),l.jsxs("div",{className:"border-t pt-2 mt-2",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[l.jsx(Nu,{className:"h-3 w-3 text-gray-600"}),l.jsx("label",{className:"text-xs font-medium text-gray-700",children:" "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:"   (  1000 )"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ts,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-gray-400"}),l.jsx(Ne,{type:"number",value:A,onChange:R=>D(R.target.value),placeholder:"10",min:"0",max:"100",step:"0.1",className:"pl-6 h-6 text-xs"})]}),l.jsx(ee,{onClick:N,variant:"outline",className:"h-6 px-2 text-xs",size:"sm",children:""})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" : ",A,"   1000 "]})]})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(ee,{onClick:S,className:"flex-1 h-6 text-xs",size:"sm",children:c?" ":" "}),l.jsx(ee,{variant:"outline",onClick:M,className:"h-6 text-xs",size:"sm",children:""})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.map(R=>l.jsxs(ot,{className:`${R.isDefault?"border-green-300 bg-green-50":""}`,children:[l.jsx($t,{className:"pb-1",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Bt,{className:"text-sm flex items-center gap-1",children:[l.jsx(Ps,{className:"h-3 w-3"}),R.name]}),R.isDefault&&l.jsx(Fn,{variant:"default",className:"bg-green-600 text-xs px-1 py-0",children:""})]})}),l.jsxs(at,{className:"space-y-1 pt-0",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Cs,{className:"h-3 w-3 text-gray-500"}),l.jsx("span",{className:"text-xs",children:R.phoneNumber})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ts,{className:"h-3 w-3 text-gray-500"}),l.jsxs("span",{className:"text-xs font-medium",children:[R.balance," "]})]}),l.jsxs("div",{className:"flex gap-1 pt-1",children:[l.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>C(R),className:"flex-1 h-5 text-xs px-1",children:[l.jsx(Qc,{className:"h-2 w-2 mr-0.5"}),""]}),!R.isDefault&&l.jsxs(l.Fragment,{children:[l.jsx(ee,{size:"sm",variant:"outline",onClick:()=>O(R.id),className:"flex-1 h-5 text-xs px-1",children:" "}),l.jsx(ee,{size:"sm",variant:"destructive",onClick:()=>P(R.id),className:"h-5 px-1",children:l.jsx(ki,{className:"h-2 w-2"})})]})]})]})]},R.id))}),s.length===0&&l.jsx("div",{className:"text-center py-4 text-gray-500 text-xs",children:"   .     ."})]})]})})};var Wz="Separator",WE="horizontal",Hz=["horizontal","vertical"],vR=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=WE,...s}=t,i=qz(r)?r:WE,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(we.div,{"data-orientation":i,...a,...s,ref:e})});vR.displayName=Wz;function qz(t){return Hz.includes(t)}var xR=vR;const ky=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>l.jsx(xR,{ref:s,decorative:n,orientation:e,className:_e("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));ky.displayName=xR.displayName;const wR=({isOpen:t,onClose:e,transaction:n,onDelete:r})=>{if(!n)return null;const s=h=>{switch(h){case"completed":return l.jsx(al,{className:"h-5 w-5 text-green-500"});case"pending":return l.jsx(ll,{className:"h-5 w-5 text-yellow-500"});case"failed":return l.jsx(Lv,{className:"h-5 w-5 text-red-500"});default:return l.jsx(ll,{className:"h-5 w-5 text-gray-500"})}},i=h=>{switch(h){case"completed":return"";case"pending":return" ";case"failed":return"";default:return" "}},o=h=>{switch(h){case"withdraw":return"";case"send":return"";case"receive":return"";default:return""}},a=h=>{switch(h){case"withdraw":return l.jsx(Mv,{className:"h-5 w-5 text-green-500"});default:return l.jsx(Ma,{className:"h-5 w-5 text-blue-500"})}},c=()=>{const h=`
      <div style="font-family: Arial, sans-serif; max-width: 400px; margin: 0 auto; padding: 20px;">
        <div style="text-align: center; margin-bottom: 20px;">
          <h2 style="color: #333; margin-bottom: 10px;"> </h2>
          <p style="color: #666; font-size: 14px;"> : ${n.id}</p>
        </div>
        
        <div style="border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin-bottom: 15px;">
          <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
            <span style="font-weight: bold;"> :</span>
            <span>${o(n.type)}</span>
          </div>
          
          <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
            <span style="font-weight: bold;">:</span>
            <span style="color: #2563eb; font-weight: bold;">${n.amount} </span>
          </div>
          
          <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
            <span style="font-weight: bold;">:</span>
            <span style="color: ${n.status==="completed"?"#16a34a":n.status==="pending"?"#ca8a04":"#dc2626"};">
              ${i(n.status)}
            </span>
          </div>
          
          ${n.type!=="withdraw"?`
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
              <span style="font-weight: bold;">:</span>
              <span>${n.senderPhone}</span>
            </div>
            
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
              <span style="font-weight: bold;">:</span>
              <span>${n.receiverPhone}</span>
            </div>
          `:`
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
              <span style="font-weight: bold;"> :</span>
              <span>${n.senderPhone}</span>
            </div>
          `}
          
          <div style="display: flex; justify-content: space-between;">
            <span style="font-weight: bold;">:</span>
            <span>${n.createdAt.toLocaleString("ar-EG")}</span>
          </div>
        </div>
        
        <div style="text-align: center; color: #666; font-size: 12px; margin-top: 20px;">
          <p>  </p>
          <p>  : ${new Date().toLocaleString("ar-EG")}</p>
        </div>
      </div>
    `,f=window.open("","_blank");f&&(f.document.write(`
        <html>
          <head>
            <title>  - ${n.id}</title>
            <style>
              body { margin: 0; padding: 20px; }
              @media print {
                body { margin: 0; }
              }
            </style>
          </head>
          <body>
            ${h}
          </body>
        </html>
      `),f.document.close(),f.print())},d=()=>{window.confirm("            .")&&r(n.id)};return l.jsx(zs,{open:t,onOpenChange:e,children:l.jsxs(as,{className:"max-w-md",children:[l.jsx(ls,{children:l.jsxs(cs,{className:"flex items-center gap-2",children:[a(n.type)," "]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ot,{children:l.jsxs(at,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[s(n.status),l.jsx("span",{className:"font-medium",children:i(n.status)})]}),l.jsx(Fn,{variant:n.status==="completed"?"default":"secondary",className:`${n.type==="withdraw"?"bg-green-100 text-green-800":""}`,children:o(n.type)})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-blue-600 mb-1",children:[n.type==="withdraw"?"-":"",n.amount," "]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[" : ",n.id]})]})]})}),l.jsx(ot,{children:l.jsxs(at,{className:"p-4 space-y-3",children:[n.type!=="withdraw"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cs,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm font-medium",children:""})]}),l.jsx("span",{className:"text-sm",children:n.senderPhone})]}),l.jsx(ky,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cs,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm font-medium",children:""})]}),l.jsx("span",{className:"text-sm",children:n.receiverPhone})]})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cs,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm font-medium",children:" "})]}),l.jsx("span",{className:"text-sm",children:n.senderPhone})]}),l.jsx(ky,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wO,{className:"h-4 w-4 text-gray-400"}),l.jsx("span",{className:"text-sm font-medium",children:""})]}),l.jsx("span",{className:"text-sm",children:n.createdAt.toLocaleString("ar-EG")})]})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ee,{onClick:c,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[l.jsx(NO,{className:"h-4 w-4 mr-2"})," "]}),l.jsxs(ee,{onClick:d,variant:"destructive",className:"flex-1",children:[l.jsx(ki,{className:"h-4 w-4 mr-2"})," "]})]}),l.jsx(ee,{onClick:e,variant:"outline",className:"w-full",children:""})]})]})})};class _r{static setSecretPin(e){const n=btoa(e);localStorage.setItem(this.SECRET_KEY,n)}static hasSecretPin(){return localStorage.getItem(this.SECRET_KEY)!==null}static verifySecretPin(e){const n=localStorage.getItem(this.SECRET_KEY);if(!n)return!1;try{return atob(n)===e}catch{return!1}}static clearSecretPin(){localStorage.removeItem(this.SECRET_KEY)}}ow(_r,"SECRET_KEY","dashboard_secret_pin");function _R({open:t,onOpenChange:e,onSuccess:n,title:r,description:s}){const[i,o]=p.useState(""),[a,c]=p.useState(""),[d,h]=p.useState(!1),[f,m]=p.useState(""),[y,T]=p.useState(!1),v=_r.hasSecretPin(),_=async w=>{w.preventDefault(),m(""),T(!0);try{if(v)_r.verifySecretPin(i)?(n(),e(!1),o("")):m("   ");else{if(i.length<4){m("     4   ");return}if(i!==a){m("    ");return}_r.setSecretPin(i),n(),e(!1),o(""),c("")}}catch{m("     ")}finally{T(!1)}},E=()=>{o(""),c(""),m(""),e(!1)};return l.jsx(zs,{open:t,onOpenChange:E,children:l.jsxs(as,{className:"sm:max-w-md",dir:"rtl",children:[l.jsx(ls,{children:l.jsxs(cs,{className:"flex items-center gap-2 text-center justify-center",children:[l.jsx(Mo,{className:"h-5 w-5 text-red-600"}),r]})}),l.jsx("div",{className:"text-center text-sm text-gray-600 mb-4",children:s}),l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"pin",children:v?"  ":"   "}),l.jsxs("div",{className:"relative",children:[l.jsx(Ne,{id:"pin",type:d?"text":"password",value:i,onChange:w=>o(w.target.value),placeholder:"  ",className:"pr-10",required:!0,minLength:4}),l.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:d?l.jsx(Kr,{className:"h-4 w-4"}):l.jsx(Qr,{className:"h-4 w-4"})})]})]}),!v&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"confirmPin",children:"  "}),l.jsx("div",{className:"relative",children:l.jsx(Ne,{id:"confirmPin",type:d?"text":"password",value:a,onChange:w=>c(w.target.value),placeholder:"   ",className:"pr-10",required:!0,minLength:4})})]}),f&&l.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded-lg",children:[l.jsx(kf,{className:"h-4 w-4"}),f]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(ee,{type:"button",variant:"outline",onClick:E,className:"flex-1",disabled:y,children:""}),l.jsx(ee,{type:"submit",className:"flex-1 bg-red-600 hover:bg-red-700",disabled:y,children:y?" ...":v?"":"  "})]})]}),!v&&l.jsx("div",{className:"text-xs text-gray-500 text-center mt-2",children:"        "})]})})}function Pc({open:t,onOpenChange:e,onSuccess:n,title:r,description:s,currentBalance:i,balanceLabel:o}){const[a,c]=p.useState(""),[d,h]=p.useState(i.toString()),[f,m]=p.useState(!1),[y,T]=p.useState(""),[v,_]=p.useState(!1),E=_r.hasSecretPin(),w=async A=>{A.preventDefault(),T(""),_(!0);try{const D=parseFloat(d);if(isNaN(D)||D<0){T("   "),_(!1);return}E?_r.verifySecretPin(a)?(n(D),e(!1),c(""),h("")):T("   "):T("    .        ")}catch{T("      ")}finally{_(!1)}},x=()=>{c(""),h(i.toString()),T(""),e(!1)};return Z.useEffect(()=>{t&&h(i.toString())},[i,t]),l.jsx(zs,{open:t,onOpenChange:x,children:l.jsxs(as,{className:"sm:max-w-md",dir:"rtl",children:[l.jsx(ls,{children:l.jsxs(cs,{className:"flex items-center gap-2 text-right",children:[l.jsx(Ts,{className:"h-5 w-5"}),r]})}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground text-right",children:s}),l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[l.jsxs(Ge,{className:"text-sm font-medium text-gray-700",children:[o," "]}),l.jsxs("div",{className:"text-lg font-bold text-gray-900 mt-1",children:[i.toLocaleString()," "]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"newAmount",className:"text-right",children:" "}),l.jsx(Ne,{id:"newAmount",type:"number",step:"0.01",min:"0",value:d,onChange:A=>h(A.target.value),placeholder:"  ",className:"text-right",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"pin",className:"text-right",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Ne,{id:"pin",type:f?"text":"password",value:a,onChange:A=>c(A.target.value),placeholder:"  ",className:"text-right pr-10",required:!0}),l.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!f),children:f?l.jsx(Kr,{className:"h-4 w-4"}):l.jsx(Qr,{className:"h-4 w-4"})})]})]}),y&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:[l.jsx(kf,{className:"h-4 w-4"}),y]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(ee,{type:"button",variant:"outline",onClick:x,className:"flex-1",children:""}),l.jsx(ee,{type:"submit",disabled:v||!a||!d,className:"flex-1",children:v?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})," ..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Mo,{className:"h-4 w-4 mr-2"})," "]})})]})]})]})})}function ER({open:t,onOpenChange:e}){const[n,r]=p.useState(""),[s,i]=p.useState(""),[o,a]=p.useState(""),[c,d]=p.useState(!1),[h,f]=p.useState(!1),[m,y]=p.useState(!1),[T,v]=p.useState(""),[_,E]=p.useState(!1),{toast:w}=Cr(),x=_r.hasSecretPin(),A=async M=>{M.preventDefault(),v(""),E(!0);try{if(!s||s.length<4){v("     4   "),E(!1);return}if(s!==o){v("     "),E(!1);return}if(x){if(!n){v("    "),E(!1);return}if(!_r.verifySecretPin(n)){v("    "),E(!1);return}}_r.setSecretPin(s),w({title:x?"   ":"   ",description:x?"    ":"    "}),D()}catch{v("     ")}finally{E(!1)}},D=()=>{r(""),i(""),a(""),v(""),d(!1),f(!1),y(!1),e(!1)};return l.jsx(zs,{open:t,onOpenChange:D,children:l.jsxs(as,{className:"sm:max-w-md",dir:"rtl",children:[l.jsx(ls,{children:l.jsxs(cs,{className:"flex items-center gap-2 text-right",children:[l.jsx(Nu,{className:"h-5 w-5"}),x?"  ":"  "]})}),l.jsxs("form",{onSubmit:A,className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground text-right",children:x?"       ":"         "}),x&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"currentPin",className:"text-right block",children:"  "}),l.jsxs("div",{className:"relative",children:[l.jsx(Ne,{id:"currentPin",type:c?"text":"password",value:n,onChange:M=>r(M.target.value),placeholder:"   ",className:"pr-10",dir:"ltr"}),l.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!c),children:c?l.jsx(Kr,{className:"h-4 w-4"}):l.jsx(Qr,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"newPin",className:"text-right block",children:"  "}),l.jsxs("div",{className:"relative",children:[l.jsx(Ne,{id:"newPin",type:h?"text":"password",value:s,onChange:M=>i(M.target.value),placeholder:"   ",className:"pr-10",dir:"ltr"}),l.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(!h),children:h?l.jsx(Kr,{className:"h-4 w-4"}):l.jsx(Qr,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"confirmPin",className:"text-right block",children:"   "}),l.jsxs("div",{className:"relative",children:[l.jsx(Ne,{id:"confirmPin",type:m?"text":"password",value:o,onChange:M=>a(M.target.value),placeholder:"    ",className:"pr-10",dir:"ltr"}),l.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!m),children:m?l.jsx(Kr,{className:"h-4 w-4"}):l.jsx(Qr,{className:"h-4 w-4"})})]})]}),T&&l.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[l.jsx(kf,{className:"h-4 w-4"}),T]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsxs(ee,{type:"submit",disabled:_,className:"flex-1",children:[l.jsx(Mo,{className:"h-4 w-4 mr-2"}),_?" ...":x?"  ":"  "]}),l.jsx(ee,{type:"button",variant:"outline",onClick:D,disabled:_,children:""})]})]})]})})}function jy({open:t,onOpenChange:e,onSuccess:n,title:r,description:s,currentBalance:i,balanceLabel:o}){const[a,c]=p.useState(""),[d,h]=p.useState(""),[f,m]=p.useState("add"),[y,T]=p.useState(!1),[v,_]=p.useState(""),[E,w]=p.useState(!1),x=_r.hasSecretPin(),A=async N=>{N.preventDefault(),_(""),w(!0);try{const S=parseFloat(d);if(isNaN(S)||S<=0){_("      "),w(!1);return}if(f==="subtract"&&S>i){_("       "),w(!1);return}if(x)if(_r.verifySecretPin(a)){const C=f==="add"?S:-S;n(C),D()}else _("   ");else _("    .        ")}catch{_("      ")}finally{w(!1)}},D=()=>{c(""),h(""),m("add"),_(""),e(!1)},M=()=>{const N=parseFloat(d)||0;return f==="add"?i+N:i-N};return l.jsx(zs,{open:t,onOpenChange:D,children:l.jsxs(as,{className:"sm:max-w-md",dir:"rtl",children:[l.jsx(ls,{children:l.jsxs(cs,{className:"flex items-center gap-2 text-right",children:[f==="add"?l.jsx(As,{className:"h-5 w-5 text-green-600"}):l.jsx(Vg,{className:"h-5 w-5 text-red-600"}),r]})}),l.jsxs("form",{onSubmit:A,className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-muted-foreground text-right",children:s}),l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[l.jsxs(Ge,{className:"text-sm font-medium text-gray-700",children:[o," "]}),l.jsxs("div",{className:"text-lg font-bold text-gray-900 mt-1",children:[i.toLocaleString()," "]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{className:"text-right",children:" "}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ee,{type:"button",variant:f==="add"?"default":"outline",onClick:()=>m("add"),className:"flex-1 flex items-center gap-2",children:[l.jsx(As,{className:"h-4 w-4"}),""]}),l.jsxs(ee,{type:"button",variant:f==="subtract"?"default":"outline",onClick:()=>m("subtract"),className:"flex-1 flex items-center gap-2",children:[l.jsx(Vg,{className:"h-4 w-4"}),""]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"amount",className:"text-right",children:["  ",f==="add"?"":""]}),l.jsx(Ne,{id:"amount",type:"number",step:"0.01",min:"0.01",value:d,onChange:N=>h(N.target.value),placeholder:`   ${f==="add"?"":""}`,className:"text-right",required:!0})]}),d&&!isNaN(parseFloat(d))&&l.jsxs("div",{className:`p-3 rounded-lg ${f==="add"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[l.jsx(Ge,{className:"text-sm font-medium text-gray-700",children:"  "}),l.jsxs("div",{className:`text-lg font-bold mt-1 ${f==="add"?"text-green-700":"text-red-700"}`,children:[M().toLocaleString()," "]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"pin",className:"text-right",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Ne,{id:"pin",type:y?"text":"password",value:a,onChange:N=>c(N.target.value),placeholder:"  ",className:"text-right pr-10",required:!0}),l.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute left-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>T(!y),children:y?l.jsx(Kr,{className:"h-4 w-4"}):l.jsx(Qr,{className:"h-4 w-4"})})]})]}),v&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:[l.jsx(kf,{className:"h-4 w-4"}),v]}),l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(ee,{type:"button",variant:"outline",onClick:D,className:"flex-1",children:""}),l.jsx(ee,{type:"submit",disabled:E||!a||!d,className:`flex-1 ${f==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:E?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})," ..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Mo,{className:"h-4 w-4 mr-2"}),f==="add"?" ":" "]})})]})]})]})})}const Gz=()=>{var Dr;const{toast:t}=Cr(),{signOut:e}=Rr(),[n,r]=p.useState("01030302038"),[s,i]=p.useState(""),[o,a]=p.useState(""),[c,d]=p.useState("transfer"),[h,f]=p.useState([]),[m,y]=p.useState("all"),[T,v]=p.useState(!1),[_,E]=p.useState(""),[w,x]=p.useState([]),[A,D]=p.useState(null),[M,N]=p.useState(!1);p.useState([]),p.useState([]);const[S,C]=p.useState(!1),[P,O]=p.useState("daily"),[R,k]=p.useState([]),z=2e5,se=2e5,[X,ie]=p.useState(0),[F,L]=p.useState({}),[Y,ce]=p.useState(!1),[ne,ue]=p.useState(!1),[me,Te]=p.useState(!1),[Me,K]=p.useState(!1),[Re,Se]=p.useState(!1),[Ee,Ce]=p.useState(""),[ye,tt]=p.useState(!1);p.useEffect(()=>{const U=localStorage.getItem("wallets");if(U){const j=JSON.parse(U);x(j);const B=j.find(G=>G.isDefault);B&&(E(B.id),r(B.phone))}else{const j=[{id:"admin-wallet-1",name:"  ",phone:"01030302038",isDefault:!0,monthlyWithdrawalLimit:2e5,monthlyTransferLimit:2e5},{id:"admin-wallet-2",name:"  ",phone:"01234567890",isDefault:!1,monthlyWithdrawalLimit:2e5,monthlyTransferLimit:2e5}];x(j),localStorage.setItem("wallets",JSON.stringify(j)),E("admin-wallet-1"),r("01030302038")}const ae=localStorage.getItem("deletedTransactions");if(ae){const j=JSON.parse(ae);k(j)}const fe=localStorage.getItem("adminCashBalance");fe&&ie(parseFloat(fe));const ge=localStorage.getItem("adminWalletBalances");if(ge)L(JSON.parse(ge));else{const j={"admin-wallet-1":5e3,"admin-wallet-2":3e3};L(j),localStorage.setItem("adminWalletBalances",JSON.stringify(j))}},[]);const bt=U=>{E(U);const ae=w.find(fe=>fe.id===U);ae&&r(ae.phone)},Dt=U=>{d(U),i(""),a("")},dn=U=>{D(U),N(!0)},Ot=U=>{const ae=h.find(fe=>fe.id===U);if(ae){const fe=[...R,ae];k(fe),localStorage.setItem("deletedTransactions",JSON.stringify(fe));const ge=h.filter(j=>j.id!==U);f(ge),localStorage.setItem("transactions",JSON.stringify(ge)),N(!1),t({title:"    ",description:"      .   "})}},hn=U=>{const ae=localStorage.getItem("withdrawalCommissionRate"),fe=ae?parseFloat(ae):10;return Math.ceil(U/1e3*fe)},Mt=U=>Math.ceil(U/1e3*5),kn=()=>{const U=parseFloat(o)||0,ae=hn(U);return U+ae},Gt=()=>{const U=new Date().toDateString(),ae=h.filter(G=>new Date(G.createdAt).toDateString()===U&&G.status==="completed"),fe=ae.length,ge=ae.reduce((G,J)=>G+J.amount,0),j=ae.filter(G=>G.type==="withdraw").reduce((G,J)=>G+(J.withdrawnAmount||0),0),B=ae.filter(G=>G.type==="send").reduce((G,J)=>G+(J.sentAmount||0),0);return{totalTransactions:fe,totalAmount:ge,totalWithdrawn:j,totalSent:B}},Ks=()=>{const U=new Date().getMonth(),ae=new Date().getFullYear(),fe=h.filter(J=>{const de=new Date(J.createdAt);return de.getMonth()===U&&de.getFullYear()===ae&&J.status==="completed"}),ge=fe.length,j=fe.reduce((J,de)=>J+de.amount,0),B=fe.filter(J=>J.type==="withdraw").reduce((J,de)=>J+(de.withdrawnAmount||0),0),G=fe.filter(J=>J.type==="send").reduce((J,de)=>J+(de.sentAmount||0),0);return{totalTransactions:ge,totalAmount:j,totalWithdrawn:B,totalSent:G}};p.useEffect(()=>{const U=localStorage.getItem("transactions");U&&f(JSON.parse(U))},[]);const Kt=()=>{if(c==="transfer"){if(!n||!s||!o){t({title:"",description:"    ",variant:"destructive"});return}const U=Mt(parseFloat(o));if(X<U){t({title:"  ",description:`   ${X}       ${U} `,variant:"destructive"});return}const ae={id:Date.now().toString(),type:"send",senderPhone:n,receiverPhone:s,amount:parseFloat(o),status:"pending",createdAt:new Date,withdrawnAmount:0,sentAmount:parseFloat(o)},fe=[ae,...h];f(fe),localStorage.setItem("transactions",JSON.stringify(fe));const ge=X-U;ie(ge),localStorage.setItem("adminCashBalance",ge.toString()),t({title:"  ",description:"  ..."}),setTimeout(()=>{const B=[{...ae,status:"completed"},...h];f(B),localStorage.setItem("transactions",JSON.stringify(B)),t({title:"  ",description:`  ${o}   ${s}   ${U}   `})},2e3),r("01030302038"),i(""),a("")}else{if(!n||!o){t({title:"",description:"    ",variant:"destructive"});return}const U=kn();if(X<U){t({title:"  ",description:`   ${X}     ${U} `,variant:"destructive"});return}const ae={id:Date.now().toString(),type:"withdraw",senderPhone:n,receiverPhone:s,amount:parseFloat(o),status:"pending",createdAt:new Date,withdrawnAmount:U,sentAmount:0},fe=[ae,...h];f(fe),localStorage.setItem("transactions",JSON.stringify(fe));const ge=X-U;ie(ge),localStorage.setItem("adminCashBalance",ge.toString());const j={...F};_?j[_]=(j[_]||0)+parseFloat(o):j[n]=(j[n]||0)+parseFloat(o),L(j),localStorage.setItem("adminWalletBalances",JSON.stringify(j)),t({title:"  ",description:"   ..."}),setTimeout(()=>{const G=[{...ae,status:"completed"},...h];f(G),localStorage.setItem("transactions",JSON.stringify(G)),t({title:"  ",description:`  ${o}  +  ${hn(parseFloat(o))}  = ${U}  `})},2e3),r("01030302038"),a("")}},jn=U=>{switch(U){case"completed":return l.jsx(al,{className:"h-4 w-4 text-green-500"});case"pending":return l.jsx(ll,{className:"h-4 w-4 text-yellow-500"});case"failed":return l.jsx(Lv,{className:"h-4 w-4 text-red-500"});default:return l.jsx(ll,{className:"h-4 w-4 text-gray-500"})}},Qs=U=>{switch(U){case"completed":return"";case"pending":return" ";case"failed":return"";default:return" "}},Ue=h.filter(U=>m==="all"?!0:m==="pending"?U.type==="send":m==="completed"?U.status==="completed":m==="withdraw"?U.type==="withdraw":!0),Qe=Gt(),Qt=Ks(),Dn=()=>{if(P==="daily"){const U=new Date().toDateString(),ae=h.filter(j=>new Date(j.createdAt).toDateString()===U),fe=[...R,...ae];k(fe),localStorage.setItem("deletedTransactions",JSON.stringify(fe));const ge=h.filter(j=>new Date(j.createdAt).toDateString()!==U);f(ge),localStorage.setItem("transactions",JSON.stringify(ge)),t({title:"   ",description:`  ${ae.length}     `})}else{const U=new Date().getMonth(),ae=new Date().getFullYear(),fe=h.filter(B=>{const G=new Date(B.createdAt);return G.getMonth()===U&&G.getFullYear()===ae}),ge=[...R,...fe];k(ge),localStorage.setItem("deletedTransactions",JSON.stringify(ge));const j=h.filter(B=>{const G=new Date(B.createdAt);return G.getMonth()!==U||G.getFullYear()!==ae});f(j),localStorage.setItem("transactions",JSON.stringify(j)),t({title:"   ",description:`  ${fe.length}     `})}C(!1)},On=U=>{ie(U),localStorage.setItem("adminCashBalance",U.toString()),t({title:"   ",description:`       ${U} `})},hs=U=>{const ae=X+U;ie(ae),localStorage.setItem("adminCashBalance",ae.toString()),Te(!1);const fe=U>=0?"":"",ge=Math.abs(U);t({title:` ${fe} `,description:` ${fe} ${ge}  ${U>=0?"":""}  .  : ${ae} `})},Kn=U=>{const ae=Object.keys(F);if(ae.length===0){t({title:"",description:"      ",variant:"destructive"});return}const fe=U/ae.length,ge={...F};ae.forEach(J=>{const de=ge[J]||0;ge[J]=de+fe}),L(ge),localStorage.setItem("adminWalletBalances",JSON.stringify(ge)),K(!1);const j=U>=0?"":"",B=Math.abs(U),G=Object.values(ge).reduce((J,de)=>J+de,0);t({title:` ${j} `,description:` ${j} ${B}  ${U>=0?"":""}  .  : ${G.toFixed(2)} `})},_n=U=>{const ae=Object.keys(F);if(ae.length===0){t({title:"",description:"    ",variant:"destructive"});return}const fe=U/ae.length,ge={...F};ae.forEach(j=>{ge[j]=fe}),L(ge),localStorage.setItem("adminWalletBalances",JSON.stringify(ge)),Se(!1),t({title:"  ",description:`     ${U.toFixed(2)} `})},fn=()=>P==="daily"?"    ":"    ",or=()=>P==="daily"?"       .     .":"       .     .",Qn=()=>{var G;const U=new Date().getMonth(),ae=new Date().getFullYear(),fe=((G=w.find(J=>J.id===_))==null?void 0:G.phone)||n,ge=h.filter(J=>{const de=new Date(J.createdAt);return de.getMonth()===U&&de.getFullYear()===ae&&J.status==="completed"&&J.senderPhone===fe}),j=ge.filter(J=>J.type==="withdraw").reduce((J,de)=>J+de.amount,0),B=ge.filter(J=>J.type==="send").reduce((J,de)=>J+de.amount,0);return{totalWithdrawn:j,totalTransferred:B}},{totalWithdrawn:Ys,totalTransferred:jr}=Qn(),fs=U=>{const ae=[...h,U];f(ae),localStorage.setItem("transactions",JSON.stringify(ae));const fe=R.filter(ge=>ge.id!==U.id);k(fe),localStorage.setItem("deletedTransactions",JSON.stringify(fe)),t({title:"   ",description:`   ${U.type==="withdraw"?"":""}  ${U.amount} `})};return l.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 fade-in",children:[l.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[l.jsxs(ot,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200 card-float fade-in-left card-interactive hover-shadow-lg tilt",children:[l.jsx($t,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Bt,{className:"text-xs font-medium text-purple-700 hover-text-glow",children:" "}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>{O("monthly"),C(!0)},className:"h-5 w-5 p-0 text-purple-600 hover:text-purple-800 hover:bg-purple-200 btn-bounce ripple magnetic hover-rotate",title:"  ",children:l.jsx(ki,{className:"h-2.5 w-2.5"})}),l.jsx(Ma,{className:"h-2.5 w-2.5 text-purple-600 hover-rotate"})]})]})}),l.jsxs(at,{className:"space-y-0.5 pt-0 px-3 pb-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:" :"}),l.jsx("span",{className:"font-bold text-xs text-purple-800",children:Qt.totalTransactions})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:" :"}),l.jsxs("span",{className:"font-bold text-xs text-purple-800",children:[Qt.totalAmount.toFixed(2)," ."]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:":"}),l.jsxs("span",{className:"font-bold text-xs text-purple-800",children:[Qt.totalWithdrawn.toFixed(2)," ."]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:":"}),l.jsxs("span",{className:"font-bold text-xs text-purple-800",children:[Qt.totalSent.toFixed(2)," ."]})]})]})]}),l.jsxs(ot,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200 card-float fade-in-right card-interactive hover-shadow-lg tilt",children:[l.jsx($t,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Bt,{className:"text-xs font-medium text-blue-700 hover-text-glow",children:" "}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>{O("daily"),C(!0)},className:"h-5 w-5 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-200 btn-bounce ripple magnetic hover-rotate",title:"  ",children:l.jsx(ki,{className:"h-2.5 w-2.5"})}),l.jsx(Ma,{className:"h-2.5 w-2.5 text-blue-600 hover-rotate"})]})]})}),l.jsxs(at,{className:"space-y-0.5 pt-0 px-3 pb-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:" :"}),l.jsx("span",{className:"font-bold text-xs text-blue-800",children:Qe.totalTransactions})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:" :"}),l.jsxs("span",{className:"font-bold text-xs text-blue-800",children:[Qe.totalAmount.toFixed(2)," ."]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:":"}),l.jsxs("span",{className:"font-bold text-xs text-blue-800",children:[Qe.totalWithdrawn.toFixed(2)," ."]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:":"}),l.jsxs("span",{className:"font-bold text-xs text-blue-800",children:[Qe.totalSent.toFixed(2)," ."]})]})]})]})]}),l.jsx(ot,{className:"card-glow fade-in-up mb-4",children:l.jsx(at,{className:"p-2",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ts,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{className:"text-xs font-medium text-green-800",children:"  "}),l.jsxs("span",{className:"text-sm font-bold text-green-700 mr-2",children:[X.toLocaleString()," "]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ee,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{Te(!0)},title:"/   ",children:l.jsx(As,{className:"h-3 w-3 text-green-600"})}),l.jsx(ee,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{ce(!0)},title:"  ",children:l.jsx(Qc,{className:"h-3 w-3 text-green-600"})})]})]})}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ps,{className:"h-3 w-3 text-blue-600"}),l.jsx("span",{className:"text-xs font-medium text-blue-800",children:" "}),l.jsxs("span",{className:"text-sm font-bold text-blue-700 mr-2",children:[Object.values(F).reduce((U,ae)=>U+ae,0).toLocaleString()," "]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ee,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{K(!0)},title:"/   ",children:l.jsx(As,{className:"h-3 w-3 text-blue-600"})}),l.jsx(ee,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>{Se(!0)},title:"  ",children:l.jsx(Qc,{className:"h-3 w-3 text-blue-600"})})]})]})})]})})}),l.jsxs(ot,{className:"card-glow fade-in-up",children:[l.jsx($t,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Bt,{className:"text-xs font-bold",children:"  (0)"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-xs text-gray-500",children:""}),l.jsx("span",{className:"text-xs text-gray-600",children:" "})]})]})}),l.jsx(at,{className:"px-3 pb-3",children:l.jsxs(sP,{value:m,onValueChange:y,children:[l.jsxs(nx,{className:"grid w-full grid-cols-5 transition-all duration-300 h-6",children:[l.jsxs(yr,{value:"all",className:"text-xs transition-bounce h-5",children:[" (",h.length,")"]}),l.jsxs(yr,{value:"pending",className:"text-xs transition-bounce h-5",children:[" (",h.filter(U=>U.type==="send").length,")"]}),l.jsxs(yr,{value:"completed",className:"text-xs transition-bounce h-5",children:[" (",h.filter(U=>U.status==="completed").length,")"]}),l.jsxs(yr,{value:"withdraw",className:"text-xs transition-bounce h-5",children:[" (",h.filter(U=>U.type==="withdraw").length,")"]}),l.jsxs(yr,{value:"deleted",className:"text-xs transition-bounce h-5",children:[" (",R.length,")"]})]}),l.jsx(ho,{value:m,className:"mt-2 fade-in tab-content-fade tab-slide-in",children:m==="deleted"?R.length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"   "}):l.jsx("div",{className:"space-y-1 tab-content-smooth",children:R.map((U,ae)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded-lg border border-red-200 hover-lift stagger-item tab-stagger-item",style:{animationDelay:`${ae*.1}s`},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[jn(U.status),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-xs",children:U.type==="withdraw"?`   - ${U.senderPhone}`:`${U.senderPhone}  ${U.receiverPhone}`}),l.jsx("p",{className:"text-xs text-gray-500",children:U.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"font-bold text-xs",children:[U.type==="withdraw"?"-":"",U.amount," "]}),U.withdrawnAmount&&l.jsxs("p",{className:"text-xs text-red-600",children:[": ",U.withdrawnAmount," "]}),U.sentAmount&&l.jsxs("p",{className:"text-xs text-green-600",children:[": ",U.sentAmount," "]}),l.jsx(Fn,{variant:"secondary",className:"text-xs bg-red-100 text-red-800 transition-bounce",children:""})]}),l.jsx(ee,{size:"sm",variant:"outline",className:"text-xs h-6 px-1 btn-bounce hover-glow ripple magnetic hover-scale",onClick:()=>fs(U),children:""})]})]},U.id))}):Ue.length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"     "}):l.jsx("div",{className:"space-y-1 fade-in-up tab-content-smooth",children:Ue.map((U,ae)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-all duration-300 hover-glow stagger-item card-float tab-stagger-item card-interactive hover-shadow-lg tilt",style:{animationDelay:`${ae*.1}s`},onClick:()=>dn(U),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[jn(U.status),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-xs",children:U.type==="withdraw"?`   - ${U.senderPhone}`:`${U.senderPhone}  ${U.receiverPhone}`}),l.jsx("p",{className:"text-xs text-gray-500",children:U.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"font-bold text-xs",children:[U.type==="withdraw"?"-":"",U.amount," "]}),U.withdrawnAmount&&l.jsxs("p",{className:"text-xs text-red-600",children:[": ",U.withdrawnAmount," "]}),U.sentAmount&&l.jsxs("p",{className:"text-xs text-green-600",children:[": ",U.sentAmount," "]}),l.jsx(Fn,{variant:U.status==="completed"?"default":"secondary",className:`text-xs ${U.type==="withdraw"?"bg-green-100 text-green-800":""}`,children:U.type==="withdraw"?"":Qs(U.status)})]})]},U.id))})})]})})]})]}),l.jsxs("div",{className:"space-y-2 fade-in-right",children:[l.jsxs(ot,{className:"card-glow",children:[l.jsx($t,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Bt,{className:"text-xs font-bold flex items-center gap-1",children:[l.jsx(al,{className:"h-3 w-3 text-green-500"}),"  "]}),l.jsxs(ee,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-white hover:bg-gray-50 border-gray-300 text-xs btn-bounce hover-glow h-6 px-2",onClick:()=>v(!0),children:[l.jsx(Ps,{className:"h-2.5 w-2.5"})," "]}),l.jsxs(ee,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-blue-50 hover:bg-blue-100 border-blue-300 text-blue-600 text-xs btn-bounce hover-glow h-6 px-2",onClick:()=>tt(!0),children:[l.jsx(Nu,{className:"h-2.5 w-2.5"}),"  "]}),l.jsxs(ee,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-red-50 hover:bg-red-100 border-red-300 text-red-600 text-xs btn-bounce hover-glow h-6 px-2",onClick:async()=>{try{await e(),t({title:"   ",description:"  "})}catch{t({title:"   ",description:"    ",variant:"destructive"})}},children:[l.jsx(Vv,{className:"h-2.5 w-2.5"})," "]})]})}),l.jsxs(at,{className:"space-y-2 px-3 pb-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-1 p-0.5 bg-gray-100 rounded-lg fade-in-up",children:[l.jsx(ee,{variant:c==="transfer"?"default":"ghost",onClick:()=>Dt("transfer"),className:`text-xs transition-bounce ripple magnetic hover-scale h-6 ${c==="transfer"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-200"}`,children:""}),l.jsx(ee,{variant:c==="withdraw"?"default":"ghost",onClick:()=>Dt("withdraw"),className:`text-xs transition-bounce ripple magnetic hover-scale h-6 ${c==="withdraw"?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-200"}`,children:""})]}),w.length>0&&l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-0.5 block",children:" "}),l.jsxs(ox,{value:_,onValueChange:bt,children:[l.jsx(Ep,{className:"w-full h-6 text-xs transition-all duration-300 hover:border-blue-400",children:l.jsx(ax,{placeholder:"  "})}),l.jsx(bp,{children:w.map(U=>l.jsx(vo,{value:U.id,children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ps,{className:"h-2.5 w-2.5"}),l.jsx("span",{className:"text-xs",children:U.name}),l.jsxs("span",{className:"text-gray-500 text-xs",children:["(",U.phone,")"]}),U.isDefault&&l.jsx(Fn,{variant:"secondary",className:"text-xs",children:""})]})},U.id))})]})]}),l.jsx("div",{className:"fade-in-up mb-2",children:l.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-1 rounded-md border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[l.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-1 overflow-hidden flex",children:[l.jsx("div",{className:"w-1/2 bg-red-200 relative",children:l.jsx("div",{className:"bg-gradient-to-r from-red-400 to-red-600 h-1 transition-all duration-700 ease-out shadow-sm",style:{width:`${Math.min(Ys/z*100,100)}%`}})}),l.jsx("div",{className:"w-1/2 bg-blue-200 relative",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 h-1 transition-all duration-700 ease-out shadow-sm",style:{width:`${Math.min(jr/se*100,100)}%`}})})]}),l.jsxs("div",{className:"flex justify-between items-center mt-0.5",children:[l.jsxs("div",{className:"text-xs text-red-600 font-medium",children:[" : ",Math.max(z-Ys,0)," "]}),l.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:[" : ",Math.max(se-jr,0)," "]})]})]})}),l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c==="transfer"?" ":" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Ne,{value:n,onChange:U=>r(U.target.value),placeholder:"01030302038",className:"pl-10 h-10 text-sm transition-all duration-300 hover:border-blue-400 focus:border-blue-500"})]})]}),l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c==="transfer"?" ":" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Ne,{value:s,onChange:U=>i(U.target.value),placeholder:"  ",className:"pl-10 h-10 text-sm transition-all duration-300 hover:border-blue-400 focus:border-blue-500"})]})]}),l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c==="transfer"?" ()":"  ()"}),l.jsxs("div",{className:"relative",children:[c==="transfer"?l.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}):l.jsx(Mv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-green-500"}),l.jsx(Ne,{value:o,onChange:U=>a(U.target.value),placeholder:c==="transfer"?" ":"  ",type:"number",className:"pl-10 h-10 text-sm transition-all duration-300 hover:border-blue-400 focus:border-blue-500"})]})]}),l.jsx("div",{className:`text-center text-sm p-3 rounded fade-in-up ${c==="transfer"?"text-gray-600 bg-gray-50":"text-green-600 bg-green-50 border border-green-200"}`,children:c==="transfer"?l.jsxs(l.Fragment,{children:[" ()",l.jsx("br",{}),l.jsx("span",{className:"text-sm",children:"  "})]}):l.jsxs(l.Fragment,{children:["    ",l.jsx("br",{}),o&&parseFloat(o)>0&&l.jsxs("div",{className:"mt-1 text-sm space-y-1",children:[l.jsxs("div",{children:[": ",o," "]}),l.jsxs("div",{children:[": ",hn(parseFloat(o))," "]}),l.jsxs("div",{className:"font-bold border-t pt-1",children:[": ",kn()," "]})]}),l.jsx("span",{className:"text-sm block mt-1",children:" : 10   1000 "})]})}),l.jsx(ee,{onClick:Kt,className:`w-full font-medium h-10 text-sm btn-bounce hover-glow transition-all duration-300 ${c==="transfer"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:c==="transfer"?" ":" "})]})]}),l.jsx(ot,{className:"bg-gradient-to-br from-red-50 to-red-100 border-red-200 fade-in-up card-float",children:l.jsxs(at,{className:"p-3 text-center",children:[l.jsx("div",{className:"text-red-600 font-medium text-xs mb-1",children:"   "}),l.jsx("div",{className:"text-xs text-red-700",children:"         "})]})})]})]}),l.jsx(yR,{isOpen:T,onClose:()=>v(!1),onWalletUpdate:()=>{const U=localStorage.getItem("wallets");if(U){const ae=JSON.parse(U);x(ae)}}}),l.jsx(wR,{isOpen:M,onClose:()=>N(!1),transaction:A,onDelete:Ot}),l.jsx(_R,{open:S,onOpenChange:C,onSuccess:Dn,title:fn(),description:or()}),l.jsx(Pc,{open:Y,onOpenChange:ce,onSuccess:On,title:"    ",description:"         ",currentBalance:X,balanceLabel:" "}),l.jsx(Pc,{open:ne,onOpenChange:ue,onSuccess:()=>{},title:"  ",description:"       ",currentBalance:Ee&&F[Ee]||0,balanceLabel:` ${((Dr=w.find(U=>U.id===Ee))==null?void 0:Dr.name)||""}`}),l.jsx(jy,{open:me,onOpenChange:Te,onSuccess:hs,title:"      ",description:"          ",currentBalance:X,balanceLabel:" "}),l.jsx(jy,{open:Me,onOpenChange:K,onSuccess:Kn,title:"      ",description:"          ",currentBalance:Object.values(F).reduce((U,ae)=>U+ae,0),balanceLabel:" "}),l.jsx(Pc,{open:Re,onOpenChange:Se,onSuccess:_n,title:"  ",description:"      ",currentBalance:Object.values(F).reduce((U,ae)=>U+ae,0),balanceLabel:" "}),l.jsx(ER,{open:ye,onOpenChange:tt})]})},Kz=()=>{const t=Hs(),[e,n]=p.useState(!1),[r,s]=p.useState(!0);return p.useEffect(()=>{(()=>{const o=localStorage.getItem("dashboardAuth"),a=localStorage.getItem("dashboardUser");if(o==="true"&&a)try{const c=JSON.parse(a),d=new Date(c.loginTime);(new Date().getTime()-d.getTime())/(1e3*60*60)<24?n(!0):(localStorage.removeItem("dashboardAuth"),localStorage.removeItem("dashboardUser"),t("/dashboard/login"))}catch(c){console.error("Error parsing user data:",c),t("/dashboard/login")}else t("/dashboard/login");s(!1)})()},[t]),r?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"    ..."})]})}):e?l.jsx(Gz,{}):null},Qz=()=>{var fe,ge;const{toast:t}=Cr(),{signOut:e}=Rr(),[n,r]=p.useState("01030302038"),[s,i]=p.useState(""),[o,a]=p.useState(""),[c,d]=p.useState("transfer"),[h,f]=p.useState([]),[m,y]=p.useState("all"),[T,v]=p.useState(!1),[_,E]=p.useState(""),[w,x]=p.useState([]),[A,D]=p.useState(null),[M,N]=p.useState(!1);p.useState([]),p.useState([]);const[S,C]=p.useState(!1),[P,O]=p.useState("daily"),[R,k]=p.useState([]),z=2e5,se=2e5,[X,ie]=p.useState(0),[F,L]=p.useState({}),[Y,ce]=p.useState(!1),[ne,ue]=p.useState(!1),[me,Te]=p.useState(!1),[Me,K]=p.useState(""),[Re,Se]=p.useState(""),[Ee,Ce]=p.useState(!1),[ye,tt]=p.useState("");p.useState(!1);const[bt,Dt]=p.useState(!1),[dn,Ot]=p.useState(!1),[hn,Mt]=p.useState(""),[kn,Gt]=p.useState("");w.reduce((j,B)=>j+(F[B.id]||0),0),p.useEffect(()=>{const j=localStorage.getItem("wallets");if(j){const de=JSON.parse(j);x(de);const ke=de.find($e=>$e.isDefault);ke&&(E(ke.id),r(ke.phone))}else{const de=[{id:"wallet-1",name:" ",phone:"01030302038",isDefault:!0,monthlyWithdrawalLimit:2e5,monthlyTransferLimit:2e5},{id:"wallet-2",name:" ",phone:"01234567890",isDefault:!1,monthlyWithdrawalLimit:2e5,monthlyTransferLimit:2e5}];x(de),localStorage.setItem("wallets",JSON.stringify(de)),E("wallet-1"),r("01030302038")}const B=localStorage.getItem("deletedTransactions");if(B){const de=JSON.parse(B);k(de)}const G=localStorage.getItem("userCashBalance");G&&ie(parseFloat(G));const J=localStorage.getItem("walletBalances");J&&L(JSON.parse(J))},[]);const Ks=j=>{E(j);const B=w.find(G=>G.id===j);B&&r(B.phone)},Kt=j=>{d(j),i(""),a("")},jn=j=>{D(j),N(!0)},Qs=j=>{const B=h.find(G=>G.id===j);if(B){const G=[...R,B];k(G),localStorage.setItem("deletedTransactions",JSON.stringify(G));const J=h.filter(de=>de.id!==j);f(J),localStorage.setItem("transactions",JSON.stringify(J)),N(!1),t({title:"    ",description:"      .   "})}},Ue=j=>{const B=localStorage.getItem("withdrawalCommissionRate"),G=B?parseFloat(B):10;return Math.ceil(j/1e3*G)},Qe=()=>{const j=parseFloat(o)||0,B=Ue(j);return j+B},Qt=()=>{const j=new Date().toDateString(),B=h.filter($e=>new Date($e.createdAt).toDateString()===j&&$e.status==="completed"),G=B.length,J=B.reduce(($e,De)=>$e+De.amount,0),de=B.filter($e=>$e.type==="withdraw").reduce(($e,De)=>$e+(De.withdrawnAmount||0),0),ke=B.filter($e=>$e.type==="send").reduce(($e,De)=>$e+(De.sentAmount||0),0);return{totalTransactions:G,totalAmount:J,totalWithdrawn:de,totalSent:ke}},Dn=()=>{const j=new Date().getMonth(),B=new Date().getFullYear(),G=h.filter(De=>{const nt=new Date(De.createdAt);return nt.getMonth()===j&&nt.getFullYear()===B&&De.status==="completed"}),J=G.length,de=G.reduce((De,nt)=>De+nt.amount,0),ke=G.filter(De=>De.type==="withdraw").reduce((De,nt)=>De+(nt.withdrawnAmount||0),0),$e=G.filter(De=>De.type==="send").reduce((De,nt)=>De+(nt.sentAmount||0),0);return{totalTransactions:J,totalAmount:de,totalWithdrawn:ke,totalSent:$e}},On=Dn().totalWithdrawn,hs=Dn().totalSent;p.useEffect(()=>{const j=localStorage.getItem("transactions");if(j){const G=JSON.parse(j).map(J=>({...J,createdAt:new Date(J.createdAt)}));f(G)}},[]),p.useEffect(()=>{h.length>0&&localStorage.setItem("transactions",JSON.stringify(h))},[h]);const Kn=()=>{if(!n||!o){t({title:"  ",description:"    ",variant:"destructive"});return}if(c==="transfer"&&!s){t({title:"  ",description:"   ",variant:"destructive"});return}const j=parseFloat(o);if(j<=0){t({title:"  ",description:"   ",variant:"destructive"});return}if(c==="withdraw"){if(On+j>z){t({title:"   ",description:`     ${z}  `,variant:"destructive"});return}}else if(hs+j>se){t({title:"   ",description:`     ${se}  `,variant:"destructive"});return}const B={id:Date.now().toString(),type:c==="transfer"?"send":"withdraw",senderPhone:n,receiverPhone:c==="transfer"?s:n,amount:j,status:"completed",createdAt:new Date,withdrawnAmount:c==="withdraw"?j:void 0,sentAmount:c==="transfer"?j:void 0};if(c==="transfer"){const G=X+j;ie(G),localStorage.setItem("userCashBalance",G.toString())}if(c==="withdraw"){const G=X-j;ie(G),localStorage.setItem("userCashBalance",G.toString())}f(G=>[B,...G]),i(""),a(""),t({title:c==="transfer"?"  ":"  ",description:` ${c==="transfer"?"":""} ${j}  `})},_n=j=>{switch(j){case"completed":return l.jsx(al,{className:"h-4 w-4 text-green-500"});case"pending":return l.jsx(ll,{className:"h-4 w-4 text-yellow-500"});case"failed":return l.jsx(Lv,{className:"h-4 w-4 text-red-500"});default:return l.jsx(ll,{className:"h-4 w-4 text-gray-500"})}},fn=j=>{switch(j){case"completed":return"";case"pending":return"";case"failed":return"";default:return" "}},or=h.filter(j=>m==="all"?!0:m==="send"?j.type==="send":m==="receive"?j.type==="receive":m==="withdraw"?j.type==="withdraw":m!=="deleted"),Qn=j=>{const B=R.find(G=>G.id===j);if(B){const G=[B,...h];f(G),localStorage.setItem("transactions",JSON.stringify(G));const J=R.filter(de=>de.id!==j);k(J),localStorage.setItem("deletedTransactions",JSON.stringify(J)),t({title:"  ",description:"      "})}},Ys=j=>{const B=R.filter(G=>G.id!==j);k(B),localStorage.setItem("deletedTransactions",JSON.stringify(B)),t({title:"   ",description:"      "})},jr=()=>{if(P==="daily"){const j=new Date().toDateString(),B=h.filter(G=>new Date(G.createdAt).toDateString()!==j);f(B),localStorage.setItem("transactions",JSON.stringify(B)),t({title:"   ",description:"     "})}else{const j=new Date().getMonth(),B=new Date().getFullYear(),G=h.filter(J=>{const de=new Date(J.createdAt);return!(de.getMonth()===j&&de.getFullYear()===B)});f(G),localStorage.setItem("transactions",JSON.stringify(G)),t({title:"   ",description:"     "})}C(!1)},fs=()=>P==="daily"?"  ":"  ",Dr=()=>P==="daily"?"      ":"      ",U=j=>{ie(j),localStorage.setItem("userCashBalance",j.toString()),ce(!1),t({title:"   ",description:`     ${j} `})},ae=j=>{var B;if(ye){const J=(F[ye]||0)+j,de={...F,[ye]:J};L(de),localStorage.setItem("walletBalances",JSON.stringify(de));const ke=((B=w.find(nt=>nt.id===ye))==null?void 0:B.name)||"",$e=j>0?"":"",De=Math.abs(j);t({title:` ${$e}  ${$e===""?"":""}  `,description:` ${$e} ${De}  ${$e===""?"":""}  ${ke}.  : ${J.toLocaleString()} `})}Ce(!1),tt("")};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:[l.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 fade-in-up",children:[l.jsxs(ot,{className:"bg-gradient-to-br from-purple-500 to-purple-100 border-purple-200 card-float fade-in-left card-interactive hover-shadow-lg tilt",children:[l.jsx($t,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Bt,{className:"text-xs font-medium text-purple-700 hover-text-glow",children:" "}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>{O("monthly"),C(!0)},className:"h-5 w-5 p-0 text-purple-600 hover:text-purple-800 hover:bg-purple-200 btn-bounce ripple magnetic hover-rotate",title:"  ",children:l.jsx(ki,{className:"h-2.5 w-2.5"})}),l.jsx(Ma,{className:"h-2.5 w-2.5 text-purple-600 hover-rotate"})]})]})}),l.jsxs(at,{className:"space-y-0.5 pt-0 px-3 pb-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:" :"}),l.jsx("span",{className:"font-bold text-xs text-purple-800",children:Dn().totalTransactions})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:" :"}),l.jsxs("span",{className:"font-bold text-xs text-purple-800",children:[Dn().totalAmount.toFixed(2)," ."]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:":"}),l.jsxs("span",{className:"font-bold text-xs text-purple-800",children:[Dn().totalWithdrawn.toFixed(2)," ."]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-purple-600",children:":"}),l.jsxs("span",{className:"font-bold text-xs text-purple-800",children:[Dn().totalSent.toFixed(2)," ."]})]})]})]}),l.jsxs(ot,{className:"bg-gradient-to-br from-blue-500 to-blue-100 border-blue-200 card-float fade-in-right card-interactive hover-shadow-lg tilt",children:[l.jsx($t,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Bt,{className:"text-xs font-medium text-blue-700 hover-text-glow",children:" "}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>{O("daily"),C(!0)},className:"h-5 w-5 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-200 btn-bounce ripple magnetic hover-rotate",title:"  ",children:l.jsx(ki,{className:"h-2.5 w-2.5"})}),l.jsx(Ma,{className:"h-2.5 w-2.5 text-blue-600 hover-rotate"})]})]})}),l.jsxs(at,{className:"space-y-0.5 pt-0 px-3 pb-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:" :"}),l.jsx("span",{className:"font-bold text-xs text-blue-800",children:Qt().totalTransactions})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:" :"}),l.jsxs("span",{className:"font-bold text-xs text-blue-800",children:[Qt().totalAmount.toFixed(2)," ."]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:":"}),l.jsxs("span",{className:"font-bold text-xs text-blue-800",children:[Qt().totalWithdrawn.toFixed(2)," ."]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-blue-600",children:":"}),l.jsxs("span",{className:"font-bold text-xs text-blue-800",children:[Qt().totalSent.toFixed(2)," ."]})]})]})]})]}),l.jsx(ot,{className:"card-glow fade-in-up mb-4",children:l.jsx(at,{className:"p-2",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ts,{className:"h-3 w-3 text-green-600"}),l.jsx("span",{className:"text-xs font-medium text-green-800",children:"  "}),l.jsxs("span",{className:"text-sm font-bold text-green-700 mr-2",children:[X.toLocaleString()," "]})]}),l.jsx(ee,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-200",onClick:()=>{Te(!0),K(""),Se("")},children:l.jsx(Qc,{className:"h-3 w-3"})})]})}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ps,{className:"h-3 w-3 text-blue-600"}),l.jsx("span",{className:"text-xs font-medium text-blue-800",children:" "}),l.jsxs("span",{className:"text-sm font-bold text-blue-700 mr-2",children:[Object.values(F).reduce((j,B)=>j+B,0).toLocaleString()," "]})]}),l.jsx("div",{className:"flex items-center gap-1",children:l.jsx(ee,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-200",onClick:()=>{Ot(!0),Mt(""),Gt("")},children:l.jsx(Ma,{className:"h-3 w-3"})})})]})})]})})}),l.jsxs(ot,{className:"card-glow fade-in-up",children:[l.jsx($t,{className:"pb-2 px-3 pt-3",children:l.jsx(Bt,{className:"text-sm font-bold",children:" "})}),l.jsx(at,{className:"px-3 pb-3",children:l.jsxs(sP,{value:m,onValueChange:y,className:"w-full",children:[l.jsxs(nx,{className:"grid w-full grid-cols-5 h-8 text-xs",children:[l.jsx(yr,{value:"all",className:"text-xs",children:""}),l.jsx(yr,{value:"send",className:"text-xs",children:""}),l.jsx(yr,{value:"receive",className:"text-xs",children:""}),l.jsx(yr,{value:"withdraw",className:"text-xs",children:""}),l.jsx(yr,{value:"deleted",className:"text-xs",children:""})]}),l.jsx(ho,{value:"all",className:"mt-2",children:or.length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"    "}):l.jsx("div",{className:"space-y-1 fade-in-up tab-content-smooth",children:or.map((j,B)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-all duration-300 hover-glow stagger-item card-float tab-stagger-item card-interactive hover-shadow-lg tilt",style:{animationDelay:`${B*.1}s`},onClick:()=>jn(j),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[_n(j.status),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-xs",children:j.type==="withdraw"?`   - ${j.senderPhone}`:`${j.senderPhone}  ${j.receiverPhone}`}),l.jsx("p",{className:"text-xs text-gray-500",children:j.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"font-bold text-xs",children:[j.type==="withdraw"?"-":"",j.amount," "]}),j.withdrawnAmount&&l.jsxs("p",{className:"text-xs text-red-600",children:[": ",j.withdrawnAmount," "]}),j.sentAmount&&l.jsxs("p",{className:"text-xs text-green-600",children:[": ",j.sentAmount," "]}),l.jsx(Fn,{variant:j.status==="completed"?"default":"secondary",className:`text-xs ${j.type==="withdraw"?"bg-green-100 text-green-800":""}`,children:j.type==="withdraw"?"":fn(j.status)})]})]},j.id))})}),l.jsx(ho,{value:"send",className:"mt-2",children:h.filter(j=>j.type==="send").length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"     "}):l.jsx("div",{className:"space-y-1 fade-in-up tab-content-smooth",children:h.filter(j=>j.type==="send").map((j,B)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-all duration-300 hover-glow stagger-item card-float tab-stagger-item card-interactive hover-shadow-lg tilt",style:{animationDelay:`${B*.1}s`},onClick:()=>jn(j),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[_n(j.status),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-xs",children:[j.senderPhone,"  ",j.receiverPhone]}),l.jsx("p",{className:"text-xs text-gray-500",children:j.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"font-bold text-xs",children:[j.amount," "]}),j.sentAmount&&l.jsxs("p",{className:"text-xs text-green-600",children:[": ",j.sentAmount," "]}),l.jsx(Fn,{variant:j.status==="completed"?"default":"secondary",className:"text-xs",children:fn(j.status)})]})]},j.id))})}),l.jsx(ho,{value:"receive",className:"mt-2",children:h.filter(j=>j.type==="receive").length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"     "}):l.jsx("div",{className:"space-y-1 fade-in-up tab-content-smooth",children:h.filter(j=>j.type==="receive").map((j,B)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-all duration-300 hover-glow stagger-item card-float tab-stagger-item card-interactive hover-shadow-lg tilt",style:{animationDelay:`${B*.1}s`},onClick:()=>jn(j),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[_n(j.status),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-xs",children:[j.senderPhone,"  ",j.receiverPhone]}),l.jsx("p",{className:"text-xs text-gray-500",children:j.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"font-bold text-xs",children:["+",j.amount," "]}),l.jsx(Fn,{variant:j.status==="completed"?"default":"secondary",className:"text-xs",children:fn(j.status)})]})]},j.id))})}),l.jsx(ho,{value:"withdraw",className:"mt-2",children:h.filter(j=>j.type==="withdraw").length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"     "}):l.jsx("div",{className:"space-y-1 fade-in-up tab-content-smooth",children:h.filter(j=>j.type==="withdraw").map((j,B)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-all duration-300 hover-glow stagger-item card-float tab-stagger-item card-interactive hover-shadow-lg tilt",style:{animationDelay:`${B*.1}s`},onClick:()=>jn(j),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[_n(j.status),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-xs",children:["   - ",j.senderPhone]}),l.jsx("p",{className:"text-xs text-gray-500",children:j.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"text-left",children:[l.jsxs("p",{className:"font-bold text-xs",children:["-",j.amount," "]}),j.withdrawnAmount&&l.jsxs("p",{className:"text-xs text-red-600",children:[": ",j.withdrawnAmount," "]}),l.jsx(Fn,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:""})]})]},j.id))})}),l.jsx(ho,{value:"deleted",className:"mt-2",children:R.length===0?l.jsx("div",{className:"text-center py-4 text-gray-500 fade-in-up tab-stagger-item text-xs",children:"   "}):l.jsx("div",{className:"space-y-1 fade-in-up tab-content-smooth",children:R.map((j,B)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded-lg border border-red-200 transition-all duration-300 stagger-item card-float tab-stagger-item",style:{animationDelay:`${B*.1}s`},children:[l.jsxs("div",{className:"flex items-center gap-2",children:[_n(j.status),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-xs text-red-700",children:j.type==="withdraw"?`   - ${j.senderPhone}`:`${j.senderPhone}  ${j.receiverPhone}`}),l.jsx("p",{className:"text-xs text-red-500",children:j.createdAt.toLocaleString("ar-EG")})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("div",{className:"text-left mr-2",children:[l.jsxs("p",{className:"font-bold text-xs text-red-700",children:[j.type==="withdraw"?"-":"",j.amount," "]}),l.jsx(Fn,{variant:"secondary",className:"text-xs bg-red-100 text-red-800",children:""})]}),l.jsx(ee,{variant:"ghost",size:"sm",className:"text-green-600 hover:bg-green-100 h-6 px-2",onClick:()=>Qn(j.id),children:""}),l.jsx(ee,{variant:"ghost",size:"sm",className:"text-red-600 hover:bg-red-100 h-6 px-2",onClick:()=>Ys(j.id),children:l.jsx(ki,{className:"h-3 w-3"})})]})]},j.id))})})]})})]})]}),l.jsxs("div",{className:"space-y-2 fade-in-right",children:[l.jsxs(ot,{className:"card-glow",children:[l.jsx($t,{className:"pb-1 px-3 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Bt,{className:"text-xs font-bold flex items-center gap-1",children:[l.jsx(al,{className:"h-3 w-3 text-green-500"}),"  "]}),l.jsxs(ee,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-white hover:bg-gray-50 border-gray-300 text-xs btn-bounce hover-glow h-6 px-2",onClick:()=>v(!0),children:[l.jsx(Ps,{className:"h-2.5 w-2.5"})," "]}),l.jsxs(ee,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-blue-50 hover:bg-blue-100 border-blue-300 text-blue-600 text-xs btn-bounce hover-glow h-6 px-2",onClick:()=>Dt(!0),children:[l.jsx(Nu,{className:"h-2.5 w-2.5"}),"  "]}),l.jsxs(ee,{variant:"outline",size:"sm",className:"flex items-center gap-1 bg-red-50 hover:bg-red-100 border-red-300 text-red-600 text-xs btn-bounce hover-glow h-6 px-2",onClick:async()=>{try{await e(),t({title:"   ",description:"  "})}catch{t({title:"   ",description:"    ",variant:"destructive"})}},children:[l.jsx(Vv,{className:"h-2.5 w-2.5"})," "]})]})}),l.jsxs(at,{className:"space-y-2 px-3 pb-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-1 p-0.5 bg-gray-100 rounded-lg fade-in-up",children:[l.jsx(ee,{variant:c==="transfer"?"default":"ghost",onClick:()=>Kt("transfer"),className:`text-xs transition-bounce ripple magnetic hover-scale h-6 ${c==="transfer"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-200"}`,children:""}),l.jsx(ee,{variant:c==="withdraw"?"default":"ghost",onClick:()=>Kt("withdraw"),className:`text-xs transition-bounce ripple magnetic hover-scale h-6 ${c==="withdraw"?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-200"}`,children:""})]}),w.length>0&&l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-xs font-medium text-gray-700 mb-0.5 block",children:" "}),l.jsxs(ox,{value:_,onValueChange:Ks,children:[l.jsx(Ep,{className:"w-full h-6 text-xs transition-all duration-300 hover:border-blue-400",children:l.jsx(ax,{placeholder:"  "})}),l.jsx(bp,{children:w.map(j=>l.jsx(vo,{value:j.id,children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ps,{className:"h-2.5 w-2.5"}),l.jsx("span",{className:"text-xs",children:j.name}),l.jsxs("span",{className:"text-gray-500 text-xs",children:["(",j.phone,")"]}),j.isDefault&&l.jsx(Fn,{variant:"secondary",className:"text-xs",children:""})]})},j.id))})]})]}),l.jsx("div",{className:"fade-in-up mb-2",children:l.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-1 rounded-md border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[l.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-1 overflow-hidden flex",children:[l.jsx("div",{className:"w-1/2 bg-red-200 relative",children:l.jsx("div",{className:"bg-gradient-to-r from-red-400 to-red-600 h-1 transition-all duration-700 ease-out shadow-sm",style:{width:`${Math.min(On/z*100,100)}%`}})}),l.jsx("div",{className:"w-1/2 bg-blue-200 relative",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-600 h-1 transition-all duration-700 ease-out shadow-sm",style:{width:`${Math.min(hs/se*100,100)}%`}})})]}),l.jsxs("div",{className:"flex justify-between items-center mt-0.5",children:[l.jsxs("div",{className:"text-xs text-red-600 font-medium",children:[" : ",Math.max(z-On,0)," "]}),l.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:[" : ",Math.max(se-hs,0)," "]})]})]})}),l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c==="transfer"?" ":" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Ne,{value:n,onChange:j=>r(j.target.value),placeholder:"01030302038",className:"pl-10 h-10 text-sm transition-all duration-300 hover:border-blue-400 focus:border-blue-500"})]})]}),l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c==="transfer"?" ":" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Ne,{value:s,onChange:j=>i(j.target.value),placeholder:"  ",className:"pl-10 h-10 text-sm transition-all duration-300 hover:border-blue-400 focus:border-blue-500"})]})]}),l.jsxs("div",{className:"fade-in-up",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:c==="transfer"?" ()":"  ()"}),l.jsxs("div",{className:"relative",children:[c==="transfer"?l.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}):l.jsx(Mv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-green-500"}),l.jsx(Ne,{value:o,onChange:j=>a(j.target.value),placeholder:c==="transfer"?" ":"  ",type:"number",className:"pl-10 h-10 text-sm transition-all duration-300 hover:border-blue-400 focus:border-blue-500"})]})]}),l.jsx("div",{className:`text-center text-sm p-3 rounded fade-in-up ${c==="transfer"?"text-gray-600 bg-gray-50":"text-green-600 bg-green-50 border border-green-200"}`,children:c==="transfer"?l.jsxs(l.Fragment,{children:[" ()",l.jsx("br",{}),l.jsx("span",{className:"text-sm",children:"  "})]}):l.jsxs(l.Fragment,{children:["    ",l.jsx("br",{}),o&&parseFloat(o)>0&&l.jsxs("div",{className:"mt-1 text-sm space-y-1",children:[l.jsxs("div",{children:[": ",o," "]}),l.jsxs("div",{children:[": ",Ue(parseFloat(o))," "]}),l.jsxs("div",{className:"font-bold border-t pt-1",children:[": ",Qe()," "]})]}),l.jsx("span",{className:"text-sm block mt-1",children:" : 10   1000 "})]})}),l.jsx(ee,{onClick:Kn,className:`w-full font-medium h-10 text-sm btn-bounce hover-glow transition-all duration-300 ${c==="transfer"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:c==="transfer"?" ":" "})]})]}),l.jsx(ot,{className:"bg-gradient-to-br from-red-50 to-red-100 border-red-200 fade-in-up card-float",children:l.jsxs(at,{className:"p-3 text-center",children:[l.jsx("div",{className:"text-red-600 font-medium text-xs mb-1",children:"   "}),l.jsx("div",{className:"text-xs text-red-700",children:"         "})]})})]})]}),l.jsx(yR,{isOpen:T,onClose:()=>v(!1),onWalletUpdate:()=>{const j=localStorage.getItem("wallets");if(j){const B=JSON.parse(j);x(B)}}}),l.jsx(wR,{isOpen:M,onClose:()=>N(!1),transaction:A,onDelete:Qs}),l.jsx(_R,{open:S,onOpenChange:C,onSuccess:jr,title:fs(),description:Dr()}),l.jsx(Pc,{open:Y,onOpenChange:ce,onSuccess:U,title:"    ",description:"         ",currentBalance:X,balanceLabel:" "}),l.jsx(Pc,{open:ne,onOpenChange:ue,onSuccess:()=>{},title:"  ",description:"       ",currentBalance:ye&&F[ye]||0,balanceLabel:` ${((fe=w.find(j=>j.id===ye))==null?void 0:fe.name)||""}`}),l.jsx(jy,{open:Ee,onOpenChange:Ce,onSuccess:ae,title:"      ",description:"          ",currentBalance:ye&&F[ye]||0,balanceLabel:` ${((ge=w.find(j=>j.id===ye))==null?void 0:ge.name)||""}`}),l.jsx(ER,{open:bt,onOpenChange:Dt}),l.jsx(zs,{open:me,onOpenChange:Te,children:l.jsxs(as,{className:"sm:max-w-md",children:[l.jsx(ls,{children:l.jsx(cs,{className:"text-right",children:"  "})}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"amount",className:"text-right block",children:""}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx(Ne,{id:"amount",type:"number",placeholder:" ",value:Me,onChange:j=>K(j.target.value),className:"text-right flex-1",dir:"rtl",min:"0"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsxs(ee,{type:"button",size:"sm",className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2",onClick:()=>{if(Re!=="1234"){t({title:"",description:"   ",variant:"destructive"});return}const j=parseFloat(Me);if(isNaN(j)||j<=0){t({title:"",description:"   ",variant:"destructive"});return}const B=X+j;ie(B),localStorage.setItem("userCashBalance",B.toString()),t({title:" ",description:`  ${j}    `}),Te(!1),K(""),Se("")},children:[l.jsx(As,{className:"h-4 w-4 mr-1"}),""]}),l.jsxs(ee,{type:"button",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2",onClick:()=>{if(Re!=="1234"){t({title:"",description:"   ",variant:"destructive"});return}const j=parseFloat(Me);if(isNaN(j)||j<=0){t({title:"",description:"   ",variant:"destructive"});return}const B=Math.max(0,X-j);ie(B),localStorage.setItem("userCashBalance",B.toString()),t({title:" ",description:`  ${j}    `}),Te(!1),K(""),Se("")},children:[l.jsx(Vg,{className:"h-4 w-4 mr-1"}),""]})]})]}),l.jsxs("p",{className:"text-xs text-gray-500 text-right",children:[" : ",X.toLocaleString()," "]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"pin",className:"text-right block",children:" "}),l.jsx(Ne,{id:"pin",type:"password",placeholder:"  ",value:Re,onChange:j=>Se(j.target.value),className:"text-right",dir:"rtl"})]})]}),l.jsx(Ry,{className:"flex gap-2",children:l.jsx(ee,{variant:"outline",onClick:()=>{Te(!1),K(""),Se("")},children:""})})]})}),l.jsx(zs,{open:dn,onOpenChange:Ot,children:l.jsxs(as,{className:"sm:max-w-md",children:[l.jsx(ls,{children:l.jsx(cs,{className:"text-right",children:"  "})}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"totalWalletAmount",className:"text-right block",children:""}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx(Ne,{id:"totalWalletAmount",type:"number",placeholder:" ",value:hn,onChange:j=>Mt(j.target.value),className:"text-right flex-1",dir:"rtl",min:"0"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(ee,{type:"button",size:"sm",className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2",onClick:()=>{if(kn!=="1234"){t({title:"",description:"   ",variant:"destructive"});return}const j=parseFloat(hn);if(isNaN(j)||j<=0){t({title:"",description:"   ",variant:"destructive"});return}Object.values(F).reduce((G,J)=>G+J,0);const B=w.length;if(B>0){const G=j/B,J={...F};w.forEach(de=>{const ke=J[de.id]||0;J[de.id]=ke+G}),L(J),localStorage.setItem("walletBalances",JSON.stringify(J))}t({title:" ",description:`  ${j}    `}),Ot(!1),Mt(""),Gt("")},children:""}),l.jsx(ee,{type:"button",size:"sm",className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2",onClick:()=>{if(kn!=="1234"){t({title:"",description:"   ",variant:"destructive"});return}const j=parseFloat(hn);if(isNaN(j)||j<=0){t({title:"",description:"   ",variant:"destructive"});return}const B=Object.values(F).reduce((J,de)=>J+de,0);if(j>B){t({title:"",description:"      ",variant:"destructive"});return}const G=w.length;if(G>0){const J=j/G,de={...F};w.forEach(ke=>{const $e=de[ke.id]||0;de[ke.id]=Math.max(0,$e-J)}),L(de),localStorage.setItem("walletBalances",JSON.stringify(de))}t({title:" ",description:`  ${j}    `}),Ot(!1),Mt(""),Gt("")},children:""})]})]}),l.jsxs("p",{className:"text-xs text-gray-500 text-right",children:[" : ",Object.values(F).reduce((j,B)=>j+B,0).toLocaleString()," "]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"totalWalletPin",className:"text-right block",children:" "}),l.jsx(Ne,{id:"totalWalletPin",type:"password",placeholder:"  ",value:kn,onChange:j=>Gt(j.target.value),className:"text-right",dir:"rtl"})]})]}),l.jsx(Ry,{className:"flex gap-2",children:l.jsx(ee,{variant:"outline",onClick:()=>{Ot(!1),Mt(""),Gt("")},children:""})})]})})]})};var Dy=["Enter"," "],Yz=["ArrowDown","PageUp","Home"],bR=["ArrowUp","PageDown","End"],Xz=[...Yz,...bR],Jz={ltr:[...Dy,"ArrowRight"],rtl:[...Dy,"ArrowLeft"]},Zz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$u="Menu",[pu,e8,t8]=Af($u),[na,TR]=Ar($u,[t8,Nl,pp]),Sp=Nl(),SR=pp(),[n8,ra]=na($u),[r8,Bu]=na($u),NR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Sp(e),[c,d]=p.useState(null),h=p.useRef(!1),f=Rn(i),m=fp(s);return p.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),l.jsx(NN,{...a,children:l.jsx(n8,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:d,children:l.jsx(r8,{scope:e,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:o,children:r})})})};NR.displayName=$u;var s8="MenuAnchor",dx=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Sp(n);return l.jsx(Yv,{...s,...r,ref:e})});dx.displayName=s8;var hx="MenuPortal",[i8,IR]=na(hx,{forceMount:void 0}),CR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=ra(hx,e);return l.jsx(i8,{scope:e,forceMount:n,children:l.jsx(Pr,{present:n||i.open,children:l.jsx(bu,{asChild:!0,container:s,children:r})})})};CR.displayName=hx;var rr="MenuContent",[o8,fx]=na(rr),AR=p.forwardRef((t,e)=>{const n=IR(rr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ra(rr,t.__scopeMenu),o=Bu(rr,t.__scopeMenu);return l.jsx(pu.Provider,{scope:t.__scopeMenu,children:l.jsx(Pr,{present:r||i.open,children:l.jsx(pu.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx(a8,{...s,ref:e}):l.jsx(l8,{...s,ref:e})})})})}),a8=p.forwardRef((t,e)=>{const n=ra(rr,t.__scopeMenu),r=p.useRef(null),s=qe(e,r);return p.useEffect(()=>{const i=r.current;if(i)return sx(i)},[]),l.jsx(px,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:re(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),l8=p.forwardRef((t,e)=>{const n=ra(rr,t.__scopeMenu);return l.jsx(px,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),c8=Do("MenuContent.ScrollLock"),px=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:y,disableOutsideScroll:T,...v}=t,_=ra(rr,n),E=Bu(rr,n),w=Sp(n),x=SR(n),A=e8(n),[D,M]=p.useState(null),N=p.useRef(null),S=qe(e,N,_.onContentChange),C=p.useRef(0),P=p.useRef(""),O=p.useRef(0),R=p.useRef(null),k=p.useRef("right"),z=p.useRef(0),se=T?vp:p.Fragment,X=T?{as:c8,allowPinchZoom:!0}:void 0,ie=L=>{var K,Re;const Y=P.current+L,ce=A().filter(Se=>!Se.disabled),ne=document.activeElement,ue=(K=ce.find(Se=>Se.ref.current===ne))==null?void 0:K.textValue,me=ce.map(Se=>Se.textValue),Te=_8(me,Y,ue),Me=(Re=ce.find(Se=>Se.textValue===Te))==null?void 0:Re.ref.current;(function Se(Ee){P.current=Ee,window.clearTimeout(C.current),Ee!==""&&(C.current=window.setTimeout(()=>Se(""),1e3))})(Y),Me&&setTimeout(()=>Me.focus())};p.useEffect(()=>()=>window.clearTimeout(C.current),[]),rx();const F=p.useCallback(L=>{var ce,ne;return k.current===((ce=R.current)==null?void 0:ce.side)&&b8(L,(ne=R.current)==null?void 0:ne.area)},[]);return l.jsx(o8,{scope:n,searchRef:P,onItemEnter:p.useCallback(L=>{F(L)&&L.preventDefault()},[F]),onItemLeave:p.useCallback(L=>{var Y;F(L)||((Y=N.current)==null||Y.focus(),M(null))},[F]),onTriggerLeave:p.useCallback(L=>{F(L)&&L.preventDefault()},[F]),pointerGraceTimerRef:O,onPointerGraceIntentChange:p.useCallback(L=>{R.current=L},[]),children:l.jsx(se,{...X,children:l.jsx(gp,{asChild:!0,trapped:s,onMountAutoFocus:re(i,L=>{var Y;L.preventDefault(),(Y=N.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(El,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:y,children:l.jsx(zA,{asChild:!0,...x,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:M,onEntryFocus:re(c,L=>{E.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Xv,{role:"menu","aria-orientation":"vertical","data-state":HR(_.open),"data-radix-menu-content":"",dir:E.dir,...w,...v,ref:S,style:{outline:"none",...v.style},onKeyDown:re(v.onKeyDown,L=>{const ce=L.target.closest("[data-radix-menu-content]")===L.currentTarget,ne=L.ctrlKey||L.altKey||L.metaKey,ue=L.key.length===1;ce&&(L.key==="Tab"&&L.preventDefault(),!ne&&ue&&ie(L.key));const me=N.current;if(L.target!==me||!Xz.includes(L.key))return;L.preventDefault();const Me=A().filter(K=>!K.disabled).map(K=>K.ref.current);bR.includes(L.key)&&Me.reverse(),x8(Me)}),onBlur:re(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(C.current),P.current="")}),onPointerMove:re(t.onPointerMove,mu(L=>{const Y=L.target,ce=z.current!==L.clientX;if(L.currentTarget.contains(Y)&&ce){const ne=L.clientX>z.current?"right":"left";k.current=ne,z.current=L.clientX}}))})})})})})})});AR.displayName=rr;var u8="MenuGroup",mx=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(we.div,{role:"group",...r,ref:e})});mx.displayName=u8;var d8="MenuLabel",PR=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(we.div,{...r,ref:e})});PR.displayName=d8;var cf="MenuItem",HE="menu.itemSelect",Np=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=p.useRef(null),o=Bu(cf,t.__scopeMenu),a=fx(cf,t.__scopeMenu),c=qe(e,i),d=p.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(HE,{bubbles:!0,cancelable:!0});f.addEventListener(HE,y=>r==null?void 0:r(y),{once:!0}),kv(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return l.jsx(RR,{...s,ref:c,disabled:n,onClick:re(t.onClick,h),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),d.current=!0},onPointerUp:re(t.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:re(t.onKeyDown,f=>{const m=a.searchRef.current!=="";n||m&&f.key===" "||Dy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Np.displayName=cf;var RR=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=fx(cf,n),a=SR(n),c=p.useRef(null),d=qe(e,c),[h,f]=p.useState(!1),[m,y]=p.useState("");return p.useEffect(()=>{const T=c.current;T&&y((T.textContent??"").trim())},[i.children]),l.jsx(pu.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:l.jsx(WA,{asChild:!0,...a,focusable:!r,children:l.jsx(we.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:re(t.onPointerMove,mu(T=>{r?o.onItemLeave(T):(o.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(t.onPointerLeave,mu(T=>o.onItemLeave(T))),onFocus:re(t.onFocus,()=>f(!0)),onBlur:re(t.onBlur,()=>f(!1))})})})}),h8="MenuCheckboxItem",kR=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return l.jsx(LR,{scope:t.__scopeMenu,checked:n,children:l.jsx(Np,{role:"menuitemcheckbox","aria-checked":uf(n)?"mixed":n,...s,ref:e,"data-state":yx(n),onSelect:re(s.onSelect,()=>r==null?void 0:r(uf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});kR.displayName=h8;var jR="MenuRadioGroup",[f8,p8]=na(jR,{value:void 0,onValueChange:()=>{}}),DR=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Rn(r);return l.jsx(f8,{scope:t.__scopeMenu,value:n,onValueChange:i,children:l.jsx(mx,{...s,ref:e})})});DR.displayName=jR;var OR="MenuRadioItem",MR=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=p8(OR,t.__scopeMenu),i=n===s.value;return l.jsx(LR,{scope:t.__scopeMenu,checked:i,children:l.jsx(Np,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":yx(i),onSelect:re(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});MR.displayName=OR;var gx="MenuItemIndicator",[LR,m8]=na(gx,{checked:!1}),VR=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=m8(gx,n);return l.jsx(Pr,{present:r||uf(i.checked)||i.checked===!0,children:l.jsx(we.span,{...s,ref:e,"data-state":yx(i.checked)})})});VR.displayName=gx;var g8="MenuSeparator",FR=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(we.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});FR.displayName=g8;var y8="MenuArrow",UR=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Sp(n);return l.jsx(Jv,{...s,...r,ref:e})});UR.displayName=y8;var v8="MenuSub",[UW,$R]=na(v8),hc="MenuSubTrigger",BR=p.forwardRef((t,e)=>{const n=ra(hc,t.__scopeMenu),r=Bu(hc,t.__scopeMenu),s=$R(hc,t.__scopeMenu),i=fx(hc,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(dx,{asChild:!0,...d,children:l.jsx(RR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":HR(n.open),...t,ref:Cf(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:re(t.onPointerMove,mu(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:re(t.onPointerLeave,mu(f=>{var y,T;h();const m=(y=n.content)==null?void 0:y.getBoundingClientRect();if(m){const v=(T=n.content)==null?void 0:T.dataset.side,_=v==="right",E=_?-5:5,w=m[_?"left":"right"],x=m[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+E,y:f.clientY},{x:w,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:w,y:m.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:re(t.onKeyDown,f=>{var y;const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||Jz[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});BR.displayName=hc;var zR="MenuSubContent",WR=p.forwardRef((t,e)=>{const n=IR(rr,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ra(rr,t.__scopeMenu),o=Bu(rr,t.__scopeMenu),a=$R(zR,t.__scopeMenu),c=p.useRef(null),d=qe(e,c);return l.jsx(pu.Provider,{scope:t.__scopeMenu,children:l.jsx(Pr,{present:r||i.open,children:l.jsx(pu.Slot,{scope:t.__scopeMenu,children:l.jsx(px,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:re(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:re(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:re(t.onKeyDown,h=>{var y;const f=h.currentTarget.contains(h.target),m=Zz[o.dir].includes(h.key);f&&m&&(i.onOpenChange(!1),(y=a.trigger)==null||y.focus(),h.preventDefault())})})})})})});WR.displayName=zR;function HR(t){return t?"open":"closed"}function uf(t){return t==="indeterminate"}function yx(t){return uf(t)?"indeterminate":t?"checked":"unchecked"}function x8(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function w8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function _8(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=w8(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function E8(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],d=a.x,h=a.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-d)*(r-h)/(m-h)+d&&(s=!s)}return s}function b8(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return E8(n,e)}function mu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var T8=NR,S8=dx,N8=CR,I8=AR,C8=mx,A8=PR,P8=Np,R8=kR,k8=DR,j8=MR,D8=VR,O8=FR,M8=UR,L8=BR,V8=WR,Ip="DropdownMenu",[F8,$W]=Ar(Ip,[TR]),wn=TR(),[U8,qR]=F8(Ip),GR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,c=wn(e),d=p.useRef(null),[h,f]=Oo({prop:s,defaultProp:i??!1,onChange:o,caller:Ip});return l.jsx(U8,{scope:e,triggerId:Yr(),triggerRef:d,contentId:Yr(),open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),modal:a,children:l.jsx(T8,{...c,open:h,onOpenChange:f,dir:r,modal:a,children:n})})};GR.displayName=Ip;var KR="DropdownMenuTrigger",QR=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=qR(KR,n),o=wn(n);return l.jsx(S8,{asChild:!0,...o,children:l.jsx(we.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Cf(e,i.triggerRef),onPointerDown:re(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:re(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});QR.displayName=KR;var $8="DropdownMenuPortal",YR=t=>{const{__scopeDropdownMenu:e,...n}=t,r=wn(e);return l.jsx(N8,{...r,...n})};YR.displayName=$8;var XR="DropdownMenuContent",JR=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qR(XR,n),i=wn(n),o=p.useRef(!1);return l.jsx(I8,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:re(t.onCloseAutoFocus,a=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:re(t.onInteractOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JR.displayName=XR;var B8="DropdownMenuGroup",z8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wn(n);return l.jsx(C8,{...s,...r,ref:e})});z8.displayName=B8;var W8="DropdownMenuLabel",ZR=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wn(n);return l.jsx(A8,{...s,...r,ref:e})});ZR.displayName=W8;var H8="DropdownMenuItem",e2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wn(n);return l.jsx(P8,{...s,...r,ref:e})});e2.displayName=H8;var q8="DropdownMenuCheckboxItem",t2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wn(n);return l.jsx(R8,{...s,...r,ref:e})});t2.displayName=q8;var G8="DropdownMenuRadioGroup",K8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wn(n);return l.jsx(k8,{...s,...r,ref:e})});K8.displayName=G8;var Q8="DropdownMenuRadioItem",n2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wn(n);return l.jsx(j8,{...s,...r,ref:e})});n2.displayName=Q8;var Y8="DropdownMenuItemIndicator",r2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wn(n);return l.jsx(D8,{...s,...r,ref:e})});r2.displayName=Y8;var X8="DropdownMenuSeparator",s2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wn(n);return l.jsx(O8,{...s,...r,ref:e})});s2.displayName=X8;var J8="DropdownMenuArrow",Z8=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wn(n);return l.jsx(M8,{...s,...r,ref:e})});Z8.displayName=J8;var eW="DropdownMenuSubTrigger",i2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wn(n);return l.jsx(L8,{...s,...r,ref:e})});i2.displayName=eW;var tW="DropdownMenuSubContent",o2=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wn(n);return l.jsx(V8,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});o2.displayName=tW;var nW=GR,rW=QR,sW=YR,a2=JR,l2=ZR,c2=e2,u2=t2,d2=n2,h2=r2,f2=s2,p2=i2,m2=o2;const iW=nW,oW=rW,aW=p.forwardRef(({className:t,inset:e,children:n,...r},s)=>l.jsxs(p2,{ref:s,className:_e("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,l.jsx(EO,{className:"ml-auto h-4 w-4"})]}));aW.displayName=p2.displayName;const lW=p.forwardRef(({className:t,...e},n)=>l.jsx(m2,{ref:n,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));lW.displayName=m2.displayName;const g2=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(sW,{children:l.jsx(a2,{ref:r,sideOffset:e,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));g2.displayName=a2.displayName;const Oy=p.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(c2,{ref:r,className:_e("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Oy.displayName=c2.displayName;const cW=p.forwardRef(({className:t,children:e,checked:n,...r},s)=>l.jsxs(u2,{ref:s,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(h2,{children:l.jsx(HS,{className:"h-4 w-4"})})}),e]}));cW.displayName=u2.displayName;const uW=p.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(d2,{ref:r,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(h2,{children:l.jsx(TO,{className:"h-2 w-2 fill-current"})})}),e]}));uW.displayName=d2.displayName;const y2=p.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(l2,{ref:r,className:_e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));y2.displayName=l2.displayName;const My=p.forwardRef(({className:t,...e},n)=>l.jsx(f2,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",t),...e}));My.displayName=f2.displayName;function dW(){const{profile:t,signOut:e}=Rr(),n=s=>{switch(s){case"admin":return"";case"staff":return"";case"merchant":return"";default:return s}},r=s=>{switch(s){case"admin":return"bg-primary text-primary-foreground";case"staff":return"bg-secondary text-secondary-foreground";case"merchant":return"bg-success text-success-foreground";default:return"bg-muted text-muted-foreground"}};return l.jsx("header",{className:"h-16 border-b border-border bg-card/50 backdrop-blur-sm",children:l.jsxs("div",{className:"flex h-full items-center justify-between px-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("h1",{className:"text-xl font-bold text-foreground",children:"  "}),t&&l.jsx(Fn,{className:r(t.role),children:n(t.role)})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ee,{variant:"ghost",size:"icon",className:"relative",children:[l.jsx(xO,{className:"h-5 w-5"}),l.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-destructive text-xs text-destructive-foreground flex items-center justify-center",children:"3"})]}),l.jsxs(iW,{children:[l.jsx(oW,{asChild:!0,children:l.jsxs(ee,{variant:"ghost",className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx(Fv,{className:"h-4 w-4 text-primary"})}),l.jsx("span",{className:"text-sm",children:(t==null?void 0:t.fullName)||""})]})}),l.jsxs(g2,{align:"end",className:"w-56",children:[l.jsx(y2,{children:""}),l.jsx(My,{}),l.jsxs(Oy,{children:[l.jsx(Nu,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:""})]}),l.jsx(My,{}),l.jsxs(Oy,{onClick:()=>e(),className:"text-destructive",children:[l.jsx(Vv,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:" "})]})]})]})]})]})})}var vx="Progress",xx=100,[hW,BW]=Ar(vx),[fW,pW]=hW(vx),v2=p.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=mW,...o}=t;(s||s===0)&&!qE(s)&&console.error(gW(`${s}`,"Progress"));const a=qE(s)?s:xx;r!==null&&!GE(r,a)&&console.error(yW(`${r}`,"Progress"));const c=GE(r,a)?r:null,d=df(c)?i(c,a):void 0;return l.jsx(fW,{scope:n,value:c,max:a,children:l.jsx(we.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":df(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":_2(c,a),"data-value":c??void 0,"data-max":a,...o,ref:e})})});v2.displayName=vx;var x2="ProgressIndicator",w2=p.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=pW(x2,n);return l.jsx(we.div,{"data-state":_2(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});w2.displayName=x2;function mW(t,e){return`${Math.round(t/e*100)}%`}function _2(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function df(t){return typeof t=="number"}function qE(t){return df(t)&&!isNaN(t)&&t>0}function GE(t,e){return df(t)&&!isNaN(t)&&t<=e&&t>=0}function gW(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${xx}\`.`}function yW(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${xx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var E2=v2,vW=w2;const fc=p.forwardRef(({className:t,value:e,...n},r)=>l.jsx(E2,{ref:r,className:_e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:l.jsx(vW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));fc.displayName=E2.displayName;function xW({open:t,onOpenChange:e,wallet:n,onSuccess:r}){const[s,i]=p.useState({provider:(n==null?void 0:n.provider)||"",msisdn:(n==null?void 0:n.msisdn)||"",dailyLimit:(n==null?void 0:n.dailyLimit)||0,monthlyLimit:(n==null?void 0:n.monthlyLimit)||0,transferLimit:(n==null?void 0:n.transferLimit)||2e5,withdrawLimit:(n==null?void 0:n.withdrawLimit)||2e5}),[o,a]=p.useState(!1),[c,d]=p.useState(null),{user:h}=Rr(),{toast:f}=Cr(),m=(v,_)=>{const E=v.slice(0,3);return _==="vodafone_cash"&&E==="010"||_==="orange_cash"&&E==="012"||_==="etisalat_cash"&&E==="011"||_==="instapay"&&E==="015"},y=v=>{switch(v){case"INVALID_MSISDN":return"   .";case"PROVIDER_MISMATCH":return"    .";case"ALREADY_EXISTS":return"   .";case"RLS_DENIED":return"    .";default:return"  ."}},T=async v=>{if(v.preventDefault(),d(null),!/^01\d{9}$/.test(s.msisdn)){d("  11    01.");return}if(!m(s.msisdn,s.provider)){d("      .");return}a(!0);try{const _={...s,merchantUserId:h==null?void 0:h.uid,isActive:!0,provider:s.provider};if(console.log("Saving wallet data:",_),n!=null&&n.id)await Co.update(n.id,_),console.log("Wallet updated successfully"),r();else{console.log("Creating new wallet...");const E=await Co.create(_);console.log("Wallet created with ID:",E);const w={id:E,..._,dailyUsage:0,monthlyUsage:0};console.log("Final wallet object:",w),r(w)}f({title:"  ",description:` ${n!=null&&n.id?"":""}  `}),e(!1)}catch(_){console.error("Error saving wallet:",_);let E="   ";_.code?E=y(_.code):_.message&&(E=_.message),f({title:"",description:E,variant:"destructive"})}finally{a(!1)}};return l.jsx(zs,{open:t,onOpenChange:e,children:l.jsxs(as,{className:"sm:max-w-md",children:[l.jsx(ls,{children:l.jsx(cs,{children:n!=null&&n.id?" ":"  "})}),l.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"provider",children:""}),l.jsxs(ox,{value:s.provider,onValueChange:v=>i({...s,provider:v}),disabled:o,children:[l.jsx(Ep,{children:l.jsx(ax,{placeholder:" "})}),l.jsxs(bp,{children:[l.jsx(vo,{value:"vodafone_cash",children:"Vodafone Cash"}),l.jsx(vo,{value:"etisalat_cash",children:"Etisalat Cash"}),l.jsx(vo,{value:"orange_cash",children:"Orange Cash"}),l.jsx(vo,{value:"instapay",children:"InstaPay"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"msisdn",children:" "}),l.jsx(Ne,{id:"msisdn",placeholder:"01xxxxxxxxx",value:s.msisdn,onChange:v=>i({...s,msisdn:v.target.value}),disabled:o,required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"dailyLimit",children:"  (.)"}),l.jsx(Ne,{id:"dailyLimit",type:"number",min:"0",step:"0.01",value:s.dailyLimit,onChange:v=>i({...s,dailyLimit:parseFloat(v.target.value)||0}),disabled:o})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"monthlyLimit",children:"  (.)"}),l.jsx(Ne,{id:"monthlyLimit",type:"number",min:"0",step:"0.01",value:s.monthlyLimit,onChange:v=>i({...s,monthlyLimit:parseFloat(v.target.value)||0}),disabled:o})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"transferLimit",children:"  (.)"}),l.jsx(Ne,{id:"transferLimit",type:"number",min:"0",step:"0.01",value:s.transferLimit,onChange:v=>i({...s,transferLimit:parseFloat(v.target.value)||2e5}),disabled:o,placeholder:"200000"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"withdrawLimit",children:"  (.)"}),l.jsx(Ne,{id:"withdrawLimit",type:"number",min:"0",step:"0.01",value:s.withdrawLimit,onChange:v=>i({...s,withdrawLimit:parseFloat(v.target.value)||2e5}),disabled:o,placeholder:"200000"})]})]}),c&&l.jsx("div",{className:"text-red-600 text-sm mt-2",children:c}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(ee,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:o,children:""}),l.jsx(ee,{type:"submit",disabled:o,className:"btn-primary",children:o?l.jsxs(l.Fragment,{children:[l.jsx(SO,{className:"mr-2 h-4 w-4 animate-spin"})," "]}):n!=null&&n.id?" ":" "})]})]})]})})}const wW={getCurrentMonthId(){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`},async getWalletUsage(t){try{const e=this.getCurrentMonthId(),n=ln(vt,"users",t,"limits",e),r=await fu(n);if(r.exists()){const i=r.data();return{walletId:t,used_transfer:i.used_transfer||0,used_withdraw:i.used_withdraw||0,monthly_limit:i.monthly_limit||2e5,last_reset:i.last_reset||null,updatedAt:i.updatedAt||Je.now()}}const s={walletId:t,used_transfer:0,used_withdraw:0,monthly_limit:2e5,last_reset:null,updatedAt:Je.now()};return await ga(n,{used_transfer:0,used_withdraw:0,monthly_limit:2e5,last_reset:null,updatedAt:sn()}),s}catch(e){return console.error("Error getting wallet usage:",e),null}},async resetWalletUsage(t){try{const e=this.getCurrentMonthId(),n=ln(vt,"users",t,"limits",e);return await ga(n,{used_transfer:0,used_withdraw:0,last_reset:sn(),updatedAt:sn()},{merge:!0}),console.log(`     ${t} `),!0}catch(e){return console.error("    :",e),!1}},async calculateUsageFromTransactions(t){var e;try{const n=this.getCurrentMonthId(),r=ln(vt,"users",t,"limits",n),s=await fu(r),i=s.exists()?(e=s.data())==null?void 0:e.last_reset:null,o=X0(vl(vt,"tx"),sf("uid","==",t),...i?[sf("createdAt",">=",i)]:[]),a=await dp(o);let c=0,d=0;return a.forEach(h=>{const f=h.data();f.status==="completed"&&(f.type==="transfer"?c+=f.amount:f.type==="withdraw"&&(d+=f.amount))}),{used_transfer:c,used_withdraw:d}}catch(n){return console.error("     :",n),{used_transfer:0,used_withdraw:0}}},async getWalletUsageWithRefresh(t){try{const e=await this.getWalletUsage(t);if(!e)return null;const n=await this.calculateUsageFromTransactions(t);if(e.used_transfer!==n.used_transfer||e.used_withdraw!==n.used_withdraw){const r=this.getCurrentMonthId(),s=ln(vt,"users",t,"limits",r);return await ga(s,{used_transfer:n.used_transfer,used_withdraw:n.used_withdraw,updatedAt:sn()},{merge:!0}),await this.getWalletUsage(t)}return e}catch(e){return console.error("      :",e),null}},calculateRemaining(t){return{remainingTransfer:Math.max(0,t.monthly_limit-t.used_transfer),remainingWithdraw:Math.max(0,t.monthly_limit-t.used_withdraw)}},async canPerformOperation(t,e,n){try{const r=await this.getWalletUsageWithRefresh(t);if(!r)return{canPerform:!1,message:"      "};const s=this.calculateRemaining(r);return n==="transfer"&&e>s.remainingTransfer?{canPerform:!1,message:`   . : ${s.remainingTransfer.toLocaleString()} .   ${r.monthly_limit.toLocaleString()} .`,remaining:s.remainingTransfer}:n==="withdraw"&&e>s.remainingWithdraw?{canPerform:!1,message:`   . : ${s.remainingWithdraw.toLocaleString()} .   ${r.monthly_limit.toLocaleString()} .`,remaining:s.remainingWithdraw}:{canPerform:!0}}catch(r){return console.error("Error checking operation limits:",r),{canPerform:!1,message:"    "}}},async updateUsage(t,e,n){try{const r=await this.getWalletUsageWithRefresh(t);if(!r)throw new Error("      ");const s=await this.canPerformOperation(t,e,n);if(!s.canPerform)throw new Error(s.message||"   ");const i=n==="transfer"?r.used_transfer+e:r.used_transfer,o=n==="withdraw"?r.used_withdraw+e:r.used_withdraw,a=this.getCurrentMonthId(),c=ln(vt,"users",r.walletId,"limits",a);await ga(c,{used_transfer:i,used_withdraw:o,updatedAt:sn()},{merge:!0});const d=await this.getWalletUsageWithRefresh(t);if(!d)throw new Error("    ");return d}catch(r){throw console.error("Error updating wallet usage:",r),r}},async resetWalletUsageManually(t){try{const e=this.getCurrentMonthId(),n=ln(vt,"users",t,"limits",e);await ga(n,{used_transfer:0,used_withdraw:0,last_reset:sn(),updatedAt:sn()},{merge:!0});const r=await this.getWalletUsageWithRefresh(t);if(!r)throw new Error("     ");return console.log(`     ${t} `),r}catch(e){throw console.error("Error resetting wallet usage:",e),e}},async getAllWalletsUsage(t){try{const n=(await Co.getByMerchantId(t)).map(s=>this.getWalletUsageWithRefresh(s.id));return(await Promise.all(n)).filter(s=>s!==null)}catch(e){return console.error("Error getting all wallets usage:",e),[]}}};function _W(){const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,i]=p.useState(!1),[o,a]=p.useState(null),[c,d]=p.useState(!0),{user:h}=Rr(),{toast:f}=Cr();p.useEffect(()=>{h!=null&&h.uid&&m()},[h==null?void 0:h.uid]);const m=async()=>{try{if(!(h!=null&&h.uid)){e([]),r(!1);return}r(!0);const x=await Co.getByMerchantId(h.uid),A=await Promise.all(x.map(async D=>{try{const M=await wW.getUsage(D.id);return{...D,dailyUsage:D.dailyUsage||0,monthlyUsage:D.monthlyUsage||0,transferUsage:(M==null?void 0:M.transferUsage)||0,withdrawUsage:(M==null?void 0:M.withdrawUsage)||0}}catch(M){return console.error(`Error loading usage for wallet ${D.id}:`,M),{...D,dailyUsage:D.dailyUsage||0,monthlyUsage:D.monthlyUsage||0,transferUsage:0,withdrawUsage:0}}}));e(A)}catch(x){console.error("Error fetching wallets from Firebase:",x),f({title:"",description:"     .    .",variant:"destructive"}),e([])}finally{r(!1)}},y=async(x,A)=>{try{await Co.update(x,{isActive:!A});const D=t.map(M=>M.id===x?{...M,isActive:!M.isActive}:M);e(D),f({title:" ",description:` ${A?" ":""}  `})}catch(D){console.error("Error toggling wallet status:",D),f({title:"",description:"    ",variant:"destructive"})}},T=async(x,A)=>{if(window.confirm(`      ${A}

     .`))try{await Co.delete(x);const M=t.filter(N=>N.id!==x);e(M),f({title:" ",description:"   "})}catch(M){console.error("Error deleting wallet:",M),f({title:"",description:"   ",variant:"destructive"})}},v=(x,A)=>{if(A===0)return"bg-muted";const D=x/A*100;return D>=100?"bg-destructive":D>=80?"bg-warning":"bg-success"},_=x=>{switch(x){case"vodafone_cash":return"bg-red-600";case"etisalat_cash":return"bg-green-600";case"orange_cash":return"bg-orange-600";case"instapay":return"bg-blue-600";default:return"bg-gray-600"}},E=x=>{switch(x){case"vodafone_cash":return"#dc2626";case"etisalat_cash":return"#16a34a";case"orange_cash":return"#ea580c";case"instapay":return"#2563eb";default:return"#6b7280"}},w=x=>{switch(x){case"vodafone_cash":return" ";case"etisalat_cash":return" ";case"orange_cash":return" ";case"instapay":return"";default:return x.replace("_"," ")}};return n?l.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"}),l.jsx("p",{className:"text-muted-foreground animate-pulse",children:"  ..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("h2",{className:"text-2xl font-bold",children:""}),l.jsxs(ee,{variant:"outline",size:"sm",onClick:m,disabled:n,className:"flex items-center gap-2",children:[l.jsx("svg",{className:`w-4 h-4 ${n?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),""]})]}),c&&l.jsxs(ee,{onClick:()=>{i(!0),d(!1)},className:"btn-primary",children:[l.jsx(As,{className:"ml-2 h-4 w-4"}),"  "]})]}),l.jsxs("div",{className:"grid gap-6",children:[t.map(x=>{var A,D,M,N,S,C;return l.jsxs(ot,{className:"card-glass hover:shadow-lg transition-all duration-300 border-l-4",style:{borderLeftColor:E(x.provider)},children:[l.jsx($t,{className:"pb-4",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Fn,{className:`${_(x.provider)} text-white font-medium px-3 py-1`,children:w(x.provider)}),l.jsx("div",{className:`w-3 h-3 rounded-full ${x.isActive?"bg-green-500":"bg-gray-400"}`,title:x.isActive?"":" "})]}),l.jsx(Bt,{className:"text-xl font-bold text-primary",children:x.msisdn}),x.label&&l.jsxs("span",{className:"text-sm text-muted-foreground font-medium",children:["(",x.label,")"]})]})}),l.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-2",children:[l.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{a(x),i(!0)},children:l.jsx(Qc,{className:"h-4 w-4"})}),l.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>y(x.id,x.isActive),children:x.isActive?l.jsx(CO,{className:"h-5 w-5 text-success"}):l.jsx(IO,{className:"h-5 w-5 text-muted-foreground"})}),l.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>T(x.id,x.msisdn),className:"text-destructive hover:text-destructive",children:l.jsx(ki,{className:"h-4 w-4"})})]})]})}),l.jsx(at,{className:"pt-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-muted/30 rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",children:[l.jsx("span",{className:"font-medium text-muted-foreground",children:" "}),l.jsxs("span",{className:"font-bold",children:[(A=x.dailyUsage)==null?void 0:A.toLocaleString()," / ",x.dailyLimit>0?x.dailyLimit.toLocaleString():""," "]})]}),l.jsx(fc,{value:x.dailyLimit>0?Math.min((x.dailyUsage||0)/x.dailyLimit*100,100):0,className:`h-3 ${v(x.dailyUsage||0,x.dailyLimit)}`}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[x.dailyLimit>0?((x.dailyUsage||0)/x.dailyLimit*100).toFixed(1):0,"% "]})]}),l.jsxs("div",{className:"bg-muted/30 rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",children:[l.jsx("span",{className:"font-medium text-muted-foreground",children:" "}),l.jsxs("span",{className:"font-bold",children:[(D=x.monthlyUsage)==null?void 0:D.toLocaleString()," / ",x.monthlyLimit>0?x.monthlyLimit.toLocaleString():""," "]})]}),l.jsx(fc,{value:x.monthlyLimit>0?Math.min((x.monthlyUsage||0)/x.monthlyLimit*100,100):0,className:`h-3 ${v(x.monthlyUsage||0,x.monthlyLimit)}`}),l.jsxs("div",{className:"text-xs text-muted-foreground mt-1 text-right",children:[x.monthlyLimit>0?((x.monthlyUsage||0)/x.monthlyLimit*100).toFixed(1):0,"% "]})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",children:[l.jsx("span",{className:"font-medium text-blue-700",children:" "}),l.jsxs("span",{className:"font-bold text-blue-900",children:[((M=x.transferUsage)==null?void 0:M.toLocaleString())||0," / ",((N=x.transferLimit)==null?void 0:N.toLocaleString())||2e5," "]})]}),l.jsx(fc,{value:x.transferLimit?Math.min((x.transferUsage||0)/x.transferLimit*100,100):0,className:"h-3 bg-blue-100"}),l.jsxs("div",{className:"text-xs text-blue-600 mt-1 text-right",children:[x.transferLimit?((x.transferUsage||0)/x.transferLimit*100).toFixed(1):0,"% "]})]}),l.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm mb-3",children:[l.jsx("span",{className:"font-medium text-green-700",children:" "}),l.jsxs("span",{className:"font-bold text-green-900",children:[((S=x.withdrawUsage)==null?void 0:S.toLocaleString())||0," / ",((C=x.withdrawLimit)==null?void 0:C.toLocaleString())||2e5," "]})]}),l.jsx(fc,{value:x.withdrawLimit?Math.min((x.withdrawUsage||0)/x.withdrawLimit*100,100):0,className:"h-3 bg-green-100"}),l.jsxs("div",{className:"text-xs text-green-600 mt-1 text-right",children:[x.withdrawLimit?((x.withdrawUsage||0)/x.withdrawLimit*100).toFixed(1):0,"% "]})]})]})})]},x.id)}),t.length===0&&l.jsx(ot,{className:"card-glass",children:l.jsxs(at,{className:"text-center py-16",children:[l.jsx("div",{className:"bg-muted/30 rounded-full w-24 h-24 mx-auto mb-6 flex items-center justify-center",children:l.jsx(As,{className:"w-12 h-12 text-muted-foreground"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"  "}),l.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"         "}),c&&l.jsxs(ee,{onClick:()=>{i(!0),d(!1)},size:"lg",className:"btn-primary px-8",children:[l.jsx(As,{className:"w-5 h-5 ml-2"}),"  "]})]})})]}),l.jsx(xW,{open:s,onOpenChange:x=>{i(x),x||(a(null),d(!0))},wallet:o,onSuccess:x=>{console.log("onSuccess called with:",x),console.log("editingWallet:",o),x&&!o?(console.log("Adding new wallet to list"),e(A=>{const D=[...A,x];return console.log("Updated wallets list:",D),D})):(console.log("Refreshing wallets from Firebase"),m()),i(!1),a(null),d(!0)}})]})}function EW(){const{user:t,profile:e,loading:n}=Rr();return p.useEffect(()=>{!n&&(!t||!e||e.role!=="merchant")&&(window.location.href="/auth")},[t,e,n]),n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:" ..."})]})}):!t||!e||e.role!=="merchant"?null:l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(dW,{}),l.jsx("main",{className:"container mx-auto p-6",children:l.jsxs(JN,{children:[l.jsx(En,{path:"/",element:l.jsx(XN,{to:"/merchant/wallets",replace:!0})}),l.jsx(En,{path:"/wallets",element:l.jsx(_W,{})})]})})]})}const bW=()=>{const t=Yo();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},TW=new Z4,SW=()=>l.jsx(tV,{client:TW,children:l.jsx(RB,{children:l.jsx(AB,{children:l.jsxs(A4,{children:[l.jsx(hM,{}),l.jsx(WM,{}),l.jsx(XV,{children:l.jsxs(JN,{children:[l.jsx(En,{path:"/",element:l.jsx(kB,{})}),l.jsx(En,{path:"/landing",element:l.jsx(OB,{})}),l.jsx(En,{path:"/auth",element:l.jsx(MB,{})}),l.jsx(En,{path:"/admin/login",element:l.jsx(LB,{})}),l.jsx(En,{path:"/user/login",element:l.jsx(UB,{})}),l.jsx(En,{path:"/user/register",element:l.jsx(zB,{})}),l.jsx(En,{path:"/user/dashboard",element:l.jsx(Qz,{})}),l.jsx(En,{path:"/merchant/*",element:l.jsx(EW,{})}),l.jsx(En,{path:"/dashboard/login",element:l.jsx(WB,{})}),l.jsx(En,{path:"/dashboard",element:l.jsx(Kz,{})}),l.jsx(En,{path:"*",element:l.jsx(bW,{})})]})})]})})})});gS(document.getElementById("root")).render(l.jsx(SW,{}));
